<div class="p-5" id="main">
  <div class="main text-center" *ngIf="!checkLoggedIn()">
    <div class="welcomebox">
      <h1 class="display-5">OnlyHealth</h1>
      <p>온리헬스에 오신 걸 환영합니다</p>
    </div>
    <div class="loginbox">
      <button class="btn btn-lg" id="btn2" type="button" *ngIf="!checkLoggedIn()" (click)="openModal()">
        <i class="bi bi-box-arrow-in-right"></i> 로그인
      </button>
      &nbsp;
      <button class="btn btn-lg" id="btn1" type="button" routerLink="/register" *ngIf="!checkLoggedIn()">
        <i class="bi bi-person-plus-fill"></i> 회원가입
      </button>


    </div>
  </div>

  <div class="login-home" *ngIf="checkLoggedIn()">
    <div class="grid-item">
      <div class="profile-title1">
        <div class="profile-title-sub">
          <h3>{{ username }} 님</h3>
          <button class="btn btn-danger" (click)="clickedModal()">상세정보 <i class="bi bi-gear"> </i></button>
        </div>
        <a (click)="onLogoutClick()">로그아웃</a>
      </div>

      <div class="profile-mine">
        <div class="minprofile-sub">
          <ul class="min-profile">
            <li> 이름 </li>
            <li> 아이디 </li>
            <li> 이메일 </li>
          </ul>
          <ul class="min-profile result">
            <li> : {{ name }}</li>
            <li> : {{ username }}</li>
            <li> : {{ email }}</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="grid-item">
      <div class="profile-img">
        <img [src]="url">
        <label for="changeprofile">사진 바꾸기</label>
        <input type="file" (change)="oneselectFile($event)" id="changeprofile">
      </div>
    </div>
    <div class="grid-item">
      <a class="nav-link" routerLink="/calendar"><i class="bi bi-calendar3"></i> 스케쥴링 </a>
    </div>
    <div class="grid-item">
      <a class="nav-link" routerLink="/map"><i class="bi bi-geo-alt-fill"></i> 업체 등록 </a>
    </div>
    <div class="grid-item">
      <a class="nav-link" routerLink="/reserve"><i class="bi bi-people-fill"></i> 헬스장 예약 </a>
    </div>
    <div class="grid-item">
      <div class="ad-box">
      </div>
    </div>

  </div>
</div>



<div class="backdrop" [ngStyle]="{'display':display}">hi</div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">로그인</h4>
        <button type="button" class="btn btn-default" (click)="onCloseHandled()">닫기</button>
      </div>
      <div class="modal-body">
        <div class="profile_bg">
          <form (ngSubmit)="onLoginSubmit()">
            <div class="form-group">
              <label for="exampleInputEmail3">아이디</label>
              <input type="text" [(ngModel)]="username" [ngModelOptions]="{ standalone: true }" class="form-control"
                id="exampleInputEmail3" />
            </div>
            <br />
            <div class="form-group">
              <label for="exampleInputEmail4">비밀번호</label>
              <input type="password" [(ngModel)]="password" [ngModelOptions]="{ standalone: true }" class="form-control"
                id="exampleInputEmail4" />
            </div>
            <br />
            <input id="login-btn" type="submit" class="btn" value="로그인" (click)="onCloseHandled()" />
          </form>
          <br />
          <a class="page-tail" routerLink="/register">아직 회원이 아니신가요? </a>
        </div>
      </div>
      <div class="modal-footer">

      </div>
    </div>
  </div>
</div>

<div [ngClass]="modal ? 'modal fade show d-block' : 'modal fade'" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">상세정보</h5>
        <button type="button" class="close" (click)="clickedModalClose()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="profile-box3">
          <ul class="myprofile">
            <li>이름</li>
            <li>아이디</li>
            <li>이메일</li>
          </ul>
          <ul class="myprofile-result">
            <li>: {{ name }}</li>
            <li>: {{ username }}</li>
            <li>: {{ email }}</li>
          </ul>
        </div>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary" routerLink="/profile-edit">내 정보 수정</a>
        <button type="button" class="btn btn-secondary" (click)="clickedModalClose()">닫기</button>
      </div>
    </div>
  </div>
</div>