(self.webpackChunkangular_src=self.webpackChunkangular_src||[]).push([[179],{255:yi=>{function tt(re){return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+re+"'");throw K.code="MODULE_NOT_FOUND",K})}tt.keys=()=>[],tt.resolve=tt,tt.id=255,yi.exports=tt},583:(yi,tt,re)=>{"use strict";re.r(tt),re.d(tt,{APP_BASE_HREF:()=>$t,AsyncPipe:()=>Xa,CommonModule:()=>QC,CurrencyPipe:()=>Zv,DOCUMENT:()=>_t,DatePipe:()=>wm,DecimalPipe:()=>Tm,FormStyle:()=>Js,FormatWidth:()=>Li,HashLocationStrategy:()=>Br,I18nPluralPipe:()=>$C,I18nSelectPipe:()=>Dm,JsonPipe:()=>Sp,KeyValuePipe:()=>Kv,LOCATION_INITIALIZED:()=>be,Location:()=>jr,LocationStrategy:()=>ei,LowerCasePipe:()=>tu,NgClass:()=>qc,NgComponentOutlet:()=>Yt,NgForOf:()=>zc,NgForOfContext:()=>ai,NgIf:()=>Mr,NgIfContext:()=>Wr,NgLocaleLocalization:()=>zi,NgLocalization:()=>ur,NgPlural:()=>Yc,NgPluralCase:()=>eu,NgStyle:()=>$c,NgSwitch:()=>Ls,NgSwitchCase:()=>bt,NgSwitchDefault:()=>Ep,NgTemplateOutlet:()=>Rl,NumberFormatStyle:()=>ps,NumberSymbol:()=>wt,PathLocationStrategy:()=>st,PercentPipe:()=>Xv,PlatformLocation:()=>Pt,Plural:()=>un,SlicePipe:()=>Jv,TitleCasePipe:()=>dc,TranslationWidth:()=>ri,UpperCasePipe:()=>il,VERSION:()=>Qc,ViewportScroller:()=>ty,WeekDay:()=>$s,XhrFactory:()=>Mp,formatCurrency:()=>Ml,formatDate:()=>sd,formatNumber:()=>ia,formatPercent:()=>hc,getCurrencySymbol:()=>In,getLocaleCurrencyCode:()=>Ra,getLocaleCurrencyName:()=>FD,getLocaleCurrencySymbol:()=>Zi,getLocaleDateFormat:()=>ac,getLocaleDateTimeFormat:()=>Qh,getLocaleDayNames:()=>Oa,getLocaleDayPeriods:()=>Al,getLocaleDirection:()=>Qa,getLocaleEraNames:()=>Gh,getLocaleExtraDayPeriodRules:()=>Ii,getLocaleExtraDayPeriods:()=>xn,getLocaleFirstDayOfWeek:()=>Yv,getLocaleId:()=>Zo,getLocaleMonthNames:()=>jc,getLocaleNumberFormat:()=>Xi,getLocaleNumberSymbol:()=>hr,getLocalePluralCase:()=>Hn,getLocaleTimeFormat:()=>oc,getLocaleWeekEndRange:()=>pp,getNumberOfCurrencyDigits:()=>xl,isPlatformBrowser:()=>ey,isPlatformServer:()=>Za,isPlatformWorkerApp:()=>iu,isPlatformWorkerUi:()=>xp,registerLocaleData:()=>tl,\u0275BrowserPlatformLocation:()=>Me,\u0275DomAdapter:()=>dt,\u0275NullViewportScroller:()=>Im,\u0275PLATFORM_BROWSER_ID:()=>Tp,\u0275PLATFORM_SERVER_ID:()=>jn,\u0275PLATFORM_WORKER_APP_ID:()=>Gc,\u0275PLATFORM_WORKER_UI_ID:()=>Ap,\u0275angular_packages_common_common_a:()=>et,\u0275angular_packages_common_common_b:()=>ze,\u0275angular_packages_common_common_c:()=>Ci,\u0275angular_packages_common_common_d:()=>Ee,\u0275angular_packages_common_common_e:()=>Eo,\u0275angular_packages_common_common_f:()=>_l,\u0275getDOM:()=>ke,\u0275parseCookieValue:()=>fn,\u0275setRootDomAdapter:()=>Tt});var K=re(639);let it=null;function ke(){return it}function Tt(_){it||(it=_)}class dt{}const _t=new K.InjectionToken("DocumentToken");let Pt=(()=>{class _{historyGo(P){throw new Error("Not implemented")}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275prov=(0,K.\u0275\u0275defineInjectable)({factory:et,token:_,providedIn:"platform"}),_})();function et(){return(0,K.\u0275\u0275inject)(Me)}const be=new K.InjectionToken("Location Initialized");let Me=(()=>{class _ extends Pt{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ke().getBaseHref(this._doc)}onPopState(P){const j=ke().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",P,!1),()=>j.removeEventListener("popstate",P)}onHashChange(P){const j=ke().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",P,!1),()=>j.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,j,ne){xe()?this._history.pushState(P,j,ne):this.location.hash=ne}replaceState(P,j,ne){xe()?this._history.replaceState(P,j,ne):this.location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275inject(_t))},_.\u0275prov=(0,K.\u0275\u0275defineInjectable)({factory:ze,token:_,providedIn:"platform"}),_})();function xe(){return!!window.history.pushState}function ze(){return new Me((0,K.\u0275\u0275inject)(_t))}function Ye(_,B){if(0==_.length)return B;if(0==B.length)return _;let P=0;return _.endsWith("/")&&P++,B.startsWith("/")&&P++,2==P?_+B.substring(1):1==P?_+B:_+"/"+B}function lt(_){const B=_.match(/#|\?|$/),P=B&&B.index||_.length;return _.slice(0,P-("/"===_[P-1]?1:0))+_.slice(P)}function He(_){return _&&"?"!==_[0]?"?"+_:_}let ei=(()=>{class _{historyGo(P){throw new Error("Not implemented")}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275prov=(0,K.\u0275\u0275defineInjectable)({factory:Ee,token:_,providedIn:"root"}),_})();function Ee(_){const B=(0,K.\u0275\u0275inject)(_t).location;return new st((0,K.\u0275\u0275inject)(Pt),B&&B.origin||"")}const $t=new K.InjectionToken("appBaseHref");let st=(()=>{class _ extends ei{constructor(P,j){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==j&&(j=this._platformLocation.getBaseHrefFromDOM()),null==j)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=j}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Ye(this._baseHref,P)}path(P=!1){const j=this._platformLocation.pathname+He(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&P?`${j}${ne}`:j}pushState(P,j,ne,Ne){const Ze=this.prepareExternalUrl(ne+He(Ne));this._platformLocation.pushState(P,j,Ze)}replaceState(P,j,ne,Ne){const Ze=this.prepareExternalUrl(ne+He(Ne));this._platformLocation.replaceState(P,j,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var j,ne;null===(ne=(j=this._platformLocation).historyGo)||void 0===ne||ne.call(j,P)}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275inject(Pt),K.\u0275\u0275inject($t,8))},_.\u0275prov=K.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})(),Br=(()=>{class _ extends ei{constructor(P,j){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(P){const j=Ye(this._baseHref,P);return j.length>0?"#"+j:j}pushState(P,j,ne,Ne){let Ze=this.prepareExternalUrl(ne+He(Ne));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(P,j,Ze)}replaceState(P,j,ne,Ne){let Ze=this.prepareExternalUrl(ne+He(Ne));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(P,j,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var j,ne;null===(ne=(j=this._platformLocation).historyGo)||void 0===ne||ne.call(j,P)}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275inject(Pt),K.\u0275\u0275inject($t,8))},_.\u0275prov=K.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})(),jr=(()=>{class _{constructor(P,j){this._subject=new K.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=P;const ne=this._platformStrategy.getBaseHref();this._platformLocation=j,this._baseHref=lt(Bc(ne)),this._platformStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,j=""){return this.path()==this.normalize(P+He(j))}normalize(P){return _.stripTrailingSlash(function(_,B){return _&&B.startsWith(_)?B.substring(_.length):B}(this._baseHref,Bc(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,j="",ne=null){this._platformStrategy.pushState(ne,"",P,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+He(j)),ne)}replaceState(P,j="",ne=null){this._platformStrategy.replaceState(ne,"",P,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+He(j)),ne)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var j,ne;null===(ne=(j=this._platformStrategy).historyGo)||void 0===ne||ne.call(j,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)}))}_notifyUrlChangeListeners(P="",j){this._urlChangeListeners.forEach(ne=>ne(P,j))}subscribe(P,j,ne){return this._subject.subscribe({next:P,error:j,complete:ne})}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275inject(ei),K.\u0275\u0275inject(Pt))},_.normalizeQueryParams=He,_.joinWithSlash=Ye,_.stripTrailingSlash=lt,_.\u0275prov=(0,K.\u0275\u0275defineInjectable)({factory:Ci,token:_,providedIn:"root"}),_})();function Ci(){return new jr((0,K.\u0275\u0275inject)(ei),(0,K.\u0275\u0275inject)(Pt))}function Bc(_){return _.replace(/\/index.html$/,"")}const ti={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ps=(()=>((ps=ps||{})[ps.Decimal=0]="Decimal",ps[ps.Percent=1]="Percent",ps[ps.Currency=2]="Currency",ps[ps.Scientific=3]="Scientific",ps))(),un=(()=>((un=un||{})[un.Zero=0]="Zero",un[un.One=1]="One",un[un.Two=2]="Two",un[un.Few=3]="Few",un[un.Many=4]="Many",un[un.Other=5]="Other",un))(),Js=(()=>((Js=Js||{})[Js.Format=0]="Format",Js[Js.Standalone=1]="Standalone",Js))(),ri=(()=>((ri=ri||{})[ri.Narrow=0]="Narrow",ri[ri.Abbreviated=1]="Abbreviated",ri[ri.Wide=2]="Wide",ri[ri.Short=3]="Short",ri))(),Li=(()=>((Li=Li||{})[Li.Short=0]="Short",Li[Li.Medium=1]="Medium",Li[Li.Long=2]="Long",Li[Li.Full=3]="Full",Li))(),wt=(()=>((wt=wt||{})[wt.Decimal=0]="Decimal",wt[wt.Group=1]="Group",wt[wt.List=2]="List",wt[wt.PercentSign=3]="PercentSign",wt[wt.PlusSign=4]="PlusSign",wt[wt.MinusSign=5]="MinusSign",wt[wt.Exponential=6]="Exponential",wt[wt.SuperscriptingExponent=7]="SuperscriptingExponent",wt[wt.PerMille=8]="PerMille",wt[wt.Infinity=9]="Infinity",wt[wt.NaN=10]="NaN",wt[wt.TimeSeparator=11]="TimeSeparator",wt[wt.CurrencyDecimal=12]="CurrencyDecimal",wt[wt.CurrencyGroup=13]="CurrencyGroup",wt))(),$s=(()=>(($s=$s||{})[$s.Sunday=0]="Sunday",$s[$s.Monday=1]="Monday",$s[$s.Tuesday=2]="Tuesday",$s[$s.Wednesday=3]="Wednesday",$s[$s.Thursday=4]="Thursday",$s[$s.Friday=5]="Friday",$s[$s.Saturday=6]="Saturday",$s))();function Zo(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.LocaleId]}function Al(_,B,P){const j=(0,K.\u0275findLocaleData)(_),Ne=Ir([j[K.\u0275LocaleDataIndex.DayPeriodsFormat],j[K.\u0275LocaleDataIndex.DayPeriodsStandalone]],B);return Ir(Ne,P)}function Oa(_,B,P){const j=(0,K.\u0275findLocaleData)(_),Ne=Ir([j[K.\u0275LocaleDataIndex.DaysFormat],j[K.\u0275LocaleDataIndex.DaysStandalone]],B);return Ir(Ne,P)}function jc(_,B,P){const j=(0,K.\u0275findLocaleData)(_),Ne=Ir([j[K.\u0275LocaleDataIndex.MonthsFormat],j[K.\u0275LocaleDataIndex.MonthsStandalone]],B);return Ir(Ne,P)}function Gh(_,B){return Ir((0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.Eras],B)}function Yv(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.FirstDayOfWeek]}function pp(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.WeekendRange]}function ac(_,B){return Ir((0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.DateFormat],B)}function oc(_,B){return Ir((0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.TimeFormat],B)}function Qh(_,B){return Ir((0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.DateTimeFormat],B)}function hr(_,B){const P=(0,K.\u0275findLocaleData)(_),j=P[K.\u0275LocaleDataIndex.NumberSymbols][B];if(void 0===j){if(B===wt.CurrencyDecimal)return P[K.\u0275LocaleDataIndex.NumberSymbols][wt.Decimal];if(B===wt.CurrencyGroup)return P[K.\u0275LocaleDataIndex.NumberSymbols][wt.Group]}return j}function Xi(_,B){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.NumberFormats][B]}function Zi(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.CurrencySymbol]||null}function FD(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.CurrencyName]||null}function Ra(_){return(0,K.\u0275getLocaleCurrencyCode)(_)}const Hn=K.\u0275getLocalePluralCase;function fp(_){if(!_[K.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[K.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ii(_){const B=(0,K.\u0275findLocaleData)(_);return fp(B),(B[K.\u0275LocaleDataIndex.ExtraData][2]||[]).map(j=>"string"==typeof j?Bn(j):[Bn(j[0]),Bn(j[1])])}function xn(_,B,P){const j=(0,K.\u0275findLocaleData)(_);fp(j);const Ne=Ir([j[K.\u0275LocaleDataIndex.ExtraData][0],j[K.\u0275LocaleDataIndex.ExtraData][1]],B)||[];return Ir(Ne,P)||[]}function Qa(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.Directionality]}function Ir(_,B){for(let P=B;P>-1;P--)if(void 0!==_[P])return _[P];throw new Error("Locale data API: locale data undefined")}function Bn(_){const[B,P]=_.split(":");return{hours:+B,minutes:+P}}function In(_,B,P="en"){const j=function(_){return(0,K.\u0275findLocaleData)(_)[K.\u0275LocaleDataIndex.Currencies]}(P)[_]||ti[_]||[],ne=j[1];return"narrow"===B&&"string"==typeof ne?ne:j[0]||_}function xl(_){let B;const P=ti[_];return P&&(B=P[2]),"number"==typeof B?B:2}const ga=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kh={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),qt=(()=>((qt=qt||{})[qt.FullYear=0]="FullYear",qt[qt.Month=1]="Month",qt[qt.Date=2]="Date",qt[qt.Hours=3]="Hours",qt[qt.Minutes=4]="Minutes",qt[qt.Seconds=5]="Seconds",qt[qt.FractionalSeconds=6]="FractionalSeconds",qt[qt.Day=7]="Day",qt))(),Gt=(()=>((Gt=Gt||{})[Gt.DayPeriods=0]="DayPeriods",Gt[Gt.Days=1]="Days",Gt[Gt.Months=2]="Months",Gt[Gt.Eras=3]="Eras",Gt))();function sd(_,B,P,j){let ne=function(_){if(bp(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[ne,Ne=1,Ze=1]=_.split("-").map(Ft=>+Ft);return mp(ne,Ne-1,Ze)}const P=parseFloat(_);if(!isNaN(_-P))return new Date(P);let j;if(j=_.match(ga))return function(_){const B=new Date(0);let P=0,j=0;const ne=_[8]?B.setUTCFullYear:B.setFullYear,Ne=_[8]?B.setUTCHours:B.setHours;_[9]&&(P=Number(_[9]+_[10]),j=Number(_[9]+_[11])),ne.call(B,Number(_[1]),Number(_[2])-1,Number(_[3]));const Ze=Number(_[4]||0)-P,Ft=Number(_[5]||0)-j,Qt=Number(_[6]||0),en=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return Ne.call(B,Ze,Ft,Qt,en),B}(j)}const B=new Date(_);if(!bp(B))throw new Error(`Unable to convert "${_}" into a date`);return B}(_);B=Zn(P,B)||B;let Ft,Ze=[];for(;B;){if(Ft=Ut.exec(B),!Ft){Ze.push(B);break}{Ze=Ze.concat(Ft.slice(1));const Ws=Ze.pop();if(!Ws)break;B=Ws}}let Qt=ne.getTimezoneOffset();j&&(Qt=yp(j,Qt),ne=function(_,B,P){const ne=_.getTimezoneOffset();return function(_,B){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+B),_}(_,-1*(yp(B,ne)-ne))}(ne,j));let en="";return Ze.forEach(Ws=>{const ki=function(_){if(kl[_])return kl[_];let B;switch(_){case"G":case"GG":case"GGG":B=Rs(Gt.Eras,ri.Abbreviated);break;case"GGGG":B=Rs(Gt.Eras,ri.Wide);break;case"GGGGG":B=Rs(Gt.Eras,ri.Narrow);break;case"y":B=ji(qt.FullYear,1,0,!1,!0);break;case"yy":B=ji(qt.FullYear,2,0,!0,!0);break;case"yyy":B=ji(qt.FullYear,3,0,!1,!0);break;case"yyyy":B=ji(qt.FullYear,4,0,!1,!0);break;case"Y":B=Il(1);break;case"YY":B=Il(2,!0);break;case"YYY":B=Il(3);break;case"YYYY":B=Il(4);break;case"M":case"L":B=ji(qt.Month,1,1);break;case"MM":case"LL":B=ji(qt.Month,2,1);break;case"MMM":B=Rs(Gt.Months,ri.Abbreviated);break;case"MMMM":B=Rs(Gt.Months,ri.Wide);break;case"MMMMM":B=Rs(Gt.Months,ri.Narrow);break;case"LLL":B=Rs(Gt.Months,ri.Abbreviated,Js.Standalone);break;case"LLLL":B=Rs(Gt.Months,ri.Wide,Js.Standalone);break;case"LLLLL":B=Rs(Gt.Months,ri.Narrow,Js.Standalone);break;case"w":B=cs(1);break;case"ww":B=cs(2);break;case"W":B=cs(1,!0);break;case"d":B=ji(qt.Date,1);break;case"dd":B=ji(qt.Date,2);break;case"c":case"cc":B=ji(qt.Day,1);break;case"ccc":B=Rs(Gt.Days,ri.Abbreviated,Js.Standalone);break;case"cccc":B=Rs(Gt.Days,ri.Wide,Js.Standalone);break;case"ccccc":B=Rs(Gt.Days,ri.Narrow,Js.Standalone);break;case"cccccc":B=Rs(Gt.Days,ri.Short,Js.Standalone);break;case"E":case"EE":case"EEE":B=Rs(Gt.Days,ri.Abbreviated);break;case"EEEE":B=Rs(Gt.Days,ri.Wide);break;case"EEEEE":B=Rs(Gt.Days,ri.Narrow);break;case"EEEEEE":B=Rs(Gt.Days,ri.Short);break;case"a":case"aa":case"aaa":B=Rs(Gt.DayPeriods,ri.Abbreviated);break;case"aaaa":B=Rs(Gt.DayPeriods,ri.Wide);break;case"aaaaa":B=Rs(Gt.DayPeriods,ri.Narrow);break;case"b":case"bb":case"bbb":B=Rs(Gt.DayPeriods,ri.Abbreviated,Js.Standalone,!0);break;case"bbbb":B=Rs(Gt.DayPeriods,ri.Wide,Js.Standalone,!0);break;case"bbbbb":B=Rs(Gt.DayPeriods,ri.Narrow,Js.Standalone,!0);break;case"B":case"BB":case"BBB":B=Rs(Gt.DayPeriods,ri.Abbreviated,Js.Format,!0);break;case"BBBB":B=Rs(Gt.DayPeriods,ri.Wide,Js.Format,!0);break;case"BBBBB":B=Rs(Gt.DayPeriods,ri.Narrow,Js.Format,!0);break;case"h":B=ji(qt.Hours,1,-12);break;case"hh":B=ji(qt.Hours,2,-12);break;case"H":B=ji(qt.Hours,1);break;case"HH":B=ji(qt.Hours,2);break;case"m":B=ji(qt.Minutes,1);break;case"mm":B=ji(qt.Minutes,2);break;case"s":B=ji(qt.Seconds,1);break;case"ss":B=ji(qt.Seconds,2);break;case"S":B=ji(qt.FractionalSeconds,1);break;case"SS":B=ji(qt.FractionalSeconds,2);break;case"SSS":B=ji(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":B=Xh(dn.Short);break;case"ZZZZZ":B=Xh(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":B=Xh(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":B=Xh(dn.Long);break;default:return null}return kl[_]=B,B}(Ws);en+=ki?ki(ne,P,Qt):"''"===Ws?"'":Ws.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),en}function mp(_,B,P){const j=new Date(0);return j.setFullYear(_,B,P),j.setHours(0,0,0),j}function Zn(_,B){const P=Zo(_);if(Kh[P]=Kh[P]||{},Kh[P][B])return Kh[P][B];let j="";switch(B){case"shortDate":j=ac(_,Li.Short);break;case"mediumDate":j=ac(_,Li.Medium);break;case"longDate":j=ac(_,Li.Long);break;case"fullDate":j=ac(_,Li.Full);break;case"shortTime":j=oc(_,Li.Short);break;case"mediumTime":j=oc(_,Li.Medium);break;case"longTime":j=oc(_,Li.Long);break;case"fullTime":j=oc(_,Li.Full);break;case"short":const ne=Zn(_,"shortTime"),Ne=Zn(_,"shortDate");j=bn(Qh(_,Li.Short),[ne,Ne]);break;case"medium":const Ze=Zn(_,"mediumTime"),Ft=Zn(_,"mediumDate");j=bn(Qh(_,Li.Medium),[Ze,Ft]);break;case"long":const Qt=Zn(_,"longTime"),en=Zn(_,"longDate");j=bn(Qh(_,Li.Long),[Qt,en]);break;case"full":const Ws=Zn(_,"fullTime"),ki=Zn(_,"fullDate");j=bn(Qh(_,Li.Full),[Ws,ki])}return j&&(Kh[P][B]=j),j}function bn(_,B){return B&&(_=_.replace(/\{([^}]+)}/g,function(P,j){return null!=B&&j in B?B[j]:P})),_}function Bs(_,B,P="-",j,ne){let Ne="";(_<0||ne&&_<=0)&&(ne?_=1-_:(_=-_,Ne=P));let Ze=String(_);for(;Ze.length<B;)Ze="0"+Ze;return j&&(Ze=Ze.substr(Ze.length-B)),Ne+Ze}function ji(_,B,P=0,j=!1,ne=!1){return function(Ne,Ze){let Ft=function(_,B){switch(_){case qt.FullYear:return B.getFullYear();case qt.Month:return B.getMonth();case qt.Date:return B.getDate();case qt.Hours:return B.getHours();case qt.Minutes:return B.getMinutes();case qt.Seconds:return B.getSeconds();case qt.FractionalSeconds:return B.getMilliseconds();case qt.Day:return B.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,Ne);if((P>0||Ft>-P)&&(Ft+=P),_===qt.Hours)0===Ft&&-12===P&&(Ft=12);else if(_===qt.FractionalSeconds)return function(_,B){return Bs(_,3).substr(0,B)}(Ft,B);const Qt=hr(Ze,wt.MinusSign);return Bs(Ft,B,Qt,j,ne)}}function Rs(_,B,P=Js.Format,j=!1){return function(ne,Ne){return function(_,B,P,j,ne,Ne){switch(P){case Gt.Months:return jc(B,ne,j)[_.getMonth()];case Gt.Days:return Oa(B,ne,j)[_.getDay()];case Gt.DayPeriods:const Ze=_.getHours(),Ft=_.getMinutes();if(Ne){const en=Ii(B),Ws=xn(B,ne,j),ki=en.findIndex(Pi=>{if(Array.isArray(Pi)){const[Ss,Ur]=Pi,Pl=Ze>=Ss.hours&&Ft>=Ss.minutes,kn=Ze<Ur.hours||Ze===Ur.hours&&Ft<Ur.minutes;if(Ss.hours<Ur.hours){if(Pl&&kn)return!0}else if(Pl||kn)return!0}else if(Pi.hours===Ze&&Pi.minutes===Ft)return!0;return!1});if(-1!==ki)return Ws[ki]}return Al(B,ne,j)[Ze<12?0:1];case Gt.Eras:return Gh(B,j)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(ne,Ne,_,B,P,j)}}function Xh(_){return function(B,P,j){const ne=-1*j,Ne=hr(P,wt.MinusSign),Ze=ne>0?Math.floor(ne/60):Math.ceil(ne/60);switch(_){case dn.Short:return(ne>=0?"+":"")+Bs(Ze,2,Ne)+Bs(Math.abs(ne%60),2,Ne);case dn.ShortGMT:return"GMT"+(ne>=0?"+":"")+Bs(Ze,1,Ne);case dn.Long:return"GMT"+(ne>=0?"+":"")+Bs(Ze,2,Ne)+":"+Bs(Math.abs(ne%60),2,Ne);case dn.Extended:return 0===j?"Z":(ne>=0?"+":"")+Bs(Ze,2,Ne)+":"+Bs(Math.abs(ne%60),2,Ne);default:throw new Error(`Unknown zone width "${_}"`)}}}function cc(_){return mp(_.getFullYear(),_.getMonth(),_.getDate()+(4-_.getDay()))}function cs(_,B=!1){return function(P,j){let ne;if(B){const Ne=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,Ze=P.getDate();ne=1+Math.floor((Ze+Ne)/7)}else{const Ne=cc(P),Ze=function(_){const B=mp(_,0,1).getDay();return mp(_,0,1+(B<=4?4:11)-B)}(Ne.getFullYear()),Ft=Ne.getTime()-Ze.getTime();ne=1+Math.round(Ft/6048e5)}return Bs(ne,_,hr(j,wt.MinusSign))}}function Il(_,B=!1){return function(P,j){return Bs(cc(P).getFullYear(),_,hr(j,wt.MinusSign),B)}}const kl={};function yp(_,B){_=_.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(P)?B:P}function bp(_){return _ instanceof Date&&!isNaN(_.valueOf())}const bm=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function kr(_,B,P,j,ne,Ne,Ze=!1){let Ft="",Qt=!1;if(isFinite(_)){let en=function(_){let j,ne,Ne,Ze,Ft,B=Math.abs(_)+"",P=0;for((ne=B.indexOf("."))>-1&&(B=B.replace(".","")),(Ne=B.search(/e/i))>0?(ne<0&&(ne=Ne),ne+=+B.slice(Ne+1),B=B.substring(0,Ne)):ne<0&&(ne=B.length),Ne=0;"0"===B.charAt(Ne);Ne++);if(Ne===(Ft=B.length))j=[0],ne=1;else{for(Ft--;"0"===B.charAt(Ft);)Ft--;for(ne-=Ne,j=[],Ze=0;Ne<=Ft;Ne++,Ze++)j[Ze]=Number(B.charAt(Ne))}return ne>22&&(j=j.splice(0,21),P=ne-1,ne=1),{digits:j,exponent:P,integerLen:ne}}(_);Ze&&(en=function(_){if(0===_.digits[0])return _;const B=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===B?_.digits.push(0,0):1===B&&_.digits.push(0),_.integerLen+=2),_}(en));let Ws=B.minInt,ki=B.minFrac,Pi=B.maxFrac;if(Ne){const Nl=Ne.match(bm);if(null===Nl)throw new Error(`${Ne} is not a valid digit info`);const pc=Nl[1],qr=Nl[3],od=Nl[5];null!=pc&&(Ws=js(pc)),null!=qr&&(ki=js(qr)),null!=od?Pi=js(od):null!=qr&&ki>Pi&&(Pi=ki)}!function(_,B,P){if(B>P)throw new Error(`The minimum number of digits after fraction (${B}) is higher than the maximum (${P}).`);let j=_.digits,ne=j.length-_.integerLen;const Ne=Math.min(Math.max(B,ne),P);let Ze=Ne+_.integerLen,Ft=j[Ze];if(Ze>0){j.splice(Math.max(_.integerLen,Ze));for(let ki=Ze;ki<j.length;ki++)j[ki]=0}else{ne=Math.max(0,ne),_.integerLen=1,j.length=Math.max(1,Ze=Ne+1),j[0]=0;for(let ki=1;ki<Ze;ki++)j[ki]=0}if(Ft>=5)if(Ze-1<0){for(let ki=0;ki>Ze;ki--)j.unshift(0),_.integerLen++;j.unshift(1),_.integerLen++}else j[Ze-1]++;for(;ne<Math.max(0,Ne);ne++)j.push(0);let Qt=0!==Ne;const en=B+_.integerLen,Ws=j.reduceRight(function(ki,Pi,Ss,Ur){return Ur[Ss]=(Pi+=ki)<10?Pi:Pi-10,Qt&&(0===Ur[Ss]&&Ss>=en?Ur.pop():Qt=!1),Pi>=10?1:0},0);Ws&&(j.unshift(Ws),_.integerLen++)}(en,ki,Pi);let Ss=en.digits,Ur=en.integerLen;const Pl=en.exponent;let kn=[];for(Qt=Ss.every(Nl=>!Nl);Ur<Ws;Ur++)Ss.unshift(0);for(;Ur<0;Ur++)Ss.unshift(0);Ur>0?kn=Ss.splice(Ur,Ss.length):(kn=Ss,Ss=[0]);const ad=[];for(Ss.length>=B.lgSize&&ad.unshift(Ss.splice(-B.lgSize,Ss.length).join(""));Ss.length>B.gSize;)ad.unshift(Ss.splice(-B.gSize,Ss.length).join(""));Ss.length&&ad.unshift(Ss.join("")),Ft=ad.join(hr(P,j)),kn.length&&(Ft+=hr(P,ne)+kn.join("")),Pl&&(Ft+=hr(P,wt.Exponential)+"+"+Pl)}else Ft=hr(P,wt.Infinity);return Ft=_<0&&!Qt?B.negPre+Ft+B.negSuf:B.posPre+Ft+B.posSuf,Ft}function Ml(_,B,P,j,ne){const Ze=Em(Xi(B,ps.Currency),hr(B,wt.MinusSign));return Ze.minFrac=xl(j),Ze.maxFrac=Ze.minFrac,kr(_,Ze,B,wt.CurrencyGroup,wt.CurrencyDecimal,ne).replace("\xa4",P).replace("\xa4","").trim()}function hc(_,B,P){return kr(_,Em(Xi(B,ps.Percent),hr(B,wt.MinusSign)),B,wt.Group,wt.Decimal,P,!0).replace(new RegExp("%","g"),hr(B,wt.PercentSign))}function ia(_,B,P){return kr(_,Em(Xi(B,ps.Decimal),hr(B,wt.MinusSign)),B,wt.Group,wt.Decimal,P)}function Em(_,B="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},j=_.split(";"),ne=j[0],Ne=j[1],Ze=-1!==ne.indexOf(".")?ne.split("."):[ne.substring(0,ne.lastIndexOf("0")+1),ne.substring(ne.lastIndexOf("0")+1)],Ft=Ze[0],Qt=Ze[1]||"";P.posPre=Ft.substr(0,Ft.indexOf("#"));for(let Ws=0;Ws<Qt.length;Ws++){const ki=Qt.charAt(Ws);"0"===ki?P.minFrac=P.maxFrac=Ws+1:"#"===ki?P.maxFrac=Ws+1:P.posSuf+=ki}const en=Ft.split(",");if(P.gSize=en[1]?en[1].length:0,P.lgSize=en[2]||en[1]?(en[2]||en[1]).length:0,Ne){const Ws=ne.length-P.posPre.length-P.posSuf.length,ki=Ne.indexOf("#");P.negPre=Ne.substr(0,ki).replace(/'/g,""),P.negSuf=Ne.substr(ki+Ws).replace(/'/g,"")}else P.negPre=B+P.posPre,P.negSuf=P.posSuf;return P}function js(_){const B=parseInt(_);if(isNaN(B))throw new Error("Invalid integer literal when parsing "+_);return B}class ur{}function uc(_,B,P,j){let ne=`=${_}`;if(B.indexOf(ne)>-1||(ne=P.getPluralCategory(_,j),B.indexOf(ne)>-1))return ne;if(B.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${_}"`)}let zi=(()=>{class _ extends ur{constructor(P){super(),this.locale=P}getPluralCategory(P,j){switch(Hn(j||this.locale)(P)){case un.Zero:return"zero";case un.One:return"one";case un.Two:return"two";case un.Few:return"few";case un.Many:return"many";default:return"other"}}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275inject(K.LOCALE_ID))},_.\u0275prov=K.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();function tl(_,B,P){return(0,K.\u0275registerLocaleData)(_,B,P)}function fn(_,B){B=encodeURIComponent(B);for(const P of _.split(";")){const j=P.indexOf("="),[ne,Ne]=-1==j?[P,""]:[P.slice(0,j),P.slice(j+1)];if(ne.trim()===B)return decodeURIComponent(Ne)}return null}let qc=(()=>{class _{constructor(P,j,ne,Ne){this._iterableDiffers=P,this._keyValueDiffers=j,this._ngEl=ne,this._renderer=Ne,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,K.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(j=>this._toggleClass(j.key,j.currentValue)),P.forEachChangedItem(j=>this._toggleClass(j.key,j.currentValue)),P.forEachRemovedItem(j=>{j.previousValue&&this._toggleClass(j.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(j=>{if("string"!=typeof j.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,K.\u0275stringify)(j.item)}`);this._toggleClass(j.item,!0)}),P.forEachRemovedItem(j=>this._toggleClass(j.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(j=>this._toggleClass(j,!0)):Object.keys(P).forEach(j=>this._toggleClass(j,!!P[j])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(j=>this._toggleClass(j,!1)):Object.keys(P).forEach(j=>this._toggleClass(j,!1)))}_toggleClass(P,j){(P=P.trim())&&P.split(/\s+/g).forEach(ne=>{j?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.IterableDiffers),K.\u0275\u0275directiveInject(K.KeyValueDiffers),K.\u0275\u0275directiveInject(K.ElementRef),K.\u0275\u0275directiveInject(K.Renderer2))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),_})(),Yt=(()=>{class _{constructor(P){this._viewContainerRef=P,this._componentRef=null,this._moduleRef=null}ngOnChanges(P){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const j=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(P.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Ze=j.get(K.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Ze.injector)}else this._moduleRef=null;const Ne=(this._moduleRef?this._moduleRef.componentFactoryResolver:j.get(K.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(Ne,this._viewContainerRef.length,j,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[K.\u0275\u0275NgOnChangesFeature]}),_})();class ai{constructor(B,P,j,ne){this.$implicit=B,this.ngForOf=P,this.index=j,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zc=(()=>{class _{constructor(P,j,ne){this._viewContainer=P,this._template=j,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;if(!this._differ&&P)try{this._differ=this._differs.find(P).create(this.ngForTrackBy)}catch(j){throw new Error(`Cannot find a differ supporting object '${P}' of type '${function(_){return _.name||typeof _}(P)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const j=[];P.forEachOperation((ne,Ne,Ze)=>{if(null==ne.previousIndex){const Ft=this._viewContainer.createEmbeddedView(this._template,new ai(null,this._ngForOf,-1,-1),null===Ze?void 0:Ze),Qt=new dr(ne,Ft);j.push(Qt)}else if(null==Ze)this._viewContainer.remove(null===Ne?void 0:Ne);else if(null!==Ne){const Ft=this._viewContainer.get(Ne);this._viewContainer.move(Ft,Ze);const Qt=new dr(ne,Ft);j.push(Qt)}});for(let ne=0;ne<j.length;ne++)this._perViewChange(j[ne].view,j[ne].record);for(let ne=0,Ne=this._viewContainer.length;ne<Ne;ne++){const Ze=this._viewContainer.get(ne);Ze.context.index=ne,Ze.context.count=Ne,Ze.context.ngForOf=this._ngForOf}P.forEachIdentityChange(ne=>{this._viewContainer.get(ne.currentIndex).context.$implicit=ne.item})}_perViewChange(P,j){P.context.$implicit=j.item}static ngTemplateContextGuard(P,j){return!0}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef),K.\u0275\u0275directiveInject(K.TemplateRef),K.\u0275\u0275directiveInject(K.IterableDiffers))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),_})();class dr{constructor(B,P){this.record=B,this.view=P}}let Mr=(()=>{class _{constructor(P,j){this._viewContainer=P,this._context=new Wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Ka("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Ka("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,j){return!0}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef),K.\u0275\u0275directiveInject(K.TemplateRef))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),_})();class Wr{constructor(){this.$implicit=null,this.ngIf=null}}function Ka(_,B){if(B&&!B.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,K.\u0275stringify)(B)}'.`)}class Ol{constructor(B,P){this._viewContainerRef=B,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(B){B&&!this._created?this.create():!B&&this._created&&this.destroy()}}let Ls=(()=>{class _{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const j=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||j,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),j}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let j=0;j<this._defaultViews.length;j++)this._defaultViews[j].enforceState(P)}}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),_})(),bt=(()=>{class _{constructor(P,j,ne){this.ngSwitch=ne,ne._addCase(),this._view=new Ol(P,j)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef),K.\u0275\u0275directiveInject(K.TemplateRef),K.\u0275\u0275directiveInject(Ls,9))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),_})(),Ep=(()=>{class _{constructor(P,j,ne){ne._addDefault(new Ol(P,j))}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef),K.\u0275\u0275directiveInject(K.TemplateRef),K.\u0275\u0275directiveInject(Ls,9))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngSwitchDefault",""]]}),_})(),Yc=(()=>{class _{constructor(P){this._localization=P,this._caseViews={}}set ngPlural(P){this._switchValue=P,this._updateView()}addCase(P,j){this._caseViews[P]=j}_updateView(){this._clearViews();const P=Object.keys(this._caseViews),j=uc(this._switchValue,P,this._localization);this._activateView(this._caseViews[j])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(P){P&&(this._activeView=P,this._activeView.create())}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(ur))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),_})(),eu=(()=>{class _{constructor(P,j,ne,Ne){this.value=P;const Ze=!isNaN(Number(P));Ne.addCase(Ze?`=${P}`:P,new Ol(ne,j))}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275injectAttribute("ngPluralCase"),K.\u0275\u0275directiveInject(K.TemplateRef),K.\u0275\u0275directiveInject(K.ViewContainerRef),K.\u0275\u0275directiveInject(Yc,1))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngPluralCase",""]]}),_})(),$c=(()=>{class _{constructor(P,j,ne){this._ngEl=P,this._differs=j,this._renderer=ne,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,j){const[ne,Ne]=P.split(".");null!=(j=null!=j&&Ne?`${j}${Ne}`:j)?this._renderer.setStyle(this._ngEl.nativeElement,ne,j):this._renderer.removeStyle(this._ngEl.nativeElement,ne)}_applyChanges(P){P.forEachRemovedItem(j=>this._setStyle(j.key,null)),P.forEachAddedItem(j=>this._setStyle(j.key,j.currentValue)),P.forEachChangedItem(j=>this._setStyle(j.key,j.currentValue))}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ElementRef),K.\u0275\u0275directiveInject(K.KeyValueDiffers),K.\u0275\u0275directiveInject(K.Renderer2))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),_})(),Rl=(()=>{class _{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(P){if(P.ngTemplateOutlet){const j=this._viewContainerRef;this._viewRef&&j.remove(j.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?j.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ViewContainerRef))},_.\u0275dir=K.\u0275\u0275defineDirective({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[K.\u0275\u0275NgOnChangesFeature]}),_})();const Eo=[qc,Yt,zc,Mr,Rl,$c,Ls,bt,Ep,Yc,eu];function _s(_,B){return Error(`InvalidPipeArgument: '${B}' for pipe '${(0,K.\u0275stringify)(_)}'`)}class rd{createSubscription(B,P){return B.subscribe({next:P,error:j=>{throw j}})}dispose(B){B.unsubscribe()}onDestroy(B){B.unsubscribe()}}class pr{createSubscription(B,P){return B.then(P,j=>{throw j})}dispose(B){}onDestroy(B){}}const ya=new pr,wp=new rd;let Xa=(()=>{class _{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,j=>this._updateLatestValue(P,j))}_selectStrategy(P){if((0,K.\u0275isPromise)(P))return ya;if((0,K.\u0275isSubscribable)(P))return wp;throw _s(_,P)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,j){P===this._obj&&(this._latestValue=j,this._ref.markForCheck())}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.ChangeDetectorRef,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"async",type:_,pure:!1}),_})(),tu=(()=>{class _{transform(P){if(null==P)return null;if("string"!=typeof P)throw _s(_,P);return P.toLowerCase()}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"lowercase",type:_,pure:!0}),_})();const Ei=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let dc=(()=>{class _{transform(P){if(null==P)return null;if("string"!=typeof P)throw _s(_,P);return P.replace(Ei,j=>j[0].toUpperCase()+j.substr(1).toLowerCase())}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"titlecase",type:_,pure:!0}),_})(),il=(()=>{class _{transform(P){if(null==P)return null;if("string"!=typeof P)throw _s(_,P);return P.toUpperCase()}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"uppercase",type:_,pure:!0}),_})(),wm=(()=>{class _{constructor(P){this.locale=P}transform(P,j="mediumDate",ne,Ne){if(null==P||""===P||P!=P)return null;try{return sd(P,j,Ne||this.locale,ne)}catch(Ze){throw _s(_,Ze.message)}}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.LOCALE_ID,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"date",type:_,pure:!0}),_})();const Dp=/#/g;let $C=(()=>{class _{constructor(P){this._localization=P}transform(P,j,ne){if(null==P)return"";if("object"!=typeof j||null===j)throw _s(_,j);return j[uc(P,Object.keys(j),this._localization,ne)].replace(Dp,P.toString())}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(ur,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"i18nPlural",type:_,pure:!0}),_})(),Dm=(()=>{class _{transform(P,j){if(null==P)return"";if("object"!=typeof j||"string"!=typeof P)throw _s(_,j);return j.hasOwnProperty(P)?j[P]:j.hasOwnProperty("other")?j.other:""}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"i18nSelect",type:_,pure:!0}),_})(),Sp=(()=>{class _{transform(P){return JSON.stringify(P,null,2)}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"json",type:_,pure:!1}),_})(),Kv=(()=>{class _{constructor(P){this.differs=P,this.keyValues=[],this.compareFn=Sm}transform(P,j=Sm){if(!P||!(P instanceof Map)&&"object"!=typeof P)return null;this.differ||(this.differ=this.differs.find(P).create());const ne=this.differ.diff(P),Ne=j!==this.compareFn;return ne&&(this.keyValues=[],ne.forEachItem(Ze=>{this.keyValues.push(function(_,B){return{key:_,value:B}}(Ze.key,Ze.currentValue))})),(ne||Ne)&&(this.keyValues.sort(j),this.compareFn=j),this.keyValues}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.KeyValueDiffers,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"keyvalue",type:_,pure:!1}),_})();function Sm(_,B){const P=_.key,j=B.key;if(P===j)return 0;if(void 0===P)return 1;if(void 0===j)return-1;if(null===P)return 1;if(null===j)return-1;if("string"==typeof P&&"string"==typeof j)return P<j?-1:1;if("number"==typeof P&&"number"==typeof j)return P-j;if("boolean"==typeof P&&"boolean"==typeof j)return P<j?-1:1;const ne=String(P),Ne=String(j);return ne==Ne?0:ne<Ne?-1:1}let Tm=(()=>{class _{constructor(P){this._locale=P}transform(P,j,ne){if(!Ll(P))return null;ne=ne||this._locale;try{return ia(Am(P),ne,j)}catch(Ne){throw _s(_,Ne.message)}}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.LOCALE_ID,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"number",type:_,pure:!0}),_})(),Xv=(()=>{class _{constructor(P){this._locale=P}transform(P,j,ne){if(!Ll(P))return null;ne=ne||this._locale;try{return hc(Am(P),ne,j)}catch(Ne){throw _s(_,Ne.message)}}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.LOCALE_ID,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"percent",type:_,pure:!0}),_})(),Zv=(()=>{class _{constructor(P,j="USD"){this._locale=P,this._defaultCurrencyCode=j}transform(P,j=this._defaultCurrencyCode,ne="symbol",Ne,Ze){if(!Ll(P))return null;Ze=Ze||this._locale,"boolean"==typeof ne&&(ne=ne?"symbol":"code");let Ft=j||this._defaultCurrencyCode;"code"!==ne&&(Ft="symbol"===ne||"symbol-narrow"===ne?In(Ft,"symbol"===ne?"wide":"narrow",Ze):ne);try{return Ml(Am(P),Ze,Ft,j,Ne)}catch(Qt){throw _s(_,Qt.message)}}}return _.\u0275fac=function(P){return new(P||_)(K.\u0275\u0275directiveInject(K.LOCALE_ID,16),K.\u0275\u0275directiveInject(K.DEFAULT_CURRENCY_CODE,16))},_.\u0275pipe=K.\u0275\u0275definePipe({name:"currency",type:_,pure:!0}),_})();function Ll(_){return!(null==_||""===_||_!=_)}function Am(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}let Jv=(()=>{class _{transform(P,j,ne){if(null==P)return null;if(!this.supports(P))throw _s(_,P);return P.slice(j,ne)}supports(P){return"string"==typeof P||Array.isArray(P)}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275pipe=K.\u0275\u0275definePipe({name:"slice",type:_,pure:!1}),_})();const _l=[Xa,il,tu,Sp,Jv,Tm,Xv,dc,Zv,wm,$C,Dm,Kv];let QC=(()=>{class _{}return _.\u0275fac=function(P){return new(P||_)},_.\u0275mod=K.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=K.\u0275\u0275defineInjector({providers:[{provide:ur,useClass:zi}]}),_})();const Tp="browser",jn="server",Gc="browserWorkerApp",Ap="browserWorkerUi";function ey(_){return _===Tp}function Za(_){return _===jn}function iu(_){return _===Gc}function xp(_){return _===Ap}const Qc=new K.Version("12.2.9");let ty=(()=>{class _{}return _.\u0275prov=(0,K.\u0275\u0275defineInjectable)({token:_,providedIn:"root",factory:()=>new xm((0,K.\u0275\u0275inject)(_t),window)}),_})();class xm{constructor(B,P){this.document=B,this.window=P,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const P=function(_,B){const P=_.getElementById(B)||_.getElementsByName(B)[0];if(P)return P;if("function"==typeof _.createTreeWalker&&_.body&&(_.body.createShadowRoot||_.body.attachShadow)){const j=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let ne=j.currentNode;for(;ne;){const Ne=ne.shadowRoot;if(Ne){const Ze=Ne.getElementById(B)||Ne.querySelector(`[name="${B}"]`);if(Ze)return Ze}ne=j.nextNode()}}return null}(this.document,B);P&&(this.scrollToElement(P),this.attemptFocus(P))}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=B)}}scrollToElement(B){const P=B.getBoundingClientRect(),j=P.left+this.window.pageXOffset,ne=P.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(j-Ne[0],ne-Ne[1])}attemptFocus(B){return B.focus(),this.document.activeElement===B}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Ip(this.window.history)||Ip(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch(B){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(B){return!1}}}function Ip(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class Im{setOffset(B){}getScrollPosition(){return[0,0]}scrollToPosition(B){}scrollToAnchor(B){}setHistoryScrollRestoration(B){}}class Mp{}},639:(yi,tt,re)=>{"use strict";re.r(tt),re.d(tt,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>N_,APP_BOOTSTRAP_LISTENER:()=>M1,APP_ID:()=>x1,APP_INITIALIZER:()=>Rh,ApplicationInitStatus:()=>Uf,ApplicationModule:()=>oV,ApplicationRef:()=>Wu,Attribute:()=>fy,COMPILER_OPTIONS:()=>Ew,CUSTOM_ELEMENTS_SCHEMA:()=>Qk,ChangeDetectionStrategy:()=>bn,ChangeDetectorRef:()=>bA,Compiler:()=>iC,CompilerFactory:()=>ux,Component:()=>Kn,ComponentFactory:()=>bf,ComponentFactoryResolver:()=>zl,ComponentRef:()=>_0,ContentChild:()=>gy,ContentChildren:()=>bk,DEFAULT_CURRENCY_CODE:()=>L1,DebugElement:()=>K1,DebugEventListener:()=>yx,DebugNode:()=>Q1,DefaultIterableDiffer:()=>fA,Directive:()=>C1,ElementRef:()=>_o,EmbeddedViewRef:()=>Y1,ErrorHandler:()=>ng,EventEmitter:()=>kh,Host:()=>tn,HostBinding:()=>w1,HostListener:()=>WN,INJECTOR:()=>gu,Inject:()=>Qm,InjectFlags:()=>Ut,Injectable:()=>gs,InjectionToken:()=>ir,Injector:()=>Qs,Input:()=>Aa,IterableDiffers:()=>yh,KeyValueDiffers:()=>Sb,LOCALE_ID:()=>vw,MissingTranslationStrategy:()=>Lh,ModuleWithComponentFactories:()=>ox,NO_ERRORS_SCHEMA:()=>Kk,NgModule:()=>A1,NgModuleFactory:()=>bh,NgModuleFactoryLoader:()=>eV,NgModuleRef:()=>ku,NgProbeToken:()=>gx,NgZone:()=>Bo,Optional:()=>oh,Output:()=>E1,PACKAGE_ROOT_URL:()=>O1,PLATFORM_ID:()=>k1,PLATFORM_INITIALIZER:()=>Jb,Pipe:()=>sx,PlatformRef:()=>Tw,Query:()=>my,QueryList:()=>Lf,ReflectiveInjector:()=>uf,ReflectiveKey:()=>jl,Renderer2:()=>BO,RendererFactory2:()=>wf,RendererStyleFlags2:()=>J,ResolvedReflectiveFactory:()=>ZP,Sanitizer:()=>vn,SecurityContext:()=>sr,Self:()=>Km,SimpleChange:()=>iu,SkipSelf:()=>lu,SystemJsNgModuleLoader:()=>U1,SystemJsNgModuleLoaderConfig:()=>W1,TRANSLATIONS:()=>uj,TRANSLATIONS_FORMAT:()=>zs,TemplateRef:()=>Iu,Testability:()=>V1,TestabilityRegistry:()=>ww,Type:()=>hE,VERSION:()=>dA,Version:()=>Cr,ViewChild:()=>B_,ViewChildren:()=>cE,ViewContainerRef:()=>Qi,ViewEncapsulation:()=>ji,ViewRef:()=>z1,WrappedValue:()=>Bl,asNativeElements:()=>iV,assertPlatform:()=>rv,createPlatform:()=>Sw,createPlatformFactory:()=>F1,defineInjectable:()=>fp,destroyPlatform:()=>ZN,enableProdMode:()=>XN,forwardRef:()=>$t,getDebugNode:()=>Sn,getModuleFactory:()=>B1,getPlatform:()=>vx,inject:()=>tS,isDevMode:()=>Bu,platformCore:()=>aV,resolveForwardRef:()=>st,setTestabilityGetter:()=>KN,\u02750:()=>kk,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>ju,\u0275APP_ID_RANDOM_PROVIDER:()=>iv,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>$D,\u0275ChangeDetectorStatus:()=>Bs,\u0275CodegenComponentFactoryResolver:()=>FO,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>_1,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>hx,\u0275Compiler_compileModuleAsync__POST_R3__:()=>cx,\u0275Compiler_compileModuleSync__POST_R3__:()=>yw,\u0275ComponentFactory:()=>bf,\u0275Console:()=>R1,\u0275DEFAULT_LOCALE_ID:()=>_g,\u0275EMPTY_ARRAY:()=>cs,\u0275EMPTY_MAP:()=>JO,\u0275INJECTOR_IMPL__POST_R3__:()=>Dd,\u0275INJECTOR_SCOPE:()=>dg,\u0275LifecycleHooksFeature:()=>Uy,\u0275LocaleDataIndex:()=>Xt,\u0275NG_COMP_DEF:()=>Il,\u0275NG_DIR_DEF:()=>kl,\u0275NG_ELEMENT_ID:()=>fi,\u0275NG_INJ_DEF:()=>xl,\u0275NG_MOD_DEF:()=>yp,\u0275NG_PIPE_DEF:()=>vp,\u0275NG_PROV_DEF:()=>lc,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Vu,\u0275NO_CHANGE:()=>rt,\u0275NgModuleFactory:()=>Zg,\u0275NoopNgZone:()=>N1,\u0275ReflectionCapabilities:()=>Ym,\u0275Render3ComponentFactory:()=>NA,\u0275Render3ComponentRef:()=>FA,\u0275Render3NgModuleRef:()=>BA,\u0275RuntimeError:()=>Ci,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>yA,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>Zb,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>D1,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>FM,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>ax,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>S1,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>N0,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>eC,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>Df,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>zg,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>Pd,\u0275_sanitizeHtml:()=>to,\u0275_sanitizeUrl:()=>pt,\u0275allowSanitizationBypassAndThrow:()=>lh,\u0275and:()=>lV,\u0275angular_packages_core_core_a:()=>Br,\u0275angular_packages_core_core_b:()=>Ak,\u0275angular_packages_core_core_ba:()=>X1,\u0275angular_packages_core_core_bb:()=>SO,\u0275angular_packages_core_core_bc:()=>wn,\u0275angular_packages_core_core_bd:()=>Lu,\u0275angular_packages_core_core_be:()=>Qc,\u0275angular_packages_core_core_bf:()=>jd,\u0275angular_packages_core_core_bg:()=>dk,\u0275angular_packages_core_core_bh:()=>Ke,\u0275angular_packages_core_core_bi:()=>Or,\u0275angular_packages_core_core_bj:()=>ly,\u0275angular_packages_core_core_bl:()=>xs,\u0275angular_packages_core_core_bm:()=>jt,\u0275angular_packages_core_core_bn:()=>Hu,\u0275angular_packages_core_core_bo:()=>Vi,\u0275angular_packages_core_core_bp:()=>Kl,\u0275angular_packages_core_core_bq:()=>Yp,\u0275angular_packages_core_core_br:()=>Rr,\u0275angular_packages_core_core_bs:()=>nh,\u0275angular_packages_core_core_bv:()=>Ye,\u0275angular_packages_core_core_bw:()=>jE,\u0275angular_packages_core_core_bx:()=>qt,\u0275angular_packages_core_core_bz:()=>kn,\u0275angular_packages_core_core_c:()=>$m,\u0275angular_packages_core_core_cb:()=>On,\u0275angular_packages_core_core_cc:()=>Fg,\u0275angular_packages_core_core_d:()=>QM,\u0275angular_packages_core_core_e:()=>Md,\u0275angular_packages_core_core_f:()=>zM,\u0275angular_packages_core_core_g:()=>I1,\u0275angular_packages_core_core_h:()=>jO,\u0275angular_packages_core_core_i:()=>Ef,\u0275angular_packages_core_core_j:()=>vh,\u0275angular_packages_core_core_k:()=>tV,\u0275angular_packages_core_core_l:()=>CA,\u0275angular_packages_core_core_m:()=>$g,\u0275angular_packages_core_core_n:()=>Ab,\u0275angular_packages_core_core_o:()=>rC,\u0275angular_packages_core_core_p:()=>Ar,\u0275angular_packages_core_core_q:()=>Dx,\u0275angular_packages_core_core_r:()=>W0,\u0275angular_packages_core_core_s:()=>B0,\u0275angular_packages_core_core_t:()=>mA,\u0275angular_packages_core_core_u:()=>Ug,\u0275angular_packages_core_core_v:()=>j0,\u0275angular_packages_core_core_w:()=>kw,\u0275angular_packages_core_core_x:()=>Tx,\u0275angular_packages_core_core_y:()=>Mw,\u0275angular_packages_core_core_z:()=>os,\u0275bypassSanitizationTrustHtml:()=>lS,\u0275bypassSanitizationTrustResourceUrl:()=>X,\u0275bypassSanitizationTrustScript:()=>gE,\u0275bypassSanitizationTrustStyle:()=>w2,\u0275bypassSanitizationTrustUrl:()=>iP,\u0275ccf:()=>Vb,\u0275clearOverrides:()=>kV,\u0275clearResolutionOfComponentResourcesQueue:()=>iS,\u0275cmf:()=>MV,\u0275compileComponent:()=>fw,\u0275compileDirective:()=>Sr,\u0275compileNgModule:()=>Xl,\u0275compileNgModuleDefs:()=>pl,\u0275compileNgModuleFactory__POST_R3__:()=>nC,\u0275compilePipe:()=>tx,\u0275createInjector:()=>UE,\u0275crt:()=>Dh,\u0275defaultIterableDiffers:()=>qg,\u0275defaultKeyValueDiffers:()=>Tb,\u0275detectChanges:()=>wM,\u0275devModeEqual:()=>pT,\u0275did:()=>Ui,\u0275eld:()=>cV,\u0275findLocaleData:()=>T0,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>uw,\u0275getComponentViewDefinitionFactory:()=>i1,\u0275getDebugNodeR2:()=>Ic,\u0275getDebugNode__POST_R3__:()=>Iw,\u0275getDirectives:()=>bu,\u0275getHostElement:()=>QE,\u0275getInjectableDef:()=>xn,\u0275getLContext:()=>Pa,\u0275getLocaleCurrencyCode:()=>CO,\u0275getLocalePluralCase:()=>YT,\u0275getModuleFactory__POST_R3__:()=>H1,\u0275getSanitizationBypassType:()=>Vk,\u0275global:()=>pn,\u0275initServicesIfNeeded:()=>vt,\u0275inlineInterpolate:()=>TA,\u0275interpolate:()=>ZO,\u0275isBoundToModule__POST_R3__:()=>xa,\u0275isDefaultChangeDetectionStrategy:()=>qC,\u0275isListLikeIterable:()=>vg,\u0275isObservable:()=>p0,\u0275isPromise:()=>RT,\u0275isSubscribable:()=>LT,\u0275ivyEnabled:()=>tC,\u0275makeDecorator:()=>Wm,\u0275markDirty:()=>BE,\u0275mod:()=>qs,\u0275mpd:()=>Da,\u0275ncd:()=>vV,\u0275noSideEffects:()=>Zn,\u0275nov:()=>Fb,\u0275overrideComponentView:()=>IV,\u0275overrideProvider:()=>dv,\u0275pad:()=>xx,\u0275patchComponentDefWithScope:()=>ev,\u0275pid:()=>J0,\u0275pod:()=>bV,\u0275ppd:()=>zd,\u0275prd:()=>RN,\u0275publishDefaultGlobalUtils:()=>hT,\u0275publishGlobalUtil:()=>ko,\u0275qud:()=>gV,\u0275registerLocaleData:()=>zT,\u0275registerModuleFactory:()=>PN,\u0275registerNgModuleType:()=>nw,\u0275renderComponent:()=>UP,\u0275resetCompiledComponents:()=>Gb,\u0275resetJitOptions:()=>$A,\u0275resolveComponentResources:()=>Ok,\u0275setClassMetadata:()=>iw,\u0275setCurrentInjector:()=>ou,\u0275setDocument:()=>Ne,\u0275setLocaleId:()=>x0,\u0275store:()=>s0,\u0275stringify:()=>He,\u0275ted:()=>is,\u0275transitiveScopesFor:()=>Hf,\u0275unregisterLocaleData:()=>EO,\u0275unv:()=>wA,\u0275unwrapSafeValue:()=>gd,\u0275vid:()=>rR,\u0275whenRendered:()=>JE,\u0275\u0275CopyDefinitionFeature:()=>MM,\u0275\u0275FactoryTarget:()=>Yr,\u0275\u0275InheritDefinitionFeature:()=>qy,\u0275\u0275NgOnChangesFeature:()=>xp,\u0275\u0275ProvidersFeature:()=>lA,\u0275\u0275advance:()=>Gs,\u0275\u0275attribute:()=>yg,\u0275\u0275attributeInterpolate1:()=>mT,\u0275\u0275attributeInterpolate2:()=>gT,\u0275\u0275attributeInterpolate3:()=>vT,\u0275\u0275attributeInterpolate4:()=>yT,\u0275\u0275attributeInterpolate5:()=>bT,\u0275\u0275attributeInterpolate6:()=>kd,\u0275\u0275attributeInterpolate7:()=>Yy,\u0275\u0275attributeInterpolate8:()=>i0,\u0275\u0275attributeInterpolateV:()=>CT,\u0275\u0275classMap:()=>lO,\u0275\u0275classMapInterpolate1:()=>rn,\u0275\u0275classMapInterpolate2:()=>hO,\u0275\u0275classMapInterpolate3:()=>g0,\u0275\u0275classMapInterpolate4:()=>v0,\u0275\u0275classMapInterpolate5:()=>uO,\u0275\u0275classMapInterpolate6:()=>y0,\u0275\u0275classMapInterpolate7:()=>ff,\u0275\u0275classMapInterpolate8:()=>Rg,\u0275\u0275classMapInterpolateV:()=>dO,\u0275\u0275classProp:()=>aO,\u0275\u0275contentQuery:()=>d1,\u0275\u0275defineComponent:()=>bp,\u0275\u0275defineDirective:()=>Jn,\u0275\u0275defineInjectable:()=>Hn,\u0275\u0275defineInjector:()=>Ii,\u0275\u0275defineNgModule:()=>La,\u0275\u0275definePipe:()=>Cp,\u0275\u0275directiveInject:()=>Xy,\u0275\u0275disableBindings:()=>ZC,\u0275\u0275element:()=>h0,\u0275\u0275elementContainer:()=>d0,\u0275\u0275elementContainerEnd:()=>OT,\u0275\u0275elementContainerStart:()=>u0,\u0275\u0275elementEnd:()=>Cu,\u0275\u0275elementStart:()=>MT,\u0275\u0275enableBindings:()=>XC,\u0275\u0275getCurrentView:()=>ZM,\u0275\u0275getInheritedFactory:()=>vk,\u0275\u0275hostProperty:()=>S0,\u0275\u0275i18n:()=>NO,\u0275\u0275i18nApply:()=>mb,\u0275\u0275i18nAttributes:()=>Hg,\u0275\u0275i18nEnd:()=>L0,\u0275\u0275i18nExp:()=>aA,\u0275\u0275i18nPostprocess:()=>gb,\u0275\u0275i18nStart:()=>R0,\u0275\u0275inject:()=>mr,\u0275\u0275injectAttribute:()=>Vp,\u0275\u0275invalidFactory:()=>KM,\u0275\u0275invalidFactoryDep:()=>eS,\u0275\u0275listener:()=>_T,\u0275\u0275loadQuery:()=>qA,\u0275\u0275namespaceHTML:()=>iE,\u0275\u0275namespaceMathML:()=>tE,\u0275\u0275namespaceSVG:()=>Pp,\u0275\u0275nextContext:()=>NT,\u0275\u0275ngDeclareClassMetadata:()=>Fx,\u0275\u0275ngDeclareComponent:()=>pv,\u0275\u0275ngDeclareDirective:()=>Vx,\u0275\u0275ngDeclareFactory:()=>mC,\u0275\u0275ngDeclareInjectable:()=>uo,\u0275\u0275ngDeclareInjector:()=>jw,\u0275\u0275ngDeclareNgModule:()=>ni,\u0275\u0275ngDeclarePipe:()=>Vn,\u0275\u0275pipe:()=>lo,\u0275\u0275pipeBind1:()=>Ih,\u0275\u0275pipeBind2:()=>Gn,\u0275\u0275pipeBind3:()=>Dr,\u0275\u0275pipeBind4:()=>Wb,\u0275\u0275pipeBindV:()=>UA,\u0275\u0275projection:()=>iO,\u0275\u0275projectionDef:()=>tO,\u0275\u0275property:()=>IT,\u0275\u0275propertyInterpolate:()=>VT,\u0275\u0275propertyInterpolate1:()=>kt,\u0275\u0275propertyInterpolate2:()=>Ni,\u0275\u0275propertyInterpolate3:()=>f0,\u0275\u0275propertyInterpolate4:()=>_e,\u0275\u0275propertyInterpolate5:()=>FT,\u0275\u0275propertyInterpolate6:()=>Sg,\u0275\u0275propertyInterpolate7:()=>Jy,\u0275\u0275propertyInterpolate8:()=>Od,\u0275\u0275propertyInterpolateV:()=>Dc,\u0275\u0275pureFunction0:()=>a1,\u0275\u0275pureFunction1:()=>Jg,\u0275\u0275pureFunction2:()=>rw,\u0275\u0275pureFunction3:()=>jb,\u0275\u0275pureFunction4:()=>Fu,\u0275\u0275pureFunction5:()=>Fs,\u0275\u0275pureFunction6:()=>St,\u0275\u0275pureFunction7:()=>aw,\u0275\u0275pureFunction8:()=>Ql,\u0275\u0275pureFunctionV:()=>jA,\u0275\u0275queryRefresh:()=>Fo,\u0275\u0275reference:()=>ET,\u0275\u0275resolveBody:()=>sn,\u0275\u0275resolveDocument:()=>bS,\u0275\u0275resolveWindow:()=>H,\u0275\u0275restoreView:()=>iy,\u0275\u0275sanitizeHtml:()=>uS,\u0275\u0275sanitizeResourceUrl:()=>bE,\u0275\u0275sanitizeScript:()=>pS,\u0275\u0275sanitizeStyle:()=>Uk,\u0275\u0275sanitizeUrl:()=>dS,\u0275\u0275sanitizeUrlOrResourceUrl:()=>fS,\u0275\u0275setComponentScope:()=>bm,\u0275\u0275setNgModuleScope:()=>Uc,\u0275\u0275styleMap:()=>gh,\u0275\u0275styleMapInterpolate1:()=>pO,\u0275\u0275styleMapInterpolate2:()=>fO,\u0275\u0275styleMapInterpolate3:()=>mO,\u0275\u0275styleMapInterpolate4:()=>BT,\u0275\u0275styleMapInterpolate5:()=>gO,\u0275\u0275styleMapInterpolate6:()=>jT,\u0275\u0275styleMapInterpolate7:()=>mf,\u0275\u0275styleMapInterpolate8:()=>ab,\u0275\u0275styleMapInterpolateV:()=>vO,\u0275\u0275styleProp:()=>rO,\u0275\u0275stylePropInterpolate1:()=>WT,\u0275\u0275stylePropInterpolate2:()=>b0,\u0275\u0275stylePropInterpolate3:()=>Lg,\u0275\u0275stylePropInterpolate4:()=>UT,\u0275\u0275stylePropInterpolate5:()=>C0,\u0275\u0275stylePropInterpolate6:()=>E0,\u0275\u0275stylePropInterpolate7:()=>w0,\u0275\u0275stylePropInterpolate8:()=>D0,\u0275\u0275stylePropInterpolateV:()=>ob,\u0275\u0275syntheticHostListener:()=>Zy,\u0275\u0275syntheticHostProperty:()=>qT,\u0275\u0275template:()=>RM,\u0275\u0275templateRefExtractor:()=>f1,\u0275\u0275text:()=>lN,\u0275\u0275textInterpolate:()=>gn,\u0275\u0275textInterpolate1:()=>kg,\u0275\u0275textInterpolate2:()=>m0,\u0275\u0275textInterpolate3:()=>pf,\u0275\u0275textInterpolate4:()=>Du,\u0275\u0275textInterpolate5:()=>Mg,\u0275\u0275textInterpolate6:()=>Og,\u0275\u0275textInterpolate7:()=>yr,\u0275\u0275textInterpolate8:()=>ct,\u0275\u0275textInterpolateV:()=>me,\u0275\u0275trustConstantHtml:()=>qk,\u0275\u0275trustConstantResourceUrl:()=>zk,\u0275\u0275viewQuery:()=>Oh});var K=re(574),it=re(869),ke=re(282),b=re(693),dt=re(709),_t=re(319),Pt=re(441);var Me=re(307);function xe(){return new dt.xQ}function Ye(l){for(let c in l)if(l[c]===Ye)return c;throw Error("Could not find renamed property on target object.")}function lt(l,c){for(const u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=c[u])}function He(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(He).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function ei(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Ee=Ye({__forward_ref__:Ye});function $t(l){return l.__forward_ref__=$t,l.toString=function(){return He(this())},l}function st(l){return Br(l)?l():l}function Br(l){return"function"==typeof l&&l.hasOwnProperty(Ee)&&l.__forward_ref__===$t}class Ci extends Error{constructor(c,u){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,u)),this.code=c}}function ti(l){return"string"==typeof l?l:null==l?"":String(l)}function ps(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ti(l)}function Li(l,c){const u=c?` in ${c}`:"";throw new Ci("201",`No provider for ${ps(l)} found${u}`)}function Zi(l,c,u,p){throw new Error(`ASSERTION ERROR: ${l}`+(null==p?"":` [Expected=> ${u} ${p} ${c} <=Actual]`))}function Hn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}const fp=Hn;function Ii(l){return{providers:l.providers||[],imports:l.imports||[]}}function xn(l){return Qa(l,lc)||Qa(l,ga)}function Qa(l,c){return l.hasOwnProperty(c)?l[c]:null}function In(l){return l&&(l.hasOwnProperty(xl)||l.hasOwnProperty(Kh))?l[xl]:null}const lc=Ye({\u0275prov:Ye}),xl=Ye({\u0275inj:Ye}),ga=Ye({ngInjectableDef:Ye}),Kh=Ye({ngInjectorDef:Ye});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let dn;function qt(){return dn}function Gt(l){const c=dn;return dn=l,c}function sd(l,c,u){const p=xn(l);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&Ut.Optional?null:void 0!==c?c:void Li(He(l),"Injector")}function Zn(l){return{toString:l}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),Bs=(()=>((Bs=Bs||{})[Bs.CheckOnce=0]="CheckOnce",Bs[Bs.Checked=1]="Checked",Bs[Bs.CheckAlways=2]="CheckAlways",Bs[Bs.Detached=3]="Detached",Bs[Bs.Errored=4]="Errored",Bs[Bs.Destroyed=5]="Destroyed",Bs))();function qC(l){return null==l||l===bn.Default}var ji=(()=>((ji=ji||{})[ji.Emulated=0]="Emulated",ji[ji.None=2]="None",ji[ji.ShadowDom=3]="ShadowDom",ji))();const $v="undefined"!=typeof globalThis&&globalThis,Rs="undefined"!=typeof window&&window,gp="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pn=$v||"undefined"!=typeof global&&global||Rs||gp,cc={},cs=[],Il=Ye({\u0275cmp:Ye}),kl=Ye({\u0275dir:Ye}),vp=Ye({\u0275pipe:Ye}),yp=Ye({\u0275mod:Ye}),Gv=Ye({\u0275loc:Ye}),el=Ye({\u0275fac:Ye}),fi=Ye({__NG_ELEMENT_ID__:Ye});let Qv=0;function bp(l){return Zn(()=>{const u={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||cs,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||ji.Emulated,id:"c",styles:l.styles||cs,_:null,setInput:null,schemas:l.schemas||null,tView:null},g=l.directives,y=l.features,E=l.pipes;return p.id+=Qv++,p.inputs=Zh(l.inputs,u),p.outputs=Zh(l.outputs),y&&y.forEach(D=>D(p)),p.directiveDefs=g?()=>("function"==typeof g?g():g).map(Cm):null,p.pipeDefs=E?()=>("function"==typeof E?E():E).map(nd):null,p})}function bm(l,c,u){const p=l.\u0275cmp;p.directiveDefs=()=>c.map(Cm),p.pipeDefs=()=>u.map(nd)}function Cm(l){return kr(l)||Ml(l)}function nd(l){return hc(l)}const Wc={};function La(l){return Zn(()=>{const c={type:l.type,bootstrap:l.bootstrap||cs,declarations:l.declarations||cs,imports:l.imports||cs,exports:l.exports||cs,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Wc[l.id]=l.type),c})}function Uc(l,c){return Zn(()=>{const u=ia(l,!0);u.declarations=c.declarations||cs,u.imports=c.imports||cs,u.exports=c.exports||cs})}function Zh(l,c){if(null==l)return cc;const u={};for(const p in l)if(l.hasOwnProperty(p)){let g=l[p],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),u[g]=p,c&&(c[g]=y)}return u}const Jn=bp;function Cp(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function kr(l){return l[Il]||null}function Ml(l){return l[kl]||null}function hc(l){return l[vp]||null}function ia(l,c){const u=l[yp]||null;if(!u&&!0===c)throw new Error(`Type ${He(l)} does not have '\u0275mod' property.`);return u}function pr(l){return Array.isArray(l)&&"object"==typeof l[1]}function ya(l){return Array.isArray(l)&&!0===l[1]}function wp(l){return 0!=(8&l.flags)}function Xa(l){return 2==(2&l.flags)}function tu(l){return 1==(1&l.flags)}function Ei(l){return null!==l.template}function dc(l){return 0!=(512&l[2])}function Za(l,c){return l.hasOwnProperty(el)?l[el]:null}class iu{constructor(c,u,p){this.previousValue=c,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function xp(){return Qc}function Qc(l){return l.type.prototype.ngOnChanges&&(l.setInput=xm),ty}function ty(){const l=kp(this),c=null==l?void 0:l.current;if(c){const u=l.previous;if(u===cc)l.previous=c;else for(let p in c)u[p]=c[p];l.current=null,this.ngOnChanges(c)}}function xm(l,c,u,p){const g=kp(l)||function(l,c){return l[Ip]=c}(l,{previous:cc,current:null}),y=g.current||(g.current={}),E=g.previous,D=this.declaredInputs[u],x=E[D];y[D]=new iu(x&&x.currentValue,c,E===cc),l[p]=c}xp.ngInherit=!0;const Ip="__ngSimpleChanges__";function kp(l){return l[Ip]||null}let Mp=null;const _=l=>{Mp=l},B=function(l,c,u){null!=Mp&&Mp(l,c,u)},P="http://www.w3.org/2000/svg",j="http://www.w3.org/1998/MathML/";let ne;function Ne(l){ne=l}function Ze(){return void 0!==ne?ne:"undefined"!=typeof document?document:void 0}function Qt(l){return!!l.listen}const Ws={createRenderer:(l,c)=>Ze()};function Pi(l){for(;Array.isArray(l);)l=l[0];return l}function Pl(l,c){return Pi(c[l])}function kn(l,c){return Pi(c[l.index])}function Nl(l,c){return l.data[c]}function pc(l,c){return l[c]}function qr(l,c){const u=c[l];return pr(u)?u:u[0]}function od(l){return 4==(4&l[2])}function km(l){return 128==(128&l[2])}function Kc(l,c){return null==c?null:l[c]}function Xc(l){l[18]=0}function Mm(l,c){l[5]+=c;let u=l,p=l[3];for(;null!==p&&(1===c&&1===u[5]||-1===c&&0===u[5]);)p[5]+=c,u=p,p=p[3]}const di={lFrame:_p(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Om(){return di.bindingsEnabled}function XC(){di.bindingsEnabled=!0}function ZC(){di.bindingsEnabled=!1}function Ke(){return di.lFrame.lView}function Di(){return di.lFrame.tView}function iy(l){return di.lFrame.contextLView=l,l[8]}function er(){let l=sy();for(;null!==l&&64===l.type;)l=l.parent;return l}function sy(){return di.lFrame.currentTNode}function cd(){const l=di.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}function Us(l,c){const u=di.lFrame;u.currentTNode=l,u.isParent=c}function wo(){return di.lFrame.isParent}function ny(){di.lFrame.isParent=!1}function Op(){return di.isInCheckNoChangesMode}function hd(l){di.isInCheckNoChangesMode=l}function Or(){const l=di.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function sl(){return di.lFrame.bindingIndex}function Rp(l){return di.lFrame.bindingIndex=l}function su(){return di.lFrame.bindingIndex++}function _a(l){const c=di.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,u}function Yi(l){di.lFrame.inI18n=l}function Lp(l,c){const u=di.lFrame;u.bindingIndex=u.bindingRootIndex=l,fc(c)}function fc(l){di.lFrame.currentDirectiveIndex=l}function ay(l){const c=di.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function Rm(){return di.lFrame.currentQueryIndex}function Lm(l){di.lFrame.currentQueryIndex=l}function WD(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Jc(l,c,u){if(u&Ut.SkipSelf){let g=c,y=l;for(;!(g=g.parent,null!==g||u&Ut.Host||(g=WD(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;c=g,l=y}const p=di.lFrame=oy();return p.currentTNode=c,p.lView=l,!0}function eh(l){const c=oy(),u=l[1];di.lFrame=c,c.currentTNode=u.firstChild,c.lView=l,c.tView=u,c.contextLView=l,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function oy(){const l=di.lFrame,c=null===l?null:l.child;return null===c?_p(l):c}function _p(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function JC(){const l=di.lFrame;return di.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const _m=JC;function nu(){const l=JC();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ly(l){return(di.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,di.lFrame.contextLView))[8]}function ba(){return di.lFrame.selectedIndex}function th(l){di.lFrame.selectedIndex=l}function Mn(){const l=di.lFrame;return Nl(l.tView,l.selectedIndex)}function Pp(){di.lFrame.currentNamespace=P}function tE(){di.lFrame.currentNamespace=j}function iE(){di.lFrame.currentNamespace=null}function ru(l,c){for(let u=c.directiveStart,p=c.directiveEnd;u<p;u++){const y=l.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:R,ngOnDestroy:V}=y;E&&(l.contentHooks||(l.contentHooks=[])).push(-u,E),D&&((l.contentHooks||(l.contentHooks=[])).push(u,D),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(u,D)),x&&(l.viewHooks||(l.viewHooks=[])).push(-u,x),R&&((l.viewHooks||(l.viewHooks=[])).push(u,R),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(u,R)),null!=V&&(l.destroyHooks||(l.destroyHooks=[])).push(u,V)}}function nl(l,c,u){M(l,c,3,u)}function Do(l,c,u,p){(3&l[2])===u&&M(l,c,u,p)}function I(l,c){let u=l[2];(3&u)===c&&(u&=2047,u+=1,l[2]=u)}function M(l,c,u,p){const y=null!=p?p:-1,E=c.length-1;let D=0;for(let x=void 0!==p?65535&l[18]:0;x<E;x++)if("number"==typeof c[x+1]){if(D=c[x],null!=p&&D>=p)break}else c[x]<0&&(l[18]+=65536),(D<y||-1==y)&&(F(l,u,c,x),l[18]=(4294901760&l[18])+x+2),x++}function F(l,c,u,p){const g=u[p]<0,y=u[p+1],D=l[g?-u[p]:u[p]];if(g){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048,B(4,D,y);try{y.call(D)}finally{B(5,D,y)}}}else{B(4,D,y);try{y.call(D)}finally{B(5,D,y)}}}class $e{constructor(c,u,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function Pm(l,c,u){const p=Qt(l);let g=0;for(;g<u.length;){const y=u[g];if("number"==typeof y){if(0!==y)break;g++;const E=u[g++],D=u[g++],x=u[g++];p?l.setAttribute(c,D,x,E):c.setAttributeNS(E,D,x)}else{const E=y,D=u[++g];Nm(E)?p&&l.setProperty(c,E,D):p?l.setAttribute(c,E,D):c.setAttribute(E,D),g++}}return g}function lk(l){return 3===l||4===l||6===l}function Nm(l){return 64===l.charCodeAt(0)}function hy(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let u=-1;for(let p=0;p<c.length;p++){const g=c[p];"number"==typeof g?u=g:0===u||ck(l,u,g,null,-1===u||2===u?c[++p]:null)}}return l}function ck(l,c,u,p,g){let y=0,E=l.length;if(-1===c)E=-1;else for(;y<l.length;){const D=l[y++];if("number"==typeof D){if(D===c){E=-1;break}if(D>c){E=y-1;break}}}for(;y<l.length;){const D=l[y];if("number"==typeof D)break;if(D===u){if(null===p)return void(null!==g&&(l[y+1]=g));if(p===l[y+1])return void(l[y+2]=g)}y++,null!==p&&y++,null!==g&&y++}-1!==E&&(l.splice(E,0,c),y=E+1),l.splice(y++,0,u),null!==p&&l.splice(y++,0,p),null!==g&&l.splice(y++,0,g)}function hk(l){return-1!==l}function Vm(l){return 32767&l}function ih(l,c){let u=function(l){return l>>16}(l),p=c;for(;u>0;)p=p[15],u--;return p}let uy=!0;function dy(l){const c=uy;return uy=l,c}let O_=0;function py(l,c){const u=Fm(l,c);if(-1!==u)return u;const p=c[1];p.firstCreatePass&&(l.injectorIndex=c.length,oE(p.data,l),oE(c,null),oE(p.blueprint,null));const g=lE(l,c),y=l.injectorIndex;if(hk(g)){const E=Vm(g),D=ih(g,c),x=D[1].data;for(let R=0;R<8;R++)c[y+R]=D[E+R]|x[E+R]}return c[y+8]=g,y}function oE(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Fm(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function lE(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let u=0,p=null,g=c;for(;null!==g;){const y=g[1],E=y.type;if(p=2===E?y.declTNode:1===E?g[6]:null,null===p)return-1;if(u++,g=g[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function Hm(l,c,u){!function(l,c,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(fi)&&(p=u[fi]),null==p&&(p=u[fi]=O_++);const g=255&p;c.data[l+(g>>5)]|=1<<g}(l,c,u)}function dk(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const u=l.attrs;if(u){const p=u.length;let g=0;for(;g<p;){const y=u[g];if(lk(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<p&&"string"==typeof u[g];)g++;else{if(y===c)return u[g+1];g+=2}}}return null}function UD(l,c,u){if(u&Ut.Optional)return l;Li(c,"NodeInjector")}function qD(l,c,u,p){if(u&Ut.Optional&&void 0===p&&(p=null),0==(u&(Ut.Self|Ut.Host))){const g=l[9],y=Gt(void 0);try{return g?g.get(c,p,u&Ut.Optional):sd(c,p,u&Ut.Optional)}finally{Gt(y)}}return UD(p,c,u)}function pk(l,c,u,p=Ut.Default,g){if(null!==l){const y=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(fi)?l[fi]:void 0;return"number"==typeof c?c>=0?255&c:mk:c}(u);if("function"==typeof y){if(!Jc(c,l,p))return p&Ut.Host?UD(g,u,p):qD(c,u,p,g);try{const E=y(p);if(null!=E||p&Ut.Optional)return E;Li(u)}finally{_m()}}else if("number"==typeof y){let E=null,D=Fm(l,c),x=-1,R=p&Ut.Host?c[16][6]:null;for((-1===D||p&Ut.SkipSelf)&&(x=-1===D?lE(l,c):c[D+8],-1!==x&&gk(p,!1)?(E=c[1],D=Vm(x),c=ih(x,c)):D=-1);-1!==D;){const V=c[1];if(ud(y,D,V.data)){const W=L_(D,c,u,E,p,R);if(W!==fk)return W}x=c[D+8],-1!==x&&gk(p,c[1].data[D+8]===R)&&ud(y,D,c)?(E=V,D=Vm(x),c=ih(x,c)):D=-1}}}return qD(c,u,p,g)}const fk={};function mk(){return new jm(er(),Ke())}function L_(l,c,u,p,g,y){const E=c[1],D=E.data[l+8],V=Bm(D,E,u,null==p?Xa(D)&&uy:p!=E&&0!=(3&D.type),g&Ut.Host&&y===D);return null!==V?Vl(c,E,V,D):fk}function Bm(l,c,u,p,g){const y=l.providerIndexes,E=c.data,D=1048575&y,x=l.directiveStart,V=y>>20,Y=g?D+V:l.directiveEnd;for(let te=p?D:D+V;te<Y;te++){const le=E[te];if(te<x&&u===le||te>=x&&le.type===u)return te}if(g){const te=E[x];if(te&&Ei(te)&&te.type===u)return x}return null}function Vl(l,c,u,p){let g=l[u];const y=c.data;if(function(l){return l instanceof $e}(g)){const E=g;E.resolving&&function(l,c){throw new Ci("200",`Circular dependency in DI detected for ${l}`)}(ps(y[u]));const D=dy(E.canSeeViewProviders);E.resolving=!0;const x=E.injectImpl?Gt(E.injectImpl):null;Jc(l,p,Ut.Default);try{g=l[u]=E.factory(void 0,y,l,p),c.firstCreatePass&&u>=p.directiveStart&&function(l,c,u){const{ngOnChanges:p,ngOnInit:g,ngDoCheck:y}=c.type.prototype;if(p){const E=Qc(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(l,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,E)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-l,g),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(l,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,y))}(u,y[u],c)}finally{null!==x&&Gt(x),dy(D),E.resolving=!1,_m()}}return g}function ud(l,c,u){return!!(u[c+(l>>5)]&1<<l)}function gk(l,c){return!(l&Ut.Self||l&Ut.Host&&c)}class jm{constructor(c,u){this._tNode=c,this._lView=u}get(c,u){return pk(this._tNode,this._lView,c,void 0,u)}}function vk(l){return Zn(()=>{const c=l.prototype.constructor,u=c[el]||zD(c),p=Object.prototype;let g=Object.getPrototypeOf(l.prototype).constructor;for(;g&&g!==p;){const y=g[el]||zD(g);if(y&&y!==u)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function zD(l){return Br(l)?()=>{const c=zD(st(l));return c&&c()}:Za(l)}function Vp(l){return dk(er(),l)}const sh="__annotations__",Fp="__parameters__",Hp="__prop__metadata__";function Wm(l,c,u,p,g){return Zn(()=>{const y=YD(c);function E(...D){if(this instanceof E)return y.call(this,...D),this;const x=new E(...D);return function(V){return g&&g(V,...D),(V.hasOwnProperty(sh)?V[sh]:Object.defineProperty(V,sh,{value:[]})[sh]).push(x),p&&p(V),V}}return u&&(E.prototype=Object.create(u.prototype)),E.prototype.ngMetadataName=l,E.annotationCls=E,E})}function YD(l){return function(...u){if(l){const p=l(...u);for(const g in p)this[g]=p[g]}}}function nh(l,c,u){return Zn(()=>{const p=YD(c);function g(...y){if(this instanceof g)return p.apply(this,y),this;const E=new g(...y);return D.annotation=E,D;function D(x,R,V){const W=x.hasOwnProperty(Fp)?x[Fp]:Object.defineProperty(x,Fp,{value:[]})[Fp];for(;W.length<=V;)W.push(null);return(W[V]=W[V]||[]).push(E),x}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=l,g.annotationCls=g,g})}function Rr(l,c,u,p){return Zn(()=>{const g=YD(c);function y(...E){if(this instanceof y)return g.apply(this,E),this;const D=new y(...E);return function(R,V){const W=R.constructor,Y=W.hasOwnProperty(Hp)?W[Hp]:Object.defineProperty(W,Hp,{value:{}})[Hp];Y[V]=Y.hasOwnProperty(V)&&Y[V]||[],Y[V].unshift(D),p&&p(R,V,...E)}}return u&&(y.prototype=Object.create(u.prototype)),y.prototype.ngMetadataName=l,y.annotationCls=y,y})}function $D(){return nh("Attribute",l=>({attributeName:l,__NG_ELEMENT_ID__:()=>Vp(l)}))}const fy=$D();class ir{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Hn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const N_=new ir("AnalyzeForEntryComponents");class my{}const bk=Rr("ContentChildren",(l,c={})=>Object.assign({selector:l,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},c),my),gy=Rr("ContentChild",(l,c={})=>Object.assign({selector:l,first:!0,isViewQuery:!1,descendants:!0},c),my),cE=Rr("ViewChildren",(l,c={})=>Object.assign({selector:l,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},c),my),B_=Rr("ViewChild",(l,c)=>Object.assign({selector:l,first:!0,isViewQuery:!0,descendants:!0},c),my);var Yr=(()=>((Yr=Yr||{})[Yr.Directive=0]="Directive",Yr[Yr.Component=1]="Component",Yr[Yr.Injectable=2]="Injectable",Yr[Yr.Pipe=3]="Pipe",Yr[Yr.NgModule=4]="NgModule",Yr))();function $r(l){const c=pn.ng;if(c&&c.\u0275compilerFacade)return c.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const hE=Function;function Um(l){return"function"==typeof l}function Ja(l,c){void 0===c&&(c=l);for(let u=0;u<l.length;u++){let p=l[u];Array.isArray(p)?(c===l&&(c=l.slice(0,u)),Ja(p,c)):c!==l&&c.push(p)}return c}function rh(l,c){l.forEach(u=>Array.isArray(u)?rh(u,c):c(u))}function uE(l,c,u){c>=l.length?l.push(u):l.splice(c,0,u)}function ah(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function dd(l,c){const u=[];for(let p=0;p<l;p++)u.push(c);return u}function rl(l,c,u){let p=zm(l,c);return p>=0?l[1|p]=u:(p=~p,function(l,c,u,p){let g=l.length;if(g==c)l.push(u,p);else if(1===g)l.push(p,l[0]),l[0]=u;else{for(g--,l.push(l[g-1],l[g]);g>c;)l[g]=l[g-2],g--;l[c]=u,l[c+1]=p}}(l,p,c,u)),p}function KD(l,c){const u=zm(l,c);if(u>=0)return l[1|u]}function zm(l,c){return function(l,c,u){let p=0,g=l.length>>u;for(;g!==p;){const y=p+(g-p>>1),E=l[y<<u];if(c===E)return y<<u;E>c?g=y:p=y+1}return~(g<<u)}(l,c,1)}const U_=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,q_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Dk=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,z_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Ym{constructor(c){this._reflect=c||pn.Reflect}isReflectionEnabled(){return!0}factory(c){return(...u)=>new c(...u)}_zipTypesAndAnnotations(c,u){let p;p=dd(void 0===c?u.length:c.length);for(let g=0;g<p.length;g++)p[g]=void 0===c?[]:c[g]&&c[g]!=Object?[c[g]]:[],u&&null!=u[g]&&(p[g]=p[g].concat(u[g]));return p}_ownParameters(c,u){const p=c.toString();if(U_.test(l=p)||z_.test(l)||q_.test(l)&&!Dk.test(l))return null;var l;if(c.parameters&&c.parameters!==u.parameters)return c.parameters;const g=c.ctorParameters;if(g&&g!==u.ctorParameters){const D="function"==typeof g?g():g,x=D.map(V=>V&&V.type),R=D.map(V=>V&&XD(V.decorators));return this._zipTypesAndAnnotations(x,R)}const y=c.hasOwnProperty(Fp)&&c[Fp],E=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",c);return E||y?this._zipTypesAndAnnotations(E,y):dd(c.length)}parameters(c){if(!Um(c))return[];const u=pE(c);let p=this._ownParameters(c,u);return!p&&u!==Object&&(p=this.parameters(u)),p||[]}_ownAnnotations(c,u){if(c.annotations&&c.annotations!==u.annotations){let p=c.annotations;return"function"==typeof p&&p.annotations&&(p=p.annotations),p}return c.decorators&&c.decorators!==u.decorators?XD(c.decorators):c.hasOwnProperty(sh)?c[sh]:null}annotations(c){if(!Um(c))return[];const u=pE(c),p=this._ownAnnotations(c,u)||[];return(u!==Object?this.annotations(u):[]).concat(p)}_ownPropMetadata(c,u){if(c.propMetadata&&c.propMetadata!==u.propMetadata){let p=c.propMetadata;return"function"==typeof p&&p.propMetadata&&(p=p.propMetadata),p}if(c.propDecorators&&c.propDecorators!==u.propDecorators){const p=c.propDecorators,g={};return Object.keys(p).forEach(y=>{g[y]=XD(p[y])}),g}return c.hasOwnProperty(Hp)?c[Hp]:null}propMetadata(c){if(!Um(c))return{};const u=pE(c),p={};if(u!==Object){const y=this.propMetadata(u);Object.keys(y).forEach(E=>{p[E]=y[E]})}const g=this._ownPropMetadata(c,u);return g&&Object.keys(g).forEach(y=>{const E=[];p.hasOwnProperty(y)&&E.push(...p[y]),E.push(...g[y]),p[y]=E}),p}ownPropMetadata(c){return Um(c)&&this._ownPropMetadata(c,pE(c))||{}}hasLifecycleHook(c,u){return c instanceof hE&&u in c.prototype}guards(c){return{}}getter(c){return new Function("o","return o."+c+";")}setter(c){return new Function("o","v","return o."+c+" = v;")}method(c){return new Function("o","args",`if (!o.${c}) throw new Error('"${c}" is undefined');\n        return o.${c}.apply(o, args);`)}importUri(c){return"object"==typeof c&&c.filePath?c.filePath:`./${He(c)}`}resourceUri(c){return`./${He(c)}`}resolveIdentifier(c,u,p,g){return g}resolveEnum(c,u){return c[u]}}function XD(l){return l?l.map(c=>new(0,c.type.annotationCls)(...c.args?c.args:[])):[]}function pE(l){const c=l.prototype?Object.getPrototypeOf(l.prototype):null;return(c?c.constructor:null)||Object}const Bp={},fE="__NG_DI_FLAG__",jp="ngTempTokenPath",Tk=/\n/gm,ZD="__source",JD=Ye({provide:String,useValue:Ye});let vy;function ou(l){const c=vy;return vy=l,c}function Ak(l,c=Ut.Default){if(void 0===vy)throw new Error("inject() must be called from an injection context");return null===vy?sd(l,void 0,c):vy.get(l,c&Ut.Optional?null:void 0,c)}function mr(l,c=Ut.Default){return(qt()||Ak)(st(l),c)}function eS(l){throw new Error("invalid")}const tS=mr;function pd(l){const c=[];for(let u=0;u<l.length;u++){const p=st(l[u]);if(Array.isArray(p)){if(0===p.length)throw new Error("Arguments array must have arguments.");let g,y=Ut.Default;for(let E=0;E<p.length;E++){const D=p[E],x=Gm(D);"number"==typeof x?-1===x?g=D.token:y|=x:g=D}c.push(mr(g,y))}else c.push(mr(p))}return c}function $m(l,c){return l[fE]=c,l.prototype[fE]=c,l}function Gm(l){return l[fE]}function xk(l,c,u,p){const g=l[jp];throw c[ZD]&&g.unshift(c[ZD]),l.message=function(l,c,u,p=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let g=He(c);if(Array.isArray(c))g=c.map(He).join(" -> ");else if("object"==typeof c){let y=[];for(let E in c)if(c.hasOwnProperty(E)){let D=c[E];y.push(E+":"+("string"==typeof D?JSON.stringify(D):He(D)))}g=`{${y.join(", ")}}`}return`${u}${p?"("+p+")":""}[${g}]: ${l.replace(Tk,"\n  ")}`}("\n"+l.message,g,u,p),l.ngTokenPath=g,l[jp]=null,l}const kk=l=>({token:l}),Qm=$m(nh("Inject",kk),-1),oh=$m(nh("Optional"),8),Km=$m(nh("Self"),2),lu=$m(nh("SkipSelf"),4),tn=$m(nh("Host"),1);let Mk=null;function Xm(){return Mk=Mk||new Ym}function fd(l){return md(Xm().parameters(l))}function md(l){return l.map(c=>function(l){const c={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(l)&&l.length>0)for(let u=0;u<l.length;u++){const p=l[u];if(void 0===p)continue;const g=Object.getPrototypeOf(p);if(p instanceof oh||"Optional"===g.ngMetadataName)c.optional=!0;else if(p instanceof lu||"SkipSelf"===g.ngMetadataName)c.skipSelf=!0;else if(p instanceof Km||"Self"===g.ngMetadataName)c.self=!0;else if(p instanceof tn||"Host"===g.ngMetadataName)c.host=!0;else if(p instanceof Qm)c.token=p.token;else if(p instanceof fy){if(void 0===p.attributeName)throw new Error("Attribute name must be defined.");c.attribute=p.attributeName}else c.token=p}else c.token=void 0===l||Array.isArray(l)&&0===l.length?null:l;return c}(c))}function Ok(l){const c=[],u=new Map;function p(g){let y=u.get(g);if(!y){const E=l(g);u.set(g,y=E.then(C2))}return y}return Jm.forEach((g,y)=>{const E=[];g.templateUrl&&E.push(p(g.templateUrl).then(W=>{g.template=W}));const D=g.styleUrls,x=g.styles||(g.styles=[]),R=g.styles.length;D&&D.forEach((W,Y)=>{x.push(""),E.push(p(W).then(te=>{x[R+Y]=te,D.splice(D.indexOf(W),1),0==D.length&&(g.styleUrls=void 0)}))});const V=Promise.all(E).then(()=>function(l){Wp.delete(l)}(y));c.push(V)}),iS(),Promise.all(c).then(()=>{})}let Jm=new Map;const Wp=new Set;function Rk(l){return!!(l.templateUrl&&!l.hasOwnProperty("template")||l.styleUrls&&l.styleUrls.length)}function iS(){const l=Jm;return Jm=new Map,l}function C2(l){return"string"==typeof l?l:l.text()}let yy,mE;function nS(){if(void 0===yy&&(yy=null,pn.trustedTypes))try{yy=pn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return yy}function eg(l){var c;return(null===(c=nS())||void 0===c?void 0:c.createHTML(l))||l}function rS(){if(void 0===mE&&(mE=null,pn.trustedTypes))try{mE=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return mE}function aS(l){var c;return(null===(c=rS())||void 0===c?void 0:c.createHTML(l))||l}function _k(l){var c;return(null===(c=rS())||void 0===c?void 0:c.createScript(l))||l}function Pk(l){var c;return(null===(c=rS())||void 0===c?void 0:c.createScriptURL(l))||l}class qp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oS extends qp{getTypeName(){return"HTML"}}class J_ extends qp{getTypeName(){return"Style"}}class eP extends qp{getTypeName(){return"Script"}}class Nk extends qp{getTypeName(){return"URL"}}class tP extends qp{getTypeName(){return"ResourceURL"}}function gd(l){return l instanceof qp?l.changingThisBreaksApplicationSecurity:l}function lh(l,c){const u=Vk(l);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function Vk(l){return l instanceof qp&&l.getTypeName()||null}function lS(l){return new oS(l)}function w2(l){return new J_(l)}function gE(l){return new eP(l)}function iP(l){return new Nk(l)}function X(l){return new tP(l)}function At(l){const c=new ch(l);return function(){try{return!!(new window.DOMParser).parseFromString(eg(""),"text/html")}catch(l){return!1}}()?new cS(c):c}class cS{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(eg(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ch{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=eg(c),u;const p=this.inertDocument.createElement("body");return p.innerHTML=eg(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(c){const u=c.attributes;for(let g=u.length-1;0<g;g--){const E=u.item(g).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&c.removeAttribute(E)}let p=c.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const So=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pt(l){return(l=String(l)).match(So)||l.match(f)?l:"unsafe:"+l}function $i(l){return(l=String(l)).split(",").map(c=>pt(c.trim())).join(", ")}function hh(l){const c={};for(const u of l.split(","))c[u]=!0;return c}function vE(...l){const c={};for(const u of l)for(const p in u)u.hasOwnProperty(p)&&(c[p]=!0);return c}const sP=hh("area,br,col,hr,img,wbr"),by=hh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zp=hh("rp,rt"),yt=vE(sP,vE(by,hh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vE(zp,hh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vE(zp,by)),vd=hh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eo=hh("srcset"),Fk=vE(vd,eo,hh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nP=hh("script,style,template");class Hk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!yt.hasOwnProperty(u))return this.sanitizedSomething=!0,!nP.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=c.attributes;for(let g=0;g<p.length;g++){const y=p.item(g),E=y.name,D=E.toLowerCase();if(!Fk.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=y.value;vd[D]&&(x=pt(x)),eo[D]&&(x=$i(x)),this.buf.push(" ",E,'="',jk(x),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();yt.hasOwnProperty(u)&&!sP.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(jk(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const Bk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cn=/([^\#-~ |!])/g;function jk(l){return l.replace(/&/g,"&amp;").replace(Bk,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Cn,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yE;function to(l,c){let u=null;try{yE=yE||At(l);let p=c?String(c):"";u=yE.getInertBodyElement(p);let g=5,y=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=y,y=u.innerHTML,u=yE.getInertBodyElement(p)}while(p!==y);return eg((new Hk).sanitizeChildren(hS(u)||u))}finally{if(u){const p=hS(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function hS(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function uS(l){const c=tg();return c?aS(c.sanitize(sr.HTML,l)||""):lh(l,"HTML")?aS(gd(l)):to(Ze(),ti(l))}function Uk(l){const c=tg();return c?c.sanitize(sr.STYLE,l)||"":lh(l,"Style")?gd(l):ti(l)}function dS(l){const c=tg();return c?c.sanitize(sr.URL,l)||"":lh(l,"URL")?gd(l):pt(ti(l))}function bE(l){const c=tg();if(c)return Pk(c.sanitize(sr.RESOURCE_URL,l)||"");if(lh(l,"ResourceURL"))return Pk(gd(l));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function pS(l){const c=tg();if(c)return _k(c.sanitize(sr.SCRIPT,l)||"");if(lh(l,"Script"))return _k(gd(l));throw new Error("unsafe value used in a script context")}function qk(l){return eg(l[0])}function zk(l){return function(l){var c;return(null===(c=nS())||void 0===c?void 0:c.createScriptURL(l))||l}(l[0])}function Yp(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?bE:dS}function fS(l,c,u){return Yp(c,u)(l)}function tg(){const l=Ke();return l&&l[12]}function Pa(l){let c=Cy(l);if(c){if(Array.isArray(c)){const u=c;let p,g,y;if(function(l){return l&&l.constructor&&l.constructor.\u0275cmp}(l)){if(p=ig(u,l),-1==p)throw new Error("The provided component was not found in the application");g=l}else if(function(l){return l&&l.constructor&&l.constructor.\u0275dir}(l)){if(p=function(l,c){let u=l[1].firstChild;for(;u;){const g=u.directiveEnd;for(let y=u.directiveStart;y<g;y++)if(l[y]===c)return u.index;u=Ey(u)}return-1}(u,l),-1==p)throw new Error("The provided directive was not found in the application");y=Ns(p,u,!1)}else if(p=Ps(u,l),-1==p)return null;const E=Pi(u[p]),D=Cy(E),x=D&&!Array.isArray(D)?D:mS(u,p,E);if(g&&void 0===x.component&&(x.component=g,Na(x.component,x)),y&&void 0===x.directives){x.directives=y;for(let R=0;R<y.length;R++)Na(y[R],x)}Na(x.native,x),c=x}}else{const u=l;let p=u;for(;p=p.parentNode;){const g=Cy(p);if(g){let y;if(y=Array.isArray(g)?g:g.lView,!y)return null;const E=Ps(y,u);if(E>=0){const D=Pi(y[E]),x=mS(y,E,D);Na(D,x),c=x;break}}}}return c||null}function mS(l,c,u){return{lView:l,nodeIndex:c,native:u,component:void 0,directives:void 0,localRefs:void 0}}function Yk(l){let u,c=Cy(l);if(Array.isArray(c)){const p=ig(c,l);u=qr(p,c);const g=mS(c,p,u[0]);g.component=l,Na(l,g),Na(g.native,g)}else u=qr(c.nodeIndex,c.lView);return u}const $k="__ngContext__";function Na(l,c){l[$k]=c}function Cy(l){return l[$k]||null}function $p(l){const c=Cy(l);return c?Array.isArray(c)?c:c.lView:null}function Ps(l,c){const u=l[1];for(let p=20;p<u.bindingStartIndex;p++)if(Pi(l[p])===c)return p;return-1}function Ey(l){if(l.child)return l.child;if(l.next)return l.next;for(;l.parent&&!l.parent.next;)l=l.parent;return l.parent&&l.parent.next}function ig(l,c){const u=l[1].components;if(u)for(let p=0;p<u.length;p++){const g=u[p];if(qr(g,l)[8]===c)return g}else if(qr(20,l)[8]===c)return 20;return-1}function Ns(l,c,u){const p=c[1].data[l];let g=p.directiveStart;return 0==g?cs:(!u&&2&p.flags&&g++,c.slice(g,p.directiveEnd))}const aP="ngDebugContext",sg="ngOriginalError",oP="ngErrorLogger";function Rt(l){return l[aP]}function wy(l){return l[sg]}function yd(l,...c){l.error(...c)}class ng{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c),p=this._findContext(c),g=(l=c)&&l[oP]||yd;var l;g(this._console,"ERROR",c),u&&g(this._console,"ORIGINAL ERROR",u),p&&g(this._console,"ERROR CONTEXT",p)}_findContext(c){return c?Rt(c)||this._findContext(wy(c)):null}_findOriginalError(c){let u=c&&wy(c);for(;u&&wy(u);)u=wy(u);return u||null}}const Qk={name:"custom-elements"},Kk={name:"no-errors-schema"},cP=/^>|^->|<!--|-->|--!>|<!-$/g,hP=/(<|>)/;function CE(l){return l.replace(cP,c=>c.replace(hP,"\u200b$1\u200b"))}function yS(l){return`ng-reflect-${l=function(l){return l.replace(G,(...c)=>"-"+c[1].toLowerCase())}(l.replace(/[$@]/g,"_"))}`}const G=/([A-Z])/g;function Xk(l){try{return null!=l?l.toString().slice(0,30):l}catch(c){return"[ERROR] Exception while trying to serialize the value"}}const L=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pn))();function H(l){return l.ownerDocument.defaultView}function bS(l){return l.ownerDocument}function sn(l){return l.ownerDocument.body}function Ge(l){return l instanceof Function?l():l}var J=(()=>((J=J||{})[J.Important=1]="Important",J[J.DashCase=2]="DashCase",J))();let Xe;function EE(l,c){return Xe(l,c)}function wE(l){const c=l[3];return ya(c)?c[3]:c}function On(l){return function(l){let c=pr(l)?l:$p(l);for(;c&&!(512&c[2]);)c=wE(c);return c}(l)[8]}function Qp(l){return fP(l[13])}function Zk(l){return fP(l[4])}function fP(l){for(;null!==l&&!ya(l);)l=l[4];return l}function rg(l,c,u,p,g){if(null!=p){let y,E=!1;ya(p)?y=p:pr(p)&&(E=!0,p=p[0]);const D=Pi(p);0===l&&null!==u?null==g?EP(c,u,D):Ht(c,u,D,g||null,!0):1===l&&null!==u?Ht(c,u,D,g||null,!0):2===l?TS(c,D,E):3===l&&c.destroyNode(D),null!=y&&function(l,c,u,p,g){const y=u[7];y!==Pi(u)&&rg(c,l,p,y,g);for(let D=10;D<u.length;D++){const x=u[D];dh(x[1],x,l,c,p,y)}}(c,l,y,u,g)}}function al(l,c){return Qt(l)?l.createText(c):l.createTextNode(c)}function sa(l,c,u){Qt(l)?l.setValue(c,u):c.textContent=u}function M2(l,c){return l.createComment(CE(c))}function ag(l,c,u){return Qt(l)?l.createElement(c,u):null===u?l.createElement(c):l.createElementNS(u,c)}function eM(l,c){const u=l[9],p=u.indexOf(c),g=c[3];1024&c[2]&&(c[2]&=-1025,Mm(g,-1)),u.splice(p,1)}function CS(l,c){if(l.length<=10)return;const u=10+c,p=l[u];if(p){const g=p[17];null!==g&&g!==l&&eM(g,p),c>0&&(l[u-1][4]=p[4]);const y=ah(l,10+c);!function(l,c){dh(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(p[1],p);const E=y[19];null!==E&&E.detachView(y[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}function tM(l,c){if(!(256&c[2])){const u=c[11];Qt(u)&&u.destroyNode&&dh(l,c,u,3,null,null),function(l){let c=l[13];if(!c)return ES(l[1],l);for(;c;){let u=null;if(pr(c))u=c[13];else{const p=c[10];p&&(u=p)}if(!u){for(;c&&!c[4]&&c!==l;)pr(c)&&ES(c[1],c),c=c[3];null===c&&(c=l),pr(c)&&ES(c[1],c),u=c&&c[4]}c=u}}(c)}}function ES(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let u;if(null!=l&&null!=(u=l.destroyHooks))for(let p=0;p<u.length;p+=2){const g=c[u[p]];if(!(g instanceof $e)){const y=u[p+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const D=g[y[E]],x=y[E+1];B(4,D,x);try{x.call(D)}finally{B(5,D,x)}}else{B(4,g,y);try{y.call(g)}finally{B(5,g,y)}}}}}(l,c),function(l,c){const u=l.cleanup,p=c[7];let g=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const E=u[y+1],D="function"==typeof E?E(c):Pi(c[E]),x=p[g=u[y+2]],R=u[y+3];"boolean"==typeof R?D.removeEventListener(u[y],x,R):R>=0?p[g=R]():p[g=-R].unsubscribe(),y+=2}else{const E=p[g=u[y+1]];u[y].call(E)}if(null!==p){for(let y=g+1;y<p.length;y++)p[y]();c[7]=null}}(l,c),1===c[1].type&&Qt(c[11])&&c[11].destroy();const u=c[17];if(null!==u&&ya(c[3])){u!==c[3]&&eM(u,c);const p=c[19];null!==p&&p.detachView(l)}}}function wS(l,c,u){return T(l,c.parent,u)}function T(l,c,u){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return u[0];if(2&p.flags){const g=l.data[p.directiveStart].encapsulation;if(g===ji.None||g===ji.Emulated)return null}return kn(p,u)}function Ht(l,c,u,p,g){Qt(l)?l.insertBefore(c,u,p,g):c.insertBefore(u,p,g)}function EP(l,c,u){Qt(l)?l.appendChild(c,u):c.appendChild(u)}function Va(l,c,u,p,g){null!==p?Ht(l,c,u,p,g):EP(l,c,u)}function $(l,c){return Qt(l)?l.parentNode(c):c.parentNode}function Kp(l,c,u){return wP(l,c,u)}function DS(l,c,u){return 40&l.type?kn(l,u):null}let DE,wP=DS;function uh(l,c){wP=l,DE=c}function cu(l,c,u,p){const g=wS(l,p,c),y=c[11],D=Kp(p.parent||c[6],p,c);if(null!=g)if(Array.isArray(u))for(let x=0;x<u.length;x++)Va(y,g,u[x],D,!1);else Va(y,g,u,D,!1);void 0!==DE&&DE(y,p,c,u,g)}function Gi(l,c){if(null!==c){const u=c.type;if(3&u)return kn(c,l);if(4&u)return SS(-1,l[c.index]);if(8&u){const p=c.child;if(null!==p)return Gi(l,p);{const g=l[c.index];return ya(g)?SS(-1,g):Pi(g)}}if(32&u)return EE(c,l)()||Pi(l[c.index]);{const p=Ts(l,c);return null!==p?Array.isArray(p)?p[0]:Gi(wE(l[16]),p):Gi(l,c.next)}}return null}function Ts(l,c){return null!==c?l[16][6].projection[c.projection]:null}function SS(l,c){const u=10+l+1;if(u<c.length){const p=c[u],g=p[1].firstChild;if(null!==g)return Gi(p,g)}return c[7]}function TS(l,c,u){const p=$(l,c);p&&function(l,c,u,p){Qt(l)?l.removeChild(c,u,p):c.removeChild(u)}(l,p,c,u)}function SE(l,c,u,p,g,y,E){for(;null!=u;){const D=p[u.index],x=u.type;if(E&&0===c&&(D&&Na(Pi(D),p),u.flags|=4),64!=(64&u.flags))if(8&x)SE(l,c,u.child,p,g,y,!1),rg(c,l,g,D,y);else if(32&x){const R=EE(u,p);let V;for(;V=R();)rg(c,l,g,V,y);rg(c,l,g,D,y)}else 16&x?mc(l,c,p,u,g,y):rg(c,l,g,D,y);u=E?u.projectionNext:u.next}}function dh(l,c,u,p,g,y){SE(u,p,l.firstChild,c,g,y,!1)}function mc(l,c,u,p,g,y){const E=u[16],x=E[6].projection[p.projection];if(Array.isArray(x))for(let R=0;R<x.length;R++)rg(c,l,g,x[R],y);else SE(l,c,x,E[3],g,y,!0)}function sM(l,c,u){Qt(l)?l.setAttribute(c,"style",u):c.style.cssText=u}function hi(l,c,u){Qt(l)?""===u?l.removeAttribute(c,"class"):l.setAttribute(c,"class",u):c.className=u}function Sy(l,c,u){let p=l.length;for(;;){const g=l.indexOf(c,u);if(-1===g)return g;if(0===g||l.charCodeAt(g-1)<=32){const y=c.length;if(g+y===p||l.charCodeAt(g+y)<=32)return g}u=g+1}}const TE="ng-template";function rM(l,c,u){let p=0;for(;p<l.length;){let g=l[p++];if(u&&"class"===g){if(g=l[p],-1!==Sy(g.toLowerCase(),c,0))return!0}else if(1===g){for(;p<l.length&&"string"==typeof(g=l[p++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function Ty(l){return 4===l.type&&l.value!==TE}function L2(l,c,u){return c===(4!==l.type||u?l.value:TE)}function hs(l,c,u){let p=4;const g=l.attrs||[],y=function(l){for(let c=0;c<l.length;c++)if(lk(l[c]))return c;return l.length}(g);let E=!1;for(let D=0;D<c.length;D++){const x=c[D];if("number"!=typeof x){if(!E)if(4&p){if(p=2|1&p,""!==x&&!L2(l,x,u)||""===x&&1===c.length){if(Ji(p))return!1;E=!0}}else{const R=8&p?x:c[++D];if(8&p&&null!==l.attrs){if(!rM(l.attrs,R,u)){if(Ji(p))return!1;E=!0}continue}const W=Ay(8&p?"class":x,g,Ty(l),u);if(-1===W){if(Ji(p))return!1;E=!0;continue}if(""!==R){let Y;Y=W>y?"":g[W+1].toLowerCase();const te=8&p?Y:null;if(te&&-1!==Sy(te,R,0)||2&p&&R!==Y){if(Ji(p))return!1;E=!0}}}}else{if(!E&&!Ji(p)&&!Ji(x))return!1;if(E&&Ji(x))continue;E=!1,p=x|1&p}}return Ji(p)||E}function Ji(l){return 0==(1&l)}function Ay(l,c,u,p){if(null===c)return-1;let g=0;if(p||!u){let y=!1;for(;g<c.length;){const E=c[g];if(E===l)return g;if(3===E||6===E)y=!0;else{if(1===E||2===E){let D=c[++g];for(;"string"==typeof D;)D=c[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=y?1:2}return-1}return function(l,c){let u=l.indexOf(4);if(u>-1)for(u++;u<l.length;){const p=l[u];if("number"==typeof p)return-1;if(p===c)return u;u++}return-1}(c,l)}function aM(l,c,u=!1){for(let p=0;p<c.length;p++)if(hs(l,c[p],u))return!0;return!1}function og(l,c){e:for(let u=0;u<c.length;u++){const p=c[u];if(l.length===p.length){for(let g=0;g<l.length;g++)if(l[g]!==p[g])continue e;return!0}}return!1}function hu(l,c){return l?":not("+c.trim()+")":c}function AE(l){let c=l[0],u=1,p=2,g="",y=!1;for(;u<l.length;){let E=l[u];if("string"==typeof E)if(2&p){const D=l[++u];g+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&p?g+="."+E:4&p&&(g+=" "+E);else""!==g&&!Ji(E)&&(c+=hu(y,g),g=""),p=E,y=y||!Ji(p);u++}return""!==g&&(c+=hu(y,g)),c}const rt={};function Gs(l){ph(Di(),Ke(),ba()+l,Op())}function ph(l,c,u,p){if(!p)if(3==(3&c[2])){const y=l.preOrderCheckHooks;null!==y&&nl(c,y,u)}else{const y=l.preOrderHooks;null!==y&&Do(c,y,0,u)}th(u)}function Iy(l,c){return l<<17|c<<2}function gc(l){return l>>17&32767}function IS(l){return 2|l}function uu(l){return(131068&l)>>2}function kS(l,c){return-131069&l|c<<2}function OS(l){return 1|l}const Ry=(()=>Promise.resolve(null))();function LP(l,c){const u=l.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const g=u[p],y=u[p+1];if(-1!==y){const E=l.data[y];Lm(g),E.contentQueries(2,c[y],y)}}}function Ly(l,c,u,p,g,y,E,D,x,R){const V=c.blueprint.slice();return V[0]=g,V[2]=140|p,Xc(V),V[3]=V[15]=l,V[8]=u,V[10]=E||l&&l[10],V[11]=D||l&&l[11],V[12]=x||l&&l[12]||null,V[9]=R||l&&l[9]||null,V[6]=y,V[16]=2==c.type?l[16]:V,V}function lg(l,c,u,p,g){let y=l.data[c];if(null===y)y=Vs(l,c,u,p,g),di.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=p,y.attrs=g;const E=cd();y.injectorIndex=null===E?-1:E.injectorIndex}return Us(y,!0),y}function Vs(l,c,u,p,g){const y=sy(),E=wo(),x=l.data[c]=function(l,c,u,p,g,y){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,u,c,p,g);return null===l.firstChild&&(l.firstChild=x),null!==y&&(E?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}function cg(l,c,u,p){if(0===u)return-1;const g=c.length;for(let y=0;y<u;y++)c.push(p),l.blueprint.push(p),l.data.push(null);return g}function _y(l,c,u){eh(c);try{const p=l.viewQuery;null!==p&&ug(1,p,u);const g=l.template;null!==g&&pM(l,c,g,1,u),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&LP(l,c),l.staticViewQueries&&ug(2,l.viewQuery,u);const y=l.components;null!==y&&function(l,c){for(let u=0;u<c.length;u++)YS(l,c[u])}(c,y)}catch(p){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),p}finally{c[2]&=-5,nu()}}function Cd(l,c,u,p){const g=c[2];if(256==(256&g))return;eh(c);const y=Op();try{Xc(c),Rp(l.bindingStartIndex),null!==u&&pM(l,c,u,2,p);const E=3==(3&g);if(!y)if(E){const R=l.preOrderCheckHooks;null!==R&&nl(c,R,null)}else{const R=l.preOrderHooks;null!==R&&Do(c,R,0,null),I(c,0)}if(function(l){for(let c=Qp(l);null!==c;c=Zk(c)){if(!c[2])continue;const u=c[9];for(let p=0;p<u.length;p++){const g=u[p],y=g[3];0==(1024&g[2])&&Mm(y,1),g[2]|=1024}}}(c),function(l){for(let c=Qp(l);null!==c;c=Zk(c))for(let u=10;u<c.length;u++){const p=c[u],g=p[1];km(p)&&Cd(g,p,g.template,p[8])}}(c),null!==l.contentQueries&&LP(l,c),!y)if(E){const R=l.contentCheckHooks;null!==R&&nl(c,R)}else{const R=l.contentHooks;null!==R&&Do(c,R,1),I(c,1)}!function(l,c){const u=l.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const g=u[p];if(g<0)th(~g);else{const y=g,E=u[++p],D=u[++p];Lp(E,y),D(2,c[y])}}}finally{th(-1)}}(l,c);const D=l.components;null!==D&&function(l,c){for(let u=0;u<c.length;u++)PE(l,c[u])}(c,D);const x=l.viewQuery;if(null!==x&&ug(2,x,p),!y)if(E){const R=l.viewCheckHooks;null!==R&&nl(c,R)}else{const R=l.viewHooks;null!==R&&Do(c,R,2),I(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),y||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Mm(c[3],-1))}finally{nu()}}function _P(l,c,u,p){const g=c[10],y=!Op(),E=od(c);try{y&&!E&&g.begin&&g.begin(),E&&_y(l,c,p),Cd(l,c,u,p)}finally{y&&!E&&g.end&&g.end()}}function pM(l,c,u,p,g){const y=ba(),E=2&p;try{th(-1),E&&c.length>20&&ph(l,c,20,Op()),B(E?2:0,g),u(p,g)}finally{th(y),B(E?3:1,g)}}function fM(l,c,u){if(wp(c)){const g=c.directiveEnd;for(let y=c.directiveStart;y<g;y++){const E=l.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}}function OE(l,c,u){!Om()||(function(l,c,u,p){const g=u.directiveStart,y=u.directiveEnd;l.firstCreatePass||py(u,c),Na(p,c);const E=u.initialInputs;for(let D=g;D<y;D++){const x=l.data[D],R=Ei(x);R&&zS(c,u,x);const V=Vl(c,l,D,u);Na(V,c),null!==E&&na(0,D-g,V,x,0,E),R&&(qr(u.index,c)[8]=V)}}(l,c,u,kn(u,c)),128==(128&u.flags)&&function(l,c,u){const p=u.directiveStart,g=u.directiveEnd,E=u.index,D=di.lFrame.currentDirectiveIndex;try{th(E);for(let x=p;x<g;x++){const R=l.data[x],V=c[x];fc(x),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&CM(R,V)}}finally{th(-1),fc(D)}}(l,c,u))}function Jp(l,c,u=kn){const p=c.localNames;if(null!==p){let g=c.index+1;for(let y=0;y<p.length;y+=2){const E=p[y+1],D=-1===E?u(c,l):l[E];l[g++]=D}}}function VS(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=To(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function To(l,c,u,p,g,y,E,D,x,R){const V=20+p,W=V+g,Y=function(l,c){const u=[];for(let p=0;p<c;p++)u.push(p<l?null:rt);return u}(V,W),te="function"==typeof R?R():R;return Y[1]={type:l,blueprint:Y,template:u,queries:null,viewQuery:D,declTNode:c,data:Y.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:te,incompleteFirstPass:!1}}function Ao(l,c,u){if(Qt(l))return l.selectRootElement(c,u===ji.ShadowDom);let p="string"==typeof c?l.querySelector(c):c;return p.textContent="",p}function RE(l,c,u,p){const g=VE(c);null===u?g.push(p):(g.push(u),l.firstCreatePass&&Ed(l).push(p,g.length-1))}function hg(l,c,u){for(let p in l)if(l.hasOwnProperty(p)){const g=l[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(c,g):u[p]=[c,g]}return u}function Fa(l,c,u,p,g,y,E,D){const x=kn(c,u);let V,R=c.inputs;!D&&null!=R&&(V=R[p])?(Cc(l,u,V,p,g),Xa(c)&&function(l,c){const u=qr(c,l);16&u[2]||(u[2]|=64)}(u,c.index)):3&c.type&&(p=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(p),g=null!=E?E(g,c.value||"",p):g,Qt(y)?y.setProperty(x,p,g):Nm(p)||(x.setProperty?x.setProperty(p,g):x[p]=g))}function Py(l,c,u,p){let g=!1;if(Om()){const y=function(l,c,u){const p=l.directiveRegistry;let g=null;if(p)for(let y=0;y<p.length;y++){const E=p[y];aM(u,E.selectors,!1)&&(g||(g=[]),Hm(py(u,c),l,E.type),Ei(E)?(vc(l,u),g.unshift(E)):g.push(E))}return g}(l,c,u),E=null===p?null:{"":-1};if(null!==y){g=!0,qS(u,l.data.length,y.length);for(let V=0;V<y.length;V++){const W=y[V];W.providersResolver&&W.providersResolver(W)}let D=!1,x=!1,R=cg(l,c,y.length,null);for(let V=0;V<y.length;V++){const W=y[V];u.mergedAttrs=hy(u.mergedAttrs,W.hostAttrs),_E(l,u,c,R,W),LE(R,W,E),null!==W.contentQueries&&(u.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(u.flags|=128);const Y=W.type.prototype;!D&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(u.index),D=!0),!x&&(Y.ngOnChanges||Y.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(u.index),x=!0),R++}!function(l,c){const p=c.directiveEnd,g=l.data,y=c.attrs,E=[];let D=null,x=null;for(let R=c.directiveStart;R<p;R++){const V=g[R],W=V.inputs,Y=null===y||Ty(c)?null:Kt(W,y);E.push(Y),D=hg(W,R,D),x=hg(V.outputs,R,x)}null!==D&&(D.hasOwnProperty("class")&&(c.flags|=16),D.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=E,c.inputs=D,c.outputs=x}(l,u)}E&&function(l,c,u){if(c){const p=l.localNames=[];for(let g=0;g<c.length;g+=2){const y=u[c[g+1]];if(null==y)throw new Ci("301",`Export of name '${c[g+1]}' not found!`);p.push(c[g],y)}}}(u,p,E)}return u.mergedAttrs=hy(u.mergedAttrs,u.attrs),g}function Ny(l,c,u,p,g,y){const E=y.hostBindings;if(E){let D=l.hostBindingOpCodes;null===D&&(D=l.hostBindingOpCodes=[]);const x=~c.index;(function(l){let c=l.length;for(;c>0;){const u=l[--c];if("number"==typeof u&&u<0)return u}return 0})(D)!=x&&D.push(x),D.push(p,g,E)}}function CM(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function vc(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function LE(l,c,u){if(u){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)u[c.exportAs[p]]=l;Ei(c)&&(u[""]=l)}}function qS(l,c,u){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+u,l.providerIndexes=c}function _E(l,c,u,p,g){l.data[p]=g;const y=g.factory||(g.factory=Za(g.type)),E=new $e(y,Ei(g),null);l.blueprint[p]=E,u[p]=E,Ny(l,c,0,p,cg(l,u,g.hostVars,rt),g)}function zS(l,c,u){const p=kn(c,l),g=VS(u),y=l[10],E=gr(l,Ly(l,g,null,u.onPush?64:16,p,c,y,y.createRenderer(p,u),null,null));l[c.index]=E}function yc(l,c,u,p,g,y){const E=kn(l,c);cl(c[11],E,y,l.value,u,p,g)}function cl(l,c,u,p,g,y,E){if(null==y)Qt(l)?l.removeAttribute(c,g,u):c.removeAttribute(g);else{const D=null==E?ti(y):E(y,p||"",g);Qt(l)?l.setAttribute(c,g,D,u):u?c.setAttributeNS(u,g,D):c.setAttribute(g,D)}}function na(l,c,u,p,g,y){const E=y[c];if(null!==E){const D=p.setInput;for(let x=0;x<E.length;){const R=E[x++],V=E[x++],W=E[x++];null!==D?p.setInput(u,W,R,V):u[V]=W}}}function Kt(l,c){let u=null,p=0;for(;p<c.length;){const g=c[p];if(0!==g)if(5!==g){if("number"==typeof g)break;l.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,l[g],c[p+1])),p+=2}else p+=2;else p+=4}return u}function PP(l,c,u,p){return new Array(l,!0,!1,c,null,0,p,u,null,null)}function PE(l,c){const u=qr(c,l);if(km(u)){const p=u[1];80&u[2]?Cd(p,u,p.template,u[8]):u[5]>0&&tf(u)}}function tf(l){for(let p=Qp(l);null!==p;p=Zk(p))for(let g=10;g<p.length;g++){const y=p[g];if(1024&y[2]){const E=y[1];Cd(E,y,E.template,y[8])}else y[5]>0&&tf(y)}const u=l[1].components;if(null!==u)for(let p=0;p<u.length;p++){const g=qr(u[p],l);km(g)&&g[5]>0&&tf(g)}}function YS(l,c){const u=qr(c,l),p=u[1];(function(l,c){for(let u=c.length;u<l.blueprint.length;u++)c.push(l.blueprint[u])})(p,u),_y(p,u,u[8])}function gr(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function bc(l){for(;l;){l[2]|=64;const c=wE(l);if(dc(l)&&!c)return l;l=c}return null}function $S(l){for(let c=0;c<l.components.length;c++){const u=l.components[c],p=$p(u),g=p[1];_P(g,p,g.template,u)}}function NE(l,c,u){const p=c[10];p.begin&&p.begin();try{Cd(l,c,l.template,u)}catch(g){throw FE(c,g),g}finally{p.end&&p.end()}}function GS(l){$S(l[8])}function ug(l,c,u){Lm(0),c(l,u)}const ZS=Ry;function VE(l){return l[7]||(l[7]=[])}function Ed(l){return l.cleanup||(l.cleanup=[])}function Io(l,c,u){return(null===l||Ei(l))&&(u=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(u[c.index])),u[11]}function FE(l,c){const u=l[9],p=u?u.get(ng,null):null;p&&p.handleError(c)}function Cc(l,c,u,p,g){for(let y=0;y<u.length;){const E=u[y++],D=u[y++],x=c[E],R=l.data[E];null!==R.setInput?R.setInput(x,g,p,D):x[D]=g}}function mu(l,c,u){const p=Pl(c,l);sa(l[11],p,u)}function HE(l,c,u){let p=u?l.styles:null,g=u?l.classes:null,y=0;if(null!==c)for(let E=0;E<c.length;E++){const D=c[E];"number"==typeof D?y=D:1==y?g=ei(g,D):2==y&&(p=ei(p,D+": "+c[++E]+";"))}u?l.styles=p:l.stylesWithoutHost=p,u?l.classes=g:l.classesWithoutHost=g}function wM(l){const c=Yk(l);NE(c[1],c,l)}function BE(l){!function(l,c){if(0===l.flags&&l.clean==Ry){let p;l.flags|=1,l.clean=new Promise(g=>p=g),l.scheduler(()=>{if(1&l.flags&&(l.flags&=-2,$S(l)),2&l.flags){l.flags&=-3;const g=l.playerHandler;g&&g.flushPlayers()}l.clean=Ry,p(null)})}}(bc(Yk(l))[8])}const gu=new ir("INJECTOR",-1);class jE{get(c,u=Bp){if(u===Bp){const p=new Error(`NullInjectorError: No provider for ${He(c)}!`);throw p.name="NullInjectorError",p}return u}}const dg=new ir("Set Injector scope."),pg={},DM={};let WE;function JS(){return void 0===WE&&(WE=new jE),WE}function UE(l,c=null,u=null,p){const g=qE(l,c,u,p);return g._resolveInjectorDefTypes(),g}function qE(l,c=null,u=null,p){return new eT(l,u,c||JS(),p)}class eT{constructor(c,u,p,g=null){this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&rh(u,D=>this.processProvider(D,c,u)),rh([c],D=>this.processInjectorType(D,[],y)),this.records.set(gu,sf(void 0,this));const E=this.records.get(dg);this.scope=null!=E?E.value:null,this.source=g||("object"==typeof c?null:He(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,u=Bp,p=Ut.Default){this.assertNotDestroyed();const g=ou(this),y=Gt(void 0);try{if(!(p&Ut.SkipSelf)){let D=this.records.get(c);if(void 0===D){const x=("function"==typeof(l=c)||"object"==typeof l&&l instanceof ir)&&xn(c);D=x&&this.injectableDefInScope(x)?sf(Vy(c),pg):null,this.records.set(c,D)}if(null!=D)return this.hydrate(c,D)}return(p&Ut.Self?JS():this.parent).get(c,u=p&Ut.Optional&&u===Bp?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[jp]=E[jp]||[]).unshift(He(c)),g)throw E;return xk(E,c,"R3InjectorError",this.source)}throw E}finally{Gt(y),ou(g)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((p,g)=>c.push(He(g))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,u,p){if(!(c=st(c)))return!1;let g=In(c);const y=null==g&&c.ngModule||void 0,E=void 0===y?c:y,D=-1!==p.indexOf(E);if(void 0!==y&&(g=In(y)),null==g)return!1;if(null!=g.imports&&!D){let V;p.push(E);try{rh(g.imports,W=>{this.processInjectorType(W,u,p)&&(void 0===V&&(V=[]),V.push(W))})}finally{}if(void 0!==V)for(let W=0;W<V.length;W++){const{ngModule:Y,providers:te}=V[W];rh(te,le=>this.processProvider(le,Y,te||cs))}}this.injectorDefTypes.add(E);const x=Za(E)||(()=>new E);this.records.set(E,sf(x,pg));const R=g.providers;if(null!=R&&!D){const V=c;rh(R,W=>this.processProvider(W,V,R))}return void 0!==y&&void 0!==c.providers}processProvider(c,u,p){let g=Wn(c=st(c))?c:st(c&&c.provide);const y=nr(l=c)?sf(void 0,l.useValue):sf(tT(l),pg);var l;if(Wn(c)||!0!==c.multi)this.records.get(g);else{let E=this.records.get(g);E||(E=sf(void 0,pg,!0),E.factory=()=>pd(E.multi),this.records.set(g,E)),g=c,E.multi.push(c)}this.records.set(g,y)}hydrate(c,u){return u.value===pg&&(u.value=DM,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(l=u.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const u=st(c.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Vy(l){const c=xn(l),u=null!==c?c.factory:Za(l);if(null!==u)return u;if(l instanceof ir)throw new Error(`Token ${He(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const p=dd(c,"?");throw new Error(`Can't resolve all parameters for ${He(l)}: (${p.join(", ")}).`)}const u=function(l){const c=l&&(l[lc]||l[ga]);if(c){const u=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(l);return null!==u?()=>u.factory(l):()=>new l}(l);throw new Error("unreachable")}function tT(l,c,u){let p;if(Wn(l)){const g=st(l);return Za(g)||Vy(g)}if(nr(l))p=()=>st(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))p=()=>l.useFactory(...pd(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))p=()=>mr(st(l.useExisting));else{const g=st(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return Za(g)||Vy(g);p=()=>new g(...pd(l.deps))}return p}function sf(l,c,u=!1){return{factory:l,value:c,multi:u?[]:void 0}}function nr(l){return null!==l&&"object"==typeof l&&JD in l}function Wn(l){return"function"==typeof l}function Dd(l,c,u){return UE({name:u},c,l,u)}const rT=Dd;let Qs=(()=>{class l{static create(u,p){return Array.isArray(u)?rT(u,p,""):rT(u.providers,u.parent,u.name||"")}}return l.THROW_IF_NOT_FOUND=Bp,l.NULL=new jE,l.\u0275prov=Hn({token:l,providedIn:"any",factory:()=>mr(gu)}),l.__NG_ELEMENT_ID__=-1,l})();function jy(l){rf(l);const c=Pa(l);return null===c?null:(void 0===c.component&&(c.component=function(l,c){const u=c[1].data[l];return 2&u.flags?c[u.directiveStart]:null}(c.nodeIndex,c.lView)),c.component)}function GE(l){rf(l);const c=Pa(l);return null===c?null:c.lView[8]}function yu(l){const c=Pa(l);if(null===c)return null;let p,u=c.lView;for(;2===u[1].type&&(p=wE(u));)u=p;return 512&u[2]?null:u[8]}function Wy(l){return[...On(l).components]}function oT(l){const c=Pa(l);return null===c?Qs.NULL:new jm(c.lView[1].data[c.nodeIndex],c.lView)}function bu(l){if(l instanceof Text)return[];const c=Pa(l);if(null===c)return[];const u=c.lView,p=u[1],g=c.nodeIndex;return(null==p?void 0:p.data[g])?(void 0===c.directives&&(c.directives=Ns(g,u,!1)),null===c.directives?[]:[...c.directives]):[]}function HP(l){const{constructor:c}=l;if(!c)throw new Error("Unable to find the instance constructor");const u=kr(c);if(u)return{inputs:u.inputs,outputs:u.outputs,encapsulation:u.encapsulation,changeDetection:u.onPush?bn.OnPush:bn.Default};const p=Ml(c);return p?{inputs:p.inputs,outputs:p.outputs}:null}function QE(l){return Pa(l).native}function cT(l){rf(l);const c=Pa(l);if(null===c)return[];const u=c.lView,g=u[7],y=u[1].cleanup,E=[];if(y&&g)for(let D=0;D<y.length;){const x=y[D++],R=y[D++];if("string"==typeof x){const V=x,W=Pi(u[R]),Y=g[y[D++]],te=y[D++],le="boolean"==typeof te||te>=0?"dom":"output",De="boolean"==typeof te&&te;l==W&&E.push({element:l,name:V,callback:Y,useCapture:De,type:le})}}return E.sort(AM),E}function AM(l,c){return l.name==c.name?0:l.name<c.name?-1:1}function KE(l){return void 0!==l.type&&void 0!==l.template&&void 0!==l.declaredInputs}function rf(l){if("undefined"!=typeof Element&&!(l instanceof Element))throw new Error("Expecting instance of DOM Element")}function Ad(l){BE(l),Wy(l).forEach(c=>wM(c))}let ZE=!1;function hT(){ZE||(ZE=!0,ko("\u0275setProfiler",_),ko("getDirectiveMetadata",HP),ko("getComponent",jy),ko("getContext",GE),ko("getListeners",cT),ko("getOwningComponent",yu),ko("getHostElement",QE),ko("getInjector",oT),ko("getRootComponents",Wy),ko("getDirectives",bu),ko("applyChanges",Ad))}function ko(l,c){if("undefined"==typeof COMPILED||!COMPILED){const u=pn;if(u){let p=u.ng;p||(p=u.ng={}),p[l]=c}}}function UP(l,c={}){const u=c.rendererFactory||Ws,p=c.sanitizer||null,g=kr(l);g.type!=l&&(g.type=l);const y=g.selectors[0][0],D=Ao(u.createRenderer(null,null),c.host||y,g.encapsulation),x=g.onPush?576:528,R=mg(c.scheduler,c.playerHandler),V=u.createRenderer(D,g),W=To(0,null,null,1,0,null,null,null,null,null),Y=Ly(null,W,R,x,null,null,u,V,null,c.injector||null);let te;eh(Y);try{u.begin&&u.begin(),te=Oi(uT(D,g,Y,u,V,p),g,Y,R,c.hostFeatures||null),_y(W,Y,null),Cd(W,Y,null,null)}finally{nu(),u.end&&u.end()}return te}function uT(l,c,u,p,g,y){const E=u[1];u[20]=l;const x=lg(E,20,2,"#host",null),R=x.mergedAttrs=c.hostAttrs;null!==R&&(HE(x,R,!0),null!==l&&(Pm(g,l,R),null!==x.classes&&hi(g,l,x.classes),null!==x.styles&&sM(g,l,x.styles)));const V=p.createRenderer(l,c),W=Ly(u,VS(c),null,c.onPush?64:16,u[20],x,p,V,y||null,null);return E.firstCreatePass&&(Hm(py(x,u),E,c.type),vc(E,x),qS(x,u.length,1)),gr(u,W),u[20]=W}function Oi(l,c,u,p,g){const y=u[1],E=function(l,c,u){const p=er();l.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),_E(l,p,c,cg(l,c,1,null),u));const g=Vl(c,l,p.directiveStart,p);Na(g,c);const y=kn(p,c);return y&&Na(y,c),g}(y,u,c);if(p.components.push(E),l[8]=E,g&&g.forEach(x=>x(E,c)),c.contentQueries){const x=er();c.contentQueries(1,E,x.directiveStart)}const D=er();return!y.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(th(D.index),Ny(u[1],D,0,D.directiveStart,D.directiveEnd,c),CM(c,E)),E}function mg(l,c){return{components:[],scheduler:l||L,clean:ZS,playerHandler:c||null,flags:0}}function Uy(l,c){ru($p(l)[1],er())}function JE(l){return On(l).clean}function e0(l){return Object.getPrototypeOf(l.prototype).constructor}function qy(l){let c=e0(l.type),u=!0;const p=[l];for(;c;){let g;if(Ei(l))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");g=c.\u0275dir}if(g){if(u){p.push(g);const E=l;E.inputs=af(l.inputs),E.declaredInputs=af(l.declaredInputs),E.outputs=af(l.outputs);const D=g.hostBindings;D&&kM(l,D);const x=g.viewQuery,R=g.contentQueries;if(x&&dT(l,x),R&&qP(l,R),lt(l.inputs,g.inputs),lt(l.declaredInputs,g.declaredInputs),lt(l.outputs,g.outputs),Ei(g)&&g.data.animation){const V=l.data;V.animation=(V.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let E=0;E<y.length;E++){const D=y[E];D&&D.ngInherit&&D(l),D===qy&&(u=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,u=null;for(let p=l.length-1;p>=0;p--){const g=l[p];g.hostVars=c+=g.hostVars,g.hostAttrs=hy(g.hostAttrs,u=hy(u,g.hostAttrs))}}(p)}function af(l){return l===cc?{}:l===cs?[]:l}function dT(l,c){const u=l.viewQuery;l.viewQuery=u?(p,g)=>{c(p,g),u(p,g)}:c}function qP(l,c){const u=l.contentQueries;l.contentQueries=u?(p,g,y)=>{c(p,g,y),u(p,g,y)}:c}function kM(l,c){const u=l.hostBindings;l.hostBindings=u?(p,g)=>{c(p,g),u(p,g)}:c}const zP=["providersResolver"],mh=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function MM(l){let u,c=e0(l.type);u=Ei(l)?c.\u0275cmp:c.\u0275dir;const p=l;for(const g of zP)p[g]=u[g];if(Ei(u))for(const g of mh)p[g]=u[g]}let Mo=null;function gg(){if(!Mo){const l=pn.Symbol;if(l&&l.iterator)Mo=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const p=c[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(Mo=p)}}}return Mo}function pT(l,c){const u=vg(l),p=vg(c);return u&&p?function(l,c,u){const p=l[gg()](),g=c[gg()]();for(;;){const y=p.next(),E=g.next();if(y.done&&E.done)return!0;if(y.done||E.done||!u(y.value,E.value))return!1}}(l,c,pT):!(u||!l||"object"!=typeof l&&"function"!=typeof l||p||!c||"object"!=typeof c&&"function"!=typeof c)||Object.is(l,c)}class Bl{constructor(c){this.wrapped=c}static wrap(c){return new Bl(c)}static unwrap(c){return Bl.isWrapped(c)?c.wrapped:c}static isWrapped(c){return c instanceof Bl}}function vg(l){return!!fT(l)&&(Array.isArray(l)||!(l instanceof Map)&&gg()in l)}function fT(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ec(l,c,u){return l[c]=u}function of(l,c){return l[c]}function Ea(l,c,u){return!Object.is(l[c],u)&&(l[c]=u,!0)}function xd(l,c,u,p){const g=Ea(l,c,u);return Ea(l,c+1,p)||g}function zy(l,c,u,p,g){const y=xd(l,c,u,p);return Ea(l,c+2,g)||y}function Oo(l,c,u,p,g,y){const E=xd(l,c,u,p);return xd(l,c+2,g,y)||E}function yg(l,c,u,p){const g=Ke();return Ea(g,su(),c)&&(Di(),yc(Mn(),g,l,c,u,p)),yg}function lf(l,c){let u=!1,p=sl();for(let y=1;y<c.length;y+=2)u=Ea(l,p++,c[y])||u;if(Rp(p),!u)return rt;let g=c[0];for(let y=1;y<c.length;y+=2)g+=ti(c[y])+c[y+1];return g}function bg(l,c,u,p){return Ea(l,su(),u)?c+ti(u)+p:rt}function Id(l,c,u,p,g,y){const D=xd(l,sl(),u,g);return _a(2),D?c+ti(u)+p+ti(g)+y:rt}function Cg(l,c,u,p,g,y,E,D){const R=zy(l,sl(),u,g,E);return _a(3),R?c+ti(u)+p+ti(g)+y+ti(E)+D:rt}function Eg(l,c,u,p,g,y,E,D,x,R){const W=Oo(l,sl(),u,g,E,x);return _a(4),W?c+ti(u)+p+ti(g)+y+ti(E)+D+ti(x)+R:rt}function wg(l,c,u,p,g,y,E,D,x,R,V,W){const Y=sl();let te=Oo(l,Y,u,g,E,x);return te=Ea(l,Y+4,V)||te,_a(5),te?c+ti(u)+p+ti(g)+y+ti(E)+D+ti(x)+R+ti(V)+W:rt}function Si(l,c,u,p,g,y,E,D,x,R,V,W,Y,te){const le=sl();let De=Oo(l,le,u,g,E,x);return De=xd(l,le+4,V,Y)||De,_a(6),De?c+ti(u)+p+ti(g)+y+ti(E)+D+ti(x)+R+ti(V)+W+ti(Y)+te:rt}function cf(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De){const ie=sl();let Je=Oo(l,ie,u,g,E,x);return Je=zy(l,ie+4,V,Y,le)||Je,_a(7),Je?c+ti(u)+p+ti(g)+y+ti(E)+D+ti(x)+R+ti(V)+W+ti(Y)+te+ti(le)+De:rt}function ds(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je){const je=sl();let Nt=Oo(l,je,u,g,E,x);return Nt=Oo(l,je+4,V,Y,le,ie)||Nt,_a(8),Nt?c+ti(u)+p+ti(g)+y+ti(E)+D+ti(x)+R+ti(V)+W+ti(Y)+te+ti(le)+De+ti(ie)+Je:rt}function mT(l,c,u,p,g,y){const E=Ke(),D=bg(E,c,u,p);return D!==rt&&yc(Mn(),E,l,D,g,y),mT}function gT(l,c,u,p,g,y,E,D){const x=Ke(),R=Id(x,c,u,p,g,y);return R!==rt&&yc(Mn(),x,l,R,E,D),gT}function vT(l,c,u,p,g,y,E,D,x,R){const V=Ke(),W=Cg(V,c,u,p,g,y,E,D);return W!==rt&&yc(Mn(),V,l,W,x,R),vT}function yT(l,c,u,p,g,y,E,D,x,R,V,W){const Y=Ke(),te=Eg(Y,c,u,p,g,y,E,D,x,R);return te!==rt&&yc(Mn(),Y,l,te,V,W),yT}function bT(l,c,u,p,g,y,E,D,x,R,V,W,Y,te){const le=Ke(),De=wg(le,c,u,p,g,y,E,D,x,R,V,W);return De!==rt&&yc(Mn(),le,l,De,Y,te),bT}function kd(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De){const ie=Ke(),Je=Si(ie,c,u,p,g,y,E,D,x,R,V,W,Y,te);return Je!==rt&&yc(Mn(),ie,l,Je,le,De),kd}function Yy(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je){const je=Ke(),Nt=cf(je,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De);return Nt!==rt&&yc(Mn(),je,l,Nt,ie,Je),Yy}function i0(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je,je,Nt){const pi=Ke(),ss=ds(pi,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je);return ss!==rt&&yc(Mn(),pi,l,ss,je,Nt),i0}function CT(l,c,u,p){const g=Ke(),y=lf(g,c);return y!==rt&&yc(Mn(),g,l,y,u,p),CT}function RM(l,c,u,p,g,y,E,D){const x=Ke(),R=Di(),V=l+20,W=R.firstCreatePass?function(l,c,u,p,g,y,E,D,x){const R=c.consts,V=lg(c,l,4,E||null,Kc(R,D));Py(c,u,V,Kc(R,x)),ru(c,V);const W=V.tViews=To(2,V,p,g,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,R);return null!==c.queries&&(c.queries.template(c,V),W.queries=c.queries.embeddedTView(V)),V}(V,R,x,c,u,p,g,y,E):R.data[V];Us(W,!1);const Y=x[11].createComment("");cu(R,x,Y,W),Na(Y,x),gr(x,x[V]=PP(Y,x,Y,W)),tu(W)&&OE(R,x,W),null!=E&&Jp(x,W,D)}function s0(l,c,u,p){u>=l.data.length&&(l.data[u]=null,l.blueprint[u]=null),c[u]=p}function ET(l){return pc(di.lFrame.contextLView,20+l)}const Dg={\u0275\u0275defineInjectable:Hn,\u0275\u0275defineInjector:Ii,\u0275\u0275inject:mr,\u0275\u0275invalidFactoryDep:eS,resolveForwardRef:st},$y=Ye({provide:String,useValue:Ye});function n0(l){return void 0!==l.useClass}function r0(l){return void 0!==l.useFactory}const gs=Wm("Injectable",void 0,void 0,void 0,(l,c)=>GP(l,c)),FM=function(l,c){let u=null,p=null;l.hasOwnProperty(lc)||Object.defineProperty(l,lc,{get:()=>(null===u&&(u=$r().compileInjectable(Dg,`ng:///${l.name}/\u0275prov.js`,function(l,c){const u=c||{providedIn:null},p={name:l.name,type:l,typeArgumentCount:0,providedIn:u.providedIn};return(n0(u)||r0(u))&&void 0!==u.deps&&(p.deps=md(u.deps)),n0(u)?p.useClass=u.useClass:function(l){return $y in l}(u)?p.useValue=u.useValue:r0(u)?p.useFactory=u.useFactory:function(l){return void 0!==l.useExisting}(u)&&(p.useExisting=u.useExisting),p}(l,c))),u)}),l.hasOwnProperty(el)||Object.defineProperty(l,el,{get:()=>{if(null===p){const g=$r();p=g.compileFactory(Dg,`ng:///${l.name}/\u0275fac.js`,{name:l.name,type:l,typeArgumentCount:0,deps:fd(l),target:g.FactoryTarget.Injectable})}return p},configurable:!0})},GP=FM;function ST(l){return l.length>1?" ("+function(l){const c=[];for(let u=0;u<l.length;++u){if(c.indexOf(l[u])>-1)return c.push(l[u]),c;c.push(l[u])}return c}(l.slice().reverse()).map(p=>He(p.token)).join(" -> ")+")":""}function hf(l,c,u,p){const g=[c],y=u(g),E=p?function(l,c){const u=`${l} caused by: ${c instanceof Error?c.message:c}`,p=Error(u);return p[sg]=c,p}(y,p):Error(y);return E.addKey=Gy,E.keys=g,E.injectors=[l],E.constructResolvingMessage=u,E[sg]=p,E}function Gy(l,c){this.injectors.push(l),this.keys.push(c),this.message=this.constructResolvingMessage(this.keys)}function TT(l,c){const u=[];for(let p=0,g=c.length;p<g;p++){const y=c[p];u.push(y&&0!=y.length?y.map(He).join(" "):"?")}return Error("Cannot resolve all parameters for '"+He(l)+"'("+u.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+He(l)+"' is decorated with Injectable.")}function UM(l,c){return Error(`Cannot mix multi providers and regular providers, got: ${l} ${c}`)}class jl{constructor(c,u){if(this.token=c,this.id=u,!c)throw new Error("Token must be defined!");this.displayName=He(this.token)}static get(c){return Qy.get(st(c))}static get numberOfKeys(){return Qy.numberOfKeys}}class AT{constructor(){this._allKeys=new Map}get(c){if(c instanceof jl)return c;if(this._allKeys.has(c))return this._allKeys.get(c);const u=new jl(c,jl.numberOfKeys);return this._allKeys.set(c,u),u}get numberOfKeys(){return this._allKeys.size}}const Qy=new AT;class XP{constructor(c){this.reflectionCapabilities=c}updateCapabilities(c){this.reflectionCapabilities=c}factory(c){return this.reflectionCapabilities.factory(c)}parameters(c){return this.reflectionCapabilities.parameters(c)}annotations(c){return this.reflectionCapabilities.annotations(c)}propMetadata(c){return this.reflectionCapabilities.propMetadata(c)}hasLifecycleHook(c,u){return this.reflectionCapabilities.hasLifecycleHook(c,u)}getter(c){return this.reflectionCapabilities.getter(c)}setter(c){return this.reflectionCapabilities.setter(c)}method(c){return this.reflectionCapabilities.method(c)}importUri(c){return this.reflectionCapabilities.importUri(c)}resourceUri(c){return this.reflectionCapabilities.resourceUri(c)}resolveIdentifier(c,u,p,g){return this.reflectionCapabilities.resolveIdentifier(c,u,p,g)}resolveEnum(c,u){return this.reflectionCapabilities.resolveEnum(c,u)}}const qM=new XP(new Ym);class Md{constructor(c,u,p){this.key=c,this.optional=u,this.visibility=p}static fromKey(c){return new Md(c,!1,null)}}const l0=[];class c0{constructor(c,u,p){this.key=c,this.resolvedFactories=u,this.multiProvider=p,this.resolvedFactory=this.resolvedFactories[0]}}class ZP{constructor(c,u){this.factory=c,this.dependencies=u}}function wc(l){let c,u;if(l.useClass){const p=st(l.useClass);c=qM.factory(p),u=$M(p)}else l.useExisting?(c=p=>p,u=[Md.fromKey(jl.get(l.useExisting))]):l.useFactory?(c=l.useFactory,u=function(l,c){if(c){const u=c.map(p=>[p]);return c.map(p=>GM(l,p,u))}return $M(l)}(l.useFactory,l.deps)):(c=()=>l.useValue,u=l0);return new ZP(c,u)}function JP(l){return new c0(jl.get(l.provide),[wc(l)],l.multi||!1)}function zM(l){const p=function(l,c){for(let u=0;u<l.length;u++){const p=l[u],g=c.get(p.key.id);if(g){if(p.multiProvider!==g.multiProvider)throw UM(g,p);if(p.multiProvider)for(let y=0;y<p.resolvedFactories.length;y++)g.resolvedFactories.push(p.resolvedFactories[y]);else c.set(p.key.id,p)}else{let y;y=p.multiProvider?new c0(p.key,p.resolvedFactories.slice(),p.multiProvider):p,c.set(p.key.id,y)}}return c}(YM(l,[]).map(JP),new Map);return Array.from(p.values())}function YM(l,c){return l.forEach(u=>{if(u instanceof hE)c.push({provide:u,useClass:u});else if(u&&"object"==typeof u&&void 0!==u.provide)c.push(u);else{if(!Array.isArray(u))throw function(l){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${l}`)}(u);YM(u,c)}}),c}function $M(l){const c=qM.parameters(l);if(!c)return[];if(c.some(u=>null==u))throw TT(l,c);return c.map(u=>GM(l,u,c))}function GM(l,c,u){let p=null,g=!1;if(!Array.isArray(c))return xT(c instanceof Qm?c.token:c,g,null);let y=null;for(let E=0;E<c.length;++E){const D=c[E];D instanceof hE?p=D:D instanceof Qm?p=D.token:D instanceof oh?g=!0:D instanceof Km||D instanceof lu?y=D:D instanceof ir&&(p=D)}if(p=st(p),null!=p)return xT(p,g,y);throw TT(l,u)}function xT(l,c,u){return new Md(jl.get(l),c,u)}const Ky={};class uf{static resolve(c){return zM(c)}static resolveAndCreate(c,u){const p=uf.resolve(c);return uf.fromResolvedProviders(p,u)}static fromResolvedProviders(c,u){return new QM(c,u)}}let QM=(()=>{class l{constructor(u,p){this._constructionCounter=0,this._providers=u,this.parent=p||null;const g=u.length;this.keyIds=[],this.objs=[];for(let y=0;y<g;y++)this.keyIds[y]=u[y].key.id,this.objs[y]=Ky}get(u,p=Bp){return this._getByKey(jl.get(u),null,p)}resolveAndCreateChild(u){const p=uf.resolve(u);return this.createChildFromResolved(p)}createChildFromResolved(u){const p=new l(u);return p.parent=this,p}resolveAndInstantiate(u){return this.instantiateResolved(uf.resolve([u])[0])}instantiateResolved(u){return this._instantiateProvider(u)}getProviderAtIndex(u){if(u<0||u>=this._providers.length)throw function(l){return Error(`Index ${l} is out-of-bounds.`)}(u);return this._providers[u]}_new(u){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(l,c){return hf(l,c,function(u){return`Cannot instantiate cyclic dependency!${ST(u)}`})}(this,u.key);return this._instantiateProvider(u)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(u){if(u.multiProvider){const p=[];for(let g=0;g<u.resolvedFactories.length;++g)p[g]=this._instantiate(u,u.resolvedFactories[g]);return p}return this._instantiate(u,u.resolvedFactories[0])}_instantiate(u,p){const g=p.factory;let y,E;try{y=p.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,u.key),D}try{E=g(...y)}catch(D){throw function(l,c,u,p){return hf(l,p,function(g){const y=He(g[0].token);return`${c.message}: Error during instantiation of ${y}!${ST(g)}.`},c)}(this,D,0,u.key)}return E}_getByReflectiveDependency(u){return this._getByKey(u.key,u.visibility,u.optional?null:Bp)}_getByKey(u,p,g){return u===l.INJECTOR_KEY?this:p instanceof Km?this._getByKeySelf(u,g):this._getByKeyDefault(u,g,p)}_getObjByKeyId(u){for(let p=0;p<this.keyIds.length;p++)if(this.keyIds[p]===u)return this.objs[p]===Ky&&(this.objs[p]=this._new(this._providers[p])),this.objs[p];return Ky}_throwOrNull(u,p){if(p!==Bp)return p;throw function(l,c){return hf(l,c,function(u){return`No provider for ${He(u[0].token)}!${ST(u)}`})}(this,u)}_getByKeySelf(u,p){const g=this._getObjByKeyId(u.id);return g!==Ky?g:this._throwOrNull(u,p)}_getByKeyDefault(u,p,g){let y;for(y=g instanceof lu?this.parent:this;y instanceof l;){const E=y,D=E._getObjByKeyId(u.id);if(D!==Ky)return D;y=E.parent}return null!==y?y.get(u.token,p):this._throwOrNull(u,p)}get displayName(){return`ReflectiveInjector(providers: [${function(l,c){const u=[];for(let p=0;p<l._providers.length;++p)u[p]=c(l.getProviderAtIndex(p));return u}(this,p=>' "'+p.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return l.INJECTOR_KEY=jl.get(Qs),l})();function Xy(l,c=Ut.Default){const u=Ke();return null===u?mr(l,c):pk(er(),u,st(l),c)}function KM(){throw new Error("invalid")}function IT(l,c,u){const p=Ke();return Ea(p,su(),c)&&Fa(Di(),Mn(),p,l,c,p[11],u,!1),IT}function kT(l,c,u,p,g){const E=g?"class":"style";Cc(l,u,c.inputs[E],E,p)}function MT(l,c,u,p){const g=Ke(),y=Di(),E=20+l,D=g[11],x=g[E]=ag(D,c,di.lFrame.currentNamespace),R=y.firstCreatePass?function(l,c,u,p,g,y,E){const D=c.consts,R=lg(c,l,2,g,Kc(D,y));return Py(c,u,R,Kc(D,E)),null!==R.attrs&&HE(R,R.attrs,!1),null!==R.mergedAttrs&&HE(R,R.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,R),R}(E,y,g,0,c,u,p):y.data[E];Us(R,!0);const V=R.mergedAttrs;null!==V&&Pm(D,x,V);const W=R.classes;null!==W&&hi(D,x,W);const Y=R.styles;null!==Y&&sM(D,x,Y),64!=(64&R.flags)&&cu(y,g,x,R),0===di.lFrame.elementDepthCount&&Na(x,g),di.lFrame.elementDepthCount++,tu(R)&&(OE(y,g,R),fM(y,R,g)),null!==p&&Jp(g,R)}function Cu(){let l=er();wo()?ny():(l=l.parent,Us(l,!1));const c=l;di.lFrame.elementDepthCount--;const u=Di();u.firstCreatePass&&(ru(u,l),wp(l)&&u.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&kT(u,c,Ke(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&kT(u,c,Ke(),c.stylesWithoutHost,!1)}function h0(l,c,u,p){MT(l,c,u,p),Cu()}function u0(l,c,u){const p=Ke(),g=Di(),y=l+20,E=g.firstCreatePass?function(l,c,u,p,g){const y=c.consts,E=Kc(y,p),D=lg(c,l,8,"ng-container",E);return null!==E&&HE(D,E,!0),Py(c,u,D,Kc(y,g)),null!==c.queries&&c.queries.elementStart(c,D),D}(y,g,p,c,u):g.data[y];Us(E,!0);const D=p[y]=p[11].createComment("");cu(g,p,D,E),Na(D,p),tu(E)&&(OE(g,p,E),fM(g,E,p)),null!=u&&Jp(p,E)}function OT(){let l=er();const c=Di();wo()?ny():(l=l.parent,Us(l,!1)),c.firstCreatePass&&(ru(c,l),wp(l)&&c.queries.elementEnd(l))}function d0(l,c,u){u0(l,c,u),OT()}function ZM(){return Ke()}function RT(l){return!!l&&"function"==typeof l.then}function LT(l){return!!l&&"function"==typeof l.subscribe}const p0=LT;function _T(l,c,u,p){const g=Ke(),y=Di(),E=er();return JM(y,g,g[11],E,l,c,!!u,p),_T}function Zy(l,c){const u=er(),p=Ke(),g=Di();return JM(g,p,Io(ay(g.data),u,p),u,l,c,!1),Zy}function JM(l,c,u,p,g,y,E,D){const x=tu(p),V=l.firstCreatePass&&Ed(l),W=c[8],Y=VE(c);let te=!0;if(3&p.type||D){const ie=kn(p,c),Je=D?D(ie):ie,je=Y.length,Nt=D?pi=>D(Pi(pi[p.index])):p.index;if(Qt(u)){let pi=null;if(!D&&x&&(pi=function(l,c,u,p){const g=l.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const E=g[y];if(E===u&&g[y+1]===p){const D=c[7],x=g[y+2];return D.length>x?D[x]:null}"string"==typeof E&&(y+=2)}return null}(l,c,g,p.index)),null!==pi)(pi.__ngLastListenerFn__||pi).__ngNextListenerFn__=y,pi.__ngLastListenerFn__=y,te=!1;else{y=so(p,c,W,y,!1);const ss=u.listen(Je,g,y);Y.push(y,ss),V&&V.push(g,Nt,je,je+1)}}else y=so(p,c,W,y,!0),Je.addEventListener(g,y,E),Y.push(y),V&&V.push(g,Nt,je,E)}else y=so(p,c,W,y,!1);const le=p.outputs;let De;if(te&&null!==le&&(De=le[g])){const ie=De.length;if(ie)for(let Je=0;Je<ie;Je+=2){const Ai=c[De[Je]][De[Je+1]].subscribe(y),ec=Y.length;Y.push(y,Ai),V&&V.push(g,p.index,ec,-(ec+1))}}}function eO(l,c,u,p){try{return B(6,c,u),!1!==u(p)}catch(g){return FE(l,g),!1}finally{B(7,c,u)}}function so(l,c,u,p,g){return function y(E){if(E===Function)return p;const D=2&l.flags?qr(l.index,c):c;0==(32&c[2])&&bc(D);let x=eO(c,u,p,E),R=y.__ngNextListenerFn__;for(;R;)x=eO(c,u,R,E)&&x,R=R.__ngNextListenerFn__;return g&&!1===x&&(E.preventDefault(),E.returnValue=!1),x}}function NT(l=1){return ly(l)}function no(l,c){let u=null;const p=function(l){const c=l.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(l);for(let g=0;g<c.length;g++){const y=c[g];if("*"!==y){if(null===p?aM(l,y,!0):og(p,y))return g}else u=g}return u}function tO(l){const c=Ke()[16][6];if(!c.projection){const p=c.projection=dd(l?l.length:1,null),g=p.slice();let y=c.child;for(;null!==y;){const E=l?no(y,l):0;null!==E&&(g[E]?g[E].projectionNext=y:p[E]=y,g[E]=y),y=y.next}}}function iO(l,c=0,u){const p=Ke(),g=Di(),y=lg(g,20+l,16,null,u||null);null===y.projection&&(y.projection=c),ny(),64!=(64&y.flags)&&function(l,c,u){mc(c[11],0,c,u,wS(l,u,c),Kp(u.parent||c[6],u,c))}(g,p,y)}function VT(l,c,u){return kt(l,"",c,"",u),VT}function kt(l,c,u,p,g){const y=Ke(),E=bg(y,c,u,p);return E!==rt&&Fa(Di(),Mn(),y,l,E,y[11],g,!1),kt}function Ni(l,c,u,p,g,y,E){const D=Ke(),x=Id(D,c,u,p,g,y);return x!==rt&&Fa(Di(),Mn(),D,l,x,D[11],E,!1),Ni}function f0(l,c,u,p,g,y,E,D,x){const R=Ke(),V=Cg(R,c,u,p,g,y,E,D);return V!==rt&&Fa(Di(),Mn(),R,l,V,R[11],x,!1),f0}function _e(l,c,u,p,g,y,E,D,x,R,V){const W=Ke(),Y=Eg(W,c,u,p,g,y,E,D,x,R);return Y!==rt&&Fa(Di(),Mn(),W,l,Y,W[11],V,!1),_e}function FT(l,c,u,p,g,y,E,D,x,R,V,W,Y){const te=Ke(),le=wg(te,c,u,p,g,y,E,D,x,R,V,W);return le!==rt&&Fa(Di(),Mn(),te,l,le,te[11],Y,!1),FT}function Sg(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le){const De=Ke(),ie=Si(De,c,u,p,g,y,E,D,x,R,V,W,Y,te);return ie!==rt&&Fa(Di(),Mn(),De,l,ie,De[11],le,!1),Sg}function Jy(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie){const Je=Ke(),je=cf(Je,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De);return je!==rt&&Fa(Di(),Mn(),Je,l,je,Je[11],ie,!1),Jy}function Od(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je,je){const Nt=Ke(),pi=ds(Nt,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je);return pi!==rt&&Fa(Di(),Mn(),Nt,l,pi,Nt[11],je,!1),Od}function Dc(l,c,u){const p=Ke(),g=lf(p,c);return g!==rt&&Fa(Di(),Mn(),p,l,g,p[11],u,!1),Dc}function sO(l,c,u,p,g){const y=l[u+1],E=null===c;let D=p?gc(y):uu(y),x=!1;for(;0!==D&&(!1===x||E);){const V=l[D+1];rN(l[D],c)&&(x=!0,l[D+1]=p?OS(V):IS(V)),D=p?gc(V):uu(V)}x&&(l[u+1]=p?IS(y):OS(y))}function rN(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&zm(l,c)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nO(l){return l.substring(oa.key,oa.keyEnd)}function ot(l){return l.substring(oa.value,oa.valueEnd)}function Lt(l,c){const u=oa.textEnd;return u===c?-1:(c=oa.keyEnd=function(l,c,u){for(;c<u&&l.charCodeAt(c)>32;)c++;return c}(l,oa.key=c,u),tb(l,c,u))}function Ag(l,c){const u=oa.textEnd;let p=oa.key=tb(l,c,u);return u===p?-1:(p=oa.keyEnd=function(l,c,u){let p;for(;c<u&&(45===(p=l.charCodeAt(c))||95===p||(-33&p)>=65&&(-33&p)<=90||p>=48&&p<=57);)c++;return c}(l,p,u),p=ii(l,p,u),p=oa.value=tb(l,p,u),p=oa.valueEnd=function(l,c,u){let p=-1,g=-1,y=-1,E=c,D=E;for(;E<u;){const x=l.charCodeAt(E++);if(59===x)return D;34===x||39===x?D=E=aN(l,x,E,u):c===E-4&&85===y&&82===g&&76===p&&40===x?D=E=aN(l,41,E,u):x>32&&(D=E),y=g,g=p,p=-33&x}return D}(l,p,u),ii(l,p,u))}function eb(l){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=l.length}function tb(l,c,u){for(;c<u&&l.charCodeAt(c)<=32;)c++;return c}function ii(l,c,u,p){return(c=tb(l,c,u))<u&&c++,c}function aN(l,c,u,p){let g=-1,y=u;for(;y<p;){const E=l.charCodeAt(y++);if(E==c&&92!==g)return y;g=92==E&&92===g?0:E}throw new Error}function rO(l,c,u){return vr(l,c,u,!1),rO}function aO(l,c){return vr(l,c,null,!0),aO}function gh(l){hl(wu,oO,l,!1)}function oO(l,c){for(let u=function(l){return eb(l),Ag(l,tb(l,0,oa.textEnd))}(c);u>=0;u=Ag(c,u))wu(l,nO(c),ot(c))}function lO(l){hl(rl,Eu,l,!0)}function Eu(l,c){for(let u=function(l){return eb(l),Lt(l,tb(l,0,oa.textEnd))}(c);u>=0;u=Lt(c,u))rl(l,nO(c),!0)}function vr(l,c,u,p){const g=Ke(),y=Di(),E=_a(2);y.firstUpdatePass&&ib(y,l,E,p),c!==rt&&Ea(g,E,c)&&la(y,y.data[ba()],g,g[11],l,g[E+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=He(gd(l)))),l}(c,u),p,E)}function hl(l,c,u,p){const g=Di(),y=_a(2);g.firstUpdatePass&&ib(g,null,y,p);const E=Ke();if(u!==rt&&Ea(E,y,u)){const D=g.data[ba()];if(rb(D,p)&&!Ro(g,y)){let x=p?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(u=ei(x,u||"")),kT(g,D,E,u,p)}else!function(l,c,u,p,g,y,E,D){g===rt&&(g=cs);let x=0,R=0,V=0<g.length?g[0]:null,W=0<y.length?y[0]:null;for(;null!==V||null!==W;){const Y=x<g.length?g[x+1]:void 0,te=R<y.length?y[R+1]:void 0;let De,le=null;V===W?(x+=2,R+=2,Y!==te&&(le=W,De=te)):null===W||null!==V&&V<W?(x+=2,le=V):(R+=2,le=W,De=te),null!==le&&la(l,c,u,p,le,De,E,D),V=x<g.length?g[x]:null,W=R<y.length?y[R]:null}}(g,D,E,E[11],E[y+1],E[y+1]=function(l,c,u){if(null==u||""===u)return cs;const p=[],g=gd(u);if(Array.isArray(g))for(let y=0;y<g.length;y++)l(p,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&l(p,y,g[y]);else"string"==typeof g&&c(p,g);return p}(l,c,u),p,y)}}function Ro(l,c){return c>=l.expandoStartIndex}function ib(l,c,u,p){const g=l.data;if(null===g[u+1]){const y=g[ba()],E=Ro(l,u);rb(y,p)&&null===c&&!E&&(c=!1),c=function(l,c,u,p){const g=ay(l);let y=p?c.residualClasses:c.residualStyles;if(null===g)0===(p?c.classBindings:c.styleBindings)&&(u=df(u=HT(null,l,c,u,p),c.attrs,p),y=null);else{const E=c.directiveStylingLast;if(-1===E||l[E]!==g)if(u=HT(g,l,c,u,p),null===y){let x=function(l,c,u){const p=u?c.classBindings:c.styleBindings;if(0!==uu(p))return l[gc(p)]}(l,c,p);void 0!==x&&Array.isArray(x)&&(x=HT(null,l,c,x[1],p),x=df(x,c.attrs,p),function(l,c,u,p){l[gc(u?c.classBindings:c.styleBindings)]=p}(l,c,p,x))}else y=function(l,c,u){let p;const g=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<g;y++)p=df(p,l[y].hostAttrs,u);return df(p,c.attrs,u)}(l,c,p)}return void 0!==y&&(p?c.residualClasses=y:c.residualStyles=y),u}(g,y,c,p),function(l,c,u,p,g,y){let E=y?c.classBindings:c.styleBindings,D=gc(E),x=uu(E);l[p]=u;let V,R=!1;if(Array.isArray(u)){const W=u;V=W[1],(null===V||zm(W,V)>0)&&(R=!0)}else V=u;if(g)if(0!==x){const Y=gc(l[D+1]);l[p+1]=Iy(Y,D),0!==Y&&(l[Y+1]=kS(l[Y+1],p)),l[D+1]=function(l,c){return 131071&l|c<<17}(l[D+1],p)}else l[p+1]=Iy(D,0),0!==D&&(l[D+1]=kS(l[D+1],p)),D=p;else l[p+1]=Iy(x,0),0===D?D=p:l[x+1]=kS(l[x+1],p),x=p;R&&(l[p+1]=IS(l[p+1])),sO(l,V,p,!0),sO(l,V,p,!1),function(l,c,u,p,g){const y=g?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof c&&zm(y,c)>=0&&(u[p+1]=OS(u[p+1]))}(c,V,l,p,y),E=Iy(D,x),y?c.classBindings=E:c.styleBindings=E}(g,y,c,u,E,p)}}function HT(l,c,u,p,g){let y=null;const E=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<E&&(y=c[D],p=df(p,y.hostAttrs,g),y!==l);)D++;return null!==l&&(u.directiveStylingLast=D),p}function df(l,c,u){const p=u?1:2;let g=-1;if(null!==c)for(let y=0;y<c.length;y++){const E=c[y];"number"==typeof E?g=E:g===p&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),rl(l,E,!!u||c[++y]))}return void 0===l?null:l}function wu(l,c,u){rl(l,c,gd(u))}function la(l,c,u,p,g,y,E,D){if(!(3&c.type))return;const x=l.data,R=x[D+1];Ig(function(l){return 1==(1&l)}(R)?nb(x,c,u,g,uu(R),E):void 0)||(Ig(y)||function(l){return 2==(2&l)}(R)&&(y=nb(x,null,u,g,D,E)),function(l,c,u,p,g){const y=Qt(l);if(c)g?y?l.addClass(u,p):u.classList.add(p):y?l.removeClass(u,p):u.classList.remove(p);else{let E=-1===p.indexOf("-")?void 0:J.DashCase;if(null==g)y?l.removeStyle(u,p,E):u.style.removeProperty(p);else{const D="string"==typeof g&&g.endsWith("!important");D&&(g=g.slice(0,-10),E|=J.Important),y?l.setStyle(u,p,g,E):u.style.setProperty(p,g,D?"important":"")}}}(p,E,Pl(ba(),u),g,y))}function nb(l,c,u,p,g,y){const E=null===c;let D;for(;g>0;){const x=l[g],R=Array.isArray(x),V=R?x[1]:x,W=null===V;let Y=u[g+1];Y===rt&&(Y=W?cs:void 0);let te=W?KD(Y,p):V===p?Y:void 0;if(R&&!Ig(te)&&(te=KD(x,p)),Ig(te)&&(D=te,E))return D;const le=l[g+1];g=E?gc(le):uu(le)}if(null!==c){let x=y?c.residualClasses:c.residualStyles;null!=x&&(D=KD(x,p))}return D}function Ig(l){return void 0!==l}function rb(l,c){return 0!=(l.flags&(c?16:32))}function lN(l,c=""){const u=Ke(),p=Di(),g=l+20,y=p.firstCreatePass?lg(p,g,1,c,null):p.data[g],E=u[g]=al(u[11],c);cu(p,u,E,y),Us(y,!1)}function gn(l){return kg("",l,""),gn}function kg(l,c,u){const p=Ke(),g=bg(p,l,c,u);return g!==rt&&mu(p,ba(),g),kg}function m0(l,c,u,p,g){const y=Ke(),E=Id(y,l,c,u,p,g);return E!==rt&&mu(y,ba(),E),m0}function pf(l,c,u,p,g,y,E){const D=Ke(),x=Cg(D,l,c,u,p,g,y,E);return x!==rt&&mu(D,ba(),x),pf}function Du(l,c,u,p,g,y,E,D,x){const R=Ke(),V=Eg(R,l,c,u,p,g,y,E,D,x);return V!==rt&&mu(R,ba(),V),Du}function Mg(l,c,u,p,g,y,E,D,x,R,V){const W=Ke(),Y=wg(W,l,c,u,p,g,y,E,D,x,R,V);return Y!==rt&&mu(W,ba(),Y),Mg}function Og(l,c,u,p,g,y,E,D,x,R,V,W,Y){const te=Ke(),le=Si(te,l,c,u,p,g,y,E,D,x,R,V,W,Y);return le!==rt&&mu(te,ba(),le),Og}function yr(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le){const De=Ke(),ie=cf(De,l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le);return ie!==rt&&mu(De,ba(),ie),yr}function ct(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie){const Je=Ke(),je=ds(Je,l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie);return je!==rt&&mu(Je,ba(),je),ct}function me(l){const c=Ke(),u=lf(c,l);return u!==rt&&mu(c,ba(),u),me}function rn(l,c,u){hl(rl,Eu,bg(Ke(),l,c,u),!0)}function hO(l,c,u,p,g){hl(rl,Eu,Id(Ke(),l,c,u,p,g),!0)}function g0(l,c,u,p,g,y,E){hl(rl,Eu,Cg(Ke(),l,c,u,p,g,y,E),!0)}function v0(l,c,u,p,g,y,E,D,x){hl(rl,Eu,Eg(Ke(),l,c,u,p,g,y,E,D,x),!0)}function uO(l,c,u,p,g,y,E,D,x,R,V){hl(rl,Eu,wg(Ke(),l,c,u,p,g,y,E,D,x,R,V),!0)}function y0(l,c,u,p,g,y,E,D,x,R,V,W,Y){hl(rl,Eu,Si(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y),!0)}function ff(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le){hl(rl,Eu,cf(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le),!0)}function Rg(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie){hl(rl,Eu,ds(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie),!0)}function dO(l){hl(rl,Eu,lf(Ke(),l),!0)}function pO(l,c,u){gh(bg(Ke(),l,c,u))}function fO(l,c,u,p,g){gh(Id(Ke(),l,c,u,p,g))}function mO(l,c,u,p,g,y,E){gh(Cg(Ke(),l,c,u,p,g,y,E))}function BT(l,c,u,p,g,y,E,D,x){gh(Eg(Ke(),l,c,u,p,g,y,E,D,x))}function gO(l,c,u,p,g,y,E,D,x,R,V){gh(wg(Ke(),l,c,u,p,g,y,E,D,x,R,V))}function jT(l,c,u,p,g,y,E,D,x,R,V,W,Y){gh(Si(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y))}function mf(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le){gh(cf(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le))}function ab(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie){gh(ds(Ke(),l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie))}function vO(l){gh(lf(Ke(),l))}function WT(l,c,u,p,g){return vr(l,bg(Ke(),c,u,p),g,!1),WT}function b0(l,c,u,p,g,y,E){return vr(l,Id(Ke(),c,u,p,g,y),E,!1),b0}function Lg(l,c,u,p,g,y,E,D,x){return vr(l,Cg(Ke(),c,u,p,g,y,E,D),x,!1),Lg}function UT(l,c,u,p,g,y,E,D,x,R,V){return vr(l,Eg(Ke(),c,u,p,g,y,E,D,x,R),V,!1),UT}function C0(l,c,u,p,g,y,E,D,x,R,V,W,Y){return vr(l,wg(Ke(),c,u,p,g,y,E,D,x,R,V,W),Y,!1),C0}function E0(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le){return vr(l,Si(Ke(),c,u,p,g,y,E,D,x,R,V,W,Y,te),le,!1),E0}function w0(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie){return vr(l,cf(Ke(),c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De),ie,!1),w0}function D0(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je,je){return vr(l,ds(Ke(),c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je),je,!1),D0}function ob(l,c,u){return vr(l,lf(Ke(),c),u,!1),ob}function S0(l,c,u){const p=Ke();return Ea(p,su(),c)&&Fa(Di(),Mn(),p,l,c,p[11],u,!0),S0}function qT(l,c,u){const p=Ke();if(Ea(p,su(),c)){const y=Di(),E=Mn();Fa(y,E,p,l,c,Io(ay(y.data),E,p),u,!0)}return qT}const gf=void 0;var bO=["en",[["a","p"],["AM","PM"],gf],[["AM","PM"],gf,gf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gf,"{1} 'at' {0}",gf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const c=Math.floor(Math.abs(l)),u=l.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Ba={};function zT(l,c,u){"string"!=typeof c&&(u=c,c=l[Xt.LocaleId]),c=c.toLowerCase().replace(/_/g,"-"),Ba[c]=l,u&&(Ba[c][Xt.ExtraData]=u)}function T0(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let u=A0(c);if(u)return u;const p=c.split("-")[0];if(u=A0(p),u)return u;if("en"===p)return bO;throw new Error(`Missing locale data for the locale "${l}".`)}function CO(l){return T0(l)[Xt.CurrencyCode]||null}function YT(l){return T0(l)[Xt.PluralCase]}function A0(l){return l in Ba||(Ba[l]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[l]),Ba[l]}function EO(){Ba={}}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const cN=["zero","one","two","few","many"],_g="en-US",SO="USD",lb={marker:"element"},cb={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let $T=_g;function x0(l){(function(l,c){null==l&&Zi(c,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&($T=l.toLowerCase().replace(/_/g,"-"))}function Su(l,c,u){const p=c.insertBeforeIndex,g=Array.isArray(p)?p[0]:p;return null===g?DS(l,0,u):Pi(u[g])}function TO(l,c,u,p,g){const y=c.insertBeforeIndex;if(Array.isArray(y)){let E=p,D=null;if(3&c.type||(D=E,E=g),null!==E&&0==(2&c.flags))for(let x=1;x<y.length;x++)Ht(l,E,u[y[x]],D,!1)}}function GT(l,c){if(l.push(c),l.length>1)for(let u=l.length-2;u>=0;u--){const p=l[u];I0(p)||AO(p,c)&&null===uN(p)&&k0(p,c.index)}}function I0(l){return!(64&l.type)}function AO(l,c){return I0(c)||l.index>c.index}function uN(l){const c=l.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function k0(l,c){const u=l.insertBeforeIndex;Array.isArray(u)?u[0]=c:(uh(Su,TO),l.insertBeforeIndex=c)}function vs(l,c){const u=l.data[c];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function J2(l,c,u){const p=Vs(l,u,64,null,null);return GT(c,p),p}function QT(l,c){const u=c[l.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function KT(l){return l>>>17}function dN(l){return(131070&l)>>>1}let hb=0,ub=0;function br(l,c,u,p){const g=u[11];let E,y=null;for(let D=0;D<c.length;D++){const x=c[D];if("string"==typeof x){const R=c[++D];null===u[R]&&(u[R]=al(g,x))}else if("number"==typeof x)switch(1&x){case 0:const R=KT(x);let V,W;if(null===y&&(y=R,E=$(g,p)),R===y?(V=p,W=E):(V=null,W=Pi(u[R])),null!==W){const De=dN(x);Ht(g,W,u[De],V,!1);const Je=vs(l,De);if(null!==Je&&"object"==typeof Je){const je=QT(Je,u);null!==je&&br(l,Je.create[je],u,u[Je.anchorIdx])}}break;case 1:const te=c[++D],le=c[++D];cl(g,Pl(x>>>1,u),null,null,te,le,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${x}"`)}else switch(x){case cb:const R=c[++D],V=c[++D];null===u[V]&&Na(u[V]=M2(g,R),u);break;case lb:const W=c[++D],Y=c[++D];null===u[Y]&&Na(u[Y]=ag(g,W,null),u)}}}function wi(l,c,u,p,g){for(let y=0;y<u.length;y++){const E=u[y],D=u[++y];if(E&g){let x="";for(let R=y+1;R<=y+D;R++){const V=u[R];if("string"==typeof V)x+=V;else if("number"==typeof V)if(V<0)x+=ti(c[p-V]);else{const W=V>>>2;switch(3&V){case 1:const Y=u[++R],te=u[++R],le=l.data[W];"string"==typeof le?cl(c[11],c[W],null,le,Y,x,te):Fa(l,le,c,Y,x,c[11],te,!1);break;case 0:const De=c[W];null!==De&&sa(c[11],De,x);break;case 2:M0(l,vs(l,W),c,x);break;case 3:vf(l,vs(l,W),p,c)}}}}else{const x=u[y+1];if(x>0&&3==(3&x)){const V=vs(l,x>>>2);c[V.currentCaseLViewIndex]<0&&vf(l,V,p,c)}}y+=D}}function vf(l,c,u,p){let g=p[c.currentCaseLViewIndex];if(null!==g){let y=hb;g<0&&(g=p[c.currentCaseLViewIndex]=~g,y=-1),wi(l,p,c.update[g],u,y)}}function M0(l,c,u,p){const g=function(l,c){let u=l.cases.indexOf(c);if(-1===u)switch(l.type){case 1:{const p=function(l,c){const u=YT(c)(parseInt(l,10)),p=cN[u];return void 0!==p?p:"other"}(c,$T);u=l.cases.indexOf(p),-1===u&&"other"!==p&&(u=l.cases.indexOf("other"));break}case 0:u=l.cases.indexOf("other")}return-1===u?null:u}(c,p);if(QT(c,u)!==g&&(Tu(l,c,u),u[c.currentCaseLViewIndex]=null===g?null:~g,null!==g)){const E=u[c.anchorIdx];E&&br(l,c.create[g],u,E)}}function Tu(l,c,u){let p=QT(c,u);if(null!==p){const g=c.remove[p];for(let y=0;y<g.length;y++){const E=g[y];if(E>0){const D=Pl(E,u);null!==D&&TS(u[11],D)}else Tu(l,vs(l,~E),u)}}}function mN(){const l=[];let u,p,c=-1;function y(D,x){c=0;const R=QT(D,x);p=null!==R?D.remove[R]:cs}function E(){if(c<p.length){const D=p[c++];return D>0?u[D]:(l.push(c,p),y(u[1].data[~D],u),E())}return 0===l.length?null:(p=l.pop(),c=l.pop(),E())}return function(D,x){for(u=x;l.length;)l.pop();return y(D.value,x),E}}const Au=/\ufffd(\d+):?\d*\ufffd/gi,db=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Pr=/\ufffd(\d+)\ufffd/,ui=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,MO=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,gN=/\uE500/g;function qn(l,c,u,p,g,y,E){const D=cg(l,p,1,null);let x=D<<Un.SHIFT,R=cd();c===R&&(R=null),null===R&&(x|=Un.APPEND_EAGERLY),E&&(x|=Un.COMMENT,function(l){void 0===Xe&&(Xe=l())}(mN)),g.push(x,null===y?"":y);const V=Vs(l,D,E?32:1,null===y?"":y,null);GT(u,V);const W=V.index;return Us(V,!1),null!==R&&c!==R&&function(l,c){let u=l.insertBeforeIndex;null===u?(uh(Su,TO),u=l.insertBeforeIndex=[null,c]):(function(l,c,u){l!=c&&Zi(u,l,c,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(c))}(R,W),V}function vN(l,c,u,p,g,y,E){const D=E.match(Au),x=qn(l,c,u,y,p,D?null:E,!1);D&&Vg(g,E,x.index,null,0,null)}function Vg(l,c,u,p,g,y){const E=l.length,D=E+1;l.push(null,null);const x=E+2,R=c.split(Au);let V=0;for(let W=0;W<R.length;W++){const Y=R[W];if(1&W){const te=g+parseInt(Y,10);l.push(-1-te),V|=ZT(te)}else""!==Y&&l.push(Y)}return l.push(u<<2|(p?1:0)),p&&l.push(p,y),l[E]=V,l[D]=l.length-x,V}function RO(l){let c=0;for(let u=0;u<l.length;u++){const p=l[u];"number"==typeof p&&p<0&&c++}return c}function ZT(l){return 1<<Math.min(l,31)}function Kr(l){let c,y,u="",p=0,g=!1;for(;null!==(c=MO.exec(l));)g?c[0]===`\ufffd/*${y}\ufffd`&&(p=c.index,g=!1):(u+=l.substring(p,c.index+c[0].length),y=c[1],g=!0);return u+=l.substr(p),u}function JT(l,c,u,p,g,y){let E=0;const D={type:g.type,currentCaseLViewIndex:cg(l,c,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function(l,c,u){l.push(ZT(c.mainBinding),2,-1-c.mainBinding,u<<2|2)})(u,g,y),function(l,c,u){const p=l.data[c];null===p?l.data[c]=u:p.value=u}(l,y,D);const x=g.values;for(let R=0;R<x.length;R++){const V=x[R],W=[];for(let Y=0;Y<V.length;Y++){const te=V[Y];if("string"!=typeof te){const le=W.push(te)-1;V[Y]=`\x3c!--\ufffd${le}\ufffd--\x3e`}}E=eA(l,D,c,u,p,g.cases[R],V.join(""),W)|E}E&&function(l,c,u){l.push(c,1,u<<2|3)}(u,E,y)}function zn(l){const c=[],u=[];let p=1,g=0;const y=Ul(l=l.replace(ui,function(E,D,x){return p="select"===x?0:1,g=parseInt(D.substr(1),10),""}));for(let E=0;E<y.length;){let D=y[E++].trim();1===p&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&c.push(D);const x=Ul(y[E++]);c.length>u.length&&u.push(x)}return{type:p,mainBinding:g,cases:c,values:u}}function Ul(l){if(!l)return[];let c=0;const u=[],p=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(l);){const D=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const x=l.substring(c,D);ui.test(x)?p.push(zn(x)):p.push(x),c=D+1}}else{if(0==u.length){const x=l.substring(c,D);p.push(x),c=D+1}u.push("{")}}const E=l.substring(c);return p.push(E),p}function eA(l,c,u,p,g,y,E,D){const x=[],R=[],V=[];c.cases.push(y),c.create.push(x),c.remove.push(R),c.update.push(V);const Y=At(Ze()).getInertBodyElement(E),te=hS(Y)||Y;return te?Ld(l,c,u,p,x,R,V,te,g,D,0):0}function Ld(l,c,u,p,g,y,E,D,x,R,V){let W=0,Y=D.firstChild;for(;Y;){const te=cg(l,u,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const le=Y,De=le.tagName.toLowerCase();if(yt.hasOwnProperty(De)){Lo(g,lb,De,x,te),l.data[te]=De;const Nt=le.attributes;for(let pi=0;pi<Nt.length;pi++){const ss=Nt.item(pi),Ai=ss.name.toLowerCase();ss.value.match(Au)?Fk.hasOwnProperty(Ai)&&Vg(E,ss.value,te,ss.name,0,vd[Ai]?pt:eo[Ai]?$i:null):iA(g,te,ss)}W=Ld(l,c,u,p,g,y,E,Y,te,R,V+1)|W,fb(y,te,V)}break;case Node.TEXT_NODE:const ie=Y.textContent||"",Je=ie.match(Au);Lo(g,null,Je?"":ie,x,te),fb(y,te,V),Je&&(W=Vg(E,ie,te,null,0,null)|W);break;case Node.COMMENT_NODE:const je=Pr.exec(Y.textContent||"");if(je){const pi=R[parseInt(je[1],10)];Lo(g,cb,"",x,te),JT(l,u,p,x,pi,te),tA(y,te,V)}}Y=Y.nextSibling}return W}function fb(l,c,u){0===u&&l.push(c)}function tA(l,c,u){0===u&&(l.push(~c),l.push(c))}function Lo(l,c,u,p,g){null!==c&&l.push(c),l.push(u,g,function(l,c,u){return 0|c<<17|u<<1}(0,p,g))}function iA(l,c,u){l.push(c<<1|1,u.name,u.value)}const _O=/\[(\ufffd.+?\ufffd?)\]/,nA=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,PO=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,rA=/{([A-Z0-9_]+)}/g,bN=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Wa=/\/\*/,yf=/\d+\:(\d+)/;function Fg(l,c={}){let u=l;if(_O.test(l)){const p={},g=[0];u=u.replace(nA,(y,E,D)=>{const x=E||D,R=p[x]||[];if(R.length||(x.split("|").forEach(De=>{const ie=De.match(yf),Je=ie?parseInt(ie[1],10):0,je=Wa.test(De);R.push([Je,je,De])}),p[x]=R),!R.length)throw new Error(`i18n postprocess: unmatched placeholder - ${x}`);const V=g[g.length-1];let W=0;for(let De=0;De<R.length;De++)if(R[De][0]===V){W=De;break}const[Y,te,le]=R[W];return te?g.pop():V!==Y&&g.push(Y),R.splice(W,1),le})}return Object.keys(c).length&&(u=u.replace(PO,(p,g,y,E,D,x)=>c.hasOwnProperty(y)?`${g}${c[y]}${x}`:p),u=u.replace(rA,(p,g)=>c.hasOwnProperty(g)?c[g]:p),u=u.replace(bN,(p,g)=>{if(c.hasOwnProperty(g)){const y=c[g];if(!y.length)throw new Error(`i18n postprocess: unmatched ICU - ${p} with key: ${g}`);return y.shift()}return p})),u}function R0(l,c,u=-1){const p=Di(),g=Ke(),y=20+l,E=Kc(p.consts,c),D=cd();p.firstCreatePass&&function(l,c,u,p,g,y){const E=cd(),D=[],x=[],R=[[]],V=function(l){return l.replace(gN," ")}(g=function(l,c){if(function(l){return-1===l}(c))return Kr(l);{const u=l.indexOf(`:${c}\ufffd`)+2+c.toString().length,p=l.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return Kr(l.substring(u,p))}}(g,y)).split(XT);for(let W=0;W<V.length;W++){let Y=V[W];if(0==(1&W)){const te=Ul(Y);for(let le=0;le<te.length;le++){let De=te[le];if(0==(1&le)){const ie=De;""!==ie&&vN(l,E,R[0],D,x,u,ie)}else{const ie=De;if("object"!=typeof ie)throw new Error(`Unable to parse ICU expression in "${g}" message.`);JT(l,u,x,c,ie,qn(l,E,R[0],u,D,"",!0).index)}}}else{const te=47===Y.charCodeAt(0),De=(Y.charCodeAt(te?1:0),20+Number.parseInt(Y.substring(te?2:1)));if(te)R.shift(),Us(cd(),!1);else{const ie=J2(l,R[0],De);R.unshift([]),Us(ie,!0)}}}l.data[p]={create:D,update:x}}(p,null===D?0:D.index,g,y,E,u);const x=p.data[y],V=T(p,D===g[6]?null:D,g);(function(l,c,u,p){const g=l[11];for(let y=0;y<c.length;y++){const E=c[y++],D=c[y],x=(E&Un.COMMENT)===Un.COMMENT,R=(E&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,V=E>>>Un.SHIFT;let W=l[V];null===W&&(W=l[V]=x?g.createComment(D):al(g,D)),R&&null!==u&&Ht(g,u,W,p,!1)}})(g,x.create,V,D&&8&D.type?g[D.index]:null),Yi(!0)}function L0(){Yi(!1)}function NO(l,c,u){R0(l,c,u),L0()}function Hg(l,c){const u=Di();!function(l,c,u){const g=er().index,y=[];if(l.firstCreatePass&&null===l.data[c]){for(let E=0;E<u.length;E+=2){const D=u[E],x=u[E+1];if(""!==x){if(db.test(x))throw new Error(`ICU expressions are not supported in attributes. Message: "${x}".`);Vg(y,x,g,D,RO(y),null)}}l.data[c]=y}}(u,l+20,Kc(u.consts,c))}function aA(l){return function(l){l&&(hb|=1<<Math.min(ub,31)),ub++}(Ea(Ke(),su(),l)),aA}function mb(l){!function(l,c,u){if(ub>0){const p=l.data[u];wi(l,c,Array.isArray(p)?p:p.update,sl()-ub-1,hb)}hb=0,ub=0}(Di(),Ke(),l+20)}function gb(l,c={}){return Fg(l,c)}function Hi(l,c,u,p,g){if(l=st(l),Array.isArray(l))for(let y=0;y<l.length;y++)Hi(l[y],c,u,p,g);else{const y=Di(),E=Ke();let D=Wn(l)?l:st(l.provide),x=tT(l);const R=er(),V=1048575&R.providerIndexes,W=R.directiveStart,Y=R.providerIndexes>>20;if(Wn(l)||!l.multi){const te=new $e(x,g,Xy),le=yb(D,c,g?V:V+Y,W);-1===le?(Hm(py(R,E),y,D),En(y,l,c.length),c.push(D),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),u.push(te),E.push(te)):(u[le]=te,E[le]=te)}else{const te=yb(D,c,V+Y,W),le=yb(D,c,V,V+Y),De=te>=0&&u[te],ie=le>=0&&u[le];if(g&&!ie||!g&&!De){Hm(py(R,E),y,D);const Je=function(l,c,u,p,g){const y=new $e(l,u,Xy);return y.multi=[],y.index=c,y.componentProviders=0,vb(y,g,p&&!u),y}(g?CN:oA,u.length,g,p,x);!g&&ie&&(u[le].providerFactory=Je),En(y,l,c.length,0),c.push(D),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),u.push(Je),E.push(Je)}else En(y,l,te>-1?te:le,vb(u[g?le:te],x,!g&&p));!g&&p&&ie&&u[le].componentProviders++}}}function En(l,c,u,p){const g=Wn(c);if(g||function(l){return!!l.useClass}(c)){const E=(c.useClass||c).prototype.ngOnDestroy;if(E){const D=l.destroyHooks||(l.destroyHooks=[]);if(!g&&c.multi){const x=D.indexOf(u);-1===x?D.push(u,[p,E]):D[x+1].push(p,E)}else D.push(u,E)}}}function vb(l,c,u){return u&&l.componentProviders++,l.multi.push(c)-1}function yb(l,c,u,p){for(let g=u;g<p;g++)if(c[g]===l)return g;return-1}function oA(l,c,u,p){return bb(this.multi,[])}function CN(l,c,u,p){const g=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=Vl(u,u[1],this.providerFactory.index,p);y=D.slice(0,E),bb(g,y);for(let x=E;x<D.length;x++)y.push(D[x])}else y=[],bb(g,y);return y}function bb(l,c){for(let u=0;u<l.length;u++)c.push((0,l[u])());return c}function lA(l,c=[]){return u=>{u.providersResolver=(p,g)=>function(l,c,u){const p=Di();if(p.firstCreatePass){const g=Ei(l);Hi(u,p.data,p.blueprint,g,!0),Hi(c,p.data,p.blueprint,g,!1)}}(p,g?g(l):l,c)}}class _0{}class bf{}function cA(l){const c=Error(`No component factory found for ${He(l)}. Did you add it to @NgModule.entryComponents?`);return c[P0]=l,c}const P0="ngComponent";class Wg{resolveComponentFactory(c){throw cA(c)}}let zl=(()=>{class l{}return l.NULL=new Wg,l})();class FO{constructor(c,u,p){this._parent=u,this._ngModule=p,this._factories=new Map;for(let g=0;g<c.length;g++){const y=c[g];this._factories.set(y.componentType,y)}}resolveComponentFactory(c){let u=this._factories.get(c);if(!u&&this._parent&&(u=this._parent.resolveComponentFactory(c)),!u)throw cA(c);return new Cf(u,this._ngModule)}}class Cf extends bf{constructor(c,u){super(),this.factory=c,this.ngModule=u,this.selector=c.selector,this.componentType=c.componentType,this.ngContentSelectors=c.ngContentSelectors,this.inputs=c.inputs,this.outputs=c.outputs}create(c,u,p,g){return this.factory.create(c,u,p,g||this.ngModule)}}function Cb(...l){}function Ef(){return vh(er(),Ke())}function vh(l,c){return new _o(kn(l,c))}const N0=Ef,Eb=N0;let _o=(()=>{class l{constructor(u){this.nativeElement=u}}return l.__NG_ELEMENT_ID__=Eb,l})();function V0(l){return l instanceof _o?l.nativeElement:l}class wf{}let BO=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>uA(),l})();const Df=jO,uA=Df;function jO(){const l=Ke(),u=qr(er().index,l);return function(l){return l[11]}(pr(u)?u:l)}let vn=(()=>{class l{}return l.\u0275prov=Hn({token:l,providedIn:"root",factory:()=>null}),l})();class Cr{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const dA=new Cr("12.2.9");class B0{constructor(){}supports(c){return vg(c)}create(c){return new fA(c)}}const pA=(l,c)=>c;class fA{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||pA}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,p=this._removalsHead,g=0,y=null;for(;u||p;){const E=!p||u&&u.currentIndex<WO(p,g,y)?u:p,D=WO(E,g,y),x=E.currentIndex;if(E===p)g--,p=p._nextRemoved;else if(u=u._next,null==E.previousIndex)g++;else{y||(y=[]);const R=D-g,V=x-g;if(R!=V){for(let Y=0;Y<R;Y++){const te=Y<y.length?y[Y]:y[Y]=0,le=te+Y;V<=le&&le<R&&(y[Y]=te+1)}y[E.previousIndex]=V-R}}D!==x&&c(E,D,x)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!vg(c))throw new Error(`Error trying to diff '${He(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g,y,E,u=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let D=0;D<this.length;D++)y=c[D],E=this._trackByFn(D,y),null!==u&&Object.is(u.trackById,E)?(p&&(u=this._verifyReinsertion(u,y,E,D)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,E,D),p=!0),u=u._next}else g=0,function(l,c){if(Array.isArray(l))for(let u=0;u<l.length;u++)c(l[u]);else{const u=l[gg()]();let p;for(;!(p=u.next()).done;)c(p.value)}}(c,D=>{E=this._trackByFn(g,D),null!==u&&Object.is(u.trackById,E)?(p&&(u=this._verifyReinsertion(u,D,E,g)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,E,g),p=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,p,g){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,y,g)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,g))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,y,g)):c=this._addAfter(new EN(u,p),y,g),c}_verifyReinsertion(c,u,p,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==y?c=this._reinsertAfter(y,c._prev,g):c.currentIndex!=g&&(c.currentIndex=g,this._addToMoves(c,g)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const g=c._prevRemoved,y=c._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(c,u,p),this._addToMoves(c,p),c}_moveAfter(c,u,p){return this._unlink(c),this._insertAfter(c,u,p),this._addToMoves(c,p),c}_addAfter(c,u,p){return this._insertAfter(c,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,p){const g=null===u?this._itHead:u._next;return c._next=g,c._prev=u,null===g?this._itTail=c:g._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new xu),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,p=c._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xu),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class EN{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sf{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const u=c._prevDup,p=c._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class xu{constructor(){this.map=new Map}put(c){const u=c.trackById;let p=this.map.get(u);p||(p=new Sf,this.map.set(u,p)),p.add(c)}get(c,u){const g=this.map.get(c);return g?g.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WO(l,c,u){const p=l.previousIndex;if(null===p)return p;let g=0;return u&&p<u.length&&(g=u[p]),p+c+g}class mA{constructor(){}supports(c){return c instanceof Map||fT(c)}create(){return new wb}}class wb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||fT(c)))throw new Error(`Error trying to diff '${He(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(g,p);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const p=c._prev;return u._next=c,u._prev=p,c._prev=u,p&&(p._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const g=this._records.get(c);this._maybeAddToChanges(g,u);const y=g._prev,E=g._next;return y&&(y._next=E),E&&(E._prev=y),g._next=null,g._prev=null,g}const p=new Db(c);return this._records.set(c,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(p=>u(c[p],p))}}class Db{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ug(){return new yh([new B0])}let yh=(()=>{class l{constructor(u){this.factories=u}static create(u,p){if(null!=p){const g=p.factories.slice();u=u.concat(g)}return new l(u)}static extend(u){return{provide:l,useFactory:p=>l.create(u,p||Ug()),deps:[[l,new lu,new oh]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(null!=p)return p;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(l){return l.name||typeof l}(u)}'`)}}return l.\u0275prov=Hn({token:l,providedIn:"root",factory:Ug}),l})();function j0(){return new Sb([new mA])}let Sb=(()=>{class l{constructor(u){this.factories=u}static create(u,p){if(p){const g=p.factories.slice();u=u.concat(g)}return new l(u)}static extend(u){return{provide:l,useFactory:p=>l.create(u,p||j0()),deps:[[l,new lu,new oh]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(p)return p;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return l.\u0275prov=Hn({token:l,providedIn:"root",factory:j0}),l})();function Tf(l,c,u,p,g=!1){for(;null!==u;){const y=c[u.index];if(null!==y&&p.push(Pi(y)),ya(y))for(let D=10;D<y.length;D++){const x=y[D],R=x[1].firstChild;null!==R&&Tf(x[1],x,R,p)}const E=u.type;if(8&E)Tf(l,c,u.child,p);else if(32&E){const D=EE(u,c);let x;for(;x=D();)p.push(x)}else if(16&E){const D=Ts(c,u);if(Array.isArray(D))p.push(...D);else{const x=wE(c[16]);Tf(x[1],x,D,p,!0)}}u=g?u.projectionNext:u.next}return p}class Af{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return Tf(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(ya(c)){const u=c[8],p=u?u.indexOf(this):-1;p>-1&&(CS(c,p),ah(u,p))}this._attachedToViewContainer=!1}tM(this._lView[1],this._lView)}onDestroy(c){RE(this._lView[1],this._lView,null,c)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){NE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,u){hd(!0);try{NE(l,c,u)}finally{hd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,dh(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class vA extends Af{constructor(c){super(c),this._view=c}detectChanges(){GS(this._view)}checkNoChanges(){!function(l){hd(!0);try{GS(l)}finally{hd(!1)}}(this._view)}get context(){return null}}const yA=W0,qO=yA;let bA=(()=>{class l{}return l.__NG_ELEMENT_ID__=qO,l})();function W0(l){return function(l,c,u){if(Xa(l)&&!u){const p=qr(l.index,c);return new Af(p,p)}return 47&l.type?new Af(c[16],c):null}(er(),Ke(),16==(16&l))}const wN=[new mA],qg=new yh([new B0]),Tb=new Sb(wN),zg=CA,zO=zg;let Iu=(()=>{class l{}return l.__NG_ELEMENT_ID__=zO,l})();const YO=Iu,U0=class extends YO{constructor(c,u,p){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(c){const u=this._declarationTContainer.tViews,p=Ly(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null);p[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(p[19]=y.createEmbeddedView(u)),_y(u,p,c),new Af(p)}};function CA(){return $g(er(),Ke())}function $g(l,c){return 4&l.type?new U0(c,l,vh(l,c)):null}class ku{}class bh{}const Pd=Ab,q0=Pd;let Qi=(()=>{class l{}return l.__NG_ELEMENT_ID__=q0,l})();function Ab(){return Ib(er(),Ke())}const EA=Qi,Rn=class extends EA{constructor(c,u,p){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=p}get element(){return vh(this._hostTNode,this._hostLView)}get injector(){return new jm(this._hostTNode,this._hostLView)}get parentInjector(){const c=lE(this._hostTNode,this._hostLView);if(hk(c)){const u=ih(c,this._hostLView),p=Vm(c);return new jm(u[1].data[p+8],u)}return new jm(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=xb(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,p){const g=c.createEmbeddedView(u||{});return this.insert(g,p),g}createComponent(c,u,p,g,y){const E=p||this.parentInjector;if(!y&&null==c.ngModule&&E){const x=E.get(ku,null);x&&(y=x)}const D=c.create(E,g,void 0,y);return this.insert(D.hostView,u),D}insert(c,u){const p=c._lView,g=p[1];if(ya(p[3])){const V=this.indexOf(c);if(-1!==V)this.detach(V);else{const W=p[3],Y=new Rn(W,W[6],W[3]);Y.detach(Y.indexOf(c))}}const y=this._adjustIndex(u),E=this._lContainer;!function(l,c,u,p){const g=10+p,y=u.length;p>0&&(u[g-1][4]=c),p<y-10?(c[4]=u[g],uE(u,10+p,c)):(u.push(c),c[4]=null),c[3]=u;const E=c[17];null!==E&&u!==E&&function(l,c){const u=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===u?l[9]=[c]:u.push(c)}(E,c);const D=c[19];null!==D&&D.insertView(l),c[2]|=128}(g,p,E,y);const D=SS(y,E),x=p[11],R=$(x,E[7]);return null!==R&&function(l,c,u,p,g,y){p[0]=g,p[6]=c,dh(l,p,u,1,g,y)}(g,E[6],x,p,R,D),c.attachToViewContainerRef(),uE(on(E),y,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=xb(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),p=CS(this._lContainer,u);p&&(ah(on(this._lContainer),u),tM(p[1],p))}detach(c){const u=this._adjustIndex(c,-1),p=CS(this._lContainer,u);return p&&null!=ah(on(this._lContainer),u)?new Af(p):null}_adjustIndex(c,u=0){return null==c?this.length+u:c}};function xb(l){return l[8]}function on(l){return l[8]||(l[8]=[])}function Ib(l,c){let u;const p=c[l.index];if(ya(p))u=p;else{let g;if(8&l.type)g=Pi(p);else{const y=c[11];g=y.createComment("");const E=kn(l,c);Ht(y,$(y,E),g,function(l,c){return Qt(l)?l.nextSibling(c):c.nextSibling}(y,E),!1)}c[l.index]=u=PP(p,c,g,l),gr(c,u)}return new Rn(u,l,c)}function Gg(l,c,u,p){let g=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${c}'. Current value: '${u}'.`;return p&&(g+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(l,c){const u=new Error(l);return Ch(u,c),u}(g,l)}function Ch(l,c){l[aP]=c,l[oP]=c.logError.bind(c)}function Mb(l){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${l}`)}function Ob(l,c,u){const p=l.state,g=1792&p;return g===c?(l.state=-1793&p|u,l.initIndex=-1,!0):g===u}function Ou(l,c,u){return(1792&l.state)===c&&l.initIndex<=u&&(l.initIndex=u+1,!0)}function Eh(l,c){return l.nodes[c]}function As(l,c){return l.nodes[c]}function Ru(l,c){return l.nodes[c]}function wh(l,c){return l.nodes[c]}function Rb(l,c){return l.nodes[c]}class Lu{}const zt={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},ro=()=>{},Ln=new Map;function bi(l){let c=Ln.get(l);return c||(c=He(l)+"_"+Ln.size,Ln.set(l,c)),c}function wA(l,c,u,p){if(Bl.isWrapped(p)){p=Bl.unwrap(p);const g=l.def.nodes[c].bindingIndex+u,y=Bl.unwrap(l.oldValues[g]);l.oldValues[g]=new Bl(y)}return p}const ln="$$undefined",Yn="$$empty";function Dh(l){return{id:ln,styles:l.styles,encapsulation:l.encapsulation,data:l.data}}let rr=0;function Ua(l,c,u,p){return!(!(2&l.state)&&Object.is(l.oldValues[c.bindingIndex+u],p))}function _n(l,c,u,p){return!!Ua(l,c,u,p)&&(l.oldValues[c.bindingIndex+u]=p,!0)}function Yl(l,c,u,p){const g=l.oldValues[c.bindingIndex+u];if(1&l.state||!pT(g,p)){const y=c.bindings[u].name;throw Gg(zt.createDebugContext(l,c.nodeIndex),`${y}: ${g}`,`${y}: ${p}`,0!=(1&l.state))}}function $l(l){let c=l;for(;c;)2&c.def.flags&&(c.state|=8),c=c.viewContainerParent||c.parent}function GO(l,c){let u=l;for(;u&&u!==c;)u.state|=64,u=u.viewContainerParent||u.parent}function Y0(l,c,u,p){try{return $l(33554432&l.def.nodes[c].flags?As(l,c).componentView:l),zt.handleEvent(l,c,u,p)}catch(g){l.root.errorHandler.handleError(g)}}function ul(l){return l.parent?As(l.parent,l.parentNodeDef.nodeIndex):null}function _u(l){return l.parent?l.parentNodeDef.parent:null}function Lb(l,c){switch(201347067&c.flags){case 1:return As(l,c.nodeIndex).renderElement;case 2:return Eh(l,c.nodeIndex).renderText}}function ao(l,c){return l?`${l}:${c}`:c}function Nd(l){return!!l.parent&&!!(32768&l.parentNodeDef.flags)}function TN(l){return!(!l.parent||32768&l.parentNodeDef.flags)}function QO(l){return 1<<l%32}function $0(l){const c={};let u=0;const p={};return l&&l.forEach(([g,y])=>{"number"==typeof g?(c[g]=y,u|=QO(g)):p[g]=y}),{matchedQueries:c,references:p,matchedQueryIds:u}}function oo(l,c){return l.map(u=>{let p,g;return Array.isArray(u)?[g,p]=u:(g=0,p=u),p&&("function"==typeof p||"object"==typeof p)&&c&&Object.defineProperty(p,ZD,{value:c,configurable:!0}),{flags:g,token:p,tokenKey:bi(p)}})}function DA(l,c,u){let p=u.renderParent;return p?0==(1&p.flags)||0==(33554432&p.flags)||p.element.componentRendererType&&(p.element.componentRendererType.encapsulation===ji.ShadowDom||1===p.element.componentRendererType.encapsulation)?As(l,u.renderParent.nodeIndex).renderElement:void 0:c}const KO=new WeakMap;function If(l){let c=KO.get(l);return c||(c=l(()=>ro),c.factory=l,KO.set(l,c)),c}function Vd(l,c,u,p,g){3===c&&(u=l.renderer.parentNode(Lb(l,l.def.lastRenderRootNode))),Sh(l,c,0,l.def.nodes.length-1,u,p,g)}function Sh(l,c,u,p,g,y,E){for(let D=u;D<=p;D++){const x=l.def.nodes[D];11&x.flags&&Qg(l,x,c,g,y,E),D+=x.childCount}}function XO(l,c,u,p,g,y){let E=l;for(;E&&!Nd(E);)E=E.parent;const D=E.parent,x=_u(E),V=x.nodeIndex+x.childCount;for(let W=x.nodeIndex+1;W<=V;W++){const Y=D.def.nodes[W];Y.ngContentIndex===c&&Qg(D,Y,u,p,g,y),W+=Y.childCount}if(!D.parent){const W=l.root.projectableNodes[c];if(W)for(let Y=0;Y<W.length;Y++)Fd(l,W[Y],u,p,g,y)}}function Qg(l,c,u,p,g,y){if(8&c.flags)XO(l,c.ngContent.index,u,p,g,y);else{const E=Lb(l,c);if(3===u&&33554432&c.flags&&48&c.bindingFlags?(16&c.bindingFlags&&Fd(l,E,u,p,g,y),32&c.bindingFlags&&Fd(As(l,c.nodeIndex).componentView,E,u,p,g,y)):Fd(l,E,u,p,g,y),16777216&c.flags){const D=As(l,c.nodeIndex).viewContainer._embeddedViews;for(let x=0;x<D.length;x++)Vd(D[x],u,p,g,y)}1&c.flags&&!c.element.name&&Sh(l,u,c.nodeIndex+1,c.nodeIndex+c.childCount,p,g,y)}}function Fd(l,c,u,p,g,y){const E=l.renderer;switch(u){case 1:E.appendChild(p,c);break;case 2:E.insertBefore(p,c,g);break;case 3:E.removeChild(p,c);break;case 0:y.push(c)}}const SA=/^:([^:]+):(.+)$/;function kf(l){if(":"===l[0]){const c=l.match(SA);return[c[1],c[2]]}return["",l]}function G0(l){let c=0;for(let u=0;u<l.length;u++)c|=l[u].flags;return c}function ZO(l,c){let u="";for(let p=0;p<2*l;p+=2)u=u+c[p]+mi(c[p+1]);return u+c[2*l]}function TA(l,c,u,p,g,y,E,D,x,R,V,W,Y,te,le,De,ie,Je,je,Nt){switch(l){case 1:return c+mi(u)+p;case 2:return c+mi(u)+p+mi(g)+y;case 3:return c+mi(u)+p+mi(g)+y+mi(E)+D;case 4:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R;case 5:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R+mi(V)+W;case 6:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R+mi(V)+W+mi(Y)+te;case 7:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R+mi(V)+W+mi(Y)+te+mi(le)+De;case 8:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R+mi(V)+W+mi(Y)+te+mi(le)+De+mi(ie)+Je;case 9:return c+mi(u)+p+mi(g)+y+mi(E)+D+mi(x)+R+mi(V)+W+mi(Y)+te+mi(le)+De+mi(ie)+Je+mi(je)+Nt;default:throw new Error("Does not support more than 9 expressions")}}function mi(l){return null!=l?l.toString():""}const JO={},Mf={},xN=bi(Qs),AA=bi(gu),ca=bi(ku);function Da(l,c,u,p){return u=st(u),{index:-1,deps:oo(p,He(c)),flags:l,token:c,value:u}}function qs(l){const c={},u=[];let p=null;for(let g=0;g<l.length;g++){const y=l[g];y.token===dg&&(p=y.value),1073741824&y.flags&&u.push(y.token),y.index=g,c[bi(y.token)]=y}return{factory:null,providersByKey:c,providers:l,modules:u,scope:p}}function wr(l,c,u=Qs.THROW_IF_NOT_FOUND){const p=ou(l);try{if(8&c.flags)return c.token;if(2&c.flags&&(u=null),1&c.flags)return l._parent.get(c.token,u);const g=c.tokenKey;switch(g){case xN:case AA:case ca:return l}const y=l._def.providersByKey[g];let E;if(y){let D=l._providers[y.index];return void 0===D&&(D=l._providers[y.index]=Of(l,y)),D===Mf?void 0:D}if((E=xn(c.token))&&function(l,c){const u=st(c.providedIn);return null!=u&&("any"===u||u===l._def.scope||function(l,c){return l._def.modules.indexOf(c)>-1}(l,u))}(l,E)){const D=l._providers.length;return l._def.providers[D]=l._def.providersByKey[c.tokenKey]={flags:5120,value:E.factory,deps:[],index:D,token:c.token},l._providers[D]=Mf,l._providers[D]=Of(l,l._def.providersByKey[c.tokenKey])}return 4&c.flags?u:l._parent.get(c.token,u)}finally{ou(p)}}function Of(l,c){let u;switch(201347067&c.flags){case 512:u=function(l,c,u){const p=u.length;switch(p){case 0:return new c;case 1:return new c(wr(l,u[0]));case 2:return new c(wr(l,u[0]),wr(l,u[1]));case 3:return new c(wr(l,u[0]),wr(l,u[1]),wr(l,u[2]));default:const g=[];for(let y=0;y<p;y++)g[y]=wr(l,u[y]);return new c(...g)}}(l,c.value,c.deps);break;case 1024:u=function(l,c,u){const p=u.length;switch(p){case 0:return c();case 1:return c(wr(l,u[0]));case 2:return c(wr(l,u[0]),wr(l,u[1]));case 3:return c(wr(l,u[0]),wr(l,u[1]),wr(l,u[2]));default:const g=[];for(let y=0;y<p;y++)g[y]=wr(l,u[y]);return c(...g)}}(l,c.value,c.deps);break;case 2048:u=wr(l,c.deps[0]);break;case 256:u=c.value}return u!==Mf&&null!==u&&"object"==typeof u&&!(131072&c.flags)&&"function"==typeof u.ngOnDestroy&&(c.flags|=131072),void 0===u?Mf:u}function IA(l,c){const u=l.viewContainer._embeddedViews;if((null==c||c>=u.length)&&(c=u.length-1),c<0)return null;const p=u[c];return p.viewContainerParent=null,ah(u,c),zt.dirtyParentQueries(p),Pb(p),p}function X0(l,c,u){const p=c?Lb(c,c.def.lastRenderRootNode):l.renderElement,g=u.renderer.parentNode(p),y=u.renderer.nextSibling(p);Vd(u,2,g,y,void 0)}function Pb(l){Vd(l,3,null,null,void 0)}const Nb={};function Vb(l,c,u,p,g,y){return new Kg(l,c,u,p,g,y)}function i1(l){return l.viewDefFactory}class Kg extends bf{constructor(c,u,p,g,y,E){super(),this.selector=c,this.componentType=u,this._inputs=g,this._outputs=y,this.ngContentSelectors=E,this.viewDefFactory=p}get inputs(){const c=[],u=this._inputs;for(let p in u)c.push({propName:p,templateName:u[p]});return c}get outputs(){const c=[];for(let u in this._outputs)c.push({propName:u,templateName:this._outputs[u]});return c}create(c,u,p,g){if(!g)throw new Error("ngModule should be provided");const y=If(this.viewDefFactory),E=y.nodes[0].element.componentProvider.nodeIndex,D=zt.createRootView(c,u||[],p,y,g,Nb),x=Ru(D,E).instance;return p&&D.renderer.setAttribute(As(D,0).renderElement,"ng-version",dA.full),new Z0(D,new Pu(D),x)}}class Z0 extends _0{constructor(c,u,p){super(),this._view=c,this._viewRef=u,this._component=p,this._elDef=this._view.def.nodes[0],this.hostView=u,this.changeDetectorRef=u,this.instance=p}get location(){return new _o(As(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Hd(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(c){this._viewRef.onDestroy(c)}}function kN(l,c,u){return new Tc(l,c,u)}class Tc{constructor(c,u,p){this._view=c,this._elDef=u,this._data=p,this._embeddedViews=[]}get element(){return new _o(this._data.renderElement)}get injector(){return new Hd(this._view,this._elDef)}get parentInjector(){let c=this._view,u=this._elDef.parent;for(;!u&&c;)u=_u(c),c=c.parent;return c?new Hd(c,u):new Hd(this._view,null)}clear(){for(let u=this._embeddedViews.length-1;u>=0;u--){const p=IA(this._data,u);zt.destroyView(p)}}get(c){const u=this._embeddedViews[c];if(u){const p=new Pu(u);return p.attachToViewContainerRef(this),p}return null}get length(){return this._embeddedViews.length}createEmbeddedView(c,u,p){const g=c.createEmbeddedView(u||{});return this.insert(g,p),g}createComponent(c,u,p,g,y){const E=p||this.parentInjector;!y&&!(c instanceof Cf)&&(y=E.get(ku));const D=c.create(E,g,void 0,y);return this.insert(D.hostView,u),D}insert(c,u){if(c.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const p=c;return function(l,c,u,p){let g=c.viewContainer._embeddedViews;null==u&&(u=g.length),p.viewContainerParent=l,uE(g,u,p),function(l,c){const u=ul(c);if(!u||u===l||16&c.state)return;c.state|=16;let p=u.template._projectedViews;p||(p=u.template._projectedViews=[]),p.push(c),function(l,c){if(4&c.flags)return;l.nodeFlags|=4,c.flags|=4;let u=c.parent;for(;u;)u.childFlags|=4,u=u.parent}(c.parent.def,c.parentNodeDef)}(c,p),zt.dirtyParentQueries(p),X0(c,u>0?g[u-1]:null,p)}(this._view,this._data,u,p._view),p.attachToViewContainerRef(this),c}move(c,u){if(c.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const p=this._embeddedViews.indexOf(c._view);return function(l,c,u){const p=l.viewContainer._embeddedViews,g=p[c];ah(p,c),null==u&&(u=p.length),uE(p,u,g),zt.dirtyParentQueries(g),Pb(g),X0(l,u>0?p[u-1]:null,g)}(this._data,p,u),c}indexOf(c){return this._embeddedViews.indexOf(c._view)}remove(c){const u=IA(this._data,c);u&&zt.destroyView(u)}detach(c){const u=IA(this._data,c);return u?new Pu(u):null}}function s1(l){return new Pu(l)}class Pu{constructor(c){this._view=c,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(l){const c=[];return Vd(l,0,void 0,void 0,c),c}(this._view)}get context(){return this._view.context}set context(c){this._view.context=c}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){$l(this._view)}detach(){this._view.state&=-5}detectChanges(){const c=this._view.root.rendererFactory;c.begin&&c.begin();try{zt.checkAndUpdateView(this._view)}finally{c.end&&c.end()}}checkNoChanges(){zt.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(c){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(c)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),zt.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Pb(this._view),zt.dirtyParentQueries(this._view)}attachToAppRef(c){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}attachToViewContainerRef(c){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=c}}function MA(l,c){return new Nu(l,c)}class Nu extends Iu{constructor(c,u){super(),this._parentView=c,this._def=u}createEmbeddedView(c){return new Pu(zt.createEmbeddedView(this._parentView,this._def,this._def.element.template,c))}get elementRef(){return new _o(As(this._parentView,this._def.nodeIndex).renderElement)}}function ha(l,c){return new Hd(l,c)}class Hd{constructor(c,u){this.view=c,this.elDef=u}get(c,u=Qs.THROW_IF_NOT_FOUND){return zt.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:c,tokenKey:bi(c)},u)}}function Fb(l,c){const u=l.def.nodes[c];if(1&u.flags){const p=As(l,u.nodeIndex);return u.element.template?p.template:p.renderElement}if(2&u.flags)return Eh(l,u.nodeIndex).renderText;if(20240&u.flags)return Ru(l,u.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${c}`)}function Th(l,c,u,p){return new Ac(l,c,u,p)}class Ac{constructor(c,u,p,g){this._moduleType=c,this._parent=u,this._bootstrapComponents=p,this._def=g,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(l){const c=l._def,u=l._providers=dd(c.providers.length);for(let p=0;p<c.providers.length;p++){const g=c.providers[p];4096&g.flags||void 0===u[p]&&(u[p]=Of(l,g))}}(this)}get(c,u=Qs.THROW_IF_NOT_FOUND,p=Ut.Default){let g=0;return p&Ut.SkipSelf?g|=1:p&Ut.Self&&(g|=4),wr(this,{token:c,tokenKey:bi(c),flags:g},u)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(zl)}destroy(){if(this._destroyed)throw new Error(`The ng module ${He(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(l,c){const u=l._def,p=new Set;for(let g=0;g<u.providers.length;g++)if(131072&u.providers[g].flags){const E=l._providers[g];if(E&&E!==Mf){const D=E.ngOnDestroy;"function"==typeof D&&!p.has(E)&&(D.apply(E),p.add(E))}}}(this),this._destroyListeners.forEach(c=>c())}onDestroy(c){this._destroyListeners.push(c)}}const MN=bi(BO),OA=bi(_o),Ah=bi(Qi),Ri=bi(Iu),xh=bi(bA),Sa=bi(Qs),ON=bi(gu);function Ui(l,c,u,p,g,y,E,D){const x=[];if(E)for(let V in E){const[W,Y]=E[V];x[W]={flags:8,name:V,nonMinifiedName:Y,ns:null,securityContext:null,suffix:null}}const R=[];if(D)for(let V in D)R.push({type:1,propName:V,target:null,eventName:D[V]});return wn(l,c|=16384,u,p,g,g,y,x,R)}function J0(l,c,u){return wn(-1,l|=16,null,0,c,c,u)}function RN(l,c,u,p,g){return wn(-1,l,c,0,u,p,g)}function wn(l,c,u,p,g,y,E,D,x){const{matchedQueries:R,references:V,matchedQueryIds:W}=$0(u);x||(x=[]),D||(D=[]),y=st(y);const Y=oo(E,He(g));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:c,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:R,matchedQueryIds:W,references:V,ngContentIndex:-1,childCount:p,bindings:D,bindingFlags:G0(D),outputs:x,element:null,provider:{token:g,value:y,deps:Y},text:null,query:null,ngContent:null}}function RA(l,c){return ew(l,c)}function LA(l,c){let u=l;for(;u.parent&&!Nd(u);)u=u.parent;return Hb(u.parent,_u(u),!0,c.provider.value,c.provider.deps)}function ts(l,c){const p=Hb(l,c.parent,(32768&c.flags)>0,c.provider.value,c.provider.deps);if(c.outputs.length)for(let g=0;g<c.outputs.length;g++){const y=c.outputs[g],E=p[y.propName];if(!p0(E))throw new Error(`@Output ${y.propName} not initialized in '${p.constructor.name}'.`);{const D=E.subscribe(Bd(l,c.parent.nodeIndex,y.eventName));l.disposables[c.outputIndex+g]=D.unsubscribe.bind(D)}}return p}function Bd(l,c,u){return p=>Y0(l,c,u,p)}function ew(l,c){const u=(8192&c.flags)>0,p=c.provider;switch(201347067&c.flags){case 512:return Hb(l,c.parent,u,p.value,p.deps);case 1024:return function(l,c,u,p,g){const y=g.length;switch(y){case 0:return p();case 1:return p(Xr(l,c,u,g[0]));case 2:return p(Xr(l,c,u,g[0]),Xr(l,c,u,g[1]));case 3:return p(Xr(l,c,u,g[0]),Xr(l,c,u,g[1]),Xr(l,c,u,g[2]));default:const E=[];for(let D=0;D<y;D++)E.push(Xr(l,c,u,g[D]));return p(...E)}}(l,c.parent,u,p.value,p.deps);case 2048:return Xr(l,c.parent,u,p.deps[0]);case 256:return p.value}}function Hb(l,c,u,p,g){const y=g.length;switch(y){case 0:return new p;case 1:return new p(Xr(l,c,u,g[0]));case 2:return new p(Xr(l,c,u,g[0]),Xr(l,c,u,g[1]));case 3:return new p(Xr(l,c,u,g[0]),Xr(l,c,u,g[1]),Xr(l,c,u,g[2]));default:const E=[];for(let D=0;D<y;D++)E.push(Xr(l,c,u,g[D]));return new p(...E)}}const Vu={};function Xr(l,c,u,p,g=Qs.THROW_IF_NOT_FOUND){if(8&p.flags)return p.token;const y=l;2&p.flags&&(g=null);const E=p.tokenKey;E===xh&&(u=!(!c||!c.element.componentView)),c&&1&p.flags&&(u=!1,c=c.parent);let D=l;for(;D;){if(c)switch(E){case MN:return Bb(D,c,u).renderer;case OA:return new _o(As(D,c.nodeIndex).renderElement);case Ah:return As(D,c.nodeIndex).viewContainer;case Ri:if(c.element.template)return As(D,c.nodeIndex).template;break;case xh:return s1(Bb(D,c,u));case Sa:case ON:return ha(D,c);default:const R=(u?c.element.allProviders:c.element.publicProviders)[E];if(R){let V=Ru(D,R.nodeIndex);return V||(V={instance:ew(D,R)},D.nodes[R.nodeIndex]=V),V.instance}}u=Nd(D),c=_u(D),D=D.parent,4&p.flags&&(D=null)}const x=y.root.injector.get(p.token,Vu);return x!==Vu||g===Vu?x:y.root.ngModule.injector.get(p.token,g)}function Bb(l,c,u){let p;if(u)p=As(l,c.nodeIndex).componentView;else for(p=l;p.parent&&!Nd(p);)p=p.parent;return p}function qa(l,c,u,p,g,y){if(32768&u.flags){const x=As(l,u.parent.nodeIndex).componentView;2&x.def.flags&&(x.state|=8)}if(c.instance[u.bindings[p].name]=g,524288&u.flags){y=y||{};const x=Bl.unwrap(l.oldValues[u.bindingIndex+p]);y[u.bindings[p].nonMinifiedName]=new iu(x,g,0!=(2&l.state))}return l.oldValues[u.bindingIndex+p]=g,y}function Po(l,c){if(!(l.def.nodeFlags&c))return;const u=l.def.nodes;let p=0;for(let g=0;g<u.length;g++){const y=u[g];let E=y.parent;for(!E&&y.flags&c&&PA(l,g,y.flags&c,p++),0==(y.childFlags&c)&&(g+=y.childCount);E&&1&E.flags&&g===E.nodeIndex+E.childCount;)E.directChildFlags&c&&(p=tw(l,E,c,p)),E=E.parent}}function tw(l,c,u,p){for(let g=c.nodeIndex+1;g<=c.nodeIndex+c.childCount;g++){const y=l.def.nodes[g];y.flags&u&&PA(l,g,y.flags&u,p++),g+=y.childCount}return p}function PA(l,c,u,p){const g=Ru(l,c);if(!g)return;const y=g.instance;!y||(zt.setCurrentNode(l,c),1048576&u&&Ou(l,512,p)&&y.ngAfterContentInit(),2097152&u&&y.ngAfterContentChecked(),4194304&u&&Ou(l,768,p)&&y.ngAfterViewInit(),8388608&u&&y.ngAfterViewChecked(),131072&u&&y.ngOnDestroy())}class No extends zl{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=kr(c);return new NA(u,this.ngModule)}}function qi(l){const c=[];for(let u in l)l.hasOwnProperty(u)&&c.push({propName:l[u],templateName:u});return c}const jd=new ir("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>L});class NA extends bf{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=c.selectors.map(AE).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return qi(this.componentDef.inputs)}get outputs(){return qi(this.componentDef.outputs)}create(c,u,p,g){const y=(g=g||this.ngModule)?function(l,c){return{get:(u,p,g)=>{const y=l.get(u,Vu,g);return y!==Vu||p===Vu?y:c.get(u,p,g)}}}(c,g.injector):c,E=y.get(wf,Ws),D=y.get(vn,null),x=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",V=p?Ao(x,p,this.componentDef.encapsulation):ag(E.createRenderer(null,this.componentDef),R,function(l){const c=l.toLowerCase();return"svg"===c?P:"math"===c?j:null}(R)),W=this.componentDef.onPush?576:528,Y=mg(),te=To(0,null,null,1,0,null,null,null,null,null),le=Ly(null,te,Y,W,null,null,E,x,D,y);let De,ie;eh(le);try{const Je=uT(V,this.componentDef,le,E,x);if(V)if(p)Pm(x,V,["ng-version",dA.full]);else{const{attrs:je,classes:Nt}=function(l){const c=[],u=[];let p=1,g=2;for(;p<l.length;){let y=l[p];if("string"==typeof y)2===g?""!==y&&c.push(y,l[++p]):8===g&&u.push(y);else{if(!Ji(g))break;g=y}p++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);je&&Pm(x,V,je),Nt&&Nt.length>0&&hi(x,V,Nt.join(" "))}if(ie=Nl(te,20),void 0!==u){const je=ie.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const pi=u[Nt];je.push(null!=pi?Array.from(pi):null)}}De=Oi(Je,this.componentDef,le,Y,[Uy]),_y(te,le,null)}finally{nu()}return new FA(this.componentType,De,vh(ie,le),le,ie)}}class FA extends _0{constructor(c,u,p,g,y){super(),this.location=p,this._rootLView=g,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new vA(g),this.componentType=c}get injector(){return new jm(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function iw(l,c,u,p){return Zn(()=>{const g=l;null!==c&&(g.hasOwnProperty("decorators")&&void 0!==g.decorators?g.decorators.push(...c):g.decorators=c),null!==u&&(g.ctorParameters=u),null!==p&&(g.propDecorators=g.hasOwnProperty("propDecorators")&&void 0!==g.propDecorators?Object.assign(Object.assign({},g.propDecorators),p):p)})}const Xg=new Map;function PN(l,c){const u=Xg.get(l);sw(l,u&&u.moduleType,c.moduleType),Xg.set(l,c)}function sw(l,c,u){if(c&&c!==u)throw new Error(`Duplicate module registered for ${l} - ${He(c)} vs ${He(c.name)}`)}function nw(l){const c=new Set;!function u(p){const g=ia(p,!0),y=g.id;if(null!==y){sw(y,Xg.get(y),p),Xg.set(y,p)}const E=Ge(g.imports);for(const D of E)c.has(D)||(c.add(D),u(D))}(l)}function HA(l){return Xg.get(l)||Wc[l]}class BA extends ku{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new No(this);const p=ia(c),g=c[Gv]||null;g&&x0(g),this._bootstrapComponents=Ge(p.bootstrap),this._r3Injector=qE(c,u,[{provide:ku,useValue:this},{provide:zl,useValue:this.componentFactoryResolver}],He(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,u=Qs.THROW_IF_NOT_FOUND,p=Ut.Default){return c===Qs||c===ku||c===gu?this:this._r3Injector.get(c,u,p)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Zg extends bh{constructor(c){super(),this.moduleType=c,null!==ia(c)&&nw(c)}create(c){return new BA(this.moduleType,c)}}function a1(l,c,u){const p=Or()+l,g=Ke();return g[p]===rt?Ec(g,p,u?c.call(u):c()):of(g,p)}function Jg(l,c,u,p){return xs(Ke(),Or(),l,c,u,p)}function rw(l,c,u,p,g){return jt(Ke(),Or(),l,c,u,p,g)}function jb(l,c,u,p,g,y){return Hu(Ke(),Or(),l,c,u,p,g,y)}function Fu(l,c,u,p,g,y,E){return Vi(Ke(),Or(),l,c,u,p,g,y,E)}function Fs(l,c,u,p,g,y,E,D){const x=Or()+l,R=Ke(),V=Oo(R,x,u,p,g,y);return Ea(R,x+4,E)||V?Ec(R,x+5,D?c.call(D,u,p,g,y,E):c(u,p,g,y,E)):of(R,x+5)}function St(l,c,u,p,g,y,E,D,x){const R=Or()+l,V=Ke(),W=Oo(V,R,u,p,g,y);return xd(V,R+4,E,D)||W?Ec(V,R+6,x?c.call(x,u,p,g,y,E,D):c(u,p,g,y,E,D)):of(V,R+6)}function aw(l,c,u,p,g,y,E,D,x,R){const V=Or()+l,W=Ke();let Y=Oo(W,V,u,p,g,y);return zy(W,V+4,E,D,x)||Y?Ec(W,V+7,R?c.call(R,u,p,g,y,E,D,x):c(u,p,g,y,E,D,x)):of(W,V+7)}function Ql(l,c,u,p,g,y,E,D,x,R,V){const W=Or()+l,Y=Ke(),te=Oo(Y,W,u,p,g,y);return Oo(Y,W+4,E,D,x,R)||te?Ec(Y,W+8,V?c.call(V,u,p,g,y,E,D,x,R):c(u,p,g,y,E,D,x,R)):of(Y,W+8)}function jA(l,c,u,p){return Kl(Ke(),Or(),l,c,u,p)}function $n(l,c){const u=l[c];return u===rt?void 0:u}function xs(l,c,u,p,g,y){const E=c+u;return Ea(l,E,g)?Ec(l,E+1,y?p.call(y,g):p(g)):$n(l,E+1)}function jt(l,c,u,p,g,y,E){const D=c+u;return xd(l,D,g,y)?Ec(l,D+2,E?p.call(E,g,y):p(g,y)):$n(l,D+2)}function Hu(l,c,u,p,g,y,E,D){const x=c+u;return zy(l,x,g,y,E)?Ec(l,x+3,D?p.call(D,g,y,E):p(g,y,E)):$n(l,x+3)}function Vi(l,c,u,p,g,y,E,D,x){const R=c+u;return Oo(l,R,g,y,E,D)?Ec(l,R+4,x?p.call(x,g,y,E,D):p(g,y,E,D)):$n(l,R+4)}function Kl(l,c,u,p,g,y){let E=c+u,D=!1;for(let x=0;x<g.length;x++)Ea(l,E++,g[x])&&(D=!0);return D?Ec(l,E,p.apply(y,g)):$n(l,E)}function lo(l,c){const u=Di();let p;const g=l+20;u.firstCreatePass?(p=function(l,c){if(c)for(let u=c.length-1;u>=0;u--){const p=c[u];if(l===p.name)return p}throw new Ci("302",`The pipe '${l}' could not be found!`)}(c,u.pipeRegistry),u.data[g]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,p.onDestroy)):p=u.data[g];const y=p.factory||(p.factory=Za(p.type)),E=Gt(Xy);try{const D=dy(!1),x=y();return dy(D),s0(u,Ke(),g,x),x}finally{Gt(E)}}function Ih(l,c,u){const p=l+20,g=Ke(),y=pc(g,p);return Rf(g,Wd(g,p)?xs(g,Or(),c,y.transform,u,y):y.transform(u))}function Gn(l,c,u,p){const g=l+20,y=Ke(),E=pc(y,g);return Rf(y,Wd(y,g)?jt(y,Or(),c,E.transform,u,p,E):E.transform(u,p))}function Dr(l,c,u,p,g){const y=l+20,E=Ke(),D=pc(E,y);return Rf(E,Wd(E,y)?Hu(E,Or(),c,D.transform,u,p,g,D):D.transform(u,p,g))}function Wb(l,c,u,p,g,y){const E=l+20,D=Ke(),x=pc(D,E);return Rf(D,Wd(D,E)?Vi(D,Or(),c,x.transform,u,p,g,y,x):x.transform(u,p,g,y))}function UA(l,c,u){const p=l+20,g=Ke(),y=pc(g,p);return Rf(g,Wd(g,p)?Kl(g,Or(),c,y.transform,u,y):y.transform.apply(y,u))}function Wd(l,c){return l[1].data[c].pure}function Rf(l,c){return Bl.isWrapped(c)&&(c=Bl.unwrap(c),l[sl()]=rt),c}function ow(l){return c=>{setTimeout(l,void 0,c)}}const kh=class extends dt.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,p){var g,y,E;let D=c,x=u||(()=>null),R=p;if(c&&"object"==typeof c){const W=c;D=null===(g=W.next)||void 0===g?void 0:g.bind(W),x=null===(y=W.error)||void 0===y?void 0:y.bind(W),R=null===(E=W.complete)||void 0===E?void 0:E.bind(W)}this.__isAsync&&(x=ow(x),D&&(D=ow(D)),R&&(R=ow(R)));const V=super.subscribe({next:D,error:x,complete:R});return c instanceof _t.w&&c.add(V),V}};function l1(){return this._results[gg()]()}class Lf{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=gg(),p=Lf.prototype;p[u]||(p[u]=l1)}get changes(){return this._changes||(this._changes=new kh)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const p=this;p.dirty=!1;const g=Ja(c);(this._changesDetected=!function(l,c,u){if(l.length!==c.length)return!1;for(let p=0;p<l.length;p++){let g=l[p],y=c[p];if(u&&(g=u(g),y=u(y)),y!==g)return!1}return!0}(p._results,g,u))&&(p._results=g,p.length=g.length,p.last=g[this.length-1],p.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class qb{constructor(c){this.queryList=c,this.matches=null}clone(){return new qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class zb{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const p=null!==c.contentQueries?c.contentQueries[0]:u.length,g=[];for(let y=0;y<p;y++){const E=u.getByIndex(y);g.push(this.queries[E.indexInDeclarationView].clone())}return new zb(g)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==p1(c,u).matches&&this.queries[u].setDirty()}}class c1{constructor(c,u,p=null){this.predicate=c,this.flags=u,this.read=p}}class Mh{constructor(c=[]){this.queries=c}elementStart(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let p=0;p<this.length;p++){const g=null!==u?u.length:0,y=this.getByIndex(p).embeddedTView(c,g);y&&(y.indexInDeclarationView=p,null!==u?u.push(y):u=[y])}return null!==u?new Mh(u):null}template(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Ud{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new Ud(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let g=0;g<p.length;g++){const y=p[g];this.matchTNodeWithReadOption(c,u,hw(u,y)),this.matchTNodeWithReadOption(c,u,Bm(u,c,y,!1,!1))}else p===Iu?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Bm(u,c,p,!1,!1))}matchTNodeWithReadOption(c,u,p){if(null!==p){const g=this.metadata.read;if(null!==g)if(g===_o||g===Qi||g===Iu&&4&u.type)this.addMatch(u.index,-2);else{const y=Bm(u,c,g,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,p)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function hw(l,c){const u=l.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===c)return u[p+1];return null}function u1(l,c,u,p){return-1===u?function(l,c){return 11&l.type?vh(l,c):4&l.type?$g(l,c):null}(c,l):-2===u?function(l,c,u){return u===_o?vh(c,l):u===Iu?$g(c,l):u===Qi?Ib(c,l):void 0}(l,c,p):Vl(l,l[1],u,c)}function ua(l,c,u,p){const g=c[19].queries[p];if(null===g.matches){const y=l.data,E=u.matches,D=[];for(let x=0;x<E.length;x+=2){const R=E[x];D.push(R<0?null:u1(c,y[R],E[x+1],u.metadata.read))}g.matches=D}return g.matches}function Vo(l,c,u,p){const g=l.queries.getByIndex(u),y=g.matches;if(null!==y){const E=ua(l,c,g,u);for(let D=0;D<y.length;D+=2){const x=y[D];if(x>0)p.push(E[D/2]);else{const R=y[D+1],V=c[-x];for(let W=10;W<V.length;W++){const Y=V[W];Y[17]===Y[3]&&Vo(Y[1],Y,R,p)}if(null!==V[9]){const W=V[9];for(let Y=0;Y<W.length;Y++){const te=W[Y];Vo(te[1],te,R,p)}}}}}return p}function Fo(l){const c=Ke(),u=Di(),p=Rm();Lm(p+1);const g=p1(u,p);if(l.dirty&&od(c)===(2==(2&g.metadata.flags))){if(null===g.matches)l.reset([]);else{const y=g.crossesNgTemplate?Vo(u,c,p,[]):ua(u,c,g,p);l.reset(y,V0),l.notifyOnChanges()}return!0}return!1}function Oh(l,c,u){const p=Di();p.firstCreatePass&&(zA(p,new c1(l,c,u),-1),2==(2&c)&&(p.staticViewQueries=!0)),_f(p,Ke(),c)}function d1(l,c,u,p){const g=Di();if(g.firstCreatePass){const y=er();zA(g,new c1(c,u,p),y.index),function(l,c){const u=l.contentQueries||(l.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(l.queries.length-1,c)}(g,l),2==(2&u)&&(g.staticContentQueries=!0)}_f(g,Ke(),u)}function qA(){return l=Ke(),c=Rm(),l[19].queries[c].queryList;var l,c}function _f(l,c,u){const p=new Lf(4==(4&u));RE(l,c,p,p.destroy),null===c[19]&&(c[19]=new zb),c[19].queries.push(new qb(p))}function zA(l,c,u){null===l.queries&&(l.queries=new Mh),l.queries.track(new Ud(c,u))}function p1(l,c){return l.queries.getByIndex(c)}function f1(l,c){return $g(l,c)}const za=(()=>({\u0275\u0275attribute:yg,\u0275\u0275attributeInterpolate1:mT,\u0275\u0275attributeInterpolate2:gT,\u0275\u0275attributeInterpolate3:vT,\u0275\u0275attributeInterpolate4:yT,\u0275\u0275attributeInterpolate5:bT,\u0275\u0275attributeInterpolate6:kd,\u0275\u0275attributeInterpolate7:Yy,\u0275\u0275attributeInterpolate8:i0,\u0275\u0275attributeInterpolateV:CT,\u0275\u0275defineComponent:bp,\u0275\u0275defineDirective:Jn,\u0275\u0275defineInjectable:Hn,\u0275\u0275defineInjector:Ii,\u0275\u0275defineNgModule:La,\u0275\u0275definePipe:Cp,\u0275\u0275directiveInject:Xy,\u0275\u0275getInheritedFactory:vk,\u0275\u0275inject:mr,\u0275\u0275injectAttribute:Vp,\u0275\u0275invalidFactory:KM,\u0275\u0275invalidFactoryDep:eS,\u0275\u0275templateRefExtractor:f1,\u0275\u0275NgOnChangesFeature:xp,\u0275\u0275ProvidersFeature:lA,\u0275\u0275CopyDefinitionFeature:MM,\u0275\u0275InheritDefinitionFeature:qy,\u0275\u0275nextContext:NT,\u0275\u0275namespaceHTML:iE,\u0275\u0275namespaceMathML:tE,\u0275\u0275namespaceSVG:Pp,\u0275\u0275enableBindings:XC,\u0275\u0275disableBindings:ZC,\u0275\u0275elementStart:MT,\u0275\u0275elementEnd:Cu,\u0275\u0275element:h0,\u0275\u0275elementContainerStart:u0,\u0275\u0275elementContainerEnd:OT,\u0275\u0275elementContainer:d0,\u0275\u0275pureFunction0:a1,\u0275\u0275pureFunction1:Jg,\u0275\u0275pureFunction2:rw,\u0275\u0275pureFunction3:jb,\u0275\u0275pureFunction4:Fu,\u0275\u0275pureFunction5:Fs,\u0275\u0275pureFunction6:St,\u0275\u0275pureFunction7:aw,\u0275\u0275pureFunction8:Ql,\u0275\u0275pureFunctionV:jA,\u0275\u0275getCurrentView:ZM,\u0275\u0275restoreView:iy,\u0275\u0275listener:_T,\u0275\u0275projection:iO,\u0275\u0275syntheticHostProperty:qT,\u0275\u0275syntheticHostListener:Zy,\u0275\u0275pipeBind1:Ih,\u0275\u0275pipeBind2:Gn,\u0275\u0275pipeBind3:Dr,\u0275\u0275pipeBind4:Wb,\u0275\u0275pipeBindV:UA,\u0275\u0275projectionDef:tO,\u0275\u0275hostProperty:S0,\u0275\u0275property:IT,\u0275\u0275propertyInterpolate:VT,\u0275\u0275propertyInterpolate1:kt,\u0275\u0275propertyInterpolate2:Ni,\u0275\u0275propertyInterpolate3:f0,\u0275\u0275propertyInterpolate4:_e,\u0275\u0275propertyInterpolate5:FT,\u0275\u0275propertyInterpolate6:Sg,\u0275\u0275propertyInterpolate7:Jy,\u0275\u0275propertyInterpolate8:Od,\u0275\u0275propertyInterpolateV:Dc,\u0275\u0275pipe:lo,\u0275\u0275queryRefresh:Fo,\u0275\u0275viewQuery:Oh,\u0275\u0275loadQuery:qA,\u0275\u0275contentQuery:d1,\u0275\u0275reference:ET,\u0275\u0275classMap:lO,\u0275\u0275classMapInterpolate1:rn,\u0275\u0275classMapInterpolate2:hO,\u0275\u0275classMapInterpolate3:g0,\u0275\u0275classMapInterpolate4:v0,\u0275\u0275classMapInterpolate5:uO,\u0275\u0275classMapInterpolate6:y0,\u0275\u0275classMapInterpolate7:ff,\u0275\u0275classMapInterpolate8:Rg,\u0275\u0275classMapInterpolateV:dO,\u0275\u0275styleMap:gh,\u0275\u0275styleMapInterpolate1:pO,\u0275\u0275styleMapInterpolate2:fO,\u0275\u0275styleMapInterpolate3:mO,\u0275\u0275styleMapInterpolate4:BT,\u0275\u0275styleMapInterpolate5:gO,\u0275\u0275styleMapInterpolate6:jT,\u0275\u0275styleMapInterpolate7:mf,\u0275\u0275styleMapInterpolate8:ab,\u0275\u0275styleMapInterpolateV:vO,\u0275\u0275styleProp:rO,\u0275\u0275stylePropInterpolate1:WT,\u0275\u0275stylePropInterpolate2:b0,\u0275\u0275stylePropInterpolate3:Lg,\u0275\u0275stylePropInterpolate4:UT,\u0275\u0275stylePropInterpolate5:C0,\u0275\u0275stylePropInterpolate6:E0,\u0275\u0275stylePropInterpolate7:w0,\u0275\u0275stylePropInterpolate8:D0,\u0275\u0275stylePropInterpolateV:ob,\u0275\u0275classProp:aO,\u0275\u0275advance:Gs,\u0275\u0275template:RM,\u0275\u0275text:lN,\u0275\u0275textInterpolate:gn,\u0275\u0275textInterpolate1:kg,\u0275\u0275textInterpolate2:m0,\u0275\u0275textInterpolate3:pf,\u0275\u0275textInterpolate4:Du,\u0275\u0275textInterpolate5:Mg,\u0275\u0275textInterpolate6:Og,\u0275\u0275textInterpolate7:yr,\u0275\u0275textInterpolate8:ct,\u0275\u0275textInterpolateV:me,\u0275\u0275i18n:NO,\u0275\u0275i18nAttributes:Hg,\u0275\u0275i18nExp:aA,\u0275\u0275i18nStart:R0,\u0275\u0275i18nEnd:L0,\u0275\u0275i18nApply:mb,\u0275\u0275i18nPostprocess:gb,\u0275\u0275resolveWindow:H,\u0275\u0275resolveDocument:bS,\u0275\u0275resolveBody:sn,\u0275\u0275setComponentScope:bm,\u0275\u0275setNgModuleScope:Uc,\u0275\u0275sanitizeHtml:uS,\u0275\u0275sanitizeStyle:Uk,\u0275\u0275sanitizeResourceUrl:bE,\u0275\u0275sanitizeScript:pS,\u0275\u0275sanitizeUrl:dS,\u0275\u0275sanitizeUrlOrResourceUrl:fS,\u0275\u0275trustConstantHtml:qk,\u0275\u0275trustConstantResourceUrl:zk,forwardRef:$t,resolveForwardRef:st}))();let Pf=null;function $A(){Pf=null}const si=[];let GA=!1;function uw(){if(!GA){GA=!0;try{for(let l=si.length-1;l>=0;l--){const{moduleType:c,ngModule:u}=si[l];u.declarations&&u.declarations.every(m1)&&(si.splice(l,1),Ff(c,u))}}finally{GA=!1}}}function m1(l){return Array.isArray(l)?l.every(m1):!!st(l)}function Xl(l,c={}){pl(l,c),function(l,c){si.push({moduleType:l,ngModule:c})}(l,c)}function pl(l,c,u=!1){const p=Ja(c.declarations||cs);let g=null;Object.defineProperty(l,yp,{configurable:!0,get:()=>(null===g&&(g=$r().compileNgModule(za,`ng:///${l.name}/\u0275mod.js`,{type:l,bootstrap:Ja(c.bootstrap||cs).map(st),declarations:p.map(st),imports:Ja(c.imports||cs).map(st).map(v1),exports:Ja(c.exports||cs).map(st).map(v1),schemas:c.schemas?Ja(c.schemas):null,id:c.id||null}),g.schemas||(g.schemas=[])),g)});let y=null;Object.defineProperty(l,el,{get:()=>{if(null===y){const D=$r();y=D.compileFactory(za,`ng:///${l.name}/\u0275fac.js`,{name:l.name,type:l,deps:fd(l),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return y},configurable:!1});let E=null;Object.defineProperty(l,xl,{get:()=>{if(null===E){const D={name:l.name,type:l,providers:c.providers||cs,imports:[(c.imports||cs).map(st),(c.exports||cs).map(st)]};E=$r().compileInjector(za,`ng:///${l.name}/\u0275inj.js`,D)}return E},configurable:!1})}let dw=new WeakMap,Nf=new WeakMap;function Gb(){dw=new WeakMap,Nf=new WeakMap,si.length=0}function Ff(l,c){const u=Ja(c.declarations||cs),p=Hf(l);u.forEach(g=>{g.hasOwnProperty(Il)?ev(kr(g),p):!g.hasOwnProperty(kl)&&!g.hasOwnProperty(vp)&&(g.ngSelectorScope=l)})}function ev(l,c){l.directiveDefs=()=>Array.from(c.compilation.directives).map(u=>u.hasOwnProperty(Il)?kr(u):Ml(u)).filter(u=>!!u),l.pipeDefs=()=>Array.from(c.compilation.pipes).map(u=>hc(u)),l.schemas=c.schemas,l.tView=null}function Hf(l){if(!pw(l))throw new Error(`${l.name} does not have a module def (\u0275mod property)`);const c=ia(l);if(null!==c.transitiveCompileScopes)return c.transitiveCompileScopes;const u={schemas:c.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ge(c.imports).forEach(p=>{const g=p;if(!pw(g))throw new Error(`Importing ${g.name} which does not have a \u0275mod property`);const y=Hf(g);y.exported.directives.forEach(E=>u.compilation.directives.add(E)),y.exported.pipes.forEach(E=>u.compilation.pipes.add(E))}),Ge(c.declarations).forEach(p=>{hc(p)?u.compilation.pipes.add(p):u.compilation.directives.add(p)}),Ge(c.exports).forEach(p=>{const g=p;if(pw(g)){const y=Hf(g);y.exported.directives.forEach(E=>{u.compilation.directives.add(E),u.exported.directives.add(E)}),y.exported.pipes.forEach(E=>{u.compilation.pipes.add(E),u.exported.pipes.add(E)})}else hc(g)?u.exported.pipes.add(g):u.exported.directives.add(g)}),c.transitiveCompileScopes=u,u}function v1(l){return function(l){return void 0!==l.ngModule}(l)?l.ngModule:l}function pw(l){return!!ia(l)}let Qb=0;function fw(l,c){let u=null;(function(l,c){Rk(c)&&(Jm.set(l,c),Wp.add(l))})(l,c),jf(l,c),Object.defineProperty(l,Il,{get:()=>{if(null===u){const p=$r();if(Rk(c)){const R=[`Component '${l.name}' is not resolved:`];throw c.templateUrl&&R.push(` - templateUrl: ${c.templateUrl}`),c.styleUrls&&c.styleUrls.length&&R.push(` - styleUrls: ${JSON.stringify(c.styleUrls)}`),R.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(R.join("\n"))}const g=Pf;let y=c.preserveWhitespaces;void 0===y&&(y=null!==g&&void 0!==g.preserveWhitespaces&&g.preserveWhitespaces);let E=c.encapsulation;void 0===E&&(E=null!==g&&void 0!==g.defaultEncapsulation?g.defaultEncapsulation:ji.Emulated);const D=c.templateUrl||`ng:///${l.name}/template.html`,x=Object.assign(Object.assign({},Kb(l,c)),{typeSourceSpan:p.createParseSourceSpan("Component",l.name,D),template:c.template||"",preserveWhitespaces:y,styles:c.styles||cs,animations:c.animations,directives:[],changeDetection:c.changeDetection,pipes:new Map,encapsulation:E,interpolation:c.interpolation,viewProviders:c.viewProviders||null});Qb++;try{x.usesInheritance&&da(l),u=p.compileComponent(za,D,x)}finally{Qb--}if(0===Qb&&uw(),function(l){return void 0!==l.ngSelectorScope}(l)){const R=Hf(l.ngSelectorScope);ev(u,R)}}return u},configurable:!1})}function Sr(l,c){let u=null;jf(l,c||{}),Object.defineProperty(l,kl,{get:()=>{if(null===u){const p=Bf(l,c||{});u=$r().compileDirective(za,p.sourceMapUrl,p.metadata)}return u},configurable:!1})}function Bf(l,c){const u=l&&l.name,p=`ng:///${u}/\u0275dir.js`,g=$r(),y=Kb(l,c);return y.typeSourceSpan=g.createParseSourceSpan("Directive",u,p),y.usesInheritance&&da(l),{metadata:y,sourceMapUrl:p}}function jf(l,c){let u=null;Object.defineProperty(l,el,{get:()=>{if(null===u){const p=Bf(l,c),g=$r();u=g.compileFactory(za,`ng:///${l.name}/\u0275fac.js`,{name:p.metadata.name,type:p.metadata.type,typeArgumentCount:0,deps:fd(l),target:g.FactoryTarget.Directive})}return u},configurable:!1})}function KA(l){return Object.getPrototypeOf(l.prototype)===Object.prototype}function Kb(l,c){const u=Xm(),p=u.ownPropMetadata(l);return{name:l.name,type:l,selector:void 0!==c.selector?c.selector:null,host:c.host||cc,propMetadata:p,inputs:c.inputs||cs,outputs:c.outputs||cs,queries:mw(l,p,XA),lifecycle:{usesOnChanges:u.hasLifecycleHook(l,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!KA(l),exportAs:Xb(c.exportAs),providers:c.providers||null,viewQueries:mw(l,p,y1)}}function da(l){const c=Object.prototype;let u=Object.getPrototypeOf(l.prototype).constructor;for(;u&&u!==c;)!Ml(u)&&!kr(u)&&ex(u)&&Sr(u,null),u=Object.getPrototypeOf(u)}function Dn(l){return"string"==typeof l?b1(l):st(l)}function xc(l,c){return{propertyName:l,predicate:Dn(c.selector),descendants:c.descendants,first:c.first,read:c.read?c.read:null,static:!!c.static,emitDistinctChangesOnly:!!c.emitDistinctChangesOnly}}function mw(l,c,u){const p=[];for(const g in c)if(c.hasOwnProperty(g)){const y=c[g];y.forEach(E=>{if(u(E)){if(!E.selector)throw new Error(`Can't construct a query for the property "${g}" of "${ps(l)}" since the query selector wasn't defined.`);if(y.some(ZA))throw new Error("Cannot combine @Input decorators with query decorators");p.push(xc(g,E))}})}return p}function Xb(l){return void 0===l?null:b1(l)}function XA(l){const c=l.ngMetadataName;return"ContentChild"===c||"ContentChildren"===c}function y1(l){const c=l.ngMetadataName;return"ViewChild"===c||"ViewChildren"===c}function ZA(l){return"Input"===l.ngMetadataName}function b1(l){return l.split(",").map(c=>c.trim())}const JA=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function ex(l){const c=Xm();if(JA.some(p=>c.hasLifecycleHook(l,p)))return!0;const u=c.propMetadata(l);for(const p in u){const g=u[p];for(let y=0;y<g.length;y++){const E=g[y],D=E.ngMetadataName;if(ZA(E)||XA(E)||y1(E)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function tx(l,c){let u=null,p=null;Object.defineProperty(l,el,{get:()=>{if(null===p){const g=ix(l,c),y=$r();p=y.compileFactory(za,`ng:///${g.name}/\u0275fac.js`,{name:g.name,type:g.type,typeArgumentCount:0,deps:fd(l),target:y.FactoryTarget.Pipe})}return p},configurable:!1}),Object.defineProperty(l,vp,{get:()=>{if(null===u){const g=ix(l,c);u=$r().compilePipe(za,`ng:///${g.name}/\u0275pipe.js`,g)}return u},configurable:!1})}function ix(l,c){return{type:l,name:l.name,pipeName:c.name,pure:void 0===c.pure||c.pure}}const C1=Wm("Directive",(l={})=>l,void 0,void 0,(l,c)=>rx(l,c)),Kn=Wm("Component",(l={})=>Object.assign({changeDetection:bn.Default},l),C1,void 0,(l,c)=>T1(l,c)),sx=Wm("Pipe",l=>Object.assign({pure:!0},l),void 0,void 0,(l,c)=>UN(l,c)),Aa=Rr("Input",l=>({bindingPropertyName:l})),E1=Rr("Output",l=>({bindingPropertyName:l})),w1=Rr("HostBinding",l=>({hostPropertyName:l})),WN=Rr("HostListener",(l,c)=>({eventName:l,args:c})),Zb=fw,D1=Sr,S1=tx,T1=Zb,rx=D1,UN=S1,A1=Wm("NgModule",l=>l,void 0,void 0,(l,c)=>zN(l,c)),ax=Xl,zN=ax,Rh=new ir("Application Initializer");let Uf=(()=>{class l{constructor(u){this.appInits=u,this.resolve=Cb,this.reject=Cb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,g)=>{this.resolve=p,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(RT(y))u.push(y);else if(p0(y)){const E=new Promise((D,x)=>{y.subscribe({complete:D,error:x})});u.push(E)}}Promise.all(u).then(()=>{p()}).catch(g=>{this.reject(g)}),0===u.length&&p(),this.initialized=!0}}return l.\u0275fac=function(u){return new(u||l)(mr(Rh,8))},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();const x1=new ir("AppId");function I1(){return`${gw()}${gw()}${gw()}`}const iv={provide:x1,useFactory:I1,deps:[]};function gw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jb=new ir("Platform Initializer"),k1=new ir("Platform ID"),M1=new ir("appBootstrapListener"),O1=new ir("Application Packages Root URL");let R1=(()=>{class l{log(u){console.log(u)}warn(u){console.warn(u)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();const vw=new ir("LocaleId"),L1=new ir("DefaultCurrencyCode"),uj=new ir("Translations"),zs=new ir("TranslationsFormat");var Lh=(()=>((Lh=Lh||{})[Lh.Error=0]="Error",Lh[Lh.Warning=1]="Warning",Lh[Lh.Ignore=2]="Ignore",Lh))();const eC=!0,tC=eC;class ox{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}const yw=function(l){return new Zg(l)},lx=yw,cx=function(l){return Promise.resolve(yw(l))},bw=cx,hx=function(l){const c=yw(l),p=Ge(ia(l).declarations).reduce((g,y)=>{const E=kr(y);return E&&g.push(new NA(E)),g},[]);return new ox(c,p)},$N=hx,_1=function(l){return Promise.resolve(hx(l))},Cw=_1;let iC=(()=>{class l{constructor(){this.compileModuleSync=lx,this.compileModuleAsync=bw,this.compileModuleAndAllComponentsSync=$N,this.compileModuleAndAllComponentsAsync=Cw}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();const Ew=new ir("compilerOptions");class ux{}const Es=(()=>Promise.resolve(0))();function gi(l){"undefined"==typeof Zone?Es.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Bo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kh(!1),this.onMicrotaskEmpty=new kh(!1),this.onStable=new kh(!1),this.onError=new kh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!p&&u,g.shouldCoalesceRunChangeDetection=p,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let l=pn.requestAnimationFrame,c=pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(pn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,dx(l),l.isCheckStableRunning=!0,sC(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),dx(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,g,y,E,D)=>{try{return P1(l),u.invokeTask(g,y,E,D)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||l.shouldCoalesceRunChangeDetection)&&c(),sv(l)}},onInvoke:(u,p,g,y,E,D,x)=>{try{return P1(l),u.invoke(g,y,E,D,x)}finally{l.shouldCoalesceRunChangeDetection&&c(),sv(l)}},onHasTask:(u,p,g,y)=>{u.hasTask(g,y),p===g&&("microTask"==y.change?(l._hasPendingMicrotasks=y.microTask,dx(l),sC(l)):"macroTask"==y.change&&(l.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,p,g,y)=>(u.handleError(g,y),l.runOutsideAngular(()=>l.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,u,p){return this._inner.run(c,u,p)}runTask(c,u,p,g){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+g,c,QN,Cb,Cb);try{return y.runTask(E,u,p)}finally{y.cancelTask(E)}}runGuarded(c,u,p){return this._inner.runGuarded(c,u,p)}runOutsideAngular(c){return this._outer.run(c)}}const QN={};function sC(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function dx(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function P1(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function sv(l){l._nesting--,sC(l)}class N1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kh,this.onMicrotaskEmpty=new kh,this.onStable=new kh,this.onError=new kh}run(c,u,p){return c.apply(u,p)}runGuarded(c,u,p){return c.apply(u,p)}runOutsideAngular(c){return c()}runTask(c,u,p,g){return c.apply(u,p)}}let V1=(()=>{class l{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),gi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gi(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,g){let y=-1;p&&p>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:g})}whenStable(u,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,p,g){return[]}}return l.\u0275fac=function(u){return new(u||l)(mr(Bo))},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})(),ww=(()=>{class l{constructor(){this._applications=new Map,Zr.addToWindow(this)}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return Zr.findTestabilityInTree(this,u,p)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();class Is{addToWindow(c){}findTestabilityInTree(c,u,p){return null}}function KN(l){Zr=l}let Zr=new Is,co=!0,px=!1;function Bu(){return px=!0,co}function XN(){if(px)throw new Error("Cannot enable prod mode after platform setup.");co=!1}let Vr,nv=nC;function nC(l,c,u){const p=new Zg(u);return Promise.resolve(p)}let Dw=xa;function xa(l){return l.isBoundToModule}const ju=new ir("AllowMultipleToken");class gx{constructor(c,u){this.name=c,this.token=u}}function Sw(l){if(Vr&&!Vr.destroyed&&!Vr.injector.get(ju,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vr=l.get(Tw);const c=l.get(Jb,null);return c&&c.forEach(u=>u()),Vr}function F1(l,c,u=[]){const p=`Platform: ${c}`,g=new ir(p);return(y=[])=>{let E=vx();if(!E||E.injector.get(ju,!1))if(l)l(u.concat(y).concat({provide:g,useValue:!0}));else{const D=u.concat(y).concat({provide:g,useValue:!0},{provide:dg,useValue:"platform"});Sw(Qs.create({providers:D,name:p}))}return rv(g)}}function rv(l){const c=vx();if(!c)throw new Error("No platform exists!");if(!c.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}function ZN(){Vr&&!Vr.destroyed&&Vr.destroy()}function vx(){return Vr&&!Vr.destroyed?Vr:null}let Tw=(()=>{class l{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const D=function(l,c){let u;return u="noop"===l?new N1:("zone.js"===l?void 0:l)||new Bo({enableLongStackTrace:Bu(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),u}(p?p.ngZone:void 0,{ngZoneEventCoalescing:p&&p.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:p&&p.ngZoneRunCoalescing||!1}),x=[{provide:Bo,useValue:D}];return D.run(()=>{const R=Qs.create({providers:x,parent:this.injector,name:u.moduleType.name}),V=u.create(R),W=V.injector.get(ng,null);if(!W)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return D.runOutsideAngular(()=>{const Y=D.onError.subscribe({next:te=>{W.handleError(te)}});V.onDestroy(()=>{_h(this._modules,V),Y.unsubscribe()})}),function(l,c,u){try{const p=u();return RT(p)?p.catch(g=>{throw c.runOutsideAngular(()=>l.handleError(g)),g}):p}catch(p){throw c.runOutsideAngular(()=>l.handleError(p)),p}}(W,D,()=>{const Y=V.injector.get(Uf);return Y.runInitializers(),Y.donePromise.then(()=>(tC&&x0(V.injector.get(vw,_g)||_g),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,p=[]){const g=ov({},p);return nv(this.injector,g,u).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(u){const p=u.injector.get(Wu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${He(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(u){return new(u||l)(mr(Qs))},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();function ov(l,c){return Array.isArray(c)?c.reduce(ov,l):Object.assign(Object.assign({},l),c)}let Wu=(()=>{class l{constructor(u,p,g,y,E){this._zone=u,this._injector=p,this._exceptionHandler=g,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new K.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),x=new K.y(R=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),gi(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{V.unsubscribe(),W.unsubscribe()}});this.isStable=function(...l){let c=Number.POSITIVE_INFINITY,u=null,p=l[l.length-1];return(0,it.K)(p)?(u=l.pop(),l.length>1&&"number"==typeof l[l.length-1]&&(c=l.pop())):"number"==typeof p&&(c=l.pop()),null===u&&1===l.length&&l[0]instanceof K.y?l[0]:(0,ke.J)(c)((0,b.n)(l,u))}(D,x.pipe(l=>(0,Me.x)()(function(l,c){return function(p){let g;g="function"==typeof l?l:function(){return l};const y=Object.create(p,Pt.N);return y.source=p,y.subjectFactory=g,y}}(xe)(l))))}bootstrap(u,p){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=u instanceof bf?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(g.componentType);const y=Dw(g)?void 0:this._injector.get(ku),D=g.create(Qs.NULL,[],p||g.selector,y),x=D.location.nativeElement,R=D.injector.get(V1,null),V=R&&D.injector.get(ww);return R&&V&&V.registerApplication(x,R),D.onDestroy(()=>{this.detachView(D.hostView),_h(this.components,D),V&&V.unregisterApplication(x)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;_h(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(M1,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(u){return new(u||l)(mr(Bo),mr(Qs),mr(ng),mr(zl),mr(Uf))},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();function _h(l,c){const u=l.indexOf(c);u>-1&&l.splice(u,1)}class eV{}function tV(l){const c=HA(l);if(!c)throw Ya(l);return c}function H1(l){const c=HA(l);if(!c)throw Ya(l);return new Zg(c)}const B1=H1;function Ya(l){return new Error(`No module with ID ${l} loaded`)}class W1{}const ho={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let U1=(()=>{class l{constructor(u,p){this._compiler=u,this._config=p||ho}load(u){return!tC&&this._compiler instanceof iC?this.loadFactory(u):this.loadAndCompile(u)}loadAndCompile(u){let[p,g]=u.split("#");return void 0===g&&(g="default"),re(255)(p).then(y=>y[g]).then(y=>q1(y,p,g)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(u){let[p,g]=u.split("#"),y="NgFactory";return void 0===g&&(g="default",y=""),re(255)(this._config.factoryPathPrefix+p+this._config.factoryPathSuffix).then(E=>E[g+y]).then(E=>q1(E,p,g))}}return l.\u0275fac=function(u){return new(u||l)(mr(iC),mr(W1,8))},l.\u0275prov=Hn({token:l,factory:l.\u0275fac}),l})();function q1(l,c,u){if(!l)throw new Error(`Cannot find '${u}' in '${c}'`);return l}class z1 extends bA{}class Y1 extends z1{}class yx{constructor(c,u){this.name=c,this.callback=u}}class rC{constructor(c,u,p){this.listeners=[],this.parent=null,this._debugContext=p,this.nativeNode=c,u&&u instanceof Ar&&u.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ar extends rC{constructor(c,u,p){super(c,u,p),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=c}addChild(c){c&&(this.childNodes.push(c),c.parent=this)}removeChild(c){const u=this.childNodes.indexOf(c);-1!==u&&(c.parent=null,this.childNodes.splice(u,1))}insertChildrenAfter(c,u){const p=this.childNodes.indexOf(c);-1!==p&&(this.childNodes.splice(p+1,0,...u),u.forEach(g=>{g.parent&&g.parent.removeChild(g),c.parent=this}))}insertBefore(c,u){const p=this.childNodes.indexOf(c);-1===p?this.addChild(u):(u.parent&&u.parent.removeChild(u),u.parent=this,this.childNodes.splice(p,0,u))}query(c){return this.queryAll(c)[0]||null}queryAll(c){const u=[];return bx(this,c,u),u}queryAllNodes(c){const u=[];return Cx(this,c,u),u}get children(){return this.childNodes.filter(c=>c instanceof Ar)}triggerEventHandler(c,u){this.listeners.forEach(p=>{p.name==c&&p.callback(u)})}}function iV(l){return l.map(c=>c.nativeElement)}function bx(l,c,u){l.childNodes.forEach(p=>{p instanceof Ar&&(c(p)&&u.push(p),bx(p,c,u))})}function Cx(l,c,u){l instanceof Ar&&l.childNodes.forEach(p=>{c(p)&&u.push(p),p instanceof Ar&&Cx(p,c,u)})}class lv{constructor(c){this.nativeNode=c}get parent(){const c=this.nativeNode.parentNode;return c?new vi(c):null}get injector(){return oT(this.nativeNode)}get componentInstance(){const c=this.nativeNode;return c&&(jy(c)||yu(c))}get context(){return jy(this.nativeNode)||GE(this.nativeNode)}get listeners(){return cT(this.nativeNode).filter(c=>"dom"===c.type)}get references(){return function(l){const c=Pa(l);return null===c?{}:(void 0===c.localRefs&&(c.localRefs=function(l,c){const u=l[1].data[c];if(u&&u.localNames){const p={};let g=u.index+1;for(let y=0;y<u.localNames.length;y+=2)p[u.localNames[y]]=l[g],g++;return p}return null}(c.lView,c.nodeIndex)),c.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(l){const c=Pa(l);if(null===c)return[];const p=c.lView[1],g=p.data[c.nodeIndex],y=[],D=g.directiveEnd;for(let x=1048575&g.providerIndexes;x<D;x++){let R=p.data[x];KE(R)&&(R=R.type),y.push(R)}return y}(this.nativeNode)}}class vi extends lv{constructor(c){super(c)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const c=Pa(this.nativeNode);return null!==c?c.lView[1].data[c.nodeIndex].value:this.nativeNode.nodeName}get properties(){const c=Pa(this.nativeNode);if(null===c)return{};const u=c.lView,p=u[1].data,g=p[c.nodeIndex],y={};return function(l,c){if(l){let u=Object.getPrototypeOf(l);const p=Node.prototype;for(;null!==u&&u!==p;){const g=Object.getOwnPropertyDescriptors(u);for(let y in g)if(!y.startsWith("__")&&!y.startsWith("on")){const E=l[y];sV(E)&&(c[y]=E)}u=Object.getPrototypeOf(u)}}}(this.nativeElement,y),function(l,c,u,p){let g=c.propertyBindings;if(null!==g)for(let y=0;y<g.length;y++){const E=g[y],x=p[E].split("\ufffd"),R=x[0];if(x.length>1){let V=x[1];for(let W=1;W<x.length-1;W++)V+=ti(u[E+W-1])+x[W+1];l[R]=V}else l[R]=u[E]}}(y,g,u,p),y}get attributes(){const c={},u=this.nativeElement;if(!u)return c;const p=Pa(u);if(null===p)return{};const y=p.lView[1].data[p.nodeIndex].attrs,E=[];if(y){let x=0;for(;x<y.length;){const R=y[x];if("string"!=typeof R)break;c[R]=y[x+1],E.push(R.toLowerCase()),x+=2}}const D=u.attributes;for(let x=0;x<D.length;x++){const R=D[x],V=R.name.toLowerCase();-1===E.indexOf(V)&&(c[V]=R.value)}return c}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const c={},p=this.nativeElement.className;return(p&&"string"!=typeof p?p.baseVal.split(" "):p.split(" ")).forEach(y=>c[y]=!0),c}get childNodes(){const c=this.nativeNode.childNodes,u=[];for(let p=0;p<c.length;p++)u.push(Iw(c[p]));return u}get children(){const c=this.nativeElement;if(!c)return[];const u=c.children,p=[];for(let g=0;g<u.length;g++)p.push(Iw(u[g]));return p}query(c){return this.queryAll(c)[0]||null}queryAll(c){const u=[];return $1(this,c,u,!0),u}queryAllNodes(c){const u=[];return $1(this,c,u,!1),u}triggerEventHandler(c,u){const p=this.nativeNode,g=[];this.listeners.forEach(y=>{if(y.name===c){const E=y.callback;E.call(p,u),g.push(E)}}),"function"==typeof p.eventListeners&&p.eventListeners(c).forEach(y=>{if(-1!==y.toString().indexOf("__ngUnwrap__")){const E=y("__ngUnwrap__");return-1===g.indexOf(E)&&E.call(p,u)}})}}function sV(l){return"string"==typeof l||"boolean"==typeof l||"number"==typeof l||null===l}function $1(l,c,u,p){const g=Pa(l.nativeNode);null!==g?qd(g.lView[1].data[g.nodeIndex],g.lView,c,u,p,l.nativeNode):xw(l.nativeNode,c,u,p)}function qd(l,c,u,p,g,y){const E=function(l,c){const u=null===l?-1:l.index;return-1!==u?Pi(c[u]):null}(l,c);if(11&l.type){if(Aw(E,u,p,g,y),Xa(l)){const x=qr(l.index,c);x&&x[1].firstChild&&qd(x[1].firstChild,x,u,p,g,y)}else l.child&&qd(l.child,c,u,p,g,y),E&&xw(E,u,p,g);const D=c[l.index];ya(D)&&Ex(D,u,p,g,y)}else if(4&l.type){const D=c[l.index];Aw(D[7],u,p,g,y),Ex(D,u,p,g,y)}else if(16&l.type){const D=c[16],R=D[6].projection[l.projection];if(Array.isArray(R))for(let V of R)Aw(V,u,p,g,y);else if(R){const V=D[3];qd(V[1].data[R.index],V,u,p,g,y)}}else l.child&&qd(l.child,c,u,p,g,y);if(y!==E){const D=4&l.flags?l.projectionNext:l.next;D&&qd(D,c,u,p,g,y)}}function Ex(l,c,u,p,g){for(let y=10;y<l.length;y++){const E=l[y],D=E[1].firstChild;D&&qd(D,E,c,u,p,g)}}function Aw(l,c,u,p,g){if(g!==l){const y=Sn(l);if(!y)return;(p&&y instanceof vi&&c(y)&&-1===u.indexOf(y)||!p&&c(y)&&-1===u.indexOf(y))&&u.push(y)}}function xw(l,c,u,p){const g=l.childNodes,y=g.length;for(let E=0;E<y;E++){const D=g[E],x=Sn(D);x&&((p&&x instanceof vi&&c(x)&&-1===u.indexOf(x)||!p&&c(x)&&-1===u.indexOf(x))&&u.push(x),xw(D,c,u,p))}}const zf=new Map,wx="__ng_debug__";function Iw(l){return l instanceof Node?(l.hasOwnProperty(wx)||(l[wx]=l.nodeType==Node.ELEMENT_NODE?new vi(l):new lv(l)),l[wx]):null}const Sn=Iw;function Dx(l){return function(l){return zf.get(l)||null}(l)}const Ic=function(l){return null};function cv(l){zf.set(l.nativeNode,l)}const Q1=lv,K1=vi,aV=F1(null,"core",[{provide:k1,useValue:"unknown"},{provide:Tw,deps:[Qs]},{provide:ww,deps:[]},{provide:R1,deps:[]}]);function kw(){return qg}function Tx(){return Tb}function Mw(l){return l=l||tC&&"undefined"!=typeof $localize&&$localize.locale||_g,tC&&x0(l),l}const os=[{provide:Wu,useClass:Wu,deps:[Bo,Qs,ng,zl,Uf]},{provide:jd,deps:[Bo],useFactory:X1},{provide:Uf,useClass:Uf,deps:[[new oh,Rh]]},{provide:iC,useClass:iC,deps:[]},iv,{provide:yh,useFactory:kw,deps:[]},{provide:Sb,useFactory:Tx,deps:[]},{provide:vw,useFactory:Mw,deps:[[new Qm(vw),new oh,new lu]]},{provide:L1,useValue:SO}];function X1(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(u){c.push(u)}}let oV=(()=>{class l{constructor(u){}}return l.\u0275fac=function(u){return new(u||l)(mr(Wu))},l.\u0275mod=La({type:l}),l.\u0275inj=Ii({providers:os}),l})();function lV(l,c,u,p,g,y){l|=1;const{matchedQueries:E,references:D,matchedQueryIds:x}=$0(c);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:l,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:E,matchedQueryIds:x,references:D,ngContentIndex:u,childCount:p,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:y?If(y):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:g||ro},provider:null,text:null,query:null,ngContent:null}}function cV(l,c,u,p,g,y,E=[],D,x,R,V,W){R||(R=ro);const{matchedQueries:Y,references:te,matchedQueryIds:le}=$0(u);let De=null,ie=null;y&&([De,ie]=kf(y)),D=D||[];const Je=[];for(let pi=0;pi<D.length;pi++){const[ss,Ai,ec]=D[pi],[gC,Rc]=kf(Ai);let mv,qu;switch(15&ss){case 4:qu=ec;break;case 1:case 8:mv=ec}Je[pi]={flags:ss,ns:gC,name:Rc,nonMinifiedName:Rc,securityContext:mv,suffix:qu}}x=x||[];const je=[];for(let pi=0;pi<x.length;pi++){const[ss,Ai]=x[pi];je[pi]={type:0,target:ss,eventName:Ai,propName:null}}const Nt=(E=E||[]).map(([pi,ss])=>{const[Ai,ec]=kf(pi);return[Ai,ec,ss]});return W=function(l){return l&&l.id===ln&&(l.id=null!=l.encapsulation&&l.encapsulation!==ji.None||l.styles.length||Object.keys(l.data).length?"c"+rr++:Yn),l&&l.id===Yn&&(l=null),l||null}(W),V&&(c|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:c|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:Y,matchedQueryIds:le,references:te,ngContentIndex:p,childCount:g,bindings:Je,bindingFlags:G0(Je),outputs:je,element:{ns:De,name:ie,attrs:Nt,template:null,componentProvider:null,componentView:V||null,componentRendererType:W,publicProviders:null,allProviders:null,handleEvent:R||ro},provider:null,text:null,query:null,ngContent:null}}function hV(l,c,u){const p=u.element,g=l.root.selectorOrNode,y=l.renderer;let E;if(l.parent||!g){E=p.name?y.createElement(p.name,p.ns):y.createComment("");const D=DA(l,c,u);D&&y.appendChild(D,E)}else E=y.selectRootElement(g,!!p.componentRendererType&&p.componentRendererType.encapsulation===ji.ShadowDom);if(p.attrs)for(let D=0;D<p.attrs.length;D++){const[x,R,V]=p.attrs[D];y.setAttribute(E,R,V,x)}return E}function uV(l,c,u,p){for(let g=0;g<u.outputs.length;g++){const y=u.outputs[g],E=dV(l,u.nodeIndex,ao(y.target,y.eventName));let D=y.target,x=l;"component"===y.target&&(D=null,x=c);const R=x.renderer.listen(D||p,y.eventName,E);l.disposables[u.outputIndex+g]=R}}function dV(l,c,u){return p=>Y0(l,c,u,p)}function kc(l,c,u,p){if(!_n(l,c,u,p))return!1;const g=c.bindings[u],y=As(l,c.nodeIndex),E=y.renderElement,D=g.name;switch(15&g.flags){case 1:!function(l,c,u,p,g,y){const E=c.securityContext;let D=E?l.root.sanitizer.sanitize(E,y):y;D=null!=D?D.toString():null;const x=l.renderer;null!=y?x.setAttribute(u,g,D,p):x.removeAttribute(u,g,p)}(l,g,E,g.ns,D,p);break;case 2:!function(l,c,u,p){const g=l.renderer;p?g.addClass(c,u):g.removeClass(c,u)}(l,E,D,p);break;case 4:!function(l,c,u,p,g){let y=l.root.sanitizer.sanitize(sr.STYLE,g);if(null!=y){y=y.toString();const D=c.suffix;null!=D&&(y+=D)}else y=null;const E=l.renderer;null!=y?E.setStyle(u,p,y):E.removeStyle(u,p)}(l,g,E,D,p);break;case 8:!function(l,c,u,p,g){const y=c.securityContext;let E=y?l.root.sanitizer.sanitize(y,g):g;l.renderer.setProperty(u,p,E)}(33554432&c.flags&&32&g.flags?y.componentView:l,g,E,D,p)}return!0}function gV(l,c,u){let p=[];for(let g in u)p.push({propName:g,bindingType:u[g]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:l,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:c,filterId:QO(c),bindings:p},ngContent:null}}function oC(l){return new Lf(l)}function eR(l){const c=l.def.nodeMatchedQueries;for(;l.parent&&TN(l);){let u=l.parentNodeDef;l=l.parent;const p=u.nodeIndex+u.childCount;for(let g=0;g<=p;g++){const y=l.def.nodes[g];67108864&y.flags&&536870912&y.flags&&(y.query.filterId&c)===y.query.filterId&&Rb(l,g).setDirty(),(1&y.flags&&g+y.childCount<u.nodeIndex||!(67108864&y.childFlags)||!(536870912&y.childFlags))&&(g+=y.childCount)}}if(134217728&l.def.nodeFlags)for(let u=0;u<l.def.nodes.length;u++){const p=l.def.nodes[u];134217728&p.flags&&536870912&p.flags&&Rb(l,u).setDirty(),u+=p.childCount}}function tR(l,c){const u=Rb(l,c.nodeIndex);if(!u.dirty)return;let p,g;if(67108864&c.flags){const D=c.parent.parent;g=$f(l,D.nodeIndex,D.nodeIndex+D.childCount,c.query,[]),p=Ru(l,c.parent.nodeIndex).instance}else 134217728&c.flags&&(g=$f(l,0,l.def.nodes.length-1,c.query,[]),p=l.component);u.reset(g,V0);const y=c.query.bindings;let E=!1;for(let D=0;D<y.length;D++){const x=y[D];let R;switch(x.bindingType){case 0:R=u.first;break;case 1:R=u,E=!0}p[x.propName]=R}E&&u.notifyOnChanges()}function $f(l,c,u,p,g){for(let y=c;y<=u;y++){const E=l.def.nodes[y],D=E.matchedQueries[p.id];if(null!=D&&g.push(Ax(l,E,D)),1&E.flags&&E.element.template&&(E.element.template.nodeMatchedQueries&p.filterId)===p.filterId){const x=As(l,y);if((E.childMatchedQueries&p.filterId)===p.filterId&&($f(l,y+1,y+E.childCount,p,g),y+=E.childCount),16777216&E.flags){const V=x.viewContainer._embeddedViews;for(let W=0;W<V.length;W++){const Y=V[W],te=ul(Y);te&&te===x&&$f(Y,0,Y.def.nodes.length-1,p,g)}}const R=x.template._projectedViews;if(R)for(let V=0;V<R.length;V++){const W=R[V];$f(W,0,W.def.nodes.length-1,p,g)}}(E.childMatchedQueries&p.filterId)!==p.filterId&&(y+=E.childCount)}return g}function Ax(l,c,u){if(null!=u)switch(u){case 1:return As(l,c.nodeIndex).renderElement;case 0:return new _o(As(l,c.nodeIndex).renderElement);case 2:return As(l,c.nodeIndex).template;case 3:return As(l,c.nodeIndex).viewContainer;case 4:return Ru(l,c.nodeIndex).instance}}function vV(l,c){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:l,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:c}}}function yV(l,c,u){const p=DA(l,c,u);p&&XO(l,u.ngContent.index,1,p,null,void 0)}function zd(l,c){return Ow(128,l,dd(c+1))}function xx(l,c){return Ow(32,l,dd(c))}function bV(l,c){const u=Object.keys(c),p=u.length,g=[];for(let y=0;y<p;y++){g.push(u[y])}return Ow(64,l,g)}function Ow(l,c,u){const p=[];for(let g=0;g<u.length;g++){const y=u[g];p.push({flags:8,name:y,ns:null,nonMinifiedName:y,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:c,flags:l,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:p,bindingFlags:G0(p),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function is(l,c,u){const p=[];for(let g=1;g<u.length;g++)p[g-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:u[g]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:l,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:c,childCount:0,bindings:p,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:u[0]},query:null,ngContent:null}}function nR(l,c,u){let p;const g=l.renderer;p=g.createText(u.text.prefix);const y=DA(l,c,u);return y&&g.appendChild(y,p),{renderText:p}}function Jl(l,c){return(null!=l?l.toString():"")+c.suffix}function rR(l,c,u,p){let g=0,y=0,E=0,D=0,x=0,R=null,V=null,W=!1,Y=!1,te=null;for(let De=0;De<c.length;De++){const ie=c[De];if(ie.nodeIndex=De,ie.parent=R,ie.bindingIndex=g,ie.outputIndex=y,ie.renderParent=V,E|=ie.flags,x|=ie.matchedQueryIds,ie.element){const Je=ie.element;Je.publicProviders=R?R.element.publicProviders:Object.create(null),Je.allProviders=Je.publicProviders,W=!1,Y=!1,ie.element.template&&(x|=ie.element.template.nodeMatchedQueries)}if(Rw(R,ie,c.length),g+=ie.bindings.length,y+=ie.outputs.length,!V&&3&ie.flags&&(te=ie),20224&ie.flags){W||(W=!0,R.element.publicProviders=Object.create(R.element.publicProviders),R.element.allProviders=R.element.publicProviders);const je=0!=(32768&ie.flags);0==(8192&ie.flags)||je?R.element.publicProviders[bi(ie.provider.token)]=ie:(Y||(Y=!0,R.element.allProviders=Object.create(R.element.publicProviders)),R.element.allProviders[bi(ie.provider.token)]=ie),je&&(R.element.componentProvider=ie)}if(R?(R.childFlags|=ie.flags,R.directChildFlags|=ie.flags,R.childMatchedQueries|=ie.matchedQueryIds,ie.element&&ie.element.template&&(R.childMatchedQueries|=ie.element.template.nodeMatchedQueries)):D|=ie.flags,ie.childCount>0)R=ie,hv(ie)||(V=ie);else for(;R&&De===R.nodeIndex+R.childCount;){const Je=R.parent;Je&&(Je.childFlags|=R.childFlags,Je.childMatchedQueries|=R.childMatchedQueries),R=Je,V=R&&hv(R)?R.renderParent:R}}return{factory:null,nodeFlags:E,rootNodeFlags:D,nodeMatchedQueries:x,flags:l,nodes:c,updateDirectives:u||ro,updateRenderer:p||ro,handleEvent:(De,ie,Je,je)=>c[ie].element.handleEvent(De,Je,je),bindingCount:g,outputCount:y,lastRenderRootNode:te}}function hv(l){return 0!=(1&l.flags)&&null===l.element.name}function Rw(l,c,u){const p=c.element&&c.element.template;if(p){if(!p.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(p.lastRenderRootNode&&16777216&p.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${c.nodeIndex}!`)}if(20224&c.flags&&0==(1&(l?l.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${c.nodeIndex}!`);if(c.query){if(67108864&c.flags&&(!l||0==(16384&l.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${c.nodeIndex}!`);if(134217728&c.flags&&l)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${c.nodeIndex}!`)}if(c.childCount){const g=l?l.nodeIndex+l.childCount:u-1;if(c.nodeIndex<=g&&c.nodeIndex+c.childCount>g)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${c.nodeIndex}!`)}}function Ix(l,c,u,p){const g=lC(l.root,l.renderer,l,c,u);return Oc(g,l.component,p),kx(g),g}function wV(l,c,u){const p=lC(l,l.renderer,null,null,c);return Oc(p,u,u),kx(p),p}function Mc(l,c,u,p){const g=c.element.componentRendererType;let y;return y=g?l.root.rendererFactory.createRenderer(p,g):l.root.renderer,lC(l.root,y,l,c.element.componentProvider,u)}function lC(l,c,u,p,g){const y=new Array(g.nodes.length),E=g.outputCount?new Array(g.outputCount):null;return{def:g,parent:u,viewContainerParent:null,parentNodeDef:p,context:null,component:null,nodes:y,state:13,root:l,renderer:c,oldValues:new Array(g.bindingCount),disposables:E,initIndex:-1}}function Oc(l,c,u){l.component=c,l.context=u}function kx(l){let c;Nd(l)&&(c=As(l.parent,l.parentNodeDef.parent.nodeIndex).renderElement);const u=l.def,p=l.nodes;for(let g=0;g<u.nodes.length;g++){const y=u.nodes[g];let E;switch(zt.setCurrentNode(l,g),201347067&y.flags){case 1:const D=hV(l,c,y);let x;if(33554432&y.flags){const R=If(y.element.componentView);x=zt.createComponentView(l,y,R,D)}uV(l,x,y,D),E={renderElement:D,componentView:x,viewContainer:null,template:y.element.template?MA(l,y):void 0},16777216&y.flags&&(E.viewContainer=kN(l,y,E));break;case 2:E=nR(l,c,y);break;case 512:case 1024:case 2048:case 256:E=p[g],!E&&!(4096&y.flags)&&(E={instance:RA(l,y)});break;case 16:E={instance:LA(l,y)};break;case 16384:E=p[g],E||(E={instance:ts(l,y)}),32768&y.flags&&Oc(As(l,y.parent.nodeIndex).componentView,E.instance,E.instance);break;case 32:case 64:case 128:E={value:void 0};break;case 67108864:case 134217728:E=oC(-2147483648==(-2147483648&y.flags));break;case 8:yV(l,c,y),E=void 0}p[g]=E}cC(l,Hs.CreateViewNodes),hC(l,201326592,268435456,0)}function Gf(l){aR(l),zt.updateDirectives(l,1),Pw(l,Hs.CheckNoChanges),zt.updateRenderer(l,1),cC(l,Hs.CheckNoChanges),l.state&=-97}function Lw(l){1&l.state?(l.state&=-2,l.state|=2):l.state&=-3,Ob(l,0,256),aR(l),zt.updateDirectives(l,0),Pw(l,Hs.CheckAndUpdate),hC(l,67108864,536870912,0);let c=Ob(l,256,512);Po(l,2097152|(c?1048576:0)),zt.updateRenderer(l,0),cC(l,Hs.CheckAndUpdate),hC(l,134217728,536870912,0),c=Ob(l,512,768),Po(l,8388608|(c?4194304:0)),2&l.def.flags&&(l.state&=-9),l.state&=-97,Ob(l,768,1024)}function $d(l,c,u,p,g,y,E,D,x,R,V,W,Y){return 0===u?function(l,c,u,p,g,y,E,D,x,R,V,W){switch(201347067&c.flags){case 1:return function(l,c,u,p,g,y,E,D,x,R,V,W){const Y=c.bindings.length;let te=!1;return Y>0&&kc(l,c,0,u)&&(te=!0),Y>1&&kc(l,c,1,p)&&(te=!0),Y>2&&kc(l,c,2,g)&&(te=!0),Y>3&&kc(l,c,3,y)&&(te=!0),Y>4&&kc(l,c,4,E)&&(te=!0),Y>5&&kc(l,c,5,D)&&(te=!0),Y>6&&kc(l,c,6,x)&&(te=!0),Y>7&&kc(l,c,7,R)&&(te=!0),Y>8&&kc(l,c,8,V)&&(te=!0),Y>9&&kc(l,c,9,W)&&(te=!0),te}(l,c,u,p,g,y,E,D,x,R,V,W);case 2:return function(l,c,u,p,g,y,E,D,x,R,V,W){let Y=!1;const te=c.bindings,le=te.length;if(le>0&&_n(l,c,0,u)&&(Y=!0),le>1&&_n(l,c,1,p)&&(Y=!0),le>2&&_n(l,c,2,g)&&(Y=!0),le>3&&_n(l,c,3,y)&&(Y=!0),le>4&&_n(l,c,4,E)&&(Y=!0),le>5&&_n(l,c,5,D)&&(Y=!0),le>6&&_n(l,c,6,x)&&(Y=!0),le>7&&_n(l,c,7,R)&&(Y=!0),le>8&&_n(l,c,8,V)&&(Y=!0),le>9&&_n(l,c,9,W)&&(Y=!0),Y){let De=c.text.prefix;le>0&&(De+=Jl(u,te[0])),le>1&&(De+=Jl(p,te[1])),le>2&&(De+=Jl(g,te[2])),le>3&&(De+=Jl(y,te[3])),le>4&&(De+=Jl(E,te[4])),le>5&&(De+=Jl(D,te[5])),le>6&&(De+=Jl(x,te[6])),le>7&&(De+=Jl(R,te[7])),le>8&&(De+=Jl(V,te[8])),le>9&&(De+=Jl(W,te[9]));const ie=Eh(l,c.nodeIndex).renderText;l.renderer.setValue(ie,De)}return Y}(l,c,u,p,g,y,E,D,x,R,V,W);case 16384:return function(l,c,u,p,g,y,E,D,x,R,V,W){const Y=Ru(l,c.nodeIndex),te=Y.instance;let De,le=!1;const ie=c.bindings.length;return ie>0&&Ua(l,c,0,u)&&(le=!0,De=qa(l,Y,c,0,u,De)),ie>1&&Ua(l,c,1,p)&&(le=!0,De=qa(l,Y,c,1,p,De)),ie>2&&Ua(l,c,2,g)&&(le=!0,De=qa(l,Y,c,2,g,De)),ie>3&&Ua(l,c,3,y)&&(le=!0,De=qa(l,Y,c,3,y,De)),ie>4&&Ua(l,c,4,E)&&(le=!0,De=qa(l,Y,c,4,E,De)),ie>5&&Ua(l,c,5,D)&&(le=!0,De=qa(l,Y,c,5,D,De)),ie>6&&Ua(l,c,6,x)&&(le=!0,De=qa(l,Y,c,6,x,De)),ie>7&&Ua(l,c,7,R)&&(le=!0,De=qa(l,Y,c,7,R,De)),ie>8&&Ua(l,c,8,V)&&(le=!0,De=qa(l,Y,c,8,V,De)),ie>9&&Ua(l,c,9,W)&&(le=!0,De=qa(l,Y,c,9,W,De)),De&&te.ngOnChanges(De),65536&c.flags&&Ou(l,256,c.nodeIndex)&&te.ngOnInit(),262144&c.flags&&te.ngDoCheck(),le}(l,c,u,p,g,y,E,D,x,R,V,W);case 32:case 64:case 128:return function(l,c,u,p,g,y,E,D,x,R,V,W){const Y=c.bindings;let te=!1;const le=Y.length;if(le>0&&_n(l,c,0,u)&&(te=!0),le>1&&_n(l,c,1,p)&&(te=!0),le>2&&_n(l,c,2,g)&&(te=!0),le>3&&_n(l,c,3,y)&&(te=!0),le>4&&_n(l,c,4,E)&&(te=!0),le>5&&_n(l,c,5,D)&&(te=!0),le>6&&_n(l,c,6,x)&&(te=!0),le>7&&_n(l,c,7,R)&&(te=!0),le>8&&_n(l,c,8,V)&&(te=!0),le>9&&_n(l,c,9,W)&&(te=!0),te){const De=wh(l,c.nodeIndex);let ie;switch(201347067&c.flags){case 32:ie=[],le>0&&ie.push(u),le>1&&ie.push(p),le>2&&ie.push(g),le>3&&ie.push(y),le>4&&ie.push(E),le>5&&ie.push(D),le>6&&ie.push(x),le>7&&ie.push(R),le>8&&ie.push(V),le>9&&ie.push(W);break;case 64:ie={},le>0&&(ie[Y[0].name]=u),le>1&&(ie[Y[1].name]=p),le>2&&(ie[Y[2].name]=g),le>3&&(ie[Y[3].name]=y),le>4&&(ie[Y[4].name]=E),le>5&&(ie[Y[5].name]=D),le>6&&(ie[Y[6].name]=x),le>7&&(ie[Y[7].name]=R),le>8&&(ie[Y[8].name]=V),le>9&&(ie[Y[9].name]=W);break;case 128:const Je=u;switch(le){case 1:ie=Je.transform(u);break;case 2:ie=Je.transform(p);break;case 3:ie=Je.transform(p,g);break;case 4:ie=Je.transform(p,g,y);break;case 5:ie=Je.transform(p,g,y,E);break;case 6:ie=Je.transform(p,g,y,E,D);break;case 7:ie=Je.transform(p,g,y,E,D,x);break;case 8:ie=Je.transform(p,g,y,E,D,x,R);break;case 9:ie=Je.transform(p,g,y,E,D,x,R,V);break;case 10:ie=Je.transform(p,g,y,E,D,x,R,V,W)}}De.value=ie}return te}(l,c,u,p,g,y,E,D,x,R,V,W);default:throw"unreachable"}}(l,c,p,g,y,E,D,x,R,V,W,Y):function(l,c,u){switch(201347067&c.flags){case 1:return function(l,c,u){let p=!1;for(let g=0;g<u.length;g++)kc(l,c,g,u[g])&&(p=!0);return p}(l,c,u);case 2:return function(l,c,u){const p=c.bindings;let g=!1;for(let y=0;y<u.length;y++)_n(l,c,y,u[y])&&(g=!0);if(g){let y="";for(let D=0;D<u.length;D++)y+=Jl(u[D],p[D]);y=c.text.prefix+y;const E=Eh(l,c.nodeIndex).renderText;l.renderer.setValue(E,y)}return g}(l,c,u);case 16384:return function(l,c,u){const p=Ru(l,c.nodeIndex),g=p.instance;let E,y=!1;for(let D=0;D<u.length;D++)Ua(l,c,D,u[D])&&(y=!0,E=qa(l,p,c,D,u[D],E));return E&&g.ngOnChanges(E),65536&c.flags&&Ou(l,256,c.nodeIndex)&&g.ngOnInit(),262144&c.flags&&g.ngDoCheck(),y}(l,c,u);case 32:case 64:case 128:return function(l,c,u){const p=c.bindings;let g=!1;for(let y=0;y<u.length;y++)_n(l,c,y,u[y])&&(g=!0);if(g){const y=wh(l,c.nodeIndex);let E;switch(201347067&c.flags){case 32:E=u;break;case 64:E={};for(let R=0;R<u.length;R++)E[p[R].name]=u[R];break;case 128:const D=u[0],x=u.slice(1);E=D.transform(...x)}y.value=E}return g}(l,c,u);default:throw"unreachable"}}(l,c,p)}function aR(l){const c=l.def;if(4&c.nodeFlags)for(let u=0;u<c.nodes.length;u++){const p=c.nodes[u];if(4&p.flags){const g=As(l,u).template._projectedViews;if(g)for(let y=0;y<g.length;y++){const E=g[y];E.state|=32,GO(E,l)}}else 0==(4&p.childFlags)&&(u+=p.childCount)}}function lR(l,c,u,p,g,y,E,D,x,R,V,W,Y){return 0===u?function(l,c,u,p,g,y,E,D,x,R,V,W){const Y=c.bindings.length;Y>0&&Yl(l,c,0,u),Y>1&&Yl(l,c,1,p),Y>2&&Yl(l,c,2,g),Y>3&&Yl(l,c,3,y),Y>4&&Yl(l,c,4,E),Y>5&&Yl(l,c,5,D),Y>6&&Yl(l,c,6,x),Y>7&&Yl(l,c,7,R),Y>8&&Yl(l,c,8,V),Y>9&&Yl(l,c,9,W)}(l,c,p,g,y,E,D,x,R,V,W,Y):function(l,c,u){for(let p=0;p<u.length;p++)Yl(l,c,p,u[p])}(l,c,p),!1}function Ve(l,c){if(Rb(l,c.nodeIndex).dirty)throw Gg(zt.createDebugContext(l,c.nodeIndex),`Query ${c.query.id} not dirty`,`Query ${c.query.id} dirty`,0!=(1&l.state))}function Ox(l){if(!(128&l.state)){if(Pw(l,Hs.Destroy),cC(l,Hs.Destroy),Po(l,131072),l.disposables)for(let c=0;c<l.disposables.length;c++)l.disposables[c]();(function(l){if(!(16&l.state))return;const c=ul(l);if(c){const u=c.template._projectedViews;u&&(ah(u,u.indexOf(l)),zt.dirtyParentQueries(l))}})(l),l.renderer.destroyNode&&function(l){const c=l.def.nodes.length;for(let u=0;u<c;u++){const p=l.def.nodes[u];1&p.flags?l.renderer.destroyNode(As(l,u).renderElement):2&p.flags?l.renderer.destroyNode(Eh(l,u).renderText):(67108864&p.flags||134217728&p.flags)&&Rb(l,u).destroy()}}(l),Nd(l)&&l.renderer.destroy(),l.state|=128}}var Hs=(()=>((Hs=Hs||{})[Hs.CreateViewNodes=0]="CreateViewNodes",Hs[Hs.CheckNoChanges=1]="CheckNoChanges",Hs[Hs.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",Hs[Hs.CheckAndUpdate=3]="CheckAndUpdate",Hs[Hs.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",Hs[Hs.Destroy=5]="Destroy",Hs))();function cC(l,c){const u=l.def;if(33554432&u.nodeFlags)for(let p=0;p<u.nodes.length;p++){const g=u.nodes[p];33554432&g.flags?cR(As(l,p).componentView,c):0==(33554432&g.childFlags)&&(p+=g.childCount)}}function Pw(l,c){const u=l.def;if(16777216&u.nodeFlags)for(let p=0;p<u.nodes.length;p++){const g=u.nodes[p];if(16777216&g.flags){const y=As(l,p).viewContainer._embeddedViews;for(let E=0;E<y.length;E++)cR(y[E],c)}else 0==(16777216&g.childFlags)&&(p+=g.childCount)}}function cR(l,c){const u=l.state;switch(c){case Hs.CheckNoChanges:0==(128&u)&&(12==(12&u)?Gf(l):64&u&&Nw(l,Hs.CheckNoChangesProjectedViews));break;case Hs.CheckNoChangesProjectedViews:0==(128&u)&&(32&u?Gf(l):64&u&&Nw(l,c));break;case Hs.CheckAndUpdate:0==(128&u)&&(12==(12&u)?Lw(l):64&u&&Nw(l,Hs.CheckAndUpdateProjectedViews));break;case Hs.CheckAndUpdateProjectedViews:0==(128&u)&&(32&u?Lw(l):64&u&&Nw(l,c));break;case Hs.Destroy:Ox(l);break;case Hs.CreateViewNodes:kx(l)}}function Nw(l,c){Pw(l,c),cC(l,c)}function hC(l,c,u,p){if(!(l.def.nodeFlags&c&&l.def.nodeFlags&u))return;const g=l.def.nodes.length;for(let y=0;y<g;y++){const E=l.def.nodes[y];if(E.flags&c&&E.flags&u)switch(zt.setCurrentNode(l,E.nodeIndex),p){case 0:tR(l,E);break;case 1:Ve(l,E)}(!(E.childFlags&c)||!(E.childFlags&u))&&(y+=E.childCount)}}let cn=!1;function vt(){if(cn)return;cn=!0;const l=Bu()?{setCurrentNode:Xf,createRootView:hR,createEmbeddedView:dR,createComponentView:pR,createNgModuleRef:fl,overrideProvider:uv,overrideComponentView:fR,clearOverrides:mR,checkAndUpdateView:vR,checkNoChangesView:Lx,destroyView:ys,createDebugContext:(l,c)=>new pC(l,c),handleEvent:yR,updateDirectives:AV,updateRenderer:Hw}:{setCurrentNode:()=>{},createRootView:Dt,createEmbeddedView:Ix,createComponentView:Mc,createNgModuleRef:Th,overrideProvider:ro,overrideComponentView:ro,clearOverrides:ro,checkAndUpdateView:Lw,checkNoChangesView:Gf,destroyView:Ox,createDebugContext:(l,c)=>new pC(l,c),handleEvent:(l,c,u,p)=>l.def.handleEvent(l,c,u,p),updateDirectives:(l,c)=>l.def.updateDirectives(0===c?gR:Vw,l),updateRenderer:(l,c)=>l.def.updateRenderer(0===c?gR:Vw,l)};zt.setCurrentNode=l.setCurrentNode,zt.createRootView=l.createRootView,zt.createEmbeddedView=l.createEmbeddedView,zt.createComponentView=l.createComponentView,zt.createNgModuleRef=l.createNgModuleRef,zt.overrideProvider=l.overrideProvider,zt.overrideComponentView=l.overrideComponentView,zt.clearOverrides=l.clearOverrides,zt.checkAndUpdateView=l.checkAndUpdateView,zt.checkNoChangesView=l.checkNoChangesView,zt.destroyView=l.destroyView,zt.resolveDep=Xr,zt.createDebugContext=l.createDebugContext,zt.handleEvent=l.handleEvent,zt.updateDirectives=l.updateDirectives,zt.updateRenderer=l.updateRenderer,zt.dirtyParentQueries=eR}function Dt(l,c,u,p,g,y){const E=g.injector.get(wf);return wV(uR(l,g,E,c,u),p,y)}function hR(l,c,u,p,g,y){const E=g.injector.get(wf),D=uR(l,g,new ER(E),c,u),x=Rx(p);return Gd(Tn.create,wV,null,[D,x,y])}function uR(l,c,u,p,g){const y=c.injector.get(vn),E=c.injector.get(ng),D=u.createRenderer(null,null);return{ngModule:c,injector:l,projectableNodes:p,selectorOrNode:g,sanitizer:y,rendererFactory:u,renderer:D,errorHandler:E}}function dR(l,c,u,p){const g=Rx(u);return Gd(Tn.create,Ix,null,[l,c,g,p])}function pR(l,c,u,p){return u=Fr.get(c.element.componentProvider.provider.token)||Rx(u),Gd(Tn.create,Mc,null,[l,c,u,p])}function fl(l,c,u,p){const g=function(l){const{hasOverrides:c,hasDeprecatedOverrides:u}=function(y){let E=!1,D=!1;return 0===jo.size||(y.providers.forEach(x=>{const R=jo.get(x.token);3840&x.flags&&R&&(E=!0,D=D||R.deprecatedBehavior)}),y.modules.forEach(x=>{Qf.forEach((R,V)=>{st(xn(V).providedIn)===x&&(E=!0,D=D||R.deprecatedBehavior)})})),{hasOverrides:E,hasDeprecatedOverrides:D}}(l);return c?(function(y){for(let E=0;E<y.providers.length;E++){const D=y.providers[E];u&&(D.flags|=4096);const x=jo.get(D.token);x&&(D.flags=-3841&D.flags|x.flags,D.deps=oo(x.deps),D.value=x.value)}if(Qf.size>0){let E=new Set(y.modules);Qf.forEach((D,x)=>{if(E.has(st(xn(x).providedIn))){let R={token:x,flags:D.flags|(u?4096:0),deps:oo(D.deps),value:D.value,index:y.providers.length};y.providers.push(R),y.providersByKey[bi(x)]=R}})}}(l=l.factory(()=>ro)),l):l}(p);return Th(l,c,u,g)}const jo=new Map,Qf=new Map,Fr=new Map;function uv(l){let c;jo.set(l.token,l),"function"==typeof l.token&&(c=xn(l.token))&&"function"==typeof c.providedIn&&Qf.set(l.token,l)}function fR(l,c){const u=If(i1(c)),p=If(u.nodes[0].element.componentView);Fr.set(l,p)}function mR(){jo.clear(),Qf.clear(),Fr.clear()}function Rx(l){if(0===jo.size)return l;const c=function(g){const y=[];let E=null;for(let D=0;D<g.nodes.length;D++){const x=g.nodes[D];1&x.flags&&(E=x),E&&3840&x.flags&&jo.has(x.provider.token)&&(y.push(E.nodeIndex),E=null)}return y}(l);if(0===c.length)return l;l=l.factory(()=>ro);for(let g=0;g<c.length;g++)p(l,c[g]);return l;function p(g,y){for(let E=y+1;E<g.nodes.length;E++){const D=g.nodes[E];if(1&D.flags)return;if(3840&D.flags){const x=D.provider,R=jo.get(x.token);R&&(D.flags=-3841&D.flags|R.flags,x.deps=oo(R.deps),x.value=R.value)}}}}function gR(l,c,u,p,g,y,E,D,x,R,V,W,Y){const te=l.def.nodes[c];return $d(l,te,u,p,g,y,E,D,x,R,V,W,Y),224&te.flags?wh(l,c).value:void 0}function Vw(l,c,u,p,g,y,E,D,x,R,V,W,Y){const te=l.def.nodes[c];return lR(l,te,u,p,g,y,E,D,x,R,V,W,Y),224&te.flags?wh(l,c).value:void 0}function vR(l){return Gd(Tn.detectChanges,Lw,null,[l])}function Lx(l){return Gd(Tn.checkNoChanges,Gf,null,[l])}function ys(l){return Gd(Tn.destroy,Ox,null,[l])}var Tn=(()=>((Tn=Tn||{})[Tn.create=0]="create",Tn[Tn.detectChanges=1]="detectChanges",Tn[Tn.checkNoChanges=2]="checkNoChanges",Tn[Tn.destroy=3]="destroy",Tn[Tn.handleEvent=4]="handleEvent",Tn))();let uC,Kf,Fw;function Xf(l,c){Kf=l,Fw=c}function yR(l,c,u,p){return Xf(l,c),Gd(Tn.handleEvent,l.def.handleEvent,null,[l,c,u,p])}function AV(l,c){if(128&l.state)throw Mb(Tn[uC]);return Xf(l,CR(l,0)),l.def.updateDirectives(function(p,g,y,...E){const D=p.def.nodes[g];return 0===c?dC(p,D,y,E):bR(p,D,y,E),16384&D.flags&&Xf(p,CR(p,g)),224&D.flags?wh(p,D.nodeIndex).value:void 0},l)}function Hw(l,c){if(128&l.state)throw Mb(Tn[uC]);return Xf(l,_x(l,0)),l.def.updateRenderer(function(p,g,y,...E){const D=p.def.nodes[g];return 0===c?dC(p,D,y,E):bR(p,D,y,E),3&D.flags&&Xf(p,_x(p,g)),224&D.flags?wh(p,D.nodeIndex).value:void 0},l)}function dC(l,c,u,p){if($d(l,c,u,...p)){const y=1===u?p[0]:p;if(16384&c.flags){const E={};for(let R=0;R<c.bindings.length;R++){const V=c.bindings[R],W=y[R];8&V.flags&&(E[yS(V.nonMinifiedName)]=Xk(W))}const D=c.parent,x=As(l,D.nodeIndex).renderElement;if(D.element.name)for(let R in E){const V=E[R];null!=V?l.renderer.setAttribute(x,R,V):l.renderer.removeAttribute(x,R)}else l.renderer.setValue(x,CE(`bindings=${JSON.stringify(E,null,2)}`))}}}function bR(l,c,u,p){lR(l,c,u,...p)}function CR(l,c){for(let u=c;u<l.def.nodes.length;u++){const p=l.def.nodes[u];if(16384&p.flags&&p.bindings&&p.bindings.length)return u}return null}function _x(l,c){for(let u=c;u<l.def.nodes.length;u++){const p=l.def.nodes[u];if(3&p.flags&&p.bindings&&p.bindings.length)return u}return null}class pC{constructor(c,u){this.view=c,this.nodeIndex=u,null==u&&(this.nodeIndex=u=0),this.nodeDef=c.def.nodes[u];let p=this.nodeDef,g=c;for(;p&&0==(1&p.flags);)p=p.parent;if(!p)for(;!p&&g;)p=_u(g),g=g.parent;this.elDef=p,this.elView=g}get elOrCompView(){return As(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return ha(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const c=[];if(this.elDef)for(let u=this.elDef.nodeIndex+1;u<=this.elDef.nodeIndex+this.elDef.childCount;u++){const p=this.elView.def.nodes[u];20224&p.flags&&c.push(p.provider.token),u+=p.childCount}return c}get references(){const c={};if(this.elDef){Nx(this.elView,this.elDef,c);for(let u=this.elDef.nodeIndex+1;u<=this.elDef.nodeIndex+this.elDef.childCount;u++){const p=this.elView.def.nodes[u];20224&p.flags&&Nx(this.elView,p,c),u+=p.childCount}}return c}get componentRenderElement(){const c=function(l){for(;l&&!Nd(l);)l=l.parent;return l.parent?As(l.parent,_u(l).nodeIndex):null}(this.elOrCompView);return c?c.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Lb(this.view,this.nodeDef):Lb(this.elView,this.elDef)}logError(c,...u){let p,g;2&this.nodeDef.flags?(p=this.view.def,g=this.nodeDef.nodeIndex):(p=this.elView.def,g=this.elDef.nodeIndex);const y=function(l,c){let u=-1;for(let p=0;p<=c;p++)3&l.nodes[p].flags&&u++;return u}(p,g);let E=-1;p.factory(()=>(E++,E===y?c.error.bind(c,...u):ro)),E<y&&(c.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),c.error(...u))}}function Nx(l,c,u){for(let p in c.references)u[p]=Ax(l,c,c.references[p])}function Gd(l,c,u,p){const g=uC,y=Kf,E=Fw;try{uC=l;const D=c.apply(u,p);return Kf=y,Fw=E,uC=g,D}catch(D){throw function(l){return!!Rt(l)}(D)||!Kf?D:function(l,c){return l instanceof Error||(l=new Error(l.toString())),Ch(l,c),l}(D,Bw())}}function Bw(){return Kf?new pC(Kf,Fw):null}class ER{constructor(c){this.delegate=c}createRenderer(c,u){return new xV(this.delegate.createRenderer(c,u))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class xV{constructor(c){this.delegate=c,this.debugContextFactory=Bw,this.data=this.delegate.data}createDebugContext(c){return this.debugContextFactory(c)}destroyNode(c){const u=Sn(c);u&&(zf.delete(u.nativeNode),u instanceof rC&&(u.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(c)}destroy(){this.delegate.destroy()}createElement(c,u){const p=this.delegate.createElement(c,u),g=this.createDebugContext(p);if(g){const y=new Ar(p,null,g);y.name=c,cv(y)}return p}createComment(c){const u=this.delegate.createComment(CE(c)),p=this.createDebugContext(u);return p&&cv(new rC(u,null,p)),u}createText(c){const u=this.delegate.createText(c),p=this.createDebugContext(u);return p&&cv(new rC(u,null,p)),u}appendChild(c,u){const p=Sn(c),g=Sn(u);p&&g&&p instanceof Ar&&p.addChild(g),this.delegate.appendChild(c,u)}insertBefore(c,u,p,g){const y=Sn(c),E=Sn(u),D=Sn(p);y&&E&&y instanceof Ar&&y.insertBefore(D,E),this.delegate.insertBefore(c,u,p,g)}removeChild(c,u){const p=Sn(c),g=Sn(u);p&&g&&p instanceof Ar&&p.removeChild(g),this.delegate.removeChild(c,u)}selectRootElement(c,u){const p=this.delegate.selectRootElement(c,u),g=Bw();return g&&cv(new Ar(p,null,g)),p}setAttribute(c,u,p,g){const y=Sn(c);y&&y instanceof Ar&&(y.attributes[g?g+":"+u:u]=p),this.delegate.setAttribute(c,u,p,g)}removeAttribute(c,u,p){const g=Sn(c);g&&g instanceof Ar&&(g.attributes[p?p+":"+u:u]=null),this.delegate.removeAttribute(c,u,p)}addClass(c,u){const p=Sn(c);p&&p instanceof Ar&&(p.classes[u]=!0),this.delegate.addClass(c,u)}removeClass(c,u){const p=Sn(c);p&&p instanceof Ar&&(p.classes[u]=!1),this.delegate.removeClass(c,u)}setStyle(c,u,p,g){const y=Sn(c);y&&y instanceof Ar&&(y.styles[u]=p),this.delegate.setStyle(c,u,p,g)}removeStyle(c,u,p){const g=Sn(c);g&&g instanceof Ar&&(g.styles[u]=null),this.delegate.removeStyle(c,u,p)}setProperty(c,u,p){const g=Sn(c);g&&g instanceof Ar&&(g.properties[u]=p),this.delegate.setProperty(c,u,p)}listen(c,u,p){if("string"!=typeof c){const g=Sn(c);g&&g.listeners.push(new yx(u,p))}return this.delegate.listen(c,u,p)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setValue(c,u){return this.delegate.setValue(c,u)}}function dv(l){return vt(),zt.overrideProvider(l)}function IV(l,c){return vt(),zt.overrideComponentView(l,c)}function kV(){return vt(),zt.clearOverrides()}function MV(l,c,u){return new RV(l,c,u)}class RV extends bh{constructor(c,u,p){super(),this.moduleType=c,this._bootstrapComponents=u,this._ngModuleDefFactory=p}create(c){vt();const u=function(l){const c=Array.from(l.providers),u=Array.from(l.modules),p={};for(const g in l.providersByKey)p[g]=l.providersByKey[g];return{factory:l.factory,scope:l.scope,providers:c,modules:u,providersByKey:p}}(If(this._ngModuleDefFactory));return zt.createNgModuleRef(this.moduleType,c||Qs.NULL,this._bootstrapComponents,u)}}function Vx(l){return $r().compileDirectiveDeclaration(za,`ng:///${l.type.name}/\u0275fac.js`,l)}function Fx(l){var c,u;iw(l.type,l.decorators,null!==(c=l.ctorParameters)&&void 0!==c?c:null,null!==(u=l.propDecorators)&&void 0!==u?u:null)}function pv(l){return $r().compileComponentDeclaration(za,`ng:///${l.type.name}/\u0275cmp.js`,l)}function mC(l){return $r(function(l){switch(l){case Yr.Directive:return"directive";case Yr.Component:return"component";case Yr.Injectable:return"injectable";case Yr.Pipe:return"pipe";case Yr.NgModule:;}}(l.target)).compileFactoryDeclaration(za,`ng:///${l.type.name}/\u0275fac.js`,l)}function uo(l){return $r().compileInjectableDeclaration(za,`ng:///${l.type.name}/\u0275prov.js`,l)}function jw(l){return $r().compileInjectorDeclaration(za,`ng:///${l.type.name}/\u0275inj.js`,l)}function ni(l){return $r().compileNgModuleDeclaration(za,`ng:///${l.type.name}/\u0275mod.js`,l)}function Vn(l){return $r().compilePipeDeclaration(za,`ng:///${l.type.name}/\u0275pipe.js`,l)}},64:(yi,tt)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});var re=function(){function K(it,ke,b,Tt){this.id=K.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,it&&(this.text=it),ke&&(this.cssClass=ke),b&&(this.closeOnClick=b),Tt&&(this.showCloseBtn=Tt)}return K.nextId=0,K}();tt.FlashMessage=re},254:(yi,tt,re)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});var K=re(639),it=re(64),ke=re(455),b=re(639),Tt=re(455),dt=re(583);function _t(xe,ze){1&xe&&b.\u0275\u0275element(0,"div",3)}function Pt(xe,ze){if(1&xe){var Ye=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"button",7),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(Ye);var He=b.\u0275\u0275nextContext().$implicit;return b.\u0275\u0275nextContext().close(He)}),b.\u0275\u0275elementStart(1,"span",8),b.\u0275\u0275text(2,"\xd7"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}var et=function(xe){return{"alert-dismissible":xe}};function be(xe,ze){if(1&xe){var Ye=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",4),b.\u0275\u0275listener("click",function(){var Ee=b.\u0275\u0275restoreView(Ye).$implicit;return b.\u0275\u0275nextContext().alertClicked(Ee)}),b.\u0275\u0275template(1,Pt,3,0,"button",5),b.\u0275\u0275element(2,"div",6),b.\u0275\u0275elementEnd()}if(2&xe){var lt=ze.$implicit;b.\u0275\u0275classMapInterpolate1("alert flash-message ",lt.cssClass,""),b.\u0275\u0275styleProp("cursor",lt.closeOnClick?"pointer":"inherit"),b.\u0275\u0275property("ngClass",b.\u0275\u0275pureFunction1(8,et,lt.showCloseBtn)),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",lt.showCloseBtn),b.\u0275\u0275advance(1),b.\u0275\u0275property("innerHTML",lt.text,b.\u0275\u0275sanitizeHtml)}}var Me=function(){function xe(ze,Ye){this._flashMessagesService=ze,this._cdRef=Ye,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return xe.prototype.ngOnInit=function(){},xe.prototype.show=function(ze,Ye){var lt=this;void 0===Ye&&(Ye={});var He={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var ei in Ye)He[ei]=Ye[ei];var Ee=new it.FlashMessage(ze,He.cssClass,He.closeOnClick,He.showCloseBtn);Ee.timer=window.setTimeout(function(){lt._remove(Ee),lt._cdRef.detectChanges()},He.timeout),this.messages.push(Ee),this._cdRef.detectChanges()},xe.prototype.close=function(ze){clearTimeout(ze.timer),this._remove(ze),this._cdRef.detectChanges()},xe.prototype.alertClicked=function(ze){ze.closeOnClick&&this.close(ze)},xe.prototype.grayOut=function(ze){void 0===ze&&(ze=!1),this._grayOut=ze},xe.prototype._remove=function(ze){this.messages=this.messages.filter(function(Ye){return Ye.id!==ze.id})},xe.ctorParameters=function(){return[{type:ke.FlashMessagesService},{type:K.ChangeDetectorRef}]},xe.\u0275fac=function(Ye){return new(Ye||xe)(b.\u0275\u0275directiveInject(Tt.FlashMessagesService),b.\u0275\u0275directiveInject(b.ChangeDetectorRef))},xe.\u0275cmp=b.\u0275\u0275defineComponent({type:xe,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Ye,lt){1&Ye&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275template(1,_t,1,0,"div",1),b.\u0275\u0275template(2,be,3,10,"div",2),b.\u0275\u0275elementEnd()),2&Ye&&(b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",lt._grayOut&&lt.messages.length),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",lt.messages))},directives:[dt.NgIf,dt.NgForOf,dt.NgClass],encapsulation:2}),xe}();tt.FlashMessagesComponent=Me},455:(yi,tt,re)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),re(639);var it=re(639),ke=function(){function b(){}return b.\u0275fac=function(dt){return new(dt||b)},b.\u0275prov=it.\u0275\u0275defineInjectable({token:b,factory:function(Tt){return b.\u0275fac(Tt)}}),b}();tt.FlashMessagesService=ke},372:(yi,tt,re)=>{var it=re(254),ke=re(390);tt.qz=ke.FlashMessagesModule;var b=re(455);tt.GQ=b.FlashMessagesService,tt.cS=it.FlashMessagesComponent},390:(yi,tt,re)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),re(639);var it=re(583),b=(re(254),re(455)),Tt=re(639),Pt=(re(254),re(583),function(){function et(){}return et.forRoot=function(){return{ngModule:et,providers:[b.FlashMessagesService]}},et.\u0275fac=function(Me){return new(Me||et)},et.\u0275mod=Tt.\u0275\u0275defineNgModule({type:et}),et.\u0275inj=Tt.\u0275\u0275defineInjector({providers:[],imports:[[it.CommonModule]]}),et}());tt.FlashMessagesModule=Pt},439:yi=>{"use strict";yi.exports=function tt(re,K){if(re===K)return!0;if(re&&K&&"object"==typeof re&&"object"==typeof K){if(re.constructor!==K.constructor)return!1;var it,ke,b;if(Array.isArray(re)){if((it=re.length)!=K.length)return!1;for(ke=it;0!=ke--;)if(!tt(re[ke],K[ke]))return!1;return!0}if(re.constructor===RegExp)return re.source===K.source&&re.flags===K.flags;if(re.valueOf!==Object.prototype.valueOf)return re.valueOf()===K.valueOf();if(re.toString!==Object.prototype.toString)return re.toString()===K.toString();if((it=(b=Object.keys(re)).length)!==Object.keys(K).length)return!1;for(ke=it;0!=ke--;)if(!Object.prototype.hasOwnProperty.call(K,b[ke]))return!1;for(ke=it;0!=ke--;){var Tt=b[ke];if(!tt(re[Tt],K[Tt]))return!1}return!0}return re!=re&&K!=K}},574:(yi,tt,re)=>{"use strict";re.d(tt,{y:()=>Me});var K=re(393),ke=re(181),b=re(490),dt=re(554),_t=re(487);var be=re(494);let Me=(()=>{class ze{constructor(lt){this._isScalar=!1,lt&&(this._subscribe=lt)}lift(lt){const He=new ze;return He.source=this,He.operator=lt,He}subscribe(lt,He,ei){const{operator:Ee}=this,$t=function(ze,Ye,lt){if(ze){if(ze instanceof K.L)return ze;if(ze[ke.b])return ze[ke.b]()}return ze||Ye||lt?new K.L(ze,Ye,lt):new K.L(b.c)}(lt,He,ei);if($t.add(Ee?Ee.call($t,this.source):this.source||be.v.useDeprecatedSynchronousErrorHandling&&!$t.syncErrorThrowable?this._subscribe($t):this._trySubscribe($t)),be.v.useDeprecatedSynchronousErrorHandling&&$t.syncErrorThrowable&&($t.syncErrorThrowable=!1,$t.syncErrorThrown))throw $t.syncErrorValue;return $t}_trySubscribe(lt){try{return this._subscribe(lt)}catch(He){be.v.useDeprecatedSynchronousErrorHandling&&(lt.syncErrorThrown=!0,lt.syncErrorValue=He),function(ze){for(;ze;){const{closed:Ye,destination:lt,isStopped:He}=ze;if(Ye||He)return!1;ze=lt&&lt instanceof K.L?lt:null}return!0}(lt)?lt.error(He):console.warn(He)}}forEach(lt,He){return new(He=xe(He))((ei,Ee)=>{let $t;$t=this.subscribe(st=>{try{lt(st)}catch(Br){Ee(Br),$t&&$t.unsubscribe()}},Ee,ei)})}_subscribe(lt){const{source:He}=this;return He&&He.subscribe(lt)}[dt.L](){return this}pipe(...lt){return 0===lt.length?this:function(ze){return 0===ze.length?_t.y:1===ze.length?ze[0]:function(lt){return ze.reduce((He,ei)=>ei(He),lt)}}(lt)(this)}toPromise(lt){return new(lt=xe(lt))((He,ei)=>{let Ee;this.subscribe($t=>Ee=$t,$t=>ei($t),()=>He(Ee))})}}return ze.create=Ye=>new ze(Ye),ze})();function xe(ze){if(ze||(ze=be.v.Promise||Promise),!ze)throw new Error("no Promise impl found");return ze}},490:(yi,tt,re)=>{"use strict";re.d(tt,{c:()=>ke});var K=re(494),it=re(449);const ke={closed:!0,next(b){},error(b){if(K.v.useDeprecatedSynchronousErrorHandling)throw b;(0,it.z)(b)},complete(){}}},709:(yi,tt,re)=>{"use strict";re.d(tt,{xQ:()=>Pt,Yc:()=>_t});var K=re(574),it=re(393),ke=re(319),b=re(971);class Tt extends ke.w{constructor(Me,xe){super(),this.subject=Me,this.subscriber=xe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Me=this.subject,xe=Me.observers;if(this.subject=null,!xe||0===xe.length||Me.isStopped||Me.closed)return;const ze=xe.indexOf(this.subscriber);-1!==ze&&xe.splice(ze,1)}}var dt=re(181);class _t extends it.L{constructor(Me){super(Me),this.destination=Me}}let Pt=(()=>{class be extends K.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[dt.b](){return new _t(this)}lift(xe){const ze=new et(this,this);return ze.operator=xe,ze}next(xe){if(this.closed)throw new b.N;if(!this.isStopped){const{observers:ze}=this,Ye=ze.length,lt=ze.slice();for(let He=0;He<Ye;He++)lt[He].next(xe)}}error(xe){if(this.closed)throw new b.N;this.hasError=!0,this.thrownError=xe,this.isStopped=!0;const{observers:ze}=this,Ye=ze.length,lt=ze.slice();for(let He=0;He<Ye;He++)lt[He].error(xe);this.observers.length=0}complete(){if(this.closed)throw new b.N;this.isStopped=!0;const{observers:xe}=this,ze=xe.length,Ye=xe.slice();for(let lt=0;lt<ze;lt++)Ye[lt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(xe){if(this.closed)throw new b.N;return super._trySubscribe(xe)}_subscribe(xe){if(this.closed)throw new b.N;return this.hasError?(xe.error(this.thrownError),ke.w.EMPTY):this.isStopped?(xe.complete(),ke.w.EMPTY):(this.observers.push(xe),new Tt(this,xe))}asObservable(){const xe=new K.y;return xe.source=this,xe}}return be.create=(Me,xe)=>new et(Me,xe),be})();class et extends Pt{constructor(Me,xe){super(),this.destination=Me,this.source=xe}next(Me){const{destination:xe}=this;xe&&xe.next&&xe.next(Me)}error(Me){const{destination:xe}=this;xe&&xe.error&&this.destination.error(Me)}complete(){const{destination:Me}=this;Me&&Me.complete&&this.destination.complete()}_subscribe(Me){const{source:xe}=this;return xe?this.source.subscribe(Me):ke.w.EMPTY}}},393:(yi,tt,re)=>{"use strict";re.d(tt,{L:()=>_t});var K=re(105),it=re(490),ke=re(319),b=re(181),Tt=re(494),dt=re(449);class _t extends ke.w{constructor(be,Me,xe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=it.c;break;case 1:if(!be){this.destination=it.c;break}if("object"==typeof be){be instanceof _t?(this.syncErrorThrowable=be.syncErrorThrowable,this.destination=be,be.add(this)):(this.syncErrorThrowable=!0,this.destination=new Pt(this,be));break}default:this.syncErrorThrowable=!0,this.destination=new Pt(this,be,Me,xe)}}[b.b](){return this}static create(be,Me,xe){const ze=new _t(be,Me,xe);return ze.syncErrorThrowable=!1,ze}next(be){this.isStopped||this._next(be)}error(be){this.isStopped||(this.isStopped=!0,this._error(be))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(be){this.destination.next(be)}_error(be){this.destination.error(be),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:be}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=be,this}}class Pt extends _t{constructor(be,Me,xe,ze){super(),this._parentSubscriber=be;let Ye,lt=this;(0,K.m)(Me)?Ye=Me:Me&&(Ye=Me.next,xe=Me.error,ze=Me.complete,Me!==it.c&&(lt=Object.create(Me),(0,K.m)(lt.unsubscribe)&&this.add(lt.unsubscribe.bind(lt)),lt.unsubscribe=this.unsubscribe.bind(this))),this._context=lt,this._next=Ye,this._error=xe,this._complete=ze}next(be){if(!this.isStopped&&this._next){const{_parentSubscriber:Me}=this;Tt.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable?this.__tryOrSetError(Me,this._next,be)&&this.unsubscribe():this.__tryOrUnsub(this._next,be)}}error(be){if(!this.isStopped){const{_parentSubscriber:Me}=this,{useDeprecatedSynchronousErrorHandling:xe}=Tt.v;if(this._error)xe&&Me.syncErrorThrowable?(this.__tryOrSetError(Me,this._error,be),this.unsubscribe()):(this.__tryOrUnsub(this._error,be),this.unsubscribe());else if(Me.syncErrorThrowable)xe?(Me.syncErrorValue=be,Me.syncErrorThrown=!0):(0,dt.z)(be),this.unsubscribe();else{if(this.unsubscribe(),xe)throw be;(0,dt.z)(be)}}}complete(){if(!this.isStopped){const{_parentSubscriber:be}=this;if(this._complete){const Me=()=>this._complete.call(this._context);Tt.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable?(this.__tryOrSetError(be,Me),this.unsubscribe()):(this.__tryOrUnsub(Me),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(be,Me){try{be.call(this._context,Me)}catch(xe){if(this.unsubscribe(),Tt.v.useDeprecatedSynchronousErrorHandling)throw xe;(0,dt.z)(xe)}}__tryOrSetError(be,Me,xe){if(!Tt.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Me.call(this._context,xe)}catch(ze){return Tt.v.useDeprecatedSynchronousErrorHandling?(be.syncErrorValue=ze,be.syncErrorThrown=!0,!0):((0,dt.z)(ze),!0)}return!1}_unsubscribe(){const{_parentSubscriber:be}=this;this._context=null,this._parentSubscriber=null,be.unsubscribe()}}},319:(yi,tt,re)=>{"use strict";re.d(tt,{w:()=>dt});var K=re(796),it=re(555),ke=re(105);const Tt=(()=>{function Pt(et){return Error.call(this),this.message=et?`${et.length} errors occurred during unsubscription:\n${et.map((be,Me)=>`${Me+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=et,this}return Pt.prototype=Object.create(Error.prototype),Pt})();class dt{constructor(et){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,et&&(this._ctorUnsubscribe=!0,this._unsubscribe=et)}unsubscribe(){let et;if(this.closed)return;let{_parentOrParents:be,_ctorUnsubscribe:Me,_unsubscribe:xe,_subscriptions:ze}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,be instanceof dt)be.remove(this);else if(null!==be)for(let Ye=0;Ye<be.length;++Ye)be[Ye].remove(this);if((0,ke.m)(xe)){Me&&(this._unsubscribe=void 0);try{xe.call(this)}catch(Ye){et=Ye instanceof Tt?_t(Ye.errors):[Ye]}}if((0,K.k)(ze)){let Ye=-1,lt=ze.length;for(;++Ye<lt;){const He=ze[Ye];if((0,it.K)(He))try{He.unsubscribe()}catch(ei){et=et||[],ei instanceof Tt?et=et.concat(_t(ei.errors)):et.push(ei)}}}if(et)throw new Tt(et)}add(et){let be=et;if(!et)return dt.EMPTY;switch(typeof et){case"function":be=new dt(et);case"object":if(be===this||be.closed||"function"!=typeof be.unsubscribe)return be;if(this.closed)return be.unsubscribe(),be;if(!(be instanceof dt)){const ze=be;be=new dt,be._subscriptions=[ze]}break;default:throw new Error("unrecognized teardown "+et+" added to Subscription.")}let{_parentOrParents:Me}=be;if(null===Me)be._parentOrParents=this;else if(Me instanceof dt){if(Me===this)return be;be._parentOrParents=[Me,this]}else{if(-1!==Me.indexOf(this))return be;Me.push(this)}const xe=this._subscriptions;return null===xe?this._subscriptions=[be]:xe.push(be),be}remove(et){const be=this._subscriptions;if(be){const Me=be.indexOf(et);-1!==Me&&be.splice(Me,1)}}}var Pt;function _t(Pt){return Pt.reduce((et,be)=>et.concat(be instanceof Tt?be.errors:be),[])}dt.EMPTY=((Pt=new dt).closed=!0,Pt)},494:(yi,tt,re)=>{"use strict";re.d(tt,{v:()=>it});let K=!1;const it={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ke){if(ke){const b=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+b.stack)}else K&&console.log("RxJS: Back to a better error behavior. Thank you. <3");K=ke},get useDeprecatedSynchronousErrorHandling(){return K}}},345:(yi,tt,re)=>{"use strict";re.d(tt,{IY:()=>b,Ds:()=>dt,ft:()=>Pt});var K=re(393),it=re(574),ke=re(444);class b extends K.L{constructor(be){super(),this.parent=be}_next(be){this.parent.notifyNext(be)}_error(be){this.parent.notifyError(be),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class dt extends K.L{notifyNext(be){this.destination.next(be)}notifyError(be){this.destination.error(be)}notifyComplete(){this.destination.complete()}}function Pt(et,be){if(be.closed)return;if(et instanceof it.y)return et.subscribe(be);let Me;try{Me=(0,ke.s)(et)(be)}catch(xe){be.error(xe)}return Me}},441:(yi,tt,re)=>{"use strict";re.d(tt,{c:()=>Tt,N:()=>dt});var K=re(709),it=re(574),ke=re(319),b=re(307);class Tt extends it.y{constructor(Me,xe){super(),this.source=Me,this.subjectFactory=xe,this._refCount=0,this._isComplete=!1}_subscribe(Me){return this.getSubject().subscribe(Me)}getSubject(){const Me=this._subject;return(!Me||Me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Me=this._connection;return Me||(this._isComplete=!1,Me=this._connection=new ke.w,Me.add(this.source.subscribe(new _t(this.getSubject(),this))),Me.closed&&(this._connection=null,Me=ke.w.EMPTY)),Me}refCount(){return(0,b.x)()(this)}}const dt=(()=>{const be=Tt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:be._subscribe},_isComplete:{value:be._isComplete,writable:!0},getSubject:{value:be.getSubject},connect:{value:be.connect},refCount:{value:be.refCount}}})();class _t extends K.Yc{constructor(Me,xe){super(Me),this.connectable=xe}_error(Me){this._unsubscribe(),super._error(Me)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Me=this.connectable;if(Me){this.connectable=null;const xe=Me._connection;Me._refCount=0,Me._subject=null,Me._connection=null,xe&&xe.unsubscribe()}}}},402:(yi,tt,re)=>{"use strict";re.d(tt,{D:()=>lt});var K=re(574),it=re(444),ke=re(319),b=re(554),_t=re(87),Pt=re(377),Me=re(72),xe=re(489);function lt(He,ei){return ei?function(He,ei){if(null!=He){if(function(He){return He&&"function"==typeof He[b.L]}(He))return function(He,ei){return new K.y(Ee=>{const $t=new ke.w;return $t.add(ei.schedule(()=>{const st=He[b.L]();$t.add(st.subscribe({next(Br){$t.add(ei.schedule(()=>Ee.next(Br)))},error(Br){$t.add(ei.schedule(()=>Ee.error(Br)))},complete(){$t.add(ei.schedule(()=>Ee.complete()))}}))})),$t})}(He,ei);if((0,Me.t)(He))return function(He,ei){return new K.y(Ee=>{const $t=new ke.w;return $t.add(ei.schedule(()=>He.then(st=>{$t.add(ei.schedule(()=>{Ee.next(st),$t.add(ei.schedule(()=>Ee.complete()))}))},st=>{$t.add(ei.schedule(()=>Ee.error(st)))}))),$t})}(He,ei);if((0,xe.z)(He))return(0,_t.r)(He,ei);if(function(He){return He&&"function"==typeof He[Pt.hZ]}(He)||"string"==typeof He)return function(He,ei){if(!He)throw new Error("Iterable cannot be null");return new K.y(Ee=>{const $t=new ke.w;let st;return $t.add(()=>{st&&"function"==typeof st.return&&st.return()}),$t.add(ei.schedule(()=>{st=He[Pt.hZ](),$t.add(ei.schedule(function(){if(Ee.closed)return;let Br,jr;try{const Ci=st.next();Br=Ci.value,jr=Ci.done}catch(Ci){return void Ee.error(Ci)}jr?Ee.complete():(Ee.next(Br),this.schedule())}))})),$t})}(He,ei)}throw new TypeError((null!==He&&typeof He||He)+" is not observable")}(He,ei):He instanceof K.y?He:new K.y((0,it.s)(He))}},693:(yi,tt,re)=>{"use strict";re.d(tt,{n:()=>b});var K=re(574),it=re(15),ke=re(87);function b(Tt,dt){return dt?(0,ke.r)(Tt,dt):new K.y((0,it.V)(Tt))}},2:(yi,tt,re)=>{"use strict";re.d(tt,{U:()=>it});var K=re(393);function it(Tt,dt){return function(Pt){if("function"!=typeof Tt)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Pt.lift(new ke(Tt,dt))}}class ke{constructor(dt,_t){this.project=dt,this.thisArg=_t}call(dt,_t){return _t.subscribe(new b(dt,this.project,this.thisArg))}}class b extends K.L{constructor(dt,_t,Pt){super(dt),this.project=_t,this.count=0,this.thisArg=Pt||this}_next(dt){let _t;try{_t=this.project.call(this.thisArg,dt,this.count++)}catch(Pt){return void this.destination.error(Pt)}this.destination.next(_t)}}},282:(yi,tt,re)=>{"use strict";re.d(tt,{J:()=>ke});var K=re(773),it=re(487);function ke(b=Number.POSITIVE_INFINITY){return(0,K.zg)(it.y,b)}},773:(yi,tt,re)=>{"use strict";re.d(tt,{zg:()=>b});var K=re(2),it=re(402),ke=re(345);function b(Pt,et,be=Number.POSITIVE_INFINITY){return"function"==typeof et?Me=>Me.pipe(b((xe,ze)=>(0,it.D)(Pt(xe,ze)).pipe((0,K.U)((Ye,lt)=>et(xe,Ye,ze,lt))),be)):("number"==typeof et&&(be=et),Me=>Me.lift(new Tt(Pt,be)))}class Tt{constructor(et,be=Number.POSITIVE_INFINITY){this.project=et,this.concurrent=be}call(et,be){return be.subscribe(new dt(et,this.project,this.concurrent))}}class dt extends ke.Ds{constructor(et,be,Me=Number.POSITIVE_INFINITY){super(et),this.project=be,this.concurrent=Me,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(et){this.active<this.concurrent?this._tryNext(et):this.buffer.push(et)}_tryNext(et){let be;const Me=this.index++;try{be=this.project(et,Me)}catch(xe){return void this.destination.error(xe)}this.active++,this._innerSub(be)}_innerSub(et){const be=new ke.IY(this),Me=this.destination;Me.add(be);const xe=(0,ke.ft)(et,be);xe!==be&&Me.add(xe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(et){this.destination.next(et)}notifyComplete(){const et=this.buffer;this.active--,et.length>0?this._next(et.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},307:(yi,tt,re)=>{"use strict";re.d(tt,{x:()=>it});var K=re(393);function it(){return function(dt){return dt.lift(new ke(dt))}}class ke{constructor(dt){this.connectable=dt}call(dt,_t){const{connectable:Pt}=this;Pt._refCount++;const et=new b(dt,Pt),be=_t.subscribe(et);return et.closed||(et.connection=Pt.connect()),be}}class b extends K.L{constructor(dt,_t){super(dt),this.connectable=_t}_unsubscribe(){const{connectable:dt}=this;if(!dt)return void(this.connection=null);this.connectable=null;const _t=dt._refCount;if(_t<=0)return void(this.connection=null);if(dt._refCount=_t-1,_t>1)return void(this.connection=null);const{connection:Pt}=this,et=dt._connection;this.connection=null,et&&(!Pt||et===Pt)&&et.unsubscribe()}}},87:(yi,tt,re)=>{"use strict";re.d(tt,{r:()=>ke});var K=re(574),it=re(319);function ke(b,Tt){return new K.y(dt=>{const _t=new it.w;let Pt=0;return _t.add(Tt.schedule(function(){Pt!==b.length?(dt.next(b[Pt++]),dt.closed||_t.add(this.schedule())):dt.complete()})),_t})}},377:(yi,tt,re)=>{"use strict";re.d(tt,{hZ:()=>it});const it="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},554:(yi,tt,re)=>{"use strict";re.d(tt,{L:()=>K});const K="function"==typeof Symbol&&Symbol.observable||"@@observable"},181:(yi,tt,re)=>{"use strict";re.d(tt,{b:()=>K});const K="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},971:(yi,tt,re)=>{"use strict";re.d(tt,{N:()=>it});const it=(()=>{function ke(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ke.prototype=Object.create(Error.prototype),ke})()},449:(yi,tt,re)=>{"use strict";function K(it){setTimeout(()=>{throw it},0)}re.d(tt,{z:()=>K})},487:(yi,tt,re)=>{"use strict";function K(it){return it}re.d(tt,{y:()=>K})},796:(yi,tt,re)=>{"use strict";re.d(tt,{k:()=>K});const K=Array.isArray||(it=>it&&"number"==typeof it.length)},489:(yi,tt,re)=>{"use strict";re.d(tt,{z:()=>K});const K=it=>it&&"number"==typeof it.length&&"function"!=typeof it},105:(yi,tt,re)=>{"use strict";function K(it){return"function"==typeof it}re.d(tt,{m:()=>K})},555:(yi,tt,re)=>{"use strict";function K(it){return null!==it&&"object"==typeof it}re.d(tt,{K:()=>K})},72:(yi,tt,re)=>{"use strict";function K(it){return!!it&&"function"!=typeof it.subscribe&&"function"==typeof it.then}re.d(tt,{t:()=>K})},869:(yi,tt,re)=>{"use strict";function K(it){return it&&"function"==typeof it.schedule}re.d(tt,{K:()=>K})},444:(yi,tt,re)=>{"use strict";re.d(tt,{s:()=>Me});var K=re(15),it=re(449),b=re(377),dt=re(554),Pt=re(489),et=re(72),be=re(555);const Me=xe=>{if(xe&&"function"==typeof xe[dt.L])return(xe=>ze=>{const Ye=xe[dt.L]();if("function"!=typeof Ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ye.subscribe(ze)})(xe);if((0,Pt.z)(xe))return(0,K.V)(xe);if((0,et.t)(xe))return(xe=>ze=>(xe.then(Ye=>{ze.closed||(ze.next(Ye),ze.complete())},Ye=>ze.error(Ye)).then(null,it.z),ze))(xe);if(xe&&"function"==typeof xe[b.hZ])return(xe=>ze=>{const Ye=xe[b.hZ]();for(;;){let lt;try{lt=Ye.next()}catch(He){return ze.error(He),ze}if(lt.done){ze.complete();break}if(ze.next(lt.value),ze.closed)break}return"function"==typeof Ye.return&&ze.add(()=>{Ye.return&&Ye.return()}),ze})(xe);{const Ye=`You provided ${(0,be.K)(xe)?"an invalid object":`'${xe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ye)}}},15:(yi,tt,re)=>{"use strict";re.d(tt,{V:()=>K});const K=it=>ke=>{for(let b=0,Tt=it.length;b<Tt&&!ke.closed;b++)ke.next(it[b]);ke.complete()}},259:function(yi){yi.exports=function(){"use strict";const tt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),re="SweetAlert2:",it=I=>I.charAt(0).toUpperCase()+I.slice(1),ke=I=>Array.prototype.slice.call(I),b=I=>{console.warn("".concat(re," ").concat("object"==typeof I?I.join(" "):I))},Tt=I=>{console.error("".concat(re," ").concat(I))},dt=[],Pt=(I,M)=>{(I=>{dt.includes(I)||(dt.push(I),b(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},et=I=>"function"==typeof I?I():I,be=I=>I&&"function"==typeof I.toPromise,Me=I=>be(I)?I.toPromise():Promise.resolve(I),xe=I=>I&&Promise.resolve(I)===I,Ye=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I),ei=I=>{const M={};for(const F in I)M[I[F]]="swal2-"+I[F];return M},Ee=ei(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),$t=ei(["success","warning","info","question","error"]),st=()=>document.body.querySelector(".".concat(Ee.container)),Br=I=>{const M=st();return M?M.querySelector(I):null},jr=I=>Br(".".concat(I)),Ci=()=>jr(Ee.popup),td=()=>jr(Ee.icon),Bc=()=>jr(Ee.title),ti=()=>jr(Ee["html-container"]),ps=()=>jr(Ee.image),un=()=>jr(Ee["progress-steps"]),Js=()=>jr(Ee["validation-message"]),ri=()=>Br(".".concat(Ee.actions," .").concat(Ee.confirm)),Li=()=>Br(".".concat(Ee.actions," .").concat(Ee.deny)),$s=()=>Br(".".concat(Ee.loader)),Zo=()=>Br(".".concat(Ee.actions," .").concat(Ee.cancel)),Al=()=>jr(Ee.actions),Oa=()=>jr(Ee.footer),jc=()=>jr(Ee["timer-progress-bar"]),Gh=()=>jr(Ee.close),pp=()=>{const I=ke(Ci().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((F,ee)=>(F=parseInt(F.getAttribute("tabindex")))>(ee=parseInt(ee.getAttribute("tabindex")))?1:F<ee?-1:0),M=ke(Ci().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(F=>"-1"!==F.getAttribute("tabindex"));return(I=>{const M=[];for(let F=0;F<I.length;F++)-1===M.indexOf(I[F])&&M.push(I[F]);return M})(I.concat(M)).filter(F=>ga(F))},ac=()=>!Zi(document.body,Ee["toast-shown"])&&!Zi(document.body,Ee["no-backdrop"]),oc=()=>Ci()&&Zi(Ci(),Ee.toast),hr={previousBodyPadding:null},Xi=(I,M)=>{if(I.textContent="",M){const ee=(new DOMParser).parseFromString(M,"text/html");ke(ee.querySelector("head").childNodes).forEach($e=>{I.appendChild($e)}),ke(ee.querySelector("body").childNodes).forEach($e=>{I.appendChild($e)})}},Zi=(I,M)=>{if(!M)return!1;const F=M.split(/\s+/);for(let ee=0;ee<F.length;ee++)if(!I.classList.contains(F[ee]))return!1;return!0},Ra=(I,M,F)=>{if(((I,M)=>{ke(I.classList).forEach(F=>{!Object.values(Ee).includes(F)&&!Object.values($t).includes(F)&&!Object.values(M.showClass).includes(F)&&I.classList.remove(F)})})(I,M),M.customClass&&M.customClass[F]){if("string"!=typeof M.customClass[F]&&!M.customClass[F].forEach)return b("Invalid type of customClass.".concat(F,'! Expected string or iterable object, got "').concat(typeof M.customClass[F],'"'));Ii(I,M.customClass[F])}},id=(I,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return Qa(I,Ee[M]);case"checkbox":return I.querySelector(".".concat(Ee.checkbox," input"));case"radio":return I.querySelector(".".concat(Ee.radio," input:checked"))||I.querySelector(".".concat(Ee.radio," input:first-child"));case"range":return I.querySelector(".".concat(Ee.range," input"));default:return Qa(I,Ee.input)}},Hn=I=>{if(I.focus(),"file"!==I.type){const M=I.value;I.value="",I.value=M}},fp=(I,M,F)=>{!I||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(ee=>{I.forEach?I.forEach($e=>{F?$e.classList.add(ee):$e.classList.remove(ee)}):F?I.classList.add(ee):I.classList.remove(ee)}))},Ii=(I,M)=>{fp(I,M,!0)},xn=(I,M)=>{fp(I,M,!1)},Qa=(I,M)=>{for(let F=0;F<I.childNodes.length;F++)if(Zi(I.childNodes[F],M))return I.childNodes[F]},Ir=(I,M,F)=>{F==="".concat(parseInt(F))&&(F=parseInt(F)),F||0===parseInt(F)?I.style[M]="number"==typeof F?"".concat(F,"px"):F:I.style.removeProperty(M)},Bn=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},In=I=>{I.style.display="none"},lc=(I,M,F,ee)=>{const $e=I.querySelector(M);$e&&($e.style[F]=ee)},xl=(I,M,F)=>{M?Bn(I,F):In(I)},ga=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Ut=I=>I.scrollHeight>I.clientHeight,dn=I=>{const M=window.getComputedStyle(I),F=parseFloat(M.getPropertyValue("animation-duration")||"0"),ee=parseFloat(M.getPropertyValue("transition-duration")||"0");return F>0||ee>0},qt=function(I){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const F=jc();ga(F)&&(M&&(F.style.transition="none",F.style.width="100%"),setTimeout(()=>{F.style.transition="width ".concat(I/1e3,"s linear"),F.style.width="0%"},10))},sd=()=>"undefined"==typeof window||"undefined"==typeof document,mp='\n <div aria-labelledby="'.concat(Ee.title,'" aria-describedby="').concat(Ee["html-container"],'" class="').concat(Ee.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Ee.close,'"></button>\n   <ul class="').concat(Ee["progress-steps"],'"></ul>\n   <div class="').concat(Ee.icon,'"></div>\n   <img class="').concat(Ee.image,'" />\n   <h2 class="').concat(Ee.title,'" id="').concat(Ee.title,'"></h2>\n   <div class="').concat(Ee["html-container"],'" id="').concat(Ee["html-container"],'"></div>\n   <input class="').concat(Ee.input,'" />\n   <input type="file" class="').concat(Ee.file,'" />\n   <div class="').concat(Ee.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Ee.select,'"></select>\n   <div class="').concat(Ee.radio,'"></div>\n   <label for="').concat(Ee.checkbox,'" class="').concat(Ee.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Ee.label,'"></span>\n   </label>\n   <textarea class="').concat(Ee.textarea,'"></textarea>\n   <div class="').concat(Ee["validation-message"],'" id="').concat(Ee["validation-message"],'"></div>\n   <div class="').concat(Ee.actions,'">\n     <div class="').concat(Ee.loader,'"></div>\n     <button type="button" class="').concat(Ee.confirm,'"></button>\n     <button type="button" class="').concat(Ee.deny,'"></button>\n     <button type="button" class="').concat(Ee.cancel,'"></button>\n   </div>\n   <div class="').concat(Ee.footer,'"></div>\n   <div class="').concat(Ee["timer-progress-bar-container"],'">\n     <div class="').concat(Ee["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),bn=()=>{Do.isVisible()&&Do.resetValidationMessage()},Rs=I=>{const M=(()=>{const I=st();return!!I&&(I.remove(),xn([document.documentElement,document.body],[Ee["no-backdrop"],Ee["toast-shown"],Ee["has-column"]]),!0)})();if(sd())return void Tt("SweetAlert2 requires document to initialize");const F=document.createElement("div");F.className=Ee.container,M&&Ii(F,Ee["no-transition"]),Xi(F,mp);const ee=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);ee.appendChild(F),(I=>{const M=Ci();M.setAttribute("role",I.toast?"alert":"dialog"),M.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||M.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Ii(st(),Ee.rtl)})(ee),(()=>{const I=Ci(),M=Qa(I,Ee.input),F=Qa(I,Ee.file),ee=I.querySelector(".".concat(Ee.range," input")),$e=I.querySelector(".".concat(Ee.range," output")),It=Qa(I,Ee.select),fr=I.querySelector(".".concat(Ee.checkbox," input")),zr=Qa(I,Ee.textarea);M.oninput=bn,F.onchange=bn,It.onchange=bn,fr.onchange=bn,zr.oninput=bn,ee.oninput=()=>{bn(),$e.value=ee.value},ee.onchange=()=>{bn(),ee.nextSibling.value=ee.value}})()},gp=(I,M)=>{I instanceof HTMLElement?M.appendChild(I):"object"==typeof I?Xh(I,M):I&&Xi(M,I)},Xh=(I,M)=>{I.jquery?pn(M,I):Xi(M,I.toString())},pn=(I,M)=>{if(I.textContent="",0 in M)for(let F=0;F in M;F++)I.appendChild(M[F].cloneNode(!0));else I.appendChild(M.cloneNode(!0))},Jo=(()=>{if(sd())return!1;const I=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const F in M)if(Object.prototype.hasOwnProperty.call(M,F)&&void 0!==I.style[F])return M[F];return!1})(),cc=(I,M)=>{const F=Al(),ee=$s();M.showConfirmButton||M.showDenyButton||M.showCancelButton?Bn(F):In(F),Ra(F,M,"actions"),function(I,M,F){const ee=ri(),$e=Li(),It=Zo();kl(ee,"confirm",F),kl($e,"deny",F),kl(It,"cancel",F),function(I,M,F,ee){if(!ee.buttonsStyling)return xn([I,M,F],Ee.styled);Ii([I,M,F],Ee.styled),ee.confirmButtonColor&&(I.style.backgroundColor=ee.confirmButtonColor,Ii(I,Ee["default-outline"])),ee.denyButtonColor&&(M.style.backgroundColor=ee.denyButtonColor,Ii(M,Ee["default-outline"])),ee.cancelButtonColor&&(F.style.backgroundColor=ee.cancelButtonColor,Ii(F,Ee["default-outline"]))}(ee,$e,It,F),F.reverseButtons&&(F.toast?(I.insertBefore(It,ee),I.insertBefore($e,ee)):(I.insertBefore(It,M),I.insertBefore($e,M),I.insertBefore(ee,M)))}(F,ee,M),Xi(ee,M.loaderHtml),Ra(ee,M,"loader")};function kl(I,M,F){xl(I,F["show".concat(it(M),"Button")],"inline-block"),Xi(I,F["".concat(M,"ButtonText")]),I.setAttribute("aria-label",F["".concat(M,"ButtonAriaLabel")]),I.className=Ee[M],Ra(I,F,"".concat(M,"Button")),Ii(I,F["".concat(M,"ButtonClass")])}const el=(I,M)=>{const F=st();!F||(function(I,M){"string"==typeof M?I.style.background=M:M||Ii([document.documentElement,document.body],Ee["no-backdrop"])}(F,M.backdrop),function(I,M){M in Ee?Ii(I,Ee[M]):(b('The "position" parameter is not valid, defaulting to "center"'),Ii(I,Ee.center))}(F,M.position),function(I,M){if(M&&"string"==typeof M){const F="grow-".concat(M);F in Ee&&Ii(I,Ee[F])}}(F,M.grow),Ra(F,M,"container"))};var fi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Qv=["input","file","range","select","radio","checkbox","textarea"],bm=I=>{if(!Jn[I.input])return Tt('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const M=Zh(I.input),F=Jn[I.input](M,I);Bn(F),setTimeout(()=>{Hn(F)})},nd=(I,M)=>{const F=id(Ci(),I);if(F){(I=>{for(let M=0;M<I.attributes.length;M++){const F=I.attributes[M].name;["type","value","style"].includes(F)||I.removeAttribute(F)}})(F);for(const ee in M)F.setAttribute(ee,M[ee])}},Wc=I=>{const M=Zh(I.input);I.customClass&&Ii(M,I.customClass.input)},La=(I,M)=>{(!I.placeholder||M.inputPlaceholder)&&(I.placeholder=M.inputPlaceholder)},Uc=(I,M,F)=>{if(F.inputLabel){I.id=Ee.input;const ee=document.createElement("label"),$e=Ee["input-label"];ee.setAttribute("for",I.id),ee.className=$e,Ii(ee,F.customClass.inputLabel),ee.innerText=F.inputLabel,M.insertAdjacentElement("beforebegin",ee)}},Zh=I=>{const M=Ee[I]?Ee[I]:Ee.input;return Qa(Ci(),M)},Jn={};Jn.text=Jn.email=Jn.password=Jn.number=Jn.tel=Jn.url=(I,M)=>("string"==typeof M.inputValue||"number"==typeof M.inputValue?I.value=M.inputValue:xe(M.inputValue)||b('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof M.inputValue,'"')),Uc(I,I,M),La(I,M),I.type=M.input,I),Jn.file=(I,M)=>(Uc(I,I,M),La(I,M),I),Jn.range=(I,M)=>{const F=I.querySelector("input"),ee=I.querySelector("output");return F.value=M.inputValue,F.type=M.input,ee.value=M.inputValue,Uc(F,I,M),I},Jn.select=(I,M)=>{if(I.textContent="",M.inputPlaceholder){const F=document.createElement("option");Xi(F,M.inputPlaceholder),F.value="",F.disabled=!0,F.selected=!0,I.appendChild(F)}return Uc(I,I,M),I},Jn.radio=I=>(I.textContent="",I),Jn.checkbox=(I,M)=>{const F=id(Ci(),"checkbox");F.value=1,F.id=Ee.checkbox,F.checked=Boolean(M.inputValue);const ee=I.querySelector("span");return Xi(ee,M.inputPlaceholder),I},Jn.textarea=(I,M)=>{I.value=M.inputValue,La(I,M),Uc(I,I,M);return setTimeout(()=>{if("MutationObserver"in window){const ee=parseInt(window.getComputedStyle(Ci()).width);new MutationObserver(()=>{const It=I.offsetWidth+(ee=>parseInt(window.getComputedStyle(ee).marginLeft)+parseInt(window.getComputedStyle(ee).marginRight))(I);Ci().style.width=It>ee?"".concat(It,"px"):null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Cp=(I,M)=>{const F=ti();Ra(F,M,"htmlContainer"),M.html?(gp(M.html,F),Bn(F,"block")):M.text?(F.textContent=M.text,Bn(F,"block")):In(F),((I,M)=>{const F=Ci(),ee=fi.innerParams.get(I),$e=!ee||M.input!==ee.input;Qv.forEach(It=>{const fr=Ee[It],zr=Qa(F,fr);nd(It,M.inputAttributes),zr.className=fr,$e&&In(zr)}),M.input&&($e&&bm(M),Wc(M))})(I,M)},ia=(I,M)=>{for(const F in $t)M.icon!==F&&xn(I,$t[F]);Ii(I,$t[M.icon]),gt(I,M),Em(),Ra(I,M,"icon")},Em=()=>{const I=Ci(),M=window.getComputedStyle(I).getPropertyValue("background-color"),F=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ee=0;ee<F.length;ee++)F[ee].style.backgroundColor=M},va=(I,M)=>{I.textContent="",Xi(I,M.iconHtml?_i(M.iconHtml):"success"===M.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===M.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':_i({question:"?",warning:"!",info:"i"}[M.icon]))},gt=(I,M)=>{if(M.iconColor){I.style.color=M.iconColor,I.style.borderColor=M.iconColor;for(const F of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lc(I,F,"backgroundColor",M.iconColor);lc(I,".swal2-success-ring","borderColor",M.iconColor)}},_i=I=>'<div class="'.concat(Ee["icon-content"],'">').concat(I,"</div>"),zi=(I,M)=>{const F=un();if(!M.progressSteps||0===M.progressSteps.length)return In(F);Bn(F),F.textContent="",M.currentProgressStep>=M.progressSteps.length&&b("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((ee,$e)=>{const It=(I=>{const M=document.createElement("li");return Ii(M,Ee["progress-step"]),Xi(M,I),M})(ee);if(F.appendChild(It),$e===M.currentProgressStep&&Ii(It,Ee["active-progress-step"]),$e!==M.progressSteps.length-1){const fr=(I=>{const M=document.createElement("li");return Ii(M,Ee["progress-step-line"]),I.progressStepsDistance&&(M.style.width=I.progressStepsDistance),M})(M);F.appendChild(fr)}})},qc=(I,M)=>{I.className="".concat(Ee.popup," ").concat(ga(I)?M.showClass.popup:""),M.toast?(Ii([document.documentElement,document.body],Ee["toast-shown"]),Ii(I,Ee.toast)):Ii(I,Ee.modal),Ra(I,M,"popup"),"string"==typeof M.customClass&&Ii(I,M.customClass),M.icon&&Ii(I,Ee["icon-".concat(M.icon)])},Yt=(I,M)=>{((I,M)=>{const F=st(),ee=Ci();M.toast?(Ir(F,"width",M.width),ee.style.width="100%",ee.insertBefore($s(),td())):Ir(ee,"width",M.width),Ir(ee,"padding",M.padding),M.color&&(ee.style.color=M.color),M.background&&(ee.style.background=M.background),In(Js()),qc(ee,M)})(0,M),el(0,M),zi(0,M),((I,M)=>{const F=fi.innerParams.get(I),ee=td();F&&M.icon===F.icon?(va(ee,M),ia(ee,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys($t).indexOf(M.icon)?(Tt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),In(ee)):(Bn(ee),va(ee,M),ia(ee,M),Ii(ee,M.showClass.icon)):In(ee)})(I,M),((I,M)=>{const F=ps();if(!M.imageUrl)return In(F);Bn(F,""),F.setAttribute("src",M.imageUrl),F.setAttribute("alt",M.imageAlt),Ir(F,"width",M.imageWidth),Ir(F,"height",M.imageHeight),F.className=Ee.image,Ra(F,M,"image")})(0,M),((I,M)=>{const F=Bc();xl(F,M.title||M.titleText,"block"),M.title&&gp(M.title,F),M.titleText&&(F.innerText=M.titleText),Ra(F,M,"title")})(0,M),((I,M)=>{const F=Gh();Xi(F,M.closeButtonHtml),Ra(F,M,"closeButton"),xl(F,M.showCloseButton),F.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Cp(I,M),cc(0,M),((I,M)=>{const F=Oa();xl(F,M.footer),M.footer&&gp(M.footer,F),Ra(F,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(Ci())},zc=()=>ri()&&ri().click();const Ka=I=>{let M=Ci();M||Do.fire(),M=Ci();const F=$s();oc()?In(td()):Ol(M,I),Bn(F),M.setAttribute("data-loading",!0),M.setAttribute("aria-busy",!0),M.focus()},Ol=(I,M)=>{const F=Al(),ee=$s();!M&&ga(ri())&&(M=ri()),Bn(F),M&&(In(M),ee.setAttribute("data-button-to-replace",M.className)),ee.parentNode.insertBefore(ee,M),Ii([I,F],Ee.loading)},bt={},YC=I=>new Promise(M=>{if(!I)return M();const F=window.scrollX,ee=window.scrollY;bt.restoreFocusTimeout=setTimeout(()=>{bt.previousActiveElement&&bt.previousActiveElement.focus?(bt.previousActiveElement.focus(),bt.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(F,ee)}),eu=()=>{if(bt.timeout)return(()=>{const I=jc(),M=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const F=parseInt(window.getComputedStyle(I).width),ee=parseInt(M/F*100);I.style.removeProperty("transition"),I.style.width="".concat(ee,"%")})(),bt.timeout.stop()},$c=()=>{if(bt.timeout){const I=bt.timeout.start();return qt(I),I}};let rd=!1;const pr={};const wp=I=>{for(let M=I.target;M&&M!==document;M=M.parentNode)for(const F in pr){const ee=M.getAttribute(F);if(ee)return void pr[F].fire({template:ee})}},Xa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},tu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ei={},dc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],il=I=>Object.prototype.hasOwnProperty.call(Xa,I),Dp=I=>Ei[I],$C=I=>{il(I)||b('Unknown parameter "'.concat(I,'"'))},Dm=I=>{dc.includes(I)&&b('The parameter "'.concat(I,'" is incompatible with toasts'))},Sp=I=>{Dp(I)&&Pt(I,Dp(I))},GC=I=>{!I.backdrop&&I.allowOutsideClick&&b('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in I)$C(M),I.toast&&Dm(M),Sp(M)};var Kv=Object.freeze({isValidParameter:il,isUpdatableParameter:I=>-1!==tu.indexOf(I),isDeprecatedParameter:Dp,argsToParams:I=>{const M={};return"object"!=typeof I[0]||Ye(I[0])?["title","html","icon"].forEach((F,ee)=>{const $e=I[ee];"string"==typeof $e||Ye($e)?M[F]=$e:void 0!==$e&&Tt("Unexpected type of ".concat(F,'! Expected "string" or "Element", got ').concat(typeof $e))}):Object.assign(M,I[0]),M},isVisible:()=>ga(Ci()),clickConfirm:zc,clickDeny:()=>Li()&&Li().click(),clickCancel:()=>Zo()&&Zo().click(),getContainer:st,getPopup:Ci,getTitle:Bc,getHtmlContainer:ti,getImage:ps,getIcon:td,getInputLabel:()=>jr(Ee["input-label"]),getCloseButton:Gh,getActions:Al,getConfirmButton:ri,getDenyButton:Li,getCancelButton:Zo,getLoader:$s,getFooter:Oa,getTimerProgressBar:jc,getFocusableElements:pp,getValidationMessage:Js,isLoading:()=>Ci().hasAttribute("data-loading"),fire:function(){const I=this;for(var M=arguments.length,F=new Array(M),ee=0;ee<M;ee++)F[ee]=arguments[ee];return new I(...F)},mixin:function(I){return class extends(this){_main(ee,$e){return super._main(ee,Object.assign({},I,$e))}}},showLoading:Ka,enableLoading:Ka,getTimerLeft:()=>bt.timeout&&bt.timeout.getTimerLeft(),stopTimer:eu,resumeTimer:$c,toggleTimer:()=>{const I=bt.timeout;return I&&(I.running?eu():$c())},increaseTimer:I=>{if(bt.timeout){const M=bt.timeout.increase(I);return qt(M,!0),M}},isTimerRunning:()=>bt.timeout&&bt.timeout.isRunning(),bindClickHandler:function(){pr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,rd||(document.body.addEventListener("click",wp),rd=!0)}});function Sm(){const I=fi.innerParams.get(this);if(!I)return;const M=fi.domCache.get(this);In(M.loader),oc()?I.icon&&Bn(td()):Tm(M),xn([M.popup,M.actions],Ee.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Tm=I=>{const M=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));M.length?Bn(M[0],"inline-block"):!ga(ri())&&!ga(Li())&&!ga(Zo())&&In(I.actions)};const Zv=()=>{null===hr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(hr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(hr.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=Ee["scrollbar-measure"],document.body.appendChild(I);const M=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),M})(),"px"))},Jv=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const M=44;Ci().scrollHeight>window.innerHeight-M&&(st().style.paddingBottom="".concat(M,"px"))}},_l=()=>{const I=st();let M;I.ontouchstart=F=>{M=QC(F)},I.ontouchmove=F=>{M&&(F.preventDefault(),F.stopPropagation())}},QC=I=>{const M=I.target,F=st();return!(Tp(I)||jn(I)||M!==F&&(Ut(F)||"INPUT"===M.tagName||"TEXTAREA"===M.tagName||Ut(ti())&&ti().contains(M)))},Tp=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,jn=I=>I.touches&&I.touches.length>1,ey=()=>{ke(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})};var Za={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function iu(I,M,F,ee){oc()?B(I,ee):(YC(F).then(()=>B(I,ee)),bt.keydownTarget.removeEventListener("keydown",bt.keydownHandler,{capture:bt.keydownListenerCapture}),bt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),ac()&&(null!==hr.previousBodyPadding&&(document.body.style.paddingRight="".concat(hr.previousBodyPadding,"px"),hr.previousBodyPadding=null),(()=>{if(Zi(document.body,Ee.iosfix)){const I=parseInt(document.body.style.top,10);xn(document.body,Ee.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),ey()),xn([document.documentElement,document.body],[Ee.shown,Ee["height-auto"],Ee["no-backdrop"],Ee["toast-shown"]])}function Qc(I){I=Im(I);const M=Za.swalPromiseResolve.get(this),F=xm(this);this.isAwaitingPromise()?I.isDismissed||(kp(this),M(I)):F&&M(I)}const xm=I=>{const M=Ci();if(!M)return!1;const F=fi.innerParams.get(I);if(!F||Zi(M,F.hideClass.popup))return!1;xn(M,F.showClass.popup),Ii(M,F.hideClass.popup);const ee=st();return xn(ee,F.showClass.backdrop),Ii(ee,F.hideClass.backdrop),Mp(I,M,F),!0};const kp=I=>{I.isAwaitingPromise()&&(fi.awaitingPromise.delete(I),fi.innerParams.get(I)||I._destroy())},Im=I=>void 0===I?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),Mp=(I,M,F)=>{const ee=st(),$e=Jo&&dn(M);"function"==typeof F.willClose&&F.willClose(M),$e?_(I,M,ee,F.returnFocus,F.didClose):iu(I,ee,F.returnFocus,F.didClose)},_=(I,M,F,ee,$e)=>{bt.swalCloseEventFinishedCallback=iu.bind(null,I,F,ee,$e),M.addEventListener(Jo,function(It){It.target===M&&(bt.swalCloseEventFinishedCallback(),delete bt.swalCloseEventFinishedCallback)})},B=(I,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(I.params)(),I._destroy()})};function P(I,M,F){const ee=fi.domCache.get(I);M.forEach($e=>{ee[$e].disabled=F})}function j(I,M){if(!I)return!1;if("radio"===I.type){const ee=I.parentNode.parentNode.querySelectorAll("input");for(let $e=0;$e<ee.length;$e++)ee[$e].disabled=M}else I.disabled=M}class ki{constructor(M,F){this.callback=M,this.remaining=F,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(M){const F=this.running;return F&&this.stop(),this.remaining+=M,F&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Pi={email:(I,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(I,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Pl(I){(function(I){I.inputValidator||Object.keys(Pi).forEach(M=>{I.input===M&&(I.inputValidator=Pi[M])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&b("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(b('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Rs(I)}const kn=["swal-title","swal-html","swal-footer"],Nl=I=>{const M={};return ke(I.querySelectorAll("swal-param")).forEach(F=>{Xc(F,["name","value"]);const ee=F.getAttribute("name");let $e=F.getAttribute("value");"boolean"==typeof Xa[ee]&&"false"===$e&&($e=!1),"object"==typeof Xa[ee]&&($e=JSON.parse($e)),M[ee]=$e}),M},pc=I=>{const M={};return ke(I.querySelectorAll("swal-button")).forEach(F=>{Xc(F,["type","color","aria-label"]);const ee=F.getAttribute("type");M["".concat(ee,"ButtonText")]=F.innerHTML,M["show".concat(it(ee),"Button")]=!0,F.hasAttribute("color")&&(M["".concat(ee,"ButtonColor")]=F.getAttribute("color")),F.hasAttribute("aria-label")&&(M["".concat(ee,"ButtonAriaLabel")]=F.getAttribute("aria-label"))}),M},qr=I=>{const M={},F=I.querySelector("swal-image");return F&&(Xc(F,["src","width","height","alt"]),F.hasAttribute("src")&&(M.imageUrl=F.getAttribute("src")),F.hasAttribute("width")&&(M.imageWidth=F.getAttribute("width")),F.hasAttribute("height")&&(M.imageHeight=F.getAttribute("height")),F.hasAttribute("alt")&&(M.imageAlt=F.getAttribute("alt"))),M},od=I=>{const M={},F=I.querySelector("swal-icon");return F&&(Xc(F,["type","color"]),F.hasAttribute("type")&&(M.icon=F.getAttribute("type")),F.hasAttribute("color")&&(M.iconColor=F.getAttribute("color")),M.iconHtml=F.innerHTML),M},km=I=>{const M={},F=I.querySelector("swal-input");F&&(Xc(F,["type","label","placeholder","value"]),M.input=F.getAttribute("type")||"text",F.hasAttribute("label")&&(M.inputLabel=F.getAttribute("label")),F.hasAttribute("placeholder")&&(M.inputPlaceholder=F.getAttribute("placeholder")),F.hasAttribute("value")&&(M.inputValue=F.getAttribute("value")));const ee=I.querySelectorAll("swal-input-option");return ee.length&&(M.inputOptions={},ke(ee).forEach($e=>{Xc($e,["value"]);const It=$e.getAttribute("value");M.inputOptions[It]=$e.innerHTML})),M},HD=(I,M)=>{const F={};for(const ee in M){const $e=M[ee],It=I.querySelector($e);It&&(Xc(It,[]),F[$e.replace(/^swal-/,"")]=It.innerHTML.trim())}return F},Kc=I=>{const M=kn.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ke(I.children).forEach(F=>{const ee=F.tagName.toLowerCase();-1===M.indexOf(ee)&&b("Unrecognized element <".concat(ee,">"))})},Xc=(I,M)=>{ke(I.attributes).forEach(F=>{-1===M.indexOf(F.name)&&b(['Unrecognized attribute "'.concat(F.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})},di=I=>{const M=st(),F=Ci();"function"==typeof I.willOpen&&I.willOpen(F);const $e=window.getComputedStyle(document.body).overflowY;KC(M,F,I),setTimeout(()=>{BD(M,F)},10),ac()&&(ld(M,I.scrollbarPadding,$e),ke(document.body.children).forEach(M=>{M===st()||M.contains(st())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!oc()&&!bt.previousActiveElement&&(bt.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(F)),xn(M,Ee["no-transition"])},Wi=I=>{const M=Ci();if(I.target!==M)return;const F=st();M.removeEventListener(Jo,Wi),F.style.overflowY="auto"},BD=(I,M)=>{Jo&&dn(M)?(I.style.overflowY="hidden",M.addEventListener(Jo,Wi)):I.style.overflowY="auto"},ld=(I,M,F)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Zi(document.body,Ee.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),Ii(document.body,Ee.iosfix),_l(),Jv()}})(),M&&"hidden"!==F&&Zv(),setTimeout(()=>{I.scrollTop=0})},KC=(I,M,F)=>{Ii(I,F.showClass.backdrop),M.style.setProperty("opacity","0","important"),Bn(M,"grid"),setTimeout(()=>{Ii(M,F.showClass.popup),M.style.removeProperty("opacity")},10),Ii([document.documentElement,document.body],Ee.shown),F.heightAuto&&F.backdrop&&!F.toast&&Ii([document.documentElement,document.body],Ee["height-auto"])},ZC=I=>I.checked?1:0,Ke=I=>I.checked?I.value:null,Di=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,iy=(I,M)=>{const F=Ci(),ee=$e=>sy[M.input](F,cd($e),M);be(M.inputOptions)||xe(M.inputOptions)?(Ka(ri()),Me(M.inputOptions).then($e=>{I.hideLoading(),ee($e)})):"object"==typeof M.inputOptions?ee(M.inputOptions):Tt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof M.inputOptions))},er=(I,M)=>{const F=I.getInput();In(F),Me(M.inputValue).then(ee=>{F.value="number"===M.input?parseFloat(ee)||0:"".concat(ee),Bn(F),F.focus(),I.hideLoading()}).catch(ee=>{Tt("Error in inputValue promise: ".concat(ee)),F.value="",Bn(F),F.focus(),I.hideLoading()})},sy={select:(I,M,F)=>{const ee=Qa(I,Ee.select),$e=(It,fr,zr)=>{const tr=document.createElement("option");tr.value=zr,Xi(tr,fr),tr.selected=Us(zr,F.inputValue),It.appendChild(tr)};M.forEach(It=>{const fr=It[0],zr=It[1];if(Array.isArray(zr)){const tr=document.createElement("optgroup");tr.label=fr,tr.disabled=!1,ee.appendChild(tr),zr.forEach(au=>$e(tr,au[1],au[0]))}else $e(ee,zr,fr)}),ee.focus()},radio:(I,M,F)=>{const ee=Qa(I,Ee.radio);M.forEach(It=>{const fr=It[0],zr=It[1],tr=document.createElement("input"),au=document.createElement("label");tr.type="radio",tr.name=Ee.radio,tr.value=fr,Us(fr,F.inputValue)&&(tr.checked=!0);const Np=document.createElement("span");Xi(Np,zr),Np.className=Ee.label,au.appendChild(tr),au.appendChild(Np),ee.appendChild(au)});const $e=ee.querySelectorAll("input");$e.length&&$e[0].focus()}},cd=I=>{const M=[];return"undefined"!=typeof Map&&I instanceof Map?I.forEach((F,ee)=>{let $e=F;"object"==typeof $e&&($e=cd($e)),M.push([ee,$e])}):Object.keys(I).forEach(F=>{let ee=I[F];"object"==typeof ee&&(ee=cd(ee)),M.push([F,ee])}),M},Us=(I,M)=>M&&M.toString()===I.toString(),ry=(I,M)=>{const F=fi.innerParams.get(I),ee=((I,M)=>{const F=I.getInput();if(!F)return null;switch(M.input){case"checkbox":return ZC(F);case"radio":return Ke(F);case"file":return Di(F);default:return M.inputAutoTrim?F.value.trim():F.value}})(I,F);F.inputValidator?Op(I,ee,M):I.getInput().checkValidity()?"deny"===M?hd(I,ee):Rp(I,ee):(I.enableButtons(),I.showValidationMessage(F.validationMessage))},Op=(I,M,F)=>{const ee=fi.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Me(ee.inputValidator(M,ee.validationMessage))).then(It=>{I.enableButtons(),I.enableInput(),It?I.showValidationMessage(It):"deny"===F?hd(I,M):Rp(I,M)})},hd=(I,M)=>{const F=fi.innerParams.get(I||void 0);F.showLoaderOnDeny&&Ka(Li()),F.preDeny?(fi.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Me(F.preDeny(M,F.validationMessage))).then($e=>{!1===$e?I.hideLoading():I.closePopup({isDenied:!0,value:void 0===$e?M:$e})}).catch($e=>sl(I||void 0,$e))):I.closePopup({isDenied:!0,value:M})},Or=(I,M)=>{I.closePopup({isConfirmed:!0,value:M})},sl=(I,M)=>{I.rejectPromise(M)},Rp=(I,M)=>{const F=fi.innerParams.get(I||void 0);F.showLoaderOnConfirm&&Ka(),F.preConfirm?(I.resetValidationMessage(),fi.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Me(F.preConfirm(M,F.validationMessage))).then($e=>{ga(Js())||!1===$e?I.hideLoading():Or(I,void 0===$e?M:$e)}).catch($e=>sl(I||void 0,$e))):Or(I,M)},_a=(I,M,F)=>{const ee=pp();if(ee.length)return(M+=F)===ee.length?M=0:-1===M&&(M=ee.length-1),ee[M].focus();Ci().focus()},Zc=["ArrowRight","ArrowDown"],Yi=["ArrowLeft","ArrowUp"],Lp=(I,M,F)=>{const ee=fi.innerParams.get(I);!ee||(ee.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?jD(I,M,ee):"Tab"===M.key?fc(M,ee):[...Zc,...Yi].includes(M.key)?ay(M.key):"Escape"===M.key&&Rm(M,ee,F))},jD=(I,M,F)=>{if(!M.isComposing&&M.target&&I.getInput()&&M.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(F.input))return;zc(),M.preventDefault()}},fc=(I,M)=>{const F=I.target,ee=pp();let $e=-1;for(let It=0;It<ee.length;It++)if(F===ee[It]){$e=It;break}_a(0,$e,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},ay=I=>{if(![ri(),Li(),Zo()].includes(document.activeElement))return;const $e=Zc.includes(I)?"nextElementSibling":"previousElementSibling",It=document.activeElement[$e];It&&It.focus()},Rm=(I,M,F)=>{et(M.allowEscapeKey)&&(I.preventDefault(),F(tt.esc))},WD=(I,M,F)=>{M.popup.onclick=()=>{const ee=fi.innerParams.get(I);ee.showConfirmButton||ee.showDenyButton||ee.showCancelButton||ee.showCloseButton||ee.timer||ee.input||F(tt.close)}};let Jc=!1;const eh=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(M){I.container.onmouseup=void 0,M.target===I.container&&(Jc=!0)}}},oy=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(M){I.popup.onmouseup=void 0,(M.target===I.popup||I.popup.contains(M.target))&&(Jc=!0)}}},_p=(I,M,F)=>{M.container.onclick=ee=>{const $e=fi.innerParams.get(I);Jc?Jc=!1:ee.target===M.container&&et($e.allowOutsideClick)&&F(tt.backdrop)}};const _m=(I,M)=>{const F=(I=>{const M="string"==typeof I.template?document.querySelector(I.template):I.template;if(!M)return{};const F=M.content;return Kc(F),Object.assign(Nl(F),pc(F),qr(F),od(F),km(F),HD(F,kn))})(I),ee=Object.assign({},Xa,M,F,I);return ee.showClass=Object.assign({},Xa.showClass,ee.showClass),ee.hideClass=Object.assign({},Xa.hideClass,ee.hideClass),ee},nu=(I,M,F)=>new Promise((ee,$e)=>{const It=fr=>{I.closePopup({isDismissed:!0,dismiss:fr})};Za.swalPromiseResolve.set(I,ee),Za.swalPromiseReject.set(I,$e),M.confirmButton.onclick=()=>(I=>{const M=fi.innerParams.get(I);I.disableButtons(),M.input?ry(I,"confirm"):Rp(I,!0)})(I),M.denyButton.onclick=()=>(I=>{const M=fi.innerParams.get(I);I.disableButtons(),M.returnInputValueOnDeny?ry(I,"deny"):hd(I,!1)})(I),M.cancelButton.onclick=()=>((I,M)=>{I.disableButtons(),M(tt.cancel)})(I,It),M.closeButton.onclick=()=>It(tt.close),((I,M,F)=>{fi.innerParams.get(I).toast?WD(I,M,F):(eh(M),oy(M),_p(I,M,F))})(I,M,It),((I,M,F,ee)=>{M.keydownTarget&&M.keydownHandlerAdded&&(M.keydownTarget.removeEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!1),F.toast||(M.keydownHandler=$e=>Lp(I,$e,ee),M.keydownTarget=F.keydownListenerCapture?window:Ci(),M.keydownListenerCapture=F.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(I,bt,F,It),((I,M)=>{"select"===M.input||"radio"===M.input?iy(I,M):["text","email","number","tel","textarea"].includes(M.input)&&(be(M.inputValue)||xe(M.inputValue))&&(Ka(ri()),er(I,M))})(I,F),di(F),eE(bt,F,It),ba(M,F),setTimeout(()=>{M.container.scrollTop=0})}),ly=I=>{const M={popup:Ci(),container:st(),actions:Al(),confirmButton:ri(),denyButton:Li(),cancelButton:Zo(),loader:$s(),closeButton:Gh(),validationMessage:Js(),progressSteps:un()};return fi.domCache.set(I,M),M},eE=(I,M,F)=>{const ee=jc();In(ee),M.timer&&(I.timeout=new ki(()=>{F("timer"),delete I.timeout},M.timer),M.timerProgressBar&&(Bn(ee),setTimeout(()=>{I.timeout&&I.timeout.running&&qt(M.timer)})))},ba=(I,M)=>{if(!M.toast){if(!et(M.allowEnterKey))return Mn();th(I,M)||_a(0,-1,1)}},th=(I,M)=>M.focusDeny&&ga(I.denyButton)?(I.denyButton.focus(),!0):M.focusCancel&&ga(I.cancelButton)?(I.cancelButton.focus(),!0):!(!M.focusConfirm||!ga(I.confirmButton)||(I.confirmButton.focus(),0)),Mn=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const iE=I=>{sE(I),delete I.params,delete bt.keydownHandler,delete bt.keydownTarget,delete bt.currentInstance},sE=I=>{I.isAwaitingPromise()?(cy(fi,I),fi.awaitingPromise.set(I,!0)):(cy(Za,I),cy(fi,I))},cy=(I,M)=>{for(const F in I)I[F].delete(M)};var nE=Object.freeze({hideLoading:Sm,disableLoading:Sm,getInput:function(I){const M=fi.innerParams.get(I||this),F=fi.domCache.get(I||this);return F?id(F.popup,M.input):null},close:Qc,isAwaitingPromise:function(){return!!fi.awaitingPromise.get(this)},rejectPromise:function(I){const M=Za.swalPromiseReject.get(this);kp(this),M&&M(I)},closePopup:Qc,closeModal:Qc,closeToast:Qc,enableButtons:function(){P(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){P(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return j(this.getInput(),!1)},disableInput:function(){return j(this.getInput(),!0)},showValidationMessage:function(I){const M=fi.domCache.get(this),F=fi.innerParams.get(this);Xi(M.validationMessage,I),M.validationMessage.className=Ee["validation-message"],F.customClass&&F.customClass.validationMessage&&Ii(M.validationMessage,F.customClass.validationMessage),Bn(M.validationMessage);const ee=this.getInput();ee&&(ee.setAttribute("aria-invalid",!0),ee.setAttribute("aria-describedby",Ee["validation-message"]),Hn(ee),Ii(ee,Ee.inputerror))},resetValidationMessage:function(){const I=fi.domCache.get(this);I.validationMessage&&In(I.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),xn(M,Ee.inputerror))},getProgressSteps:function(){return fi.domCache.get(this).progressSteps},_main:function(I){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};GC(Object.assign({},M,I)),bt.currentInstance&&(bt.currentInstance._destroy(),ac()&&ey()),bt.currentInstance=this;const F=_m(I,M);Pl(F),Object.freeze(F),bt.timeout&&(bt.timeout.stop(),delete bt.timeout),clearTimeout(bt.restoreFocusTimeout);const ee=ly(this);return Yt(this,F),fi.innerParams.set(this,F),nu(this,ee,F)},update:function(I){const M=Ci(),F=fi.innerParams.get(this);if(!M||Zi(M,F.hideClass.popup))return b("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ee={};Object.keys(I).forEach(It=>{Do.isUpdatableParameter(It)?ee[It]=I[It]:b('Invalid parameter to update: "'.concat(It,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const $e=Object.assign({},F,ee);Yt(this,$e),fi.innerParams.set(this,$e),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})},_destroy:function(){const I=fi.domCache.get(this),M=fi.innerParams.get(this);M?(I.popup&&bt.swalCloseEventFinishedCallback&&(bt.swalCloseEventFinishedCallback(),delete bt.swalCloseEventFinishedCallback),bt.deferDisposalTimer&&(clearTimeout(bt.deferDisposalTimer),delete bt.deferDisposalTimer),"function"==typeof M.didDestroy&&M.didDestroy(),iE(this)):sE(this)}});let ru;class nl{constructor(){if("undefined"==typeof window)return;ru=this;for(var M=arguments.length,F=new Array(M),ee=0;ee<M;ee++)F[ee]=arguments[ee];const $e=Object.freeze(this.constructor.argsToParams(F));Object.defineProperties(this,{params:{value:$e,writable:!1,enumerable:!0,configurable:!0}});const It=this._main(this.params);fi.promise.set(this,It)}then(M){return fi.promise.get(this).then(M)}finally(M){return fi.promise.get(this).finally(M)}}Object.assign(nl.prototype,nE),Object.assign(nl,Kv),Object.keys(nE).forEach(I=>{nl[I]=function(){if(ru)return ru[I](...arguments)}}),nl.DismissReason=tt,nl.version="11.3.0";const Do=nl;return Do.default=Do,Do}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(tt,re){var K=tt.createElement("style");if(tt.getElementsByTagName("head")[0].appendChild(K),K.styleSheet)K.styleSheet.disabled||(K.styleSheet.cssText=re);else try{K.innerHTML=re}catch(it){K.innerText=re}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},828:(yi,tt,re)=>{"use strict";var K={};re.r(K),re.d(K,{argsToParams:()=>k$,bindClickHandler:()=>RG,clickCancel:()=>EG,clickConfirm:()=>W5,clickDeny:()=>CG,enableLoading:()=>ED,fire:()=>wG,getActions:()=>HL,getCancelButton:()=>OC,getCloseButton:()=>qH,getConfirmButton:()=>Zu,getContainer:()=>$o,getDenyButton:()=>Vv,getFocusableElements:()=>zH,getFooter:()=>M5,getHtmlContainer:()=>VL,getIcon:()=>VI,getImage:()=>I5,getInputLabel:()=>O$,getLoader:()=>bD,getPopup:()=>Zs,getTimerLeft:()=>IG,getTimerProgressBar:()=>BL,getTitle:()=>x5,getValidationMessage:()=>FL,increaseTimer:()=>MG,isDeprecatedParameter:()=>JH,isLoading:()=>L$,isTimerRunning:()=>OG,isUpdatableParameter:()=>VG,isValidParameter:()=>$5,isVisible:()=>bG,mixin:()=>DG,resumeTimer:()=>q5,showLoading:()=>ED,stopTimer:()=>U5,toggleTimer:()=>kG});var it={};re.r(it),re.d(it,{_destroy:()=>cK,_main:()=>eK,close:()=>UL,closeModal:()=>UL,closePopup:()=>UL,closeToast:()=>UL,disableButtons:()=>lQ,disableInput:()=>hQ,disableLoading:()=>G5,enableButtons:()=>oQ,enableInput:()=>cQ,getInput:()=>UG,getProgressSteps:()=>pQ,hideLoading:()=>G5,isAwaitingPromise:()=>tQ,rejectPromise:()=>sQ,resetValidationMessage:()=>dQ,showValidationMessage:()=>uQ,update:()=>lK});var ke=re(583),b=re(639);class Tt extends ke.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dt extends Tt{static makeCurrent(){(0,ke.\u0275setRootDomAdapter)(new dt)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_t=_t||document.querySelector("base"),_t?_t.getAttribute("href"):null);return null==t?null:function(r){et=et||document.createElement("a"),et.setAttribute("href",r);const e=et.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_t=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,ke.\u0275parseCookieValue)(document.cookie,e)}}let et,_t=null;const Me=new b.InjectionToken("TRANSITION_ID"),ze=[{provide:b.APP_INITIALIZER,useFactory:function(r,e,t){return()=>{t.get(b.ApplicationInitStatus).donePromise.then(()=>{const i=(0,ke.\u0275getDOM)(),s=e.querySelectorAll(`style[ng-transition="${r}"]`);for(let n=0;n<s.length;n++)i.remove(s[n])})}},deps:[Me,ke.DOCUMENT,b.Injector],multi:!0}];class Ye{static init(){(0,b.setTestabilityGetter)(new Ye)}addToWindow(e){b.\u0275global.getAngularTestability=(i,s=!0)=>{const n=e.findTestabilityInTree(i,s);if(null==n)throw new Error("Could not find testability for element.");return n},b.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),b.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),b.\u0275global.frameworkStabilizers||(b.\u0275global.frameworkStabilizers=[]),b.\u0275global.frameworkStabilizers.push(i=>{const s=b.\u0275global.getAllAngularTestabilities();let n=s.length,a=!1;const o=function(h){a=a||h,n--,0==n&&i(a)};s.forEach(function(h){h.whenStable(o)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?(0,ke.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let lt=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const Li=new b.InjectionToken("EventManagerPlugins");let wt=(()=>{class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}addGlobalEventListener(t,i,s){return this._findPluginFor(i).addGlobalEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const s=this._plugins;for(let n=0;n<s.length;n++){const a=s[n];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(Li),b.\u0275\u0275inject(b.NgZone))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();class $s{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=(0,ke.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let Zo=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),Al=(()=>{class r extends Zo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,s){t.forEach(n=>{const a=this._doc.createElement("style");a.textContent=n,s.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Oa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(t,s,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Oa))}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(ke.DOCUMENT))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function Oa(r){(0,ke.\u0275getDOM)().remove(r)}const jc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gh=/%COMP%/g;function Xi(r,e,t){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?Xi(r,s,t):(s=s.replace(Gh,r),t.push(s))}return t}function Zi(r){return e=>{if("__ngUnwrap__"===e)return r;!1===r(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ra=(()=>{class r{constructor(t,i,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new id(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case b.ViewEncapsulation.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new xn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(t),s}case 1:case b.ViewEncapsulation.ShadowDom:return new Qa(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const s=Xi(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(wt),b.\u0275\u0275inject(Al),b.\u0275\u0275inject(b.APP_ID))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();class id{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(jc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const n=jc[s];n?e.setAttributeNS(n,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=jc[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(b.RendererStyleFlags2.DashCase|b.RendererStyleFlags2.Important)?e.style.setProperty(t,i,s&b.RendererStyleFlags2.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&b.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zi(i)):this.eventManager.addEventListener(e,t,Zi(i))}}class xn extends id{constructor(e,t,i,s){super(e),this.component=i;const n=Xi(s+"-"+i.id,i.styles,[]);t.addStyles(n),this.contentAttr="_ngcontent-%COMP%".replace(Gh,s+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Gh,s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Qa extends id{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const n=Xi(s.id,s.styles,[]);for(let a=0;a<n.length;a++){const o=document.createElement("style");o.textContent=n[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ir=(()=>{class r extends $s{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(ke.DOCUMENT))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const Gt=["alt","control","meta","shift"],mp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$v={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Rs=(()=>{class r extends $s{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,i,s){const n=r.parseEventName(i),a=r.eventCallback(n.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ke.\u0275getDOM)().onAndCancel(t,n.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const n=r._normalizeKey(i.pop());let a="";if(Gt.forEach(h=>{const d=i.indexOf(h);d>-1&&(i.splice(d,1),a+=h+".")}),a+=n,0!=i.length||0===n.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(t){let i="",s=function(r){let e=r.key;if(null==e){if(e=r.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===r.location&&Zn.hasOwnProperty(e)&&(e=Zn[e]))}return mp[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Gt.forEach(n=>{n!=s&&$v[n](t)&&(i+=n+".")}),i+=s,i}static eventCallback(t,i,s){return n=>{r.getEventFullKey(n)===t&&s.runGuarded(()=>i(n))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(ke.DOCUMENT))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const el=(0,b.createPlatformFactory)(b.platformCore,"browser",[{provide:b.PLATFORM_ID,useValue:ke.\u0275PLATFORM_BROWSER_ID},{provide:b.PLATFORM_INITIALIZER,useValue:function(){dt.makeCurrent(),Ye.init()},multi:!0},{provide:ke.DOCUMENT,useFactory:function(){return(0,b.\u0275setDocument)(document),document},deps:[]}]),fi=[[],{provide:b.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:b.ErrorHandler,useFactory:function(){return new b.ErrorHandler},deps:[]},{provide:Li,useClass:Ir,multi:!0,deps:[ke.DOCUMENT,b.NgZone,b.PLATFORM_ID]},{provide:Li,useClass:Rs,multi:!0,deps:[ke.DOCUMENT]},[],{provide:Ra,useClass:Ra,deps:[wt,Al,b.APP_ID]},{provide:b.RendererFactory2,useExisting:Ra},{provide:Zo,useExisting:Al},{provide:Al,useClass:Al,deps:[ke.DOCUMENT]},{provide:b.Testability,useClass:b.Testability,deps:[b.NgZone]},{provide:wt,useClass:wt,deps:[Li,b.NgZone]},{provide:ke.XhrFactory,useClass:lt,deps:[]},[]];let Qv=(()=>{class r{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:r,providers:[{provide:b.APP_ID,useValue:t.appId},{provide:Me,useExisting:b.APP_ID},ze]}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(r,12))},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({providers:fi,imports:[ke.CommonModule,b.ApplicationModule]}),r})();"undefined"!=typeof window&&window;var zi=re(402),tl=re(869),fn=re(693),qc=re(87);function Yt(...r){let e=r[r.length-1];return(0,tl.K)(e)?(r.pop(),(0,qc.r)(r,e)):(0,fn.n)(r)}var ai=re(709),zc=re(971);class dr extends ai.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new zc.N;return this._value}next(e){super.next(this._value=e)}}var Jh=re(796),Mr=re(393);class Wr extends Mr.L{notifyNext(e,t,i,s,n){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ka extends Mr.L{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ol=re(444),Ls=re(574);function bt(r,e,t,i,s=new Ka(r,t,i)){if(!s.closed)return e instanceof Ls.y?e.subscribe(s):(0,Ol.s)(e)(s)}const Ep={};class Yc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new eu(e,this.resultSelector))}}class eu extends Wr{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ep),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(bt(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const s=this.values,a=this.toRespond?s[i]===Ep?--this.toRespond:this.toRespond:0;s[i]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Rl=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();var Eo=re(282);function rd(...r){return(0,Eo.J)(1)(Yt(...r))}const pr=new Ls.y(r=>r.complete());function ya(r){return r?function(r){return new Ls.y(e=>r.schedule(()=>e.complete()))}(r):pr}function Xa(r){return new Ls.y(e=>{let t;try{t=r()}catch(s){return void e.error(s)}return(t?(0,zi.D)(t):ya()).subscribe(e)})}var tu=re(441),Ei=re(2),dc=re(345);function il(r,e){return"function"==typeof e?t=>t.pipe(il((i,s)=>(0,zi.D)(r(i,s)).pipe((0,Ei.U)((n,a)=>e(i,n,s,a))))):t=>t.lift(new wm(r))}class wm{constructor(e){this.project=e}call(e,t){return t.subscribe(new Dp(e,this.project))}}class Dp extends dc.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(s){return void this.destination.error(s)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new dc.IY(this),s=this.destination;s.add(i),this.innerSubscription=(0,dc.ft)(e,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Dm=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function Sp(r){return e=>0===r?ya():e.lift(new GC(r))}class GC{constructor(e){if(this.total=e,this.total<0)throw new Dm}call(e,t){return t.subscribe(new Kv(e,this.total))}}class Kv extends Mr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Tm(r,e){let t=!1;return arguments.length>=2&&(t=!0),function(s){return s.lift(new Xv(r,e,t))}}class Xv{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Zv(e,this.accumulator,this.seed,this.hasSeed))}}class Zv extends Mr.L{constructor(e,t,i,s){super(e),this.accumulator=t,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function Ll(r,e){return function(i){return i.lift(new Am(r,e))}}class Am{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Jv(e,this.predicate,this.thisArg))}}class Jv extends Mr.L{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function _l(r){return function(t){const i=new QC(r),s=t.lift(i);return i.caught=s}}class QC{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Tp(e,this.selector,this.caught))}}class Tp extends dc.Ds{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(n){return void super.error(n)}this._unsubscribeAndRecycle();const i=new dc.IY(this);this.add(i);const s=(0,dc.ft)(t,i);s!==i&&this.add(s)}}}var jn=re(773);function Gc(r,e){return(0,jn.zg)(r,e,1)}function Ap(r){return function(t){return 0===r?ya():t.lift(new ey(r))}}class ey{constructor(e){if(this.total=e,this.total<0)throw new Dm}call(e,t){return t.subscribe(new Za(e,this.total))}}class Za extends Mr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,s=this.count++;t.length<i?t.push(e):t[s%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let n=0;n<i;n++){const a=t++%i;e.next(s[a])}}e.complete()}}function iu(r=ty){return e=>e.lift(new xp(r))}class xp{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Qc(e,this.errorFactory))}}class Qc extends Mr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ty(){return new Rl}function xm(r=null){return e=>e.lift(new Ip(r))}class Ip{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new kp(e,this.defaultValue))}}class kp extends Mr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Im=re(487);function _(r,e){const t=arguments.length>=2;return i=>i.pipe(r?Ll((s,n)=>r(s,n,i)):Im.y,Sp(1),t?xm(e):iu(()=>new Rl))}function B(){}var P=re(105);function j(r,e,t){return function(s){return s.lift(new ne(r,e,t))}}class ne{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new Ne(e,this.nextOrObserver,this.error,this.complete))}}class Ne extends Mr.L{constructor(e,t,i,s){super(e),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=i||B,this._tapComplete=s||B,(0,P.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||B,this._tapError=t.error||B,this._tapComplete=t.complete||B)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var Ze=re(307),Ft=re(319);class en{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ws(e,this.callback))}}class Ws extends Mr.L{constructor(e,t){super(e),this.add(new Ft.w(t))}}class ki{constructor(e,t){this.id=e,this.url=t}}class Pi extends ki{constructor(e,t,i="imperative",s=null){super(e,t),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ss extends ki{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ur extends ki{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pl extends ki{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kn extends ki{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ad extends ki{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nl extends ki{constructor(e,t,i,s,n){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=n}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pc extends ki{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends ki{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class km{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HD{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mm{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wi="primary";class BD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ld(r){return new BD(r)}const KC="ngNavigationCancelingError";function Om(r){const e=Error("NavigationCancelingError: "+r);return e[KC]=!0,e}function ZC(r,e,t){const i=t.path.split("/");if(i.length>r.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<r.length))return null;const s={};for(let n=0;n<i.length;n++){const a=i[n],o=r[n];if(a.startsWith(":"))s[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:r.slice(0,i.length),posParams:s}}function Di(r,e){const t=r?Object.keys(r):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let n=0;n<t.length;n++)if(s=t[n],!iy(r[s],e[s]))return!1;return!0}function iy(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;const t=[...r].sort(),i=[...e].sort();return t.every((s,n)=>i[n]===s)}return r===e}function er(r){return Array.prototype.concat.apply([],r)}function sy(r){return r.length>0?r[r.length-1]:null}function Us(r,e){for(const t in r)r.hasOwnProperty(t)&&e(r[t],t)}function wo(r){return(0,b.\u0275isObservable)(r)?r:(0,b.\u0275isPromise)(r)?(0,zi.D)(Promise.resolve(r)):Yt(r)}const ak={exact:function Or(r,e,t){if(!fc(r.segments,e.segments)||!_a(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!r.children[i]||!Or(r.children[i],e.children[i],t))return!1;return!0},subset:Rp},ry={exact:function(r,e){return Di(r,e)},subset:function(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>iy(r[t],e[t]))},ignored:()=>!0};function Op(r,e,t){return ak[t.paths](r.root,e.root,t.matrixParams)&&ry[t.queryParams](r.queryParams,e.queryParams)&&!("exact"===t.fragment&&r.fragment!==e.fragment)}function Rp(r,e,t){return su(r,e,e.segments,t)}function su(r,e,t,i){if(r.segments.length>t.length){const s=r.segments.slice(0,t.length);return!(!fc(s,t)||e.hasChildren()||!_a(s,t,i))}if(r.segments.length===t.length){if(!fc(r.segments,t)||!_a(r.segments,t,i))return!1;for(const s in e.children)if(!r.children[s]||!Rp(r.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,r.segments.length),n=t.slice(r.segments.length);return!!(fc(r.segments,s)&&_a(r.segments,s,i)&&r.children[Wi])&&su(r.children[Wi],e,n,i)}}function _a(r,e,t){return e.every((i,s)=>ry[t](r[s].parameters,i.parameters))}class Zc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){return WD.serialize(this)}}class Yi{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Us(t,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jc(this)}}class Lp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ld(this.parameters)),this._parameterMap}toString(){return eE(this)}}function fc(r,e){return r.length===e.length&&r.every((t,i)=>t.path===e[i].path)}class Rm{}class Lm{parse(e){const t=new nE(e);return new Zc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var r;return`${`/${eh(e.root,!0)}`}${function(r){const e=Object.keys(r).map(t=>{const i=r[t];return Array.isArray(i)?i.map(s=>`${_p(t)}=${_p(s)}`).join("&"):`${_p(t)}=${_p(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${r=e.fragment,encodeURI(r)}`:""}`}}const WD=new Lm;function Jc(r){return r.segments.map(e=>eE(e)).join("/")}function eh(r,e){if(!r.hasChildren())return Jc(r);if(e){const t=r.children[Wi]?eh(r.children[Wi],!1):"",i=[];return Us(r.children,(s,n)=>{n!==Wi&&i.push(`${n}:${eh(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(r,e){let t=[];return Us(r.children,(i,s)=>{s===Wi&&(t=t.concat(e(i,s)))}),Us(r.children,(i,s)=>{s!==Wi&&(t=t.concat(e(i,s)))}),t}(r,(i,s)=>s===Wi?[eh(r.children[Wi],!1)]:[`${s}:${eh(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Wi]?`${Jc(r)}/${t[0]}`:`${Jc(r)}/(${t.join("//")})`}}function oy(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _p(r){return oy(r).replace(/%3B/gi,";")}function _m(r){return oy(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nu(r){return decodeURIComponent(r)}function ly(r){return nu(r.replace(/\+/g,"%20"))}function eE(r){return`${_m(r.path)}${function(r){return Object.keys(r).map(e=>`;${_m(e)}=${_m(r[e])}`).join("")}(r.parameters)}`}const Mn=/^[^\/()?;=#]+/;function Pp(r){const e=r.match(Mn);return e?e[0]:""}const tE=/^[^=?&#]+/,sE=/^[^?&#]+/;class nE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yi([],{}):new Yi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Wi]=new Yi(e,t)),i}parseSegment(){const e=Pp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Lp(nu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=Pp(this.remaining);s&&(i=s,this.capture(i))}e[nu(t)]=nu(i)}parseQueryParam(e){const t=function(r){const e=r.match(tE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function(r){const e=r.match(sE);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=ly(t),n=ly(i);if(e.hasOwnProperty(s)){let a=e[s];Array.isArray(a)||(a=[a],e[s]=a),a.push(n)}else e[s]=n}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pp(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let n;i.indexOf(":")>-1?(n=i.substr(0,i.indexOf(":")),this.capture(n),this.capture(":")):e&&(n=Wi);const a=this.parseChildren();t[n]=1===Object.keys(a).length?a[Wi]:new Yi([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ru{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nl(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Do(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Do(e,this._root).map(t=>t.value)}}function nl(r,e){if(r===e.value)return e;for(const t of e.children){const i=nl(r,t);if(i)return i}return null}function Do(r,e){if(r===e.value)return[e];for(const t of e.children){const i=Do(r,t);if(i.length)return i.unshift(e),i}return[]}class I{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function M(r){const e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}class F extends ru{constructor(e,t){super(e),this.snapshot=t,Np(this,e)}toString(){return this.snapshot.toString()}}function ee(r,e){const t=function(r,e){const a=new tr([],{},{},"",{},Wi,e,null,r.root,-1,{});return new au("",new I(a,[]))}(r,e),i=new dr([new Lp("",{})]),s=new dr({}),n=new dr({}),a=new dr({}),o=new dr(""),h=new It(i,s,a,o,n,Wi,e,t.root);return h.snapshot=t.root,new F(new I(h,[]),t)}class It{constructor(e,t,i,s,n,a,o,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=n,this.outlet=a,this.component=o,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ei.U)(e=>ld(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ei.U)(e=>ld(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fr(r,e="emptyOnly"){const t=r.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const s=t[i],n=t[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(n.component)break;i--}}return function(r){return r.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class tr{constructor(e,t,i,s,n,a,o,h,d,m,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=n,this.outlet=a,this.component=o,this.routeConfig=h,this._urlSegment=d,this._lastPathIndex=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ld(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class au extends ru{constructor(e,t){super(t),this.url=e,Np(this,t)}toString(){return k_(this._root)}}function Np(r,e){e.value._routerState=r,e.children.forEach(t=>Np(r,t))}function k_(r){const e=r.children.length>0?` { ${r.children.map(k_).join(", ")} } `:"";return`${r.value}${e}`}function ok(r){if(r.snapshot){const e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Di(e.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),e.fragment!==t.fragment&&r.fragment.next(t.fragment),Di(e.params,t.params)||r.params.next(t.params),function(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!Di(r[t],e[t]))return!1;return!0}(e.url,t.url)||r.url.next(t.url),Di(e.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function Pm(r,e){return Di(r.params,e.params)&&function(r,e){return fc(r,e)&&r.every((t,i)=>Di(t.parameters,e[i].parameters))}(r.url,e.url)&&!(!r.parent!=!e.parent)&&(!r.parent||Pm(r.parent,e.parent))}function Nm(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function(r,e,t){return e.children.map(i=>{for(const s of t.children)if(r.shouldReuseRoute(i.value,s.value.snapshot))return Nm(r,i,s);return Nm(r,i)})}(r,e,t);return new I(i,s)}{if(r.shouldAttach(e.value)){const n=r.retrieve(e.value);if(null!==n){const a=n.route;return hy(e,a),a}}const i=function(r){return new It(new dr(r.url),new dr(r.params),new dr(r.queryParams),new dr(r.fragment),new dr(r.data),r.outlet,r.component,r)}(e.value),s=e.children.map(n=>Nm(r,n));return new I(i,s)}}function hy(r,e){if(r.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=r.value;for(let t=0;t<r.children.length;++t)hy(r.children[t],e.children[t])}function rE(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function ih(r){return"object"==typeof r&&null!=r&&r.outlets}function uy(r,e,t,i,s){let n={};return i&&Us(i,(a,o)=>{n[o]=Array.isArray(a)?a.map(h=>`${h}`):`${a}`}),new Zc(t.root===r?e:dy(t.root,r,e),n,s)}function dy(r,e,t){const i={};return Us(r.children,(s,n)=>{i[n]=s===e?t:dy(s,e,t)}),new Yi(r.segments,i)}class M_{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&rE(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(ih);if(s&&s!==sy(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aE{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function oE(r,e,t){if(r||(r=new Yi([],{})),0===r.segments.length&&r.hasChildren())return Fm(r,e,t);const i=function(r,e,t){let i=0,s=e;const n={match:!1,pathIndex:0,commandIndex:0};for(;s<r.segments.length;){if(i>=t.length)return n;const a=r.segments[s],o=t[i];if(ih(o))break;const h=`${o}`,d=i<t.length-1?t[i+1]:null;if(s>0&&void 0===h)break;if(h&&d&&"object"==typeof d&&void 0===d.outlets){if(!qD(h,d,a))return n;i+=2}else{if(!qD(h,{},a))return n;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(r,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const n=new Yi(r.segments.slice(0,i.pathIndex),{});return n.children[Wi]=new Yi(r.segments.slice(i.pathIndex),r.children),Fm(n,0,s)}return i.match&&0===s.length?new Yi(r.segments,{}):i.match&&!r.hasChildren()?Hm(r,e,t):i.match?Fm(r,0,s):Hm(r,e,t)}function Fm(r,e,t){if(0===t.length)return new Yi(r.segments,{});{const i=function(r){return ih(r[0])?r[0].outlets:{[Wi]:r}}(t),s={};return Us(i,(n,a)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[a]=oE(r.children[a],e,n))}),Us(r.children,(n,a)=>{void 0===i[a]&&(s[a]=n)}),new Yi(r.segments,s)}}function Hm(r,e,t){const i=r.segments.slice(0,e);let s=0;for(;s<t.length;){const n=t[s];if(ih(n)){const h=dk(n.outlets);return new Yi(i,h)}if(0===s&&rE(t[0])){i.push(new Lp(r.segments[e].path,UD(t[0]))),s++;continue}const a=ih(n)?n.outlets[Wi]:`${n}`,o=s<t.length-1?t[s+1]:null;a&&o&&rE(o)?(i.push(new Lp(a,UD(o))),s+=2):(i.push(new Lp(a,{})),s++)}return new Yi(i,{})}function dk(r){const e={};return Us(r,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Hm(new Yi([],{}),0,t))}),e}function UD(r){const e={};return Us(r,(t,i)=>e[i]=`${t}`),e}function qD(r,e,t){return r==t.path&&Di(e,t.parameters)}class fk{constructor(e,t,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ok(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=M(t);e.children.forEach(n=>{const a=n.value.outlet;this.deactivateRoutes(n,s[a],i),delete s[a]}),Us(s,(n,a)=>{this.deactivateRouteAndItsChildren(n,i)})}deactivateRoutes(e,t,i){const s=e.value,n=t?t.value:null;if(s===n)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else n&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,n=M(e);for(const a of Object.keys(n))this.deactivateRouteAndItsChildren(n[a],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const s=M(t);e.children.forEach(n=>{this.activateRoutes(n,s[n.value.outlet],i),this.forwardEvent(new Mm(n.value.snapshot))}),e.children.length&&this.forwardEvent(new Kc(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,n=t?t.value:null;if(ok(s),s===n)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const o=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),mk(o.route)}else{const o=function(r){for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),h=o?o.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=h,a.outlet&&a.outlet.activateWith(s,h),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}function mk(r){ok(r.value),r.children.forEach(mk)}class Bm{constructor(e,t){this.routes=e,this.module=t}}function Vl(r){return"function"==typeof r}function ud(r){return r instanceof Zc}const Vp=Symbol("INITIAL_VALUE");function sh(){return il(r=>function(...r){let e,t;return(0,tl.K)(r[r.length-1])&&(t=r.pop()),"function"==typeof r[r.length-1]&&(e=r.pop()),1===r.length&&(0,Jh.k)(r[0])&&(r=r[0]),(0,fn.n)(r,t).lift(new Yc(e))}(r.map(e=>e.pipe(Sp(1),function(...r){const e=r[r.length-1];return(0,tl.K)(e)?(r.pop(),t=>rd(r,t,e)):t=>rd(r,t)}(Vp)))).pipe(Tm((e,t)=>{let i=!1;return t.reduce((s,n,a)=>s!==Vp?s:(n===Vp&&(i=!0),i||!1!==n&&a!==t.length-1&&!ud(n)?s:n),e)},Vp),Ll(e=>e!==Vp),(0,Ei.U)(e=>ud(e)?e:!0===e),Sp(1)))}let Fp=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&b.\u0275\u0275element(0,"router-outlet")},directives:function(){return[Wp]},encapsulation:2}),r})();function Hp(r,e=""){for(let t=0;t<r.length;t++){const i=r[t];Wm(i,YD(e,i))}}function Wm(r,e){r.children&&Hp(r.children,e)}function YD(r,e){return e?r||e.path?r&&!e.path?`${r}/`:!r&&e.path?e.path:`${r}/${e.path}`:"":r}function nh(r){const e=r.children&&r.children.map(nh),t=e?Object.assign(Object.assign({},r),{children:e}):Object.assign({},r);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wi&&(t.component=Fp),t}function Rr(r){return r.outlet||Wi}function P_(r,e){const t=r.filter(i=>Rr(i)===e);return t.push(...r.filter(i=>Rr(i)!==e)),t}const $D={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function GD(r,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},$D):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const n=(e.matcher||ZC)(t,r,e);if(!n)return Object.assign({},$D);const a={};Us(n.posParams,(h,d)=>{a[d]=h.path});const o=n.consumed.length>0?Object.assign(Object.assign({},a),n.consumed[n.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:o,positionalParamSegments:null!==(i=n.posParams)&&void 0!==i?i:{}}}function fy(r,e,t,i,s="corrected"){if(t.length>0&&function(r,e,t){return t.some(i=>QD(r,e,i)&&Rr(i)!==Wi)}(r,t,i)){const a=new Yi(e,function(r,e,t,i){const s={};s[Wi]=i,i._sourceSegment=r,i._segmentIndexShift=e.length;for(const n of t)if(""===n.path&&Rr(n)!==Wi){const a=new Yi([],{});a._sourceSegment=r,a._segmentIndexShift=e.length,s[Rr(n)]=a}return s}(r,e,i,new Yi(t,r.children)));return a._sourceSegment=r,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function(r,e,t){return t.some(i=>QD(r,e,i))}(r,t,i)){const a=new Yi(r.segments,function(r,e,t,i,s,n){const a={};for(const o of i)if(QD(r,t,o)&&!s[Rr(o)]){const h=new Yi([],{});h._sourceSegment=r,h._segmentIndexShift="legacy"===n?r.segments.length:e.length,a[Rr(o)]=h}return Object.assign(Object.assign({},s),a)}(r,e,t,i,r.children,s));return a._sourceSegment=r,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const n=new Yi(r.segments,r.children);return n._sourceSegment=r,n._segmentIndexShift=e.length,{segmentGroup:n,slicedSegments:t}}function QD(r,e,t){return(!(r.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bk(r,e,t,i){return!!(Rr(r)===i||i!==Wi&&QD(e,t,r))&&("**"===r.path||GD(e,r,t).matched)}function V_(r,e,t){return 0===e.length&&!r.children[t]}class gy{constructor(e){this.segmentGroup=e||null}}class F_{constructor(e){this.urlTree=e}}function cE(r){return new Ls.y(e=>e.error(new gy(r)))}function H_(r){return new Ls.y(e=>e.error(new F_(r)))}function B_(r){return new Ls.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class $r{constructor(e,t,i,s,n){this.configLoader=t,this.urlSerializer=i,this.urlTree=s,this.config=n,this.allowRedirects=!0,this.ngModule=e.get(b.NgModuleRef)}apply(){const e=fy(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yi(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Wi).pipe((0,Ei.U)(n=>this.createUrlTree(Um(n),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_l(n=>{if(n instanceof F_)return this.allowRedirects=!1,this.match(n.urlTree);throw n instanceof gy?this.noMatchError(n):n}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wi).pipe((0,Ei.U)(s=>this.createUrlTree(Um(s),e.queryParams,e.fragment))).pipe(_l(s=>{throw s instanceof gy?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const s=e.segments.length>0?new Yi([],{[Wi]:e}):e;return new Zc(s,t,i)}expandSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ei.U)(n=>new Yi([],n))):this.expandSegment(e,i,t,i.segments,s,!0)}expandChildren(e,t,i){const s=[];for(const n of Object.keys(i.children))"primary"===n?s.unshift(n):s.push(n);return(0,zi.D)(s).pipe(Gc(n=>{const a=i.children[n],o=P_(t,n);return this.expandSegmentGroup(e,o,a,n).pipe((0,Ei.U)(h=>({segment:h,outlet:n})))}),Tm((n,a)=>(n[a.outlet]=a.segment,n),{}),function(r,e){const t=arguments.length>=2;return i=>i.pipe(r?Ll((s,n)=>r(s,n,i)):Im.y,Ap(1),t?xm(e):iu(()=>new Rl))}())}expandSegment(e,t,i,s,n,a){return(0,zi.D)(i).pipe(Gc(o=>this.expandSegmentAgainstRoute(e,t,i,o,s,n,a).pipe(_l(d=>{if(d instanceof gy)return Yt(null);throw d}))),_(o=>!!o),_l((o,h)=>{if(o instanceof Rl||"EmptyError"===o.name){if(V_(t,s,n))return Yt(new Yi([],{}));throw new gy(t)}throw o}))}expandSegmentAgainstRoute(e,t,i,s,n,a,o){return bk(s,t,n,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,n,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,s,n,a):cE(t):cE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,n,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,n,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,s){const n=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?H_(n):this.lineralizeSegments(i,n).pipe((0,jn.zg)(a=>{const o=new Yi(a,{});return this.expandSegment(e,o,t,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,n,a){const{matched:o,consumedSegments:h,lastChild:d,positionalParamSegments:m}=GD(t,s,n);if(!o)return cE(t);const v=this.applyRedirectCommands(h,s.redirectTo,m);return s.redirectTo.startsWith("/")?H_(v):this.lineralizeSegments(s,v).pipe((0,jn.zg)(C=>this.expandSegment(e,t,i,C.concat(n.slice(d)),a,!1)))}matchSegmentAgainstRoute(e,t,i,s,n){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Yt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,Ei.U)(C=>(i._loadedConfig=C,new Yi(s,{})))):Yt(new Yi(s,{}));const{matched:a,consumedSegments:o,lastChild:h}=GD(t,i,s);if(!a)return cE(t);const d=s.slice(h);return this.getChildConfig(e,i,s).pipe((0,jn.zg)(v=>{const C=v.module,w=v.routes,{segmentGroup:S,slicedSegments:k}=fy(t,o,d,w),O=new Yi(S.segments,S.children);if(0===k.length&&O.hasChildren())return this.expandChildren(C,w,O).pipe((0,Ei.U)(Z=>new Yi(o,Z)));if(0===w.length&&0===k.length)return Yt(new Yi(o,{}));const N=Rr(i)===n;return this.expandSegment(C,O,w,k,N?Wi:n,!0).pipe((0,Ei.U)(z=>new Yi(o.concat(z.segments),z.children)))}))}getChildConfig(e,t,i){return t.children?Yt(new Bm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,jn.zg)(s=>{return s?this.configLoader.load(e.injector,t).pipe((0,Ei.U)(n=>(t._loadedConfig=n,n))):(r=t,new Ls.y(e=>e.error(Om(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):Yt(new Bm([],e))}runCanLoadGuards(e,t,i){const s=t.canLoad;return s&&0!==s.length?Yt(s.map(a=>{const o=e.get(a);let h;if((r=o)&&Vl(r.canLoad))h=o.canLoad(t,i);else{if(!Vl(o))throw new Error("Invalid CanLoad guard");h=o(t,i)}var r;return wo(h)})).pipe(sh(),j(a=>{if(!ud(a))return;const o=Om(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw o.url=a,o}),(0,Ei.U)(a=>!0===a)):Yt(!0)}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Yt(i);if(s.numberOfChildren>1||!s.children[Wi])return B_(e.redirectTo);s=s.children[Wi]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,s){const n=this.createSegmentGroup(e,t.root,i,s);return new Zc(n,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Us(e,(s,n)=>{if("string"==typeof s&&s.startsWith(":")){const o=s.substring(1);i[n]=t[o]}else i[n]=s}),i}createSegmentGroup(e,t,i,s){const n=this.createSegments(e,t.segments,i,s);let a={};return Us(t.children,(o,h)=>{a[h]=this.createSegmentGroup(e,o,i,s)}),new Yi(n,a)}createSegments(e,t,i,s){return t.map(n=>n.path.startsWith(":")?this.findPosParam(e,n,s):this.findOrReturn(n,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}function Um(r){const e={};for(const i of Object.keys(r.children)){const n=Um(r.children[i]);(n.segments.length>0||n.hasChildren())&&(e[i]=n)}return function(r){if(1===r.numberOfChildren&&r.children[Wi]){const e=r.children[Wi];return new Yi(r.segments.concat(e.segments),e.children)}return r}(new Yi(r.segments,e))}class Ck{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ja{constructor(e,t){this.component=e,this.route=t}}function rh(r,e,t){const i=r._root;return qm(i,e?e._root:null,t,[i.value])}function ah(r,e,t){const i=function(r){if(!r)return null;for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(r)}function qm(r,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const n=M(e);return r.children.forEach(a=>{(function(r,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const n=r.value,a=e?e.value:null,o=t?t.getContext(r.value.outlet):null;if(a&&n.routeConfig===a.routeConfig){const h=function(r,e,t){if("function"==typeof t)return t(r,e);switch(t){case"pathParamsChange":return!fc(r.url,e.url);case"pathParamsOrQueryParamsChange":return!fc(r.url,e.url)||!Di(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pm(r,e)||!Di(r.queryParams,e.queryParams);case"paramsChange":default:return!Pm(r,e)}}(a,n,n.routeConfig.runGuardsAndResolvers);h?s.canActivateChecks.push(new Ck(i)):(n.data=a.data,n._resolvedData=a._resolvedData),qm(r,e,n.component?o?o.children:null:t,i,s),h&&o&&o.outlet&&o.outlet.isActivated&&s.canDeactivateChecks.push(new Ja(o.outlet.component,a))}else a&&dE(e,o,s),s.canActivateChecks.push(new Ck(i)),qm(r,null,n.component?o?o.children:null:t,i,s)})(a,n[a.value.outlet],t,i.concat([a.value]),s),delete n[a.value.outlet]}),Us(n,(a,o)=>dE(a,t.getContext(o),s)),s}function dE(r,e,t){const i=M(r),s=r.value;Us(i,(n,a)=>{dE(n,s.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Ja(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class q_{}function Dk(r){return new Ls.y(e=>e.error(r))}class Y_{constructor(e,t,i,s,n,a){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=n,this.relativeLinkResolution=a}recognize(){const e=fy(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Wi);if(null===t)return null;const i=new tr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wi,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new I(i,t),n=new au(this.url,s);return this.inheritParamsAndData(n._root),n}inheritParamsAndData(e){const t=e.value,i=fr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const n of Object.keys(t.children)){const a=t.children[n],o=P_(e,n),h=this.processSegmentGroup(o,a,n);if(null===h)return null;i.push(...h)}const s=$_(i);return s.sort((e,t)=>e.value.outlet===Wi?-1:t.value.outlet===Wi?1:e.value.outlet.localeCompare(t.value.outlet)),s}processSegment(e,t,i,s){for(const n of e){const a=this.processSegmentAgainstRoute(n,t,i,s);if(null!==a)return a}return V_(t,i,s)?[]:null}processSegmentAgainstRoute(e,t,i,s){if(e.redirectTo||!bk(e,t,i,s))return null;let n,a=[],o=[];if("**"===e.path){const w=i.length>0?sy(i).parameters:{};n=new tr(i,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sk(e),Rr(e),e.component,e,fE(t),jp(t)+i.length,Tk(e))}else{const w=GD(t,e,i);if(!w.matched)return null;a=w.consumedSegments,o=i.slice(w.lastChild),n=new tr(a,w.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sk(e),Rr(e),e.component,e,fE(t),jp(t)+a.length,Tk(e))}const h=(r=e).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:d,slicedSegments:m}=fy(t,a,o,h.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution);var r;if(0===m.length&&d.hasChildren()){const w=this.processChildren(h,d);return null===w?null:[new I(n,w)]}if(0===h.length&&0===m.length)return[new I(n,[])];const v=Rr(e)===s,C=this.processSegment(h,d,m,v?Wi:s);return null===C?null:[new I(n,C)]}}function pE(r){const e=r.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $_(r){const e=[],t=new Set;for(const i of r){if(!pE(i)){e.push(i);continue}const s=e.find(n=>i.value.routeConfig===n.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=$_(i.children);e.push(new I(i.value,s))}return e.filter(i=>!t.has(i))}function fE(r){let e=r;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jp(r){let e=r,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Sk(r){return r.data||{}}function Tk(r){return r.resolve||{}}function ou(r){return il(e=>{const t=r(e);return t?(0,zi.D)(t).pipe((0,Ei.U)(()=>e)):Yt(e)})}class eS extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const tS=new b.InjectionToken("ROUTES");class pd{constructor(e,t,i,s){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,Ei.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=n.create(e);return new Bm(er(a.injector.get(tS,void 0,b.InjectFlags.Self|b.InjectFlags.Optional)).map(nh),a)}),_l(n=>{throw t._loader$=void 0,n}));return t._loader$=new tu.c(s,()=>new ai.xQ).pipe((0,Ze.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,zi.D)(this.loader.load(e)):wo(e()).pipe((0,jn.zg)(t=>t instanceof b.NgModuleFactory?Yt(t):(0,zi.D)(this.compiler.compileModuleAsync(t))))}}class $m{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gm,this.attachRef=null}}class Gm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $m,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Ik{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function kk(r){throw r}function Qm(r,e,t){return e.parse("/")}function oh(r,e){return Yt(null)}const Km={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class r{constructor(t,i,s,n,a,o,h,d){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=s,this.location=n,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ai.xQ,this.errorHandler=kk,this.malformedUriErrorHandler=Qm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oh,afterPreactivation:oh},this.urlHandlingStrategy=new Ik,this.routeReuseStrategy=new eS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(b.NgModuleRef),this.console=a.get(b.\u0275Console);const C=a.get(b.NgZone);this.isNgZoneEnabled=C instanceof b.NgZone&&b.NgZone.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=new Zc(new Yi([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pd(o,h,w=>this.triggerEvent(new od(w)),w=>this.triggerEvent(new km(w))),this.routerState=ee(this.currentUrlTree,this.rootComponentType),this.transitions=new dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ll(s=>0!==s.id),(0,Ei.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),il(s=>{let n=!1,a=!1;return Yt(s).pipe(j(o=>{this.currentNavigation={id:o.id,initialUrl:o.currentRawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),il(o=>{const h=this.browserUrlTree.toString(),d=!this.navigated||o.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Xm(o.source)&&(this.browserUrlTree=o.extractedUrl),Yt(o).pipe(il(v=>{const C=this.transitions.getValue();return i.next(new Pi(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),C!==this.transitions.getValue()?pr:Promise.resolve(v)}),function(r,e,t,i){return il(s=>function(r,e,t,i,s){return new $r(r,e,t,i,s).apply()}(r,e,t,s.extractedUrl,i).pipe((0,Ei.U)(n=>Object.assign(Object.assign({},s),{urlAfterRedirects:n}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),j(v=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:v.urlAfterRedirects})}),function(r,e,t,i,s){return(0,jn.zg)(n=>function(r,e,t,i,s="emptyOnly",n="legacy"){try{const a=new Y_(r,e,t,i,s,n).recognize();return null===a?Dk(new q_):Yt(a)}catch(a){return Dk(a)}}(r,e,n.urlAfterRedirects,t(n.urlAfterRedirects),i,s).pipe((0,Ei.U)(a=>Object.assign(Object.assign({},n),{targetSnapshot:a}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),j(v=>{"eager"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(v.urlAfterRedirects,v),this.browserUrlTree=v.urlAfterRedirects);const C=new kn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.next(C)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:C,extractedUrl:w,source:S,restoredState:k,extras:O}=o,N=new Pi(C,this.serializeUrl(w),S,k);i.next(N);const q=ee(w,this.rootComponentType).snapshot;return Yt(Object.assign(Object.assign({},o),{targetSnapshot:q,urlAfterRedirects:w,extras:Object.assign(Object.assign({},O),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=o.rawUrl,this.browserUrlTree=o.urlAfterRedirects,o.resolve(null),pr}),ou(o=>{const{targetSnapshot:h,id:d,extractedUrl:m,rawUrl:v,extras:{skipLocationChange:C,replaceUrl:w}}=o;return this.hooks.beforePreactivation(h,{navigationId:d,appliedUrlTree:m,rawUrlTree:v,skipLocationChange:!!C,replaceUrl:!!w})}),j(o=>{const h=new ad(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.triggerEvent(h)}),(0,Ei.U)(o=>Object.assign(Object.assign({},o),{guards:rh(o.targetSnapshot,o.currentSnapshot,this.rootContexts)})),function(r,e){return(0,jn.zg)(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:n,canDeactivateChecks:a}}=t;return 0===a.length&&0===n.length?Yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(r,e,t,i){return(0,zi.D)(r).pipe((0,jn.zg)(s=>function(r,e,t,i,s){const n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return n&&0!==n.length?Yt(n.map(o=>{const h=ah(o,e,s);let d;if(function(r){return r&&Vl(r.canDeactivate)}(h))d=wo(h.canDeactivate(r,e,t,i));else{if(!Vl(h))throw new Error("Invalid CanDeactivate guard");d=wo(h(r,e,t,i))}return d.pipe(_())})).pipe(sh()):Yt(!0)}(s.component,s.route,t,e,i)),_(s=>!0!==s,!0))}(a,i,s,r).pipe((0,jn.zg)(o=>o&&function(r){return"boolean"==typeof r}(o)?function(r,e,t,i){return(0,zi.D)(e).pipe(Gc(s=>rd(function(r,e){return null!==r&&e&&e(new HD(r)),Yt(!0)}(s.route.parent,i),function(r,e){return null!==r&&e&&e(new Xc(r)),Yt(!0)}(s.route,i),function(r,e,t){const i=e[e.length-1],n=e.slice(0,e.length-1).reverse().map(a=>function(r){const e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(a)).filter(a=>null!==a).map(a=>Xa(()=>Yt(a.guards.map(h=>{const d=ah(h,a.node,t);let m;if(function(r){return r&&Vl(r.canActivateChild)}(d))m=wo(d.canActivateChild(i,r));else{if(!Vl(d))throw new Error("Invalid CanActivateChild guard");m=wo(d(i,r))}return m.pipe(_())})).pipe(sh())));return Yt(n).pipe(sh())}(r,s.path,t),function(r,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Yt(i.map(n=>Xa(()=>{const a=ah(n,e,t);let o;if(function(r){return r&&Vl(r.canActivate)}(a))o=wo(a.canActivate(e,r));else{if(!Vl(a))throw new Error("Invalid CanActivate guard");o=wo(a(e,r))}return o.pipe(_())}))).pipe(sh()):Yt(!0)}(r,s.route,t))),_(s=>!0!==s,!0))}(i,n,r,e):Yt(o)),(0,Ei.U)(o=>Object.assign(Object.assign({},t),{guardsResult:o})))})}(this.ngModule.injector,o=>this.triggerEvent(o)),j(o=>{if(ud(o.guardsResult)){const d=Om(`Redirecting to "${this.serializeUrl(o.guardsResult)}"`);throw d.url=o.guardsResult,d}const h=new Nl(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.triggerEvent(h)}),Ll(o=>!!o.guardsResult||(this.restoreHistory(o),this.cancelNavigationTransition(o,""),!1)),ou(o=>{if(o.guards.canActivateChecks.length)return Yt(o).pipe(j(h=>{const d=new pc(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}),il(h=>{let d=!1;return Yt(h).pipe(function(r,e){return(0,jn.zg)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return Yt(t);let n=0;return(0,zi.D)(s).pipe(Gc(a=>function(r,e,t,i){return function(r,e,t,i){const s=Object.keys(r);if(0===s.length)return Yt({});const n={};return(0,zi.D)(s).pipe((0,jn.zg)(a=>function(r,e,t,i){const s=ah(r,e,i);return wo(s.resolve?s.resolve(e,t):s(e,t))}(r[a],e,t,i).pipe(j(o=>{n[a]=o}))),Ap(1),(0,jn.zg)(()=>Object.keys(n).length===s.length?Yt(n):pr))}(r._resolve,r,e,i).pipe((0,Ei.U)(n=>(r._resolvedData=n,r.data=Object.assign(Object.assign({},r.data),fr(r,t).resolve),null)))}(a.route,i,r,e)),j(()=>n++),Ap(1),(0,jn.zg)(a=>n===s.length?Yt(t):pr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),j({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),j(h=>{const d=new qr(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}))}),ou(o=>{const{targetSnapshot:h,id:d,extractedUrl:m,rawUrl:v,extras:{skipLocationChange:C,replaceUrl:w}}=o;return this.hooks.afterPreactivation(h,{navigationId:d,appliedUrlTree:m,rawUrlTree:v,skipLocationChange:!!C,replaceUrl:!!w})}),(0,Ei.U)(o=>{const h=function(r,e,t){const i=Nm(r,e._root,t?t._root:void 0);return new F(i,e)}(this.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return Object.assign(Object.assign({},o),{targetRouterState:h})}),j(o=>{this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects)}),((r,e,t)=>(0,Ei.U)(i=>(new fk(e,i.targetRouterState,i.currentRouterState,t).activate(r),i)))(this.rootContexts,this.routeReuseStrategy,o=>this.triggerEvent(o)),j({next(){n=!0},complete(){n=!0}}),function(r){return e=>e.lift(new en(r))}(()=>{if(!n&&!a){const o=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,o)):this.cancelNavigationTransition(s,o)}this.currentNavigation=null}),_l(o=>{if(a=!0,function(r){return r&&r[KC]}(o)){const h=ud(o.url);h||(this.navigated=!0,this.restoreHistory(s,!0));const d=new Ur(s.id,this.serializeUrl(s.extractedUrl),o.message);i.next(d),h?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree),v={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xm(s.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const h=new Pl(s.id,this.serializeUrl(s.extractedUrl),o);i.next(h);try{s.resolve(this.errorHandler(o))}catch(d){s.reject(d)}}return pr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:n,urlTree:a}=i,o={replaceUrl:!0};if(n){const h=Object.assign({},n);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(o.state=h)}this.scheduleNavigation(a,s,n,o)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const s=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!s||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hp(t),this.config=t.map(nh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:s,queryParams:n,fragment:a,queryParamsHandling:o,preserveFragment:h}=i,d=s||this.routerState.root,m=h?this.currentUrlTree.fragment:a;let v=null;switch(o){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=n||null}return null!==v&&(v=this.removeEmptyProps(v)),function(r,e,t,i,s){if(0===t.length)return uy(e.root,e.root,e,i,s);const n=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new M_(!0,0,r);let e=0,t=!1;const i=r.reduce((s,n,a)=>{if("object"==typeof n&&null!=n){if(n.outlets){const o={};return Us(n.outlets,(h,d)=>{o[d]="string"==typeof h?h.split("/"):h}),[...s,{outlets:o}]}if(n.segmentPath)return[...s,n.segmentPath]}return"string"!=typeof n?[...s,n]:0===a?(n.split("/").forEach((o,h)=>{0==h&&"."===o||(0==h&&""===o?t=!0:".."===o?e++:""!=o&&s.push(o))}),s):[...s,n]},[]);return new M_(t,e,i)}(t);if(n.toRoot())return uy(e.root,new Yi([],{}),e,i,s);const a=function(r,e,t){if(r.isAbsolute)return new aE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const n=t.snapshot._urlSegment;return new aE(n,n===e.root,0)}const i=rE(r.commands[0])?0:1;return function(r,e,t){let i=r,s=e,n=t;for(;n>s;){if(n-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new aE(i,!1,s-n)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,r.numberOfDoubleDots)}(n,e,r),o=a.processChildren?Fm(a.segmentGroup,a.index,n.commands):oE(a.segmentGroup,a.index,n.commands);return uy(a.segmentGroup,o,e,i,s)}(d,this.currentUrlTree,t,v,null!=m?m:null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=ud(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(r){for(let e=0;e<r.length;e++){const t=r[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return i}isActive(t,i){let s;if(s=!0===i?Object.assign({},Km):!1===i?Object.assign({},lu):i,ud(t))return Op(this.currentUrlTree,t,s);const n=this.parseUrl(t);return Op(this.currentUrlTree,n,s)}removeEmptyProps(t){return Object.keys(t).reduce((i,s)=>{const n=t[s];return null!=n&&(i[s]=n),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ss(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,s,n,a){var o,h;if(this.disposed)return Promise.resolve(!1);const d=this.getTransition(),m=Xm(i)&&d&&!Xm(d.source),w=(this.lastSuccessfulId===d.id||this.currentNavigation?d.rawUrl:d.urlAfterRedirects).toString()===t.toString();if(m&&w)return Promise.resolve(!0);let S,k,O;a?(S=a.resolve,k=a.reject,O=a.promise):O=new Promise((z,Z)=>{S=z,k=Z});const N=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),q=s&&s.\u0275routerPageId?s.\u0275routerPageId:n.replaceUrl||n.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):q=0,this.setTransition({id:N,targetPageId:q,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:S,reject:k,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(z=>Promise.reject(z))}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t),n=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",n):this.location.go(s,"",n)}restoreHistory(t,i=!1){var s,n;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===a?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const s=new Ur(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(b.Type),b.\u0275\u0275inject(Rm),b.\u0275\u0275inject(Gm),b.\u0275\u0275inject(ke.Location),b.\u0275\u0275inject(b.Injector),b.\u0275\u0275inject(b.NgModuleFactoryLoader),b.\u0275\u0275inject(b.Compiler),b.\u0275\u0275inject(void 0))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function Xm(r){return"imperative"!==r}let fd=(()=>{class r{constructor(t,i,s,n,a){this.router=t,this.route=i,this.commands=[],this.onChanges=new ai.xQ,null==s&&n.setAttribute(a.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Zm(this.skipLocationChange),replaceUrl:Zm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zm(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(It),b.\u0275\u0275injectAttribute("tabindex"),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(b.ElementRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&b.\u0275\u0275listener("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[b.\u0275\u0275NgOnChangesFeature]}),r})(),md=(()=>{class r{constructor(t,i,s){this.router=t,this.route=i,this.locationStrategy=s,this.commands=[],this.onChanges=new ai.xQ,this.subscription=t.events.subscribe(n=>{n instanceof Ss&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,s,n,a){if(0!==t||i||s||n||a||"string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Zm(this.skipLocationChange),replaceUrl:Zm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zm(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(It),b.\u0275\u0275directiveInject(ke.LocationStrategy))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&b.\u0275\u0275listener("click",function(n){return i.onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)}),2&t&&(b.\u0275\u0275hostProperty("href",i.href,b.\u0275\u0275sanitizeUrl),b.\u0275\u0275attribute("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[b.\u0275\u0275NgOnChangesFeature]}),r})();function Zm(r){return""===r||!!r}let Wp=(()=>{class r{constructor(t,i,s,n,a){this.parentContexts=t,this.location=i,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.EventEmitter,this.deactivateEvents=new b.EventEmitter,this.name=n||Wi,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,h=new Q_(t,o,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Gm),b.\u0275\u0275directiveInject(b.ViewContainerRef),b.\u0275\u0275directiveInject(b.ComponentFactoryResolver),b.\u0275\u0275injectAttribute("name"),b.\u0275\u0275directiveInject(b.ChangeDetectorRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class Q_{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===It?this.route:e===Gm?this.childContexts:this.parent.get(e,t)}}class K_{}class iS{preload(e,t){return Yt(null)}}let X_=(()=>{class r{constructor(t,i,s,n,a){this.router=t,this.injector=n,this.preloadingStrategy=a,this.loader=new pd(i,s,d=>t.triggerEvent(new od(d)),d=>t.triggerEvent(new km(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ll(t=>t instanceof Ss),Gc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(b.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const n of i)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const a=n._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else n.loadChildren&&!n.canLoad?s.push(this.preloadConfig(t,n)):n.children&&s.push(this.processRoutes(t,n.children));return(0,zi.D)(s).pipe((0,Eo.J)(),(0,Ei.U)(n=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Yt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,jn.zg)(n=>(i._loadedConfig=n,this.processRoutes(n.module,n.routes)))))}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(tn),b.\u0275\u0275inject(b.NgModuleFactoryLoader),b.\u0275\u0275inject(b.Compiler),b.\u0275\u0275inject(b.Injector),b.\u0275\u0275inject(K_))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),sS=(()=>{class r{constructor(t,i,s={}){this.router=t,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ss&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof di&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new di(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(tn),b.\u0275\u0275inject(ke.ViewportScroller),b.\u0275\u0275inject(void 0))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const Up=new b.InjectionToken("ROUTER_CONFIGURATION"),yy=new b.InjectionToken("ROUTER_FORROOT_GUARD"),eg=[ke.Location,{provide:Rm,useClass:Lm},{provide:tn,useFactory:function(r,e,t,i,s,n,a,o={},h,d){const m=new tn(null,r,e,t,i,s,n,er(a));return h&&(m.urlHandlingStrategy=h),d&&(m.routeReuseStrategy=d),function(r,e){r.errorHandler&&(e.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(e.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(e.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(e.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(e.urlUpdateStrategy=r.urlUpdateStrategy)}(o,m),o.enableTracing&&m.events.subscribe(v=>{var C,w;null===(C=console.group)||void 0===C||C.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(w=console.groupEnd)||void 0===w||w.call(console)}),m},deps:[Rm,Gm,ke.Location,b.Injector,b.NgModuleFactoryLoader,b.Compiler,tS,Up,[class{},new b.Optional],[class{},new b.Optional]]},Gm,{provide:It,useFactory:function(r){return r.routerState.root},deps:[tn]},{provide:b.NgModuleFactoryLoader,useClass:b.SystemJsNgModuleLoader},X_,iS,class{preload(e,t){return t().pipe(_l(()=>Yt(null)))}},{provide:Up,useValue:{enableTracing:!1}}];function Z_(){return new b.NgProbeToken("Router",tn)}let Lk=(()=>{class r{constructor(t,i){}static forRoot(t,i){return{ngModule:r,providers:[eg,aS(t),{provide:yy,useFactory:rS,deps:[[tn,new b.Optional,new b.SkipSelf]]},{provide:Up,useValue:i||{}},{provide:ke.LocationStrategy,useFactory:mE,deps:[ke.PlatformLocation,[new b.Inject(ke.APP_BASE_HREF),new b.Optional],Up]},{provide:sS,useFactory:E2,deps:[tn,ke.ViewportScroller,Up]},{provide:K_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:iS},{provide:b.NgProbeToken,multi:!0,useFactory:Z_},[oS,{provide:b.APP_INITIALIZER,multi:!0,useFactory:J_,deps:[oS]},{provide:Nk,useFactory:eP,deps:[oS]},{provide:b.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Nk}]]}}static forChild(t){return{ngModule:r,providers:[aS(t)]}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(yy,8),b.\u0275\u0275inject(tn,8))},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({}),r})();function E2(r,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new sS(r,e,t)}function mE(r,e,t={}){return t.useHash?new ke.HashLocationStrategy(r,e):new ke.PathLocationStrategy(r,e)}function rS(r){return"guarded"}function aS(r){return[{provide:b.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:r},{provide:tS,multi:!0,useValue:r}]}let oS=(()=>{class r{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ai.xQ}appInitializer(){return this.injector.get(ke.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(o=>i=o),n=this.injector.get(tn),a=this.injector.get(Up);return"disabled"===a.initialNavigation?(n.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Yt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),n.initialNavigation()):i(!0),s})}bootstrapListener(t){const i=this.injector.get(Up),s=this.injector.get(X_),n=this.injector.get(sS),a=this.injector.get(tn),o=this.injector.get(b.ApplicationRef);t===o.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),n.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(b.Injector))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();function J_(r){return r.appInitializer.bind(r)}function eP(r){return r.bootstrapListener.bind(r)}const Nk=new b.InjectionToken("Router Initializer"),lh="ej2_instances";let Vk=0;function gE(r,e){const t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(r,t))}function X(r,e){let t=e;const i=r.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!pt(t);s++)t=t[i[s]];return t}function At(r,e,t){const i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{};let a,n=s;const o=i.length;let h;for(a=0;a<o;a++)h=i[a],a+1===o?n[h]=void 0===e?{}:e:f(n[h])&&(n[h]={}),n=n[h];return s}function cS(r,e){delete r[e]}function ch(r){return!f(r)&&r.constructor==={}.constructor}function So(r,e){if(!f(e)){const t=r,i=e,s=Object.keys(e),n="deepMerge";for(const a of s)f(t[n])||-1===t[n].indexOf(a)||!ch(i[a])&&!Array.isArray(i[a])?t[a]=i[a]:ae(t[a],t[a],i[a],!0)}}function ae(r,e,t,i){const s=r&&"object"==typeof r?r:{};let n=arguments.length;i&&(n-=1);for(let a=1;a<n;a++){if(!arguments[a])continue;let o=arguments[a];Object.keys(o).forEach(h=>{const d=s[h],m=o[h];let v;const C=Array.isArray(m)&&Array.isArray(d)&&m.length!==d.length,w=!yt()||!(d instanceof Event||C);i&&w&&(ch(m)||Array.isArray(m))?ch(m)?(v=d||{},Array.isArray(v)&&v.hasOwnProperty("isComplexArray")?ae(v,{},m,i):s[h]=ae(v,{},m,i)):(v=yt()?d&&Object.keys(m).length:d||[],s[h]=ae([],v,m,i)):s[h]=m})}return s}function f(r){return null==r}function pt(r){return void 0===r}function $i(r){return r+"_"+Vk++}function by(r,e){return r===e||!(r===document||!r)&&by(r.parentNode,e)}function zp(r){try{throw new Error(r)}catch(e){throw e.message+"\n"+e.stack}}function fe(r){const e=r+"";return e.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?e:e+"px"}function yt(){return false}function vd(r){return Node,r}function eo(r,e){let t="string"==typeof r?document.querySelector(r):r;if(t[lh])for(const i of t[lh])if(i instanceof e)return i;return null}const nP={latn:{_digits:"0123456789",_type:"numeric"}},Hk={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},Bk=[0,1,2,3,4,5,6,7,8,9];let Cn=(()=>{class r{static getMainObject(t,i){return X("main."+i,t)}static getNumberingSystem(t){return X("supplemental.numberingSystems",t)||this.numberingSystems}static reverseObject(t,i){const s=i||Object.keys(t),n={};for(const a of s)n.hasOwnProperty(t[a])||(n[t[a]]=a);return n}static getSymbolRegex(t){const i=t.map(s=>s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|");return new RegExp(i,"g")}static getSymbolMatch(t){const i=Object.keys(Hk),s={};for(const n of i)s[t[n]]=Hk[n];return s}static constructRegex(t){const i=t.length;let s="";for(let n=0;n<i;n++)s+=n!==i-1?t[n]+"|":t[n];return s}static convertValueParts(t,i,s){return t.replace(i,n=>s[n])}static getDefaultNumberingSystem(t){const i={};return i.obj=X("numbers",t),i.nSystem=X("defaultNumberingSystem",i.obj),i}static getCurrentNumericOptions(t,i,s,n){const a={},o=this.getDefaultNumberingSystem(t);if(!pt(o.nSystem)||n){const h=n?X("obj.mapperDigits",o):X(o.nSystem+"._digits",i);pt(h)||(a.numericPair=this.reverseObject(h,Bk),a.numberParseRegex=new RegExp(this.constructRegex(h),"g"),a.numericRegex="["+h[0]+"-"+h[9]+"]",s&&(a.numericRegex=h[0]+"-"+h[9],a.symbolNumberSystem=X(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),a.symbolMatch=this.getSymbolMatch(a.symbolNumberSystem),a.numberSystem=o.nSystem))}return a}static getNumberMapper(t,i,s){const n={mapper:{}},a=this.getDefaultNumberingSystem(t);if(!pt(a.nSystem)){n.numberSystem=a.nSystem,n.numberSymbols=X("symbols-numberSystem-"+a.nSystem,a.obj),n.timeSeparator=X("timeSeparator",n.numberSymbols);const o=X(a.nSystem+"._digits",i);if(!pt(o))for(const h of Bk)n.mapper[h]=o[h]}return n}}return r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=nP,r})();const jk={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};var to;!function(r){const e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];r.getHijriDate=function(s){let n=s.getDate(),a=s.getMonth(),o=s.getFullYear(),h=a+1,d=o;h<3&&(d-=1,h+=12);let m=Math.floor(d/100),v=m-Math.floor(m/4)-2;const C=Math.floor(365.25*(d+4716))+Math.floor(30.6001*(h+1))+n-v-1524;m=Math.floor((C-1867216.25)/36524.25),v=m-Math.floor(m/4)+1;const w=C+v+1524;let S=Math.floor((w-122.1)/365.25);const k=Math.floor(365.25*S),O=Math.floor((w-k)/30.6001);n=w-k-Math.floor(30.6001*O),a=Math.floor((w-k)/20.6001),a>13&&(S+=1,a-=12),a-=1,o=S-4716;const N=C-24e5,q=10631/30;let z=C-1948084;const Z=Math.floor(z/10631);z-=10631*Z;const Ce=Math.floor((z-.1335)/q),ce=30*Z+Ce;z-=Math.floor(Ce*q+.1335);let Fe=Math.floor((z+28.5001)/29.5);13===Fe&&(Fe=12);const Se=z-Math.floor(29.5001*Fe-29);let Be=0;for(;Be<e.length&&!(e[Be]>N);Be++);const ht=Be+16260,Ie=Math.floor((ht-1)/12);let Pe=Ie+1,Le=ht-12*Ie,pe=N-e[Be-1]+1;return(pe+"").length>2&&(pe=Se,Le=Fe,Pe=ce),{year:Pe,month:Le,date:pe}},r.toGregorian=function(s,n,a){const k=Math.floor(a+e[12*(s-1)+1+(n-1)-16260-1]-1+24e5+.5);let O=Math.floor((k-1867216.25)/36524.25);O=k+1+O-Math.floor(O/4);const N=O+1524,q=Math.floor((N-122.1)/365.25),z=Math.floor(365.25*q),Z=Math.floor((N-z)/30.6001),Ce=N-z-Math.floor(30.6001*Z);let ce=Z-(Z>13.5?13:1);const Fe=q-(ce>2.5?4716:4715);return Fe<=0&&ce--,new Date(Fe+"/"+ce+"/"+Ce)}}(to||(to={}));const hS=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,Wk="stand-alone",sr=["sun","mon","tue","wed","thu","fri","sat"],uS={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Uk={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"};class bE{static dateFormat(e,t,i){const s=Rt.getDependables(i,e,t.calendar),a=(X("parserObject.numbers",s),s.dateObject),o={isIslamic:Rt.islamicRegex.test(t.calendar)};let h=t.format||Rt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(o.dateSeperator=Rt.getDateSeparator(s.dateObject),pt(h))zp("Format options or type given must be invalid");else{h=Rt.ConvertDateToWeekFormat(h),o.pattern=h,o.numMapper=Cn.getNumberMapper(s.parserObject,Cn.getNumberingSystem(i));const d=h.match(hS)||[];for(const m of d){const v=m.length;let C=m[0];switch("K"===C&&(C="h"),C){case"E":case"c":o.weekday=s.dateObject[Rt.days][Wk][Rt.monthIndex[v]];break;case"M":case"L":o.month=s.dateObject[Rt.month][Wk][Rt.monthIndex[v]];break;case"a":o.designator=X("dayPeriods.format.wide",a);break;case"G":o.era=X("eras."+(v<=3?"eraAbbr":4===v?"eraNames":"eraNarrow"),s.dateObject);break;case"z":o.timeZone=X("dates.timeZoneNames",s.parserObject)}}}return d=>isNaN(d.getDate())?null:this.intDateFormatter(d,o)}static intDateFormatter(e,t){let s="";const n=t.pattern.match(Rt.dateParseRegex),a=this.getCurrentDateValue(e,t.isIslamic);for(const o of n){const h=o.length;let d=o[0];"K"===d&&(d="h");let m,C,w,v="",S="";switch(d){case"M":case"L":m=a.month,h>2?s+=t.month[m]:C=!0;break;case"E":case"c":s+=t.weekday[sr[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(C=!0,"d"===d)m=a.date;else if("f"===d){C=!1,w=!0,v=e[uS[d]]().toString(),v=v.substring(0,h);const Z=v.length;if(h!==Z){if(h>3)continue;for(let Ce=0;Ce<h-Z;Ce++)v="0"+v.toString()}S+=v}else m=e[uS[d]]();"h"===d&&(m=m%12||12);break;case"y":w=!0,S+=a.year,2===h&&(S=S.substr(S.length-2));break;case"a":let k=e.getHours()<12?"am":"pm";s+=t.designator[k];break;case"G":let O=e.getFullYear()<0?0:1,N=t.era[O];f(N)&&(N=t.era[O?0:1]),s+=N||"";break;case"'":s+="''"===o?"'":o.replace(/'/g,"");break;case"z":let q=e.getTimezoneOffset(),z=h<4?"+H;-H":t.timeZone.hourFormat;z=z.replace(/:/g,t.numMapper.timeSeparator),0===q?s+=t.timeZone.gmtZeroFormat:(w=!0,S=this.getTimeZoneValue(q,z)),S=t.timeZone.gmtFormat.replace(/\{0\}/,S);break;case":":s+=t.numMapper.numberSymbols.timeSeparator;break;case"/":s+=t.dateSeperator;break;case"W":C=!0,m=Rt.getWeekOfYear(e);break;default:s+=o}C&&(w=!0,S=this.checkTwodigitNumber(m,h)),w&&(s+=Cn.convertValueParts(S,Rt.latnParseRegex,t.numMapper.mapper))}return s}static getCurrentDateValue(e,t){return t?to.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){const i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let s=t.split(";")[e>0?1:0];const n=Math.abs(e);return s.replace(/HH?|mm/g,a=>{const o=a.length,h=-1!==a.indexOf("H");return this.checkTwodigitNumber(Math.floor(h?n/60:n%60),o)})}}const pS={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Yp=["infinity","nan","group","decimal","exponential"];class fS{static numberFormatter(e,t,i){const s=ae({},t);let n={};const a={};let o;const h=Rt.getDependables(i,e,"",!0);a.numberMapper=Cn.getNumberMapper(h.parserObject,Cn.getNumberingSystem(i),!0),a.currencySymbol=Rt.getCurrencySymbol(h.numericObject,s.currency||ig,t.altSymbol),a.percentSymbol=a.numberMapper.numberSymbols.percentSign,a.minusSymbol=a.numberMapper.numberSymbols.minusSign;const m=a.numberMapper.numberSymbols;if(t.format&&!Rt.formatRegex.test(t.format))n=Rt.customFormat(t.format,a,h.numericObject);else{ae(s,Rt.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,o=Rt.getSymbolPattern(s.type,a.numberMapper.numberSystem,h.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),pt(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),pt(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(o=o.replace(/\u00A4/g,Rt.defaultCurrency));{const S=o.split(";");n.nData=Rt.getFormatData(S[1]||"-"+S[0],!0,a.currencySymbol),n.pData=Rt.getFormatData(S[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=m[Yp[2]],s.groupData=this.getGroupingDetails(S[0]))}if(pt(s.minimumFractionDigits)&&(s.minimumFractionDigits=n.nData.minimumFraction),pt(s.maximumFractionDigits)){const S=n.nData.maximumFraction;s.maximumFractionDigits=pt(S)&&s.isPercent?0:S}const C=s.minimumFractionDigits,w=s.maximumFractionDigits;!pt(C)&&!pt(w)&&C>w&&(s.maximumFractionDigits=C)}return ae(n.nData,s),ae(n.pData,s),v=>isNaN(v)?m[Yp[1]]:isFinite(v)?this.intNumberFormatter(v,n,a):m[Yp[0]]}static getGroupingDetails(e){const t={},i=e.match(Rt.negativeDataRegex);if(i&&i[4]){const s=i[4],n=s.lastIndexOf(",");if(-1!==n){const a=s.split(".")[0];t.primary=a.length-n-1;const o=s.lastIndexOf(",",n-1);-1!==o&&(t.secondary=n-1-o)}}return t}static checkValueRange(e,t,i,s){const n=s?"f":"s";let a=0;const o=pS["l"+n];let h=pS["m"+n];if(pt(e)||(this.checkRange(e,o,s),a++),pt(t)||(this.checkRange(t,h,s),a++),2===a){if(!(e<t))return!0;zp(h+"specified must be less than the"+o)}else i&&1===a&&zp("Both"+h+"and"+h+"must be present");return!1}static checkRange(e,t,i){const s=i?[0,20]:[1,21];(e<s[0]||e>s[1])&&zp(t+"value must be within the range"+s[0]+"to"+s[1])}static intNumberFormatter(e,t,i){let s;if(!pt(t.nData.type)){e<0?(e*=-1,s=t.nData):s=0===e&&t.zeroData||t.pData;let n="";return s.isPercent&&(e*=100),s.groupOne?n=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits):(n=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits),s.minimumIntegerDigits&&(n=this.processMinimumIntegers(n,s.minimumIntegerDigits))),"scientific"===s.type&&(n=e.toExponential(s.maximumFractionDigits),n=n.replace("e",i.numberMapper.numberSymbols[Yp[4]])),n=n.replace(".",i.numberMapper.numberSymbols[Yp[3]]),s.useGrouping&&(n=this.groupNumbers(n,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[Yp[3]]||".",s.groupData.secondary)),n=Cn.convertValueParts(n,Rt.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:s.nlead+n+s.nend}}static processSignificantDigits(e,t,i){let n,s=e+"";return s.length<t?e.toPrecision(t):(s=e.toPrecision(i),n=+s,n+"")}static groupNumbers(e,t,i,s,n){let a=!f(n)&&0!==n;const o=e.split(s),h=o[0];let d=h.length,m="";for(;d>t;)m=h.slice(d-t,d)+(m.length?i+m:""),d-=t,a&&(t=n,a=!1);return o[0]=h.slice(0,d)+(m.length?i:"")+m,o.join(s)}static processFraction(e,t,i){const s=(e+"").split(".")[1],n=s?s.length:0;if(t&&n<t){let a="";if(0!==n){a+=e;for(let o=0;o<t-n;o++)a+="0";return a}return a=e.toFixed(t),e.toFixed(t)}return!f(i)&&(n>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){const i=e.split(".");let s=i[0];const n=s.length;if(n<t){for(let a=0;a<t-n;a++)s="0"+s;i[0]=s}return i.join(".")}}const rP="stand-alone",A2=/^[0-9]*$/,tg={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Yk=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,$k=/,/g,Na=["minusSign","infinity"];class $p{constructor(e){this.ranArray=[],this.boundedEvents={},!f(e)&&(this.context=e)}on(e,t,i,s){if(f(t))return;const n=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:n}]:f(s)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:n}):-1===this.ranArray.indexOf(s)&&(this.ranArray.push(s),this.boundedEvents[e].push({handler:t,context:n,id:s}))}off(e,t,i){if(this.notExist(e))return;const s=X(e,this.boundedEvents);if(t){for(let n=0;n<s.length;n++)if(i){if(s[n].id===i){s.splice(n,1);const a=this.ranArray.indexOf(i);-1!==a&&this.ranArray.splice(a,1);break}}else if(t===s[n].handler){s.splice(n,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,s){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);const a=X(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(a,t,i,s,0);for(const o of a)o.handler.call(o.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,s,n){const a=n===e.length-1;if(n<e.length){const o=e[n],h=o.handler.call(o.context,t);if(h&&"function"==typeof h.then){if(!i)return h;h.then(d=>{if(d="string"==typeof d&&this.isJson(d)?JSON.parse(d,this.dateReviver):d,ae(t,t,d,!0),!i||!a)return this.blazorCallback(e,t,i,s,n+1);i.call(o.context,t)}).catch(d=>{s&&s.call(o.context,"string"==typeof d&&this.isJson(d)?JSON.parse(d,this.dateReviver):d)})}else{if(!i||!a)return this.blazorCallback(e,t,i,s,n+1);i.call(o.context,t)}}}dateReviver(e,t){return yt&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(const i of e)if(i.handler===t)return!0;return!1}}const Gp=new $p;const Ps={};let Ey="en-US",ig="USD";const vS=["numericObject","dateObject"];class Ns{constructor(e){e&&(this.culture=e)}getDateFormat(e){return bE.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Ps)}getNumberFormat(e){return e&&!e.currency&&(e.currency=ig),fS.numberFormatter(this.getCulture(),e||{},Ps)}getDateParser(e){return class{static dateParser(e,t,i){const s=Rt.getDependables(i,e,t.calendar),n=Cn.getCurrentNumericOptions(s.parserObject,Cn.getNumberingSystem(i),!1,!1);let d,a={},o=t.format||Rt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,""),h="";if(pt(o))zp("Format options or type given must be invalid");else{o=Rt.ConvertDateToWeekFormat(o),a={isIslamic:Rt.islamicRegex.test(t.calendar),pattern:o,evalposition:{},culture:e};const m=o.match(Rt.dateParseRegex)||[],v=m.length;let C=0,w=0,S=!1;const k=n.numericRegex;let O=Cn.getNumberMapper(s.parserObject,Cn.getNumberingSystem(i));for(let N=0;N<v;N++){const q=m[N],z=q.length,Z="K"===q[0]?"h":q[0];let Ce,ce,Fe=Uk[Z];const Se=2===z?"":"?";switch(S&&(C=w,S=!1),Z){case"E":case"c":let Be;Be=s.dateObject[Rt.days][rP][Rt.monthIndex[z]];let ht=Cn.reverseObject(Be);h+="("+Object.keys(ht).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(ce=!0,("M"===Z||"L"===Z)&&z>2){let ye;ye=s.dateObject.months[rP][Rt.monthIndex[z]],a[Fe]=Cn.reverseObject(ye),h+="("+Object.keys(a[Fe]).join("|")+")"}else if("f"===Z){if(z>3)continue;Ce=!0,h+="("+k+k+"?"+k+"?)"}else Ce=!0,h+="("+k+k+Se+")";"h"===Z&&(a.hour12=!0);break;case"W":h+="("+k+(1===z?"?":"")+k+")";break;case"y":ce=Ce=!0,h+=2===z?"("+k+k+")":"("+k+"{"+z+",})";break;case"a":ce=!0;let Pe=X("dayPeriods.format.wide",s.dateObject);a[Fe]=Cn.reverseObject(Pe),h+="("+Object.keys(a[Fe]).join("|")+")";break;case"G":ce=!0,a[Fe]=Cn.reverseObject(X("eras."+(z<=3?"eraAbbr":4===z?"eraNames":"eraNarrow"),s.dateObject)),h+="("+Object.keys(a[Fe]).join("|")+"?)";break;case"z":ce=0!==(new Date).getTimezoneOffset(),a[Fe]=X("dates.timeZoneNames",s.parserObject);let ve=a[Fe];d=z<4;let Ae=d?"+H;-H":ve.hourFormat;Ae=Ae.replace(/:/g,O.timeSeparator),h+="("+this.parseTimeZoneRegx(Ae,ve,k)+")?",S=!0,w=d?6:12;break;case"'":h+="("+q.replace(/'/g,"")+")?";break;default:h+="([\\D])"}ce&&(a.evalposition[Fe]={isNumber:Ce,pos:N+1+C,hourOnly:d}),N===v-1&&!f(h)&&(a.parserRegex=new RegExp("^"+h+"$","i"))}}return m=>{const v=this.internalDateParse(m,a,n);if(f(v)||!Object.keys(v).length)return null;if(a.isIslamic){let C={},w=v.year;const S=v.day,k=v.month,O=w?w+"":"",N=2===O.length;(!w||!k||!S||N)&&(C=to.getHijriDate(new Date)),N&&(w=parseInt((C.year+"").slice(0,2)+O,10));const q=to.toGregorian(w||C.year,k||C.month,S||C.date);v.year=q.getFullYear(),v.month=q.getMonth()+1,v.day=q.getDate()}return this.getDateObject(v)}}static getDateObject(e,t){const i=t||new Date;i.setMilliseconds(0);const s=["hour","minute","second","milliseconds","month","day"];let n=e.year;const a=e.designator,o=e.timeZone;pt(n)||((n+"").length<=2&&(n+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(n));for(const h of s){let d=e[h];if(pt(d)&&"day"===h&&i.setDate(1),!pt(d))if("month"===h){if(d-=1,d<0||d>11)return new Date("invalid");const m=i.getDate();i.setDate(1),i[tg[h]](d);const v=new Date(i.getFullYear(),d+1,0).getDate();i.setDate(m<v?m:v)}else{if("day"===h){const m=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(d<1||d>m)return null}i[tg[h]](d)}}if(!pt(a)){const h=i.getHours();"pm"===a?i.setHours(h+(12===h?0:12)):12===h&&i.setHours(0)}if(!pt(o)){const h=o-i.getTimezoneOffset();0!==h&&i.setMinutes(i.getMinutes()+h)}return i}static internalDateParse(e,t,i){const s=e.match(t.parserRegex),n={hour:0,minute:0,second:0};if(f(s))return null;{const a=Object.keys(t.evalposition);for(const o of a){const h=t.evalposition[o];let d=s[h.pos];if(h.isNumber)n[o]=this.internalNumberParser(d,i);else if("timeZone"!==o||pt(d))d="month"!==o||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?d:d[0].toUpperCase()+d.substring(1).toLowerCase(),n[o]=t[o][d];else{const m=h.pos;let v;const C=s[m+1],w=!pt(C);h.hourOnly?v=60*this.getZoneValue(w,C,s[m+4],i):(v=60*this.getZoneValue(w,C,s[m+7],i),v+=this.getZoneValue(w,s[m+4],s[m+10],i)),f(v)||(n[o]=v)}}t.hour12&&(n.hour12=!0)}return n}static internalNumberParser(e,t){return e=Cn.convertValueParts(e,t.numberParseRegex,t.numericPair),A2.test(e)?+e:null}static parseTimeZoneRegx(e,t,i){const s=t.gmtFormat;let n;const a="("+i+")("+i+")";let o;return n=e.replace("+","\\+"),n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+a+")"):n.replace(/H|m/g,"("+a+"?)"),o=n.split(";").map(h=>s.replace("{0}",h)),n=o.join("|")+"|"+t.gmtZeroFormat,n}static getZoneValue(e,t,i,s){const n=e?t:i;if(!n)return 0;const a=this.internalNumberParser(n,s);return e?-a:a}}.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Ps)}getNumberParser(e){return class{static numberParser(e,t,i){const s=Rt.getDependables(i,e,"",!0),n={custom:!0};let a;Rt.formatRegex.test(t.format)||!t.format?(ae(n,Rt.getProperNumericSkeleton(t.format||"N")),n.custom=!1,n.fractionDigits||t.maximumFractionDigits&&(n.maximumFractionDigits=t.maximumFractionDigits)):ae(n,Rt.customFormat(t.format,null,null));X("numbers",s.parserObject);let h;if(a=Cn.getCurrentNumericOptions(s.parserObject,Cn.getNumberingSystem(i),!0,!1),n.symbolRegex=Cn.getSymbolRegex(Object.keys(a.symbolMatch)),n.infinity=a.symbolNumberSystem[Na[1]],h=Rt.getSymbolPattern(n.type,a.numberSystem,s.numericObject,n.isAccount),h){h=h.replace(/\u00A4/g,Rt.defaultCurrency);const d=h.split(";");n.nData=Rt.getFormatData(d[1]||"-"+d[0],!0,""),n.pData=Rt.getFormatData(d[0],!0,"")}return d=>this.getParsedNumber(d,n,a)}static getParsedNumber(e,t,i){let s,n,a,o,h,d;if(-1!==e.indexOf(t.infinity))return 1/0;{e=Cn.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=Cn.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);const m=e.match(Yk);if(f(m))return NaN;o=m[1],a=m[2];const v=m[5];return h=m[6],s=t.custom?o===t.nData.nlead&&h===t.nData.nend:-1!==o.indexOf(t.nData.nlead)&&-1!==h.indexOf(t.nData.nend),n=s?t.nData.isPercent:t.pData.isPercent,a=a.replace($k,""),v&&(a+=v),d=+a,("percent"===t.type||n)&&(d/=100),(t.custom||t.fractionDigits)&&(d=parseFloat(d.toFixed(t.custom?s?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(d=this.convertMaxFracDigits(a,t,d,s)),s&&(d*=-1),d}}static convertMaxFracDigits(e,t,i,s){let n=e.split(".");return n[1]&&n[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?s?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i}}.numberParser(this.getCulture(),e||{format:"N"},Ps)}formatNumber(e,t){return this.getNumberFormat(t)(e)}formatDate(e,t){return this.getDateFormat(t)(e)}parseDate(e,t){return this.getDateParser(t)(e)}parseNumber(e,t){return this.getNumberParser(t)(e)}getDatePattern(e,t){return Rt.getActualDateTimeFormat(this.getCulture(),e,Ps,t)}getNumberPattern(e,t){return Rt.getActualNumberFormat(this.getCulture(),e,Ps,t)}getFirstDayOfWeek(){return Rt.getWeekData(this.getCulture(),Ps)}getCulture(){return this.culture||Ey}}function sg(r,e){let t=Rt.getDependables(Ps,r,"",!0)[vS[0]];const i=Rt.getDependables(Ps,r,"")[vS[1]],s=X("defaultNumberingSystem",t),n=X("symbols-numberSystem-"+s,t),a=Rt.getSymbolPattern(e||"decimal",s,t,!1);return ae(n,Rt.getFormatData(a,!0,"",!0),{dateSeparator:Rt.getDateSeparator(i)})}function Ca(r){return Rt.getDependables(Ps,"",r,!1)[vS[1]]}const lP={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var Rt;!function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const e=/[0-9]/g;r.defaultCurrency="$";const t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/gi,r.islamicRegex=/^islamic/;const a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,r.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,r.curWithoutNumberRegex=/(c|a)$/gi;const o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function h(pe,ve,Ae,de,ye){let We;const ft=Ae||"date";if(ye)We=C({skeleton:pe},ye).format||C({skeleton:"d"},"en-US").format;else{if(-1!==r.basicPatterns.indexOf(pe)){if(We=X(ft+"Formats."+pe,ve),"dateTime"===ft){const Jt=X("dateFormats."+pe,ve),Vt=X("timeFormats."+pe,ve);We=We.replace("{1}",Jt).replace("{0}",Vt)}}else We=X("dateTimeFormats.availableFormats."+pe,ve);pt(We)&&"yMd"===pe&&(We="M/d/y")}return We}function d(pe,ve,Ae,de){const ye={},We=Ae||"gregorian";if(ye.parserObject=Cn.getMainObject(pe,ve)||r.defaultObject,de)ye.numericObject=X("numbers",ye.parserObject);else{ye.dateObject=X("dates.calendars."+We,ye.parserObject)}return ye}function m(pe,ve,Ae,de){return X(pe+"Formats-numberSystem-"+ve+(de?".accounting":".standard"),Ae)||(de?X(pe+"Formats-numberSystem-"+ve+".standard",Ae):"")}function v(pe){pe.match(r.dateConverterMapper);return pe}function C(pe,ve){const Ae=pe.format||pe.skeleton;let de=X((ve||"en-US")+"."+Ae,lP);return de||(de=X("en-US."+Ae,lP)),de&&(de=v(de),pe.format=de.replace(/tt/,"a")),pe}function w(pe){const ve=pe.match(r.formatRegex),Ae={},de=ve[1].toUpperCase();return Ae.isAccount="A"===de,Ae.type=r.patternMatcher[de],pe.length>1&&(Ae.fractionDigits=parseInt(ve[2],10)),Ae}function S(pe,ve,Ae,de){const ye=de?{}:{nlead:"",nend:""},We=pe.match(r.customRegex);if(We){de||(ye.nlead=k(We[1],Ae),ye.nend=k(We[10],Ae),ye.groupPattern=We[4]);const ft=We[7];if(ft&&ve){const Jt=ft.match(e);ye.minimumFraction=f(Jt)?0:Jt.length,ye.maximumFraction=ft.length-1}}return ye}function k(pe,ve){return pe?pe.replace(r.defaultCurrency,ve):""}function O(pe,ve,Ae){return X("currencies."+ve+(Ae?"."+Ae:".symbol"),pe)||X("currencies."+ve+".symbol-alt-narrow",pe)||"$"}function q(pe,ve,Ae){const de={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},ye=pe.match(r.customRegex);if(f(ye)||""===ye[5]&&"N/A"!==pe)return de.type=void 0,de;de.nlead=ye[1],de.nend=ye[10];let We=ye[6];de.useGrouping=-1!==We.indexOf(","),We=We.replace(/,/g,"");const ft=ye[7];if(-1!==We.indexOf("0")&&(de.minimumIntegerDigits=We.length-We.indexOf("0")),f(ft)||(de.minimumFractionDigits=ft.lastIndexOf("0"),de.maximumFractionDigits=ft.lastIndexOf("#"),-1===de.minimumFractionDigits&&(de.minimumFractionDigits=0),(-1===de.maximumFractionDigits||de.maximumFractionDigits<de.minimumFractionDigits)&&(de.maximumFractionDigits=de.minimumFractionDigits)),f(ve)?ae(de,z([de.nlead,de.nend],"%","%")):(ae(de,z([de.nlead,de.nend],"$",ve.currencySymbol)),de.isCurrency||ae(de,z([de.nlead,de.nend],"%",ve.percentSymbol))),!f(Ae)){const Jt=m(de.type,ve.numberMapper.numberSystem,Ae,!1);de.useGrouping&&(de.groupSeparator=ve.numberMapper.numberSymbols[t[2]],de.groupData=fS.getGroupingDetails(Jt.split(";")[0])),de.nlead=de.nlead.replace(/'/g,""),de.nend=de.nend.replace(/'/g,"")}return de}function z(pe,ve,Ae){const de={nlead:pe[0],nend:pe[1]};for(let ye=0;ye<2;ye++){const We=pe[ye],ft=We.indexOf(ve);if(-1!==ft&&(ft<We.indexOf("'")||ft>We.lastIndexOf("'"))){de[o[ye]]=We.substr(0,ft)+Ae+We.substr(ft+1),de[o[ve]]=!0,de.type=de.isCurrency?"currency":"percent";break}}return de}function Se(pe,ve,Ae){pe+=".";for(let de=0;de<ve;de++)pe+="0";if(ve<Ae){const de=Ae-ve;for(let ye=0;ye<de;ye++)pe+="#"}return pe}function Be(pe,ve){const Ae=pe.split(".");let de="";for(let ye=0;ye<ve;ye++)de+="0";return Ae[1]?de+"."+Ae[1]:de}function ht(pe){const ve=pe.split(".");let Ae=ve[0];const de=3-Ae.length%3;Ae=(de&&1===de?"#":2===de?"##":"")+Ae,pe="";for(let We=Ae.length-1;We>0;We-=3)pe=","+Ae[We-2]+Ae[We-1]+Ae[We]+pe;return pe=pe.slice(1),ve[1]?pe+"."+ve[1]:pe}r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},r.getResultantPattern=h,r.getDependables=d,r.getSymbolPattern=m,r.ConvertDateToWeekFormat=v,r.compareBlazorDateFormats=C,r.getProperNumericSkeleton=w,r.getFormatData=S,r.changeCurrencySymbol=k,r.getCurrencySymbol=O,r.customFormat=function(pe,ve,Ae){const de={},ye=pe.split(";"),We=["pData","nData","zeroData"];for(let ft=0;ft<ye.length;ft++)de[We[ft]]=q(ye[ft],ve,Ae);return f(de.nData)&&(de.nData=ae({},de.pData),de.nData.nlead=f(ve)?"-"+de.nData.nlead:ve.minusSymbol+de.nData.nlead),de},r.customNumberFormat=q,r.isCurrencyPercent=z,r.getDateSeparator=function(pe){const ve=(X("dateFormats.short",pe)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return ve?ve[1]:"/"},r.getActualDateTimeFormat=function(pe,ve,Ae,de){const ye=d(Ae,pe,ve.calendar);let We=ve.format||h(ve.skeleton,ye.dateObject,ve.type);if(de){if(We=We.replace(i,ft=>s[ft]),-1!==We.indexOf("z")){const ft=We.match(/z/g).length;let Jt;const Vt={timeZone:{}};Vt.numMapper=Cn.getNumberMapper(ye.parserObject,Cn.getNumberingSystem(Ae)),Vt.timeZone=X("dates.timeZoneNames",ye.parserObject);const xi=(new Date).getTimezoneOffset();let ci=ft<4?"+H;-H":Vt.timeZone.hourFormat;ci=ci.replace(/:/g,Vt.numMapper.timeSeparator),0===xi?Jt=Vt.timeZone.gmtZeroFormat:(Jt=bE.getTimeZoneValue(xi,ci),Jt=Vt.timeZone.gmtFormat.replace(/\{0\}/,Jt)),We=We.replace(/[z]+/,'"'+Jt+'"')}We=We.replace(/ $/,"")}return We},r.getActualNumberFormat=function(pe,ve,Ae,de){const ye=d(Ae,pe,"",!0),We={custom:!0};let Jt;const Vt={},Fi=(ve.format||"").match(r.currencyFormatRegex),ci=(r.formatRegex.test(ve.format)&&w(ve.format||"N"),{});if(Fi){ci.numberMapper=Cn.getNumberMapper(ye.parserObject,Cn.getNumberingSystem(Ae),!0);const se=O(ye.numericObject,ve.currency||ig,ve.altSymbol);let ue=m("currency",ci.numberMapper.numberSystem,ye.numericObject,/a/i.test(ve.format));ue=ue.replace(/\u00A4/g,se);const Qe=ue.split(";");Vt.hasNegativePattern=Qe.length>1,Vt.nData=S(Qe[1]||"-"+Qe[0],!0,se),Vt.pData=S(Qe[0],!1,se),!Fi[2]&&!ve.minimumFractionDigits&&!ve.maximumFractionDigits&&(Jt=S(ue.split(";")[0],!0,"",!0).minimumFraction)}let mt;if(r.formatRegex.test(ve.format)||!ve.format){if(ae(We,w(ve.format||"N")),We.custom=!1,mt="###0",We.fractionDigits||ve.minimumFractionDigits||ve.maximumFractionDigits||Jt){const se=0;We.fractionDigits&&(ve.minimumFractionDigits=ve.maximumFractionDigits=We.fractionDigits),mt=Se(mt,Jt||We.fractionDigits||ve.minimumFractionDigits||se,ve.maximumFractionDigits||se)}if(ve.minimumIntegerDigits&&(mt=Be(mt,ve.minimumIntegerDigits)),ve.useGrouping&&(mt=ht(mt)),"currency"===We.type){const se=mt;mt=Vt.pData.nlead+se+Vt.pData.nend,Vt.hasNegativePattern&&(mt+=";"+Vt.nData.nlead+se+Vt.nData.nend)}"percent"===We.type&&(mt+=" %")}else mt=ve.format.replace(/'/g,'"');return Object.keys(ci).length>0&&(mt=de?mt:function(pe,ve){if(-1!==pe.indexOf(",")){let Ae=pe.split(",");pe=Ae[0]+X("numberMapper.numberSymbols.group",ve)+Ae[1].replace(".",X("numberMapper.numberSymbols.decimal",ve))}else pe=pe.replace(".",X("numberMapper.numberSymbols.decimal",ve));return pe}(mt,ci)),mt},r.fractionDigitsPattern=Se,r.minimumIntegerPattern=Be,r.groupingPattern=ht,r.getWeekData=function(pe,ve){let Ae="sun";const de=X("supplemental.weekData.firstDay",ve);let ye=pe;return/en-/.test(ye)&&(ye=ye.slice(3)),ye=ye.slice(0,2).toUpperCase()+ye.substr(2),de&&(Ae=de[ye]||"sun"),a[Ae]},r.replaceBlazorCurrency=function(pe,ve,Ae){const de=function(r){return X(r||"",jk)}(Ae);if(ve!==de)for(const ye of pe)ye.nend=ye.nend.replace(ve,de),ye.nlead=ye.nlead.replace(ve,de)},r.getWeekOfYear=function(pe){const ve=new Date(pe.getFullYear(),0,1);let de,Ae=ve.getDay();Ae=Ae>=0?Ae:Ae+7;const ye=Math.floor((pe.getTime()-ve.getTime()-6e4*(pe.getTimezoneOffset()-ve.getTimezoneOffset()))/864e5)+1;if(Ae<4){if(de=Math.floor((ye+Ae-1)/7)+1,de>52){let ft=new Date(pe.getFullYear()+1,0,1).getDay();ft=ft>=0?ft:ft+7,de=ft<4?1:53}}else de=Math.floor((ye+Ae-1)/7);return de}}(Rt||(Rt={}));const wy=/^(.*?):[ \t]*([^\r\n]*)$/gm;class yd{constructor(e,t,i,s){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!f(i)||i):"object"==typeof e&&(this.options=e,So(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:s}send(e){this.data=f(e)?this.data:e;const t={cancel:!1,httpRequest:null};return new Promise((s,n)=>{this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=()=>{this.stateChange(s,n)},f(this.onLoad)||(this.httpRequest.onload=this.onLoad),f(this.onProgress)||(this.httpRequest.onprogress=this.onProgress),f(this.onAbort)||(this.httpRequest.onabort=this.onAbort),f(this.onError)||(this.httpRequest.onerror=this.onError),f(this.onUploadProgress)||(this.httpRequest.upload.onprogress=this.onUploadProgress),this.httpRequest.open(this.type,this.url,this.mode),!f(this.data)&&null!==this.contentType&&this.httpRequest.setRequestHeader("Content-Type",this.contentType||"application/json; charset=utf-8"),this.beforeSend&&(t.httpRequest=this.httpRequest,this.beforeSend(t)),t.cancel||this.httpRequest.send(f(this.data)?null:this.data)})}successHandler(e){return this.onSuccess&&this.onSuccess(e,this),e}failureHandler(e){return this.onFailure&&this.onFailure(this.httpRequest),e}stateChange(e,t){let i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(s){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}getResponseHeader(e){let t,i;t={};let s=wy.exec(this.httpRequest.getAllResponseHeaders());for(;s;)t[s[1].toLowerCase()]=s[2],s=wy.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],f(i)?null:i}}const ng=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Qk=/msie|trident/i,Kk=/Trident\/7\./,cP=/(ipad|iphone|ipod touch)/i,hP=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,uP=/android/i,CE=/trident|windows phone|edge/i,Fl=/(version)[ /]([\w.]+)/i,yS={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});class G{static extractBrowserDetail(){const e={culture:{}},t=Object.keys(yS);let i=[];for(const s of t)if(i=G.userAgent.match(yS[s]),i){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,G.userAgent.match(Kk)){e.name="msie";break}const n=G.userAgent.match(Fl);"safari"===e.name&&n&&(e.version=n[2]);break}return e}static getEvent(e){const t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return G.isPointer?t[e].isPointer:G.isTouch?t[e].isTouch+(G.isDevice?"":" "+t[e].isDevice):t[e].isDevice}static getTouchStartEvent(){return G.getEvent("start")}static getTouchEndEvent(){return G.getEvent("end")}static getTouchMoveEvent(){return G.getEvent("move")}static getTouchCancelEvent(){return G.getEvent("cancel")}static getValue(e,t){const i=window.browserDetails;return void 0===i[e]?i[e]=t.test(G.userAgent):("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===G.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),i[e])}static set userAgent(e){G.uA=e,window.browserDetails={}}static get userAgent(){return G.uA}static get info(){return pt(window.browserDetails.info)?window.browserDetails.info=G.extractBrowserDetail():window.browserDetails.info}static get isIE(){return G.getValue("isIE",Qk)}static get isTouch(){return pt(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return pt(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return pt(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return G.getValue("isDevice",ng)}static get isIos(){return G.getValue("isIos",cP)}static get isIos7(){return G.getValue("isIos7",hP)}static get isAndroid(){return G.getValue("isAndroid",uP)}static get isWebView(){return pt(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(pt(window.cordova)&&pt(window.PhoneGap)&&pt(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView}static get isWindows(){return G.getValue("isWindows",CE)}static get touchStartEvent(){return pt(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=G.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return pt(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=G.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return pt(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=G.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return pt(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=G.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}G.uA="undefined"!=typeof navigator?navigator.userAgent:"";class A{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,s,n){const a=A.addOrGetEventData(e);let o;o=n?function(r,e){let t;return function(){const i=arguments,s=()=>(t=null,r.apply(this,i));clearTimeout(t),t=setTimeout(s,e)}}(i,n):i,s&&(o=o.bind(s));const h=t.split(" ");for(let d=0;d<h.length;d++)a.push({name:h[d],listener:i,debounce:o}),G.isIE?e.addEventListener(h[d],o):e.addEventListener(h[d],o,{passive:!1});return o}static remove(e,t,i){const s=A.addOrGetEventData(e),n=t.split(" ");for(let a=0;a<n.length;a++){let h,o=-1;s&&0!==s.length&&s.some((d,m)=>d.name===n[a]&&d.listener===i&&(o=m,h=d.debounce,!0)),-1!==o&&s.splice(o,1),h&&e.removeEventListener(n[a],h)}}static clearEvents(e){let t,i;t=A.addOrGetEventData(e),i=ae([],i,t);for(let s=0;s<i.length;s++)e.removeEventListener(i[s].name,i[s].debounce),t.shift()}static trigger(e,t,i){const s=A.addOrGetEventData(e);for(const n of s)n.name===t&&n.debounce.call(this,i)}}const Xk=/^svg|^path|^g/;function Q(r,e){const t=Xk.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return void 0===e||(t.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(t.className=e.className),void 0!==e.id&&(t.id=e.id),void 0!==e.styles&&t.setAttribute("style",e.styles),void 0!==e.attrs&&Te(t,e.attrs)),t}function L(r,e){const t=bS(e);for(const i of r)for(const s of t)if(ch(i)){const n=X("attributes.className",i);f(n)?At("attributes.className",s,i):new RegExp("\\b"+s+"\\b","i").test(n)||At("attributes.className",n+" "+s,i)}else i.classList.contains(s)||i.classList.add(s);return r}function H(r,e){const t=bS(e);for(const i of r){const s=ch(i);if(s?X("attributes.className",i):""!==i.className)for(const a of t)if(s){const h=X("attributes.className",i).split(" "),d=h.indexOf(a);-1!==d&&h.splice(d,1),At("attributes.className",h.join(" "),i)}else i.classList.remove(a)}return r}function bS(r){let e=[];return"string"==typeof r?e.push(r):e=r,e}function sn(r){return""===r.style.visibility&&r.offsetWidth>0}function Mi(r,e,t){const i=document.createDocumentFragment();for(const s of r)i.appendChild(s);return e.insertBefore(i,e.firstElementChild),t&&dP(e),r}function Ge(r,e,t){const i=document.createDocumentFragment();for(const s of r)i.appendChild(s);return e.appendChild(i),t&&dP(e),r}function dP(r){r.querySelectorAll("script").forEach(t=>{const i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),oe(i)})}function oe(r){const e=r.parentNode;if(e)return e.removeChild(r)}function nt(r){const e=r.parentNode;A.clearEvents(r),e.removeChild(r)}function Te(r,e){const t=Object.keys(e),i=r;for(const s of t)if(ch(i)){let n=s;"tabindex"===s&&(n="tabIndex"),i.attributes[n]=e[s]}else i.setAttribute(s,e[s]);return i}function J(r,e=document,t){return r=EE(r),e.querySelector(r)}function Xe(r,e=document,t){return r=EE(r),e.querySelectorAll(r)}function EE(r){const e=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(e)){const t=r.split(",");for(let i=0;i<t.length;i++){const s=t[i].split(" ");for(let n=0;n<s.length;n++)if(s[n].indexOf("#")>-1&&!s[n].match(/\[.*\]/)){const a=s[n].split("#");if(a[1].match(/^\d/)||a[1].match(e)){const o=s[n].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",s[n]=o.join(".")}}t[i]=s.join(" ")}return t.join(",")}return r}function U(r,e){let t=r;if("function"==typeof t.closest)return t.closest(e);for(;t&&1===t.nodeType;){if(Qp(t,e))return t;t=t.parentNode}return null}function Ue(r,e){void 0!==e&&Object.keys(e).forEach(t=>{r.style[t]=e[t]})}function On(r,e,t){L([r],e),H([r],t)}function Qp(r,e){let t=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return t?t.call(r,e):-1!==[].indexOf.call(document.querySelectorAll(e),r)}const rg=new RegExp("]");class al{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new $p(this),pt(t)||(this.element="string"==typeof t?document.querySelector(t):t,f(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),pt(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,So(this,e),!0!==t&&(So(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){const i=Object.keys(e);for(const s of i)if(t[s]instanceof Array)for(const n of t[s])void 0!==n.dataBind&&n.dataBind();else t[s].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(al.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){const e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(r){let e;const t=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(t);let s="ej2"+function(r){let e="";for(let t=0;t<5;t++)e+=(t?",":"")+r[t];return e}(t),n=a=>{a.source===window&&"string"==typeof a.data&&a.data.length<=32&&a.data===s&&(r(),e())};return window.addEventListener("message",n,!1),window.postMessage(s,"*"),e=()=>{window.removeEventListener("message",n),r=n=s=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,s){if(!0!==this.isDestroyed){const n=this.isProtectedOnChange;this.isProtectedOnChange=!1;let a=this.modelObserver.notify(e,t,i,s);if(rg.test(e)){const o=X(e,this);if(o)if(window.Blazor){const d=o.call(this,t);d&&"function"==typeof d.then?i?d.then(m=>{i&&(m="string"==typeof m&&this.modelObserver.isJson(m)?JSON.parse(m):m,i.call(this,m))}).catch(m=>{s&&(m="string"==typeof m&&this.modelObserver.isJson(m)?JSON.parse(m):m,s.call(this,m))}):a=d:i&&i.call(this,t)}else o.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=n,a}}addInstance(){const e="e-"+this.getModuleName().toLowerCase();L([this.element],["e-lib",e]),f(this.element.ej2_instances)?At("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),H([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&H([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function sa(r,e){let t,i;const s="string"==typeof r?document.getElementById(r):r;for(i=0;i<s.ej2_instances.length;i++)if(t=s.ej2_instances[i],"string"==typeof e){if(e===t.getModuleName())return t}else if(t instanceof e)return t}function ag(r,e,t,i){return(!r.properties.hasOwnProperty(e)||!(r.properties[e]instanceof i))&&(r.properties[e]=gE(i,[r,e,t])),r.properties[e]}function Dy(r,e,t,i,s,n){const a=[],o=t?t.length:0;for(let h=0;h<o;h++){let d=i;if(n&&(d=i(t[h],r)),s){const m=gE(d,[r,e,{},!0]);m.setProperties(t[h],!0),a.push(m)}else a.push(gE(d,[r,e,t[h],!1]))}return a}function Jk(r,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=r),this.properties[e]}}function mP(r,e){return function(t){if(this.properties[e]!==t){let i=this.properties.hasOwnProperty(e)?this.properties[e]:r;this.saveChanges(e,t,i),this.properties[e]=t}}}function gP(r,e,t){return function(){return ag(this,e,r,t)}}function vP(r,e,t){return function(i){ag(this,e,r,t).setProperties(i)}}function CS(r,e,t){return function(){if(!this.properties.hasOwnProperty(e)){const s=Dy(this,e,r,t,!1);this.properties[e]=s}const i=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[e].hasOwnProperty("push")&&!i&&["push","pop"].forEach(s=>{const n={value:CP(s,e,0,this.properties[e]).bind(this),configurable:!0};Object.defineProperty(this.properties[e],s,n)}),this.properties[e].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[e],"isComplexArray",{value:!0}),this.properties[e]}}function tM(r,e,t){return function(i){this.isComplexArraySetter=!0;const s=Dy(this,e,r,t,!1),n=Dy(this,e,i,t,!0);this.isComplexArraySetter=!1,this.saveChanges(e,n,s),this.properties[e]=n}}function CP(r,e,t,i){return function(...s){const n=this.propName?this.getParentKey()+"."+e+"-":e+"-";switch(r){case"push":for(let o=0;o<s.length;o++){Array.prototype[r].apply(i,[s[o]]);const h=wS(n+(i.length-1),s[o],!this.controlParent,r);this.serverDataBind(h,s[o],!1,r)}break;case"pop":Array.prototype[r].apply(i);let a=wS(n+i.length,null,!this.controlParent,r);this.serverDataBind(a,{ejsAction:"pop"},!1,r)}return i}}function wS(r,e,t,i){let s=r;return t&&(s={},s[r]=e,e&&"object"==typeof e)&&(s[r].ejsAction=i),s}function T(r){return(e,t)=>{const i={set:mP(r,t),get:Jk(r,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Kp(e,t,"prop",r)}}function Ht(r,e){return(t,i)=>{const s={set:vP(r,i,e),get:gP(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),Kp(t,i,"complexProp",r,e)}}function Va(r,e){return(t,i)=>{const s={set:tM(r,i,e),get:CS(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),Kp(t,i,"colProp",r,e)}}function $(){return(r,e)=>{const t={set:function(i){const s=this.properties[e];if(s!==i){const n=DE(this,e);!1===pt(s)&&n.context.removeEventListener(n.prefix,s),n.context.addEventListener(n.prefix,i),this.properties[e]=i}},get:Jk(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(r,e,t),Kp(r,e,"event")}}function oi(r){}function Kp(r,e,t,i,s){pt(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[t+"s"].push({propertyName:e,defaultValue:i,type:s}),r.propList[t+"Names"].push(e)}function DE(r,e){if(!1===r.hasOwnProperty("parentObj"))return{context:r,prefix:e};{const t=X("propName",r);return t&&(e=t+"-"+e),DE(X("parentObj",r),e)}}var cu,uh=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let Gi=cu=class extends al{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){const i=this.getModel(t=t||{});if("string"==typeof e){const s=Array.prototype.slice.call(Xe(e,document));for(const n of s)i.element=n,cu.delayAnimation(i)}else i.element=e,cu.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");const i=e.getAttribute("e-animation-id");if(i){const s=parseInt(i,10);cancelAnimationFrame(s),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{cu.applyAnimation(e)},e.delay):cu.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,s=0;const n=e.duration;e.element.setAttribute("e-animate","true");const a=o=>{try{if(o){s=0===s?o:s,e.timeStamp=o+e.timeStamp-s,s=o,!t&&e.begin&&e.begin.call(this,e),t+=1;const h=e.timeStamp/t;e.timeStamp<n&&e.timeStamp+h<n&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(a)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",i.toString())}catch(h){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,h)}};a()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};function Ts(r,e,t){const i=function(r){return{selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350}}(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!mc?()=>{}:(r.setAttribute("data-ripple","true"),A.add(r,"mousedown",TS,{parent:r,rippleOptions:i}),A.add(r,"mouseup",SE,{parent:r,rippleOptions:i,done:t}),A.add(r,"mouseleave",dh,{parent:r,rippleOptions:i}),G.isPointer&&A.add(r,"transitionend",dh,{parent:r,rippleOptions:i}),()=>{r.removeAttribute("data-ripple"),A.remove(r,"mousedown",TS),A.remove(r,"mouseup",SE),A.remove(r,"mouseleave",dh),A.remove(r,"transitionend",dh)})}function TS(r){const e=r.target,t=this.rippleOptions.selector,i=t?U(e,t):e;if(!i||this.rippleOptions&&U(e,this.rippleOptions.ignore))return;const s=i.getBoundingClientRect(),n=r.pageX-document.body.scrollLeft,a=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),o=Math.max(Math.abs(n-s.left),Math.abs(n-s.right)),h=Math.max(Math.abs(a-s.top),Math.abs(a-s.bottom)),d=Math.sqrt(o*o+h*h);let m=2*d+"px",v=n-s.left-d,C=a-s.top-d;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(v=0,C=0,m="100%"),i.classList.add("e-ripple");const k=Q("div",{className:"e-ripple-element",styles:"width: "+m+";height: "+m+";left: "+v+"px;top: "+C+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(k),window.getComputedStyle(k).getPropertyValue("opacity"),k.style.transform="scale(1)",i!==this.parent&&A.add(i,"mouseleave",dh,{parent:this.parent,rippleOptions:this.rippleOptions})}function SE(r){iM(r,this)}function dh(r){iM(r,this)}function iM(r,e){const t=e.rippleOptions.duration,i=r.target,s=e.rippleOptions.selector,n=s?U(i,s):i;if(!n||n&&-1===n.className.indexOf("e-ripple"))return;const a=Xe(".e-ripple-element",n),o=a[a.length-1];o&&(o.style.opacity="0.5"),e.parent!==n&&A.remove(n,"mouseleave",dh),setTimeout(()=>{o&&o.parentNode&&o.parentNode.removeChild(o),n.getElementsByClassName("e-ripple-element").length||n.classList.remove("e-ripple"),e.done&&e.done(r)},t)}uh([T("FadeIn")],Gi.prototype,"name",void 0),uh([T(400)],Gi.prototype,"duration",void 0),uh([T("ease")],Gi.prototype,"timingFunction",void 0),uh([T(0)],Gi.prototype,"delay",void 0),uh([$()],Gi.prototype,"progress",void 0),uh([$()],Gi.prototype,"begin",void 0),uh([$()],Gi.prototype,"end",void 0),uh([$()],Gi.prototype,"fail",void 0),Gi=cu=uh([oi],Gi);let mc=!1;class sM{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){const i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let s=0;s<i;s++){const n=e[s];for(const a of t){const o=n.member;if(a.prototype.getModuleName()===n.member&&!this.isModuleLoaded(o)){const h=gE(a,n.args),d=this.getMemberName(o);At(d,n.isProperty?a:h,this.parent);const m=n;m.member=d,this.loadedModules.push(m)}}}}else this.clean()}clean(){for(const e of this.loadedModules)e.isProperty||X(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){const t=e.map(s=>this.getMemberName(s.member)),i=this.loadedModules.filter(s=>-1===t.indexOf(s.member));for(const s of i)s.isProperty||X(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),cS(this.parent,s.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(const t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class hi{constructor(e,t,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=X("callChildDataBind",al),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=s,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{const e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(So(this,e),this.updateChange(!1,this.propName),this.clearChanges()):So(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){const e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(At(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),At(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,s){0}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let s=this.parentObj[this.propName].length;s=e?s:s>0?s-1:0,t=-1!==t?"-"+t:"-"+s,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}var Sy=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let TE,nM=0,rM=0,hs=class extends al{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let r=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(r)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,f(this.enableRtl)&&this.setProperties({enableRtl:false},!0),f(this.locale)&&this.setProperties({locale:Ey},!0),this.moduleLoader=new sM(this),this.localObserver=new $p(this),Gp.on("notifyExternalChange",this.detectFunction,this,this.randomId),pt(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(H([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),Gp.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new $p(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}getLocalData(){const e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)}appendTo(e){if(f(e)||"string"!=typeof e?f(e)||(this.element=e):this.element=J(e,document),!f(this.element)){const t="e-"+this.getModuleName().toLowerCase();L([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));const i=X("ej2_instances",this.element);(!i||-1===i.indexOf(this))&&super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(const s of e)this.localObserver.on(s.event,s.handler,s.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(const i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return Q(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){const t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),f(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}renderReactTemplates(){}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(nM=0),TE=this.pageID(location.href),rM=history.length,e+"_"+TE+"_"+nM++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return TE!==this.pageID(location.href)||rM!==history.length}addOnPersist(e){const t={};for(const i of e){let s;s=X(i,this),pt(s)||At(i,this.getActualProperties(s),t)}return JSON.stringify(t,(i,s)=>this.getActualProperties(s))}getActualProperties(e){return e instanceof hi?X("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){const i={};for(const s of Object.keys(e))if(-1===t.indexOf(s)){const n=e[s];if("object"!=typeof n||n instanceof Array)i[s]=n;else{const a=t.filter(o=>new RegExp(s+".").test(o)).map(o=>o.replace(s+".",""));i[s]=this.iterateJsonProperties(this.getActualProperties(n),a)}}return i}};Sy([T(!1)],hs.prototype,"enablePersistence",void 0),Sy([T()],hs.prototype,"enableRtl",void 0),Sy([T()],hs.prototype,"locale",void 0),hs=Sy([oi],hs),"undefined"!=typeof window&&window.addEventListener("popstate",()=>{nM=0});var Ay,Ji=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const aM={left:0,top:0,bottom:0,right:0},AS={isDragged:!1};class xS extends hi{}Ji([T(0)],xS.prototype,"left",void 0),Ji([T(0)],xS.prototype,"top",void 0);let ms=Ay=class extends al{constructor(e,t){super(t,e),this.dragLimit=Ay.getDefaultPosition(),this.borderWidth=Ay.getDefaultPosition(),this.padding=Ay.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),G.isIE&&L([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return ae({},aM)}toggleEvents(e){let t;pt(this.handle)||(t=J(this.handle,this.element));let i=this.enableTapHold&&G.isDevice&&G.isTouch?this.mobileInitialize:this.initialize;e?A.remove(t||this.element,G.touchStartEvent,i):A.add(t||this.element,G.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),A.add(document,G.touchMoveEvent,this.removeTapholdTimer,this),A.add(document,G.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),A.remove(document,G.touchMoveEvent,this.removeTapholdTimer),A.remove(document,G.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return f(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),f(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let s=this.abort;"string"==typeof s&&(s=[s]);for(let n=0;n<s.length;n++)if(!f(U(e.target,s[n])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!pt(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(s.left+this.parentScrollX),this.relativeYPosition=i.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(A.add(document,G.touchMoveEvent,this.intDragStart,this),A.add(document,G.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,A.trigger(document.documentElement,G.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!pt(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let s,i=this.getCoordinates(e),n=getComputedStyle(this.element);this.margin={left:parseInt(n.marginLeft,10),top:parseInt(n.marginTop,10),right:parseInt(n.marginRight,10),bottom:parseInt(n.marginBottom,10)};let a=this.element;if(this.clone&&this.dragTarget){let m=U(e.target,this.dragTarget);f(m)||(a=m)}this.isReplaceDragEle&&(a=this.currentStateCheck(e.target,a)),this.offset=this.calculateParentPosition(a),this.position=this.getMousePosition(e,this.isDragScroll);let o=this.initialPosition.x-i.pageX,h=this.initialPosition.y-i.pageY;if(Math.sqrt(o*o+h*h)>=this.distance||this.externalInitialize){let m=this.getHelperElement(e);if(!m||f(m))return;let v=this.helperElement=m;if(this.parentClientRect=this.calculateParentPosition(v.offsetParent),this.dragStart){let O={event:e,element:a,target:this.getProperTargetElement(e),bindEvents:null,dragElement:v};this.trigger("dragStart",O)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),s={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let C=getComputedStyle(a),w=parseFloat(C.marginTop);this.clone&&0!==w&&(s.top+=w),this.enableScrollHandler&&!this.clone&&(s.top-=this.parentScrollY,s.left-=this.parentScrollX);let S=this.getProcessedPositionValue({top:s.top-this.diffY+"px",left:s.left-this.diffX+"px"});this.dragElePosition={top:s.top,left:s.left},Ue(v,this.getDragPosition({position:"absolute",left:S.left,top:S.top})),A.remove(document,G.touchMoveEvent,this.intDragStart),A.remove(document,G.touchEndEvent,this.intDestroy),this.bindDragEvents(v)}}bindDragEvents(e){sn(e)?(A.add(document,G.touchMoveEvent,this.intDrag,this),A.add(document,G.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(f(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!pt(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.position=this.getMousePosition(e,this.isDragScroll);let s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);let n=this.getDocumentWidthHeight("Width");if(n<this.position.left&&(this.position.left=n),this.drag){let ce=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:ce})}let a=this.checkTargetElement(e);if(a.target&&a.instance){let ce=!0;this.hoverObject&&(this.hoverObject.instance!==a.instance?this.triggerOutFunction(e,a):ce=!1),ce&&(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a)}else this.hoverObject&&this.triggerOutFunction(e,a);let o=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let h=this.parentClientRect.left,d=this.parentClientRect.top,m=this.getCoordinates(e),v=m.pageX,C=m.pageY,w=this.position.left-this.diffX,S=this.position.top-this.diffY,k=getComputedStyle(o),O=parseFloat(k.marginTop);if(this.dragArea){if(this.pageX!==v||this.skipDistanceCheck){let ce=o.offsetWidth+(parseFloat(k.marginLeft)+parseFloat(k.marginRight));t=this.dragLimit.left>w&&w>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<w+ce&&w>0?w-(w-this.dragLimit.right)+window.pageXOffset-ce:w<0?this.dragLimit.left:w}if(this.pageY!==C||this.skipDistanceCheck){let ce=o.offsetHeight+(parseFloat(k.marginTop)+parseFloat(k.marginBottom));i=this.dragLimit.top>S&&S>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<S+ce&&S>0?S-(S-this.dragLimit.bottom)+window.pageYOffset-ce:S<0?this.dragLimit.top:S}}else t=w,i=S;let z,Z,N=d+this.borderWidth.top,q=h+this.borderWidth.left;if(this.dragProcessStarted&&(f(i)&&(i=this.prevTop),f(t)&&(t=this.prevLeft)),this.dragArea){if(this.dragLimit.top=this.clone?this.dragLimit.top:0,z=i-N<0?this.dragLimit.top:i-N,Z=t-q<0?this.dragElePosition.left:t-q,O>0&&(this.clone&&(z+=this.element.offsetTop,S<0&&(this.element.offsetTop+S>=0?z=this.element.offsetTop+S:z-=this.element.offsetTop),z=this.dragLimit.bottom<z?this.dragLimit.bottom:z),i-N<0))if(S+O+(o.offsetHeight-N)>=0){let ce=this.dragLimit.top+S-N;ce+O+N<0?z-=O+N:z=ce}else z-=O+N}else z=i-N,Z=t-q;this.enableScrollHandler&&!this.clone&&(z-=this.parentScrollY,Z-=this.parentScrollX);let Ce=this.getProcessedPositionValue({top:z+"px",left:Z+"px"});Ue(o,this.getDragPosition(Ce)),!this.elementInViewport(o)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=v,this.pageY=C}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=ae({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!pt(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let s=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),A.remove(document,G.touchMoveEvent,this.intDragStart),A.remove(document,G.touchEndEvent,this.intDragStop),A.remove(document,G.touchEndEvent,this.intDestroy),A.remove(document,G.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(AS.isDragged=!AS.isDragged),AS.isDragged}setDragArea(){let e,t,n,i=0,s=0;if(n="string"==typeof this.dragArea?J(this.dragArea):this.dragArea,n){let o=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:o.right-o.left,t=n.scrollHeight?n.scrollHeight:o.bottom-o.top;let h=["Top","Left","Bottom","Right"],d=getComputedStyle(n);for(let m=0;m<h.length;m++){let v=h[m],C=d["border"+v+"Width"],w=d["padding"+v],S=v.toLowerCase();this.borderWidth[S]=isNaN(parseFloat(C))?0:parseFloat(C),this.padding[S]=isNaN(parseFloat(w))?0:parseFloat(w)}i=o.top,s=o.left,this.dragLimit.left=s+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=s+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let i,t=this.getCoordinates(e),s=this.helperElement.style.pointerEvents||"";return by(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",i=document.elementFromPoint(t.clientX,t.clientY),this.helperElement.style.pointerEvents=s):i=e.target,i}currentStateCheck(e,t){let i;return i=f(this.currentStateTarget)||this.currentStateTarget===e?f(t)?e:t:this.currentStateTarget,i}getMousePosition(e,t){let n,a,i=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),o=f(i.offsetParent);return t?(n=this.clone?s.pageX:s.pageX+(o?0:i.offsetParent.scrollLeft)-this.relativeXPosition,a=this.clone?s.pageY:s.pageY+(o?0:i.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,a=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),!this.clone&&this.dragArea&&!t&&(this.getScrollableValues(),a-=this.tempScrollHeight?this.parentScrollY:0,n-=this.tempScrollWidth?this.parentScrollX:0),{left:n-(this.margin.left+this.cursorAt.left),top:a-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Q("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!f(t.parentNode)){let s=U(t.parentNode,".e-droppable")||t.parentElement;s&&(i=this.getDropInstance(s))}return{target:t,instance:i}}getDropInstance(e){let i,s=e&&e.ej2_instances;if(s)for(let n of s)if("droppable"===n.getModuleName()){i=n;break}return i}destroy(){this.toggleEvents(!0),super.destroy()}};Ji([Ht({},xS)],ms.prototype,"cursorAt",void 0),Ji([T(!0)],ms.prototype,"clone",void 0),Ji([T()],ms.prototype,"dragArea",void 0),Ji([T()],ms.prototype,"isDragScroll",void 0),Ji([T()],ms.prototype,"isReplaceDragEle",void 0),Ji([T(!0)],ms.prototype,"isPreventSelect",void 0),Ji([$()],ms.prototype,"drag",void 0),Ji([$()],ms.prototype,"dragStart",void 0),Ji([$()],ms.prototype,"dragStop",void 0),Ji([T(1)],ms.prototype,"distance",void 0),Ji([T()],ms.prototype,"handle",void 0),Ji([T()],ms.prototype,"abort",void 0),Ji([T()],ms.prototype,"helper",void 0),Ji([T("default")],ms.prototype,"scope",void 0),Ji([T("")],ms.prototype,"dragTarget",void 0),Ji([T()],ms.prototype,"axis",void 0),Ji([T()],ms.prototype,"queryPositionInfo",void 0),Ji([T(!1)],ms.prototype,"enableTailMode",void 0),Ji([T(!1)],ms.prototype,"skipDistanceCheck",void 0),Ji([T(!0)],ms.prototype,"preventDefault",void 0),Ji([T(!1)],ms.prototype,"enableAutoScroll",void 0),Ji([T(!1)],ms.prototype,"enableTapHold",void 0),Ji([T(750)],ms.prototype,"tapHoldThreshold",void 0),Ji([T(!1)],ms.prototype,"enableScrollHandler",void 0),ms=Ay=Ji([oi],ms);var og=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let hu=class extends al{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){A.add(this.element,G.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let i=!0;const s=this.dragData[this.scope],n=!!s&&s.helper&&sn(s.helper);let a;n&&(a=this.isDropArea(e,s.helper,t),this.accept&&(i=Qp(s.helper,this.accept))),n&&this.drop&&a.canDrop&&i&&this.trigger("drop",{event:e,target:a.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}isDropArea(e,t,i){const s={canDrop:!0,target:i||e.target},n="touchend"===e.type;if(n||s.target===t){t.style.display="none";const a=n?e.changedTouches[0]:e,o=document.elementFromPoint(a.clientX,a.clientY);s.canDrop=!1,s.canDrop=by(o,this.element),s.canDrop&&(s.target=o),t.style.display=""}return s}destroy(){A.remove(this.element,G.touchEndEvent,this.intDrop),super.destroy()}};og([T()],hu.prototype,"accept",void 0),og([T("default")],hu.prototype,"scope",void 0),og([$()],hu.prototype,"drop",void 0),og([$()],hu.prototype,"over",void 0),og([$()],hu.prototype,"out",void 0),hu=og([oi],hu);var xy,AE=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const SP={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};let rt=xy=class extends al{constructor(e,t){super(t,e),this.keyPressHandler=i=>{const s=i.altKey,n=i.ctrlKey,a=i.shiftKey,o=i.which,h=Object.keys(this.keyConfigs);for(const d of h){const m=this.keyConfigs[d].split(",");for(const v of m){const C=xy.getKeyConfigData(v.trim());s===C.altKey&&n===C.ctrlKey&&a===C.shiftKey&&o===C.keyCode&&(i.action=d,this.keyAction&&this.keyAction(i))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];const t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):xy.getKeyCode(t[t.length-1]),xy.configCache[e]=i,i}static getKeyCode(e){return SP[e]||e.toUpperCase().charCodeAt(0)}};rt.configCache={},AE([T({})],rt.prototype,"keyConfigs",void 0),AE([T("keyup")],rt.prototype,"eventName",void 0),AE([$()],rt.prototype,"keyAction",void 0),rt=xy=AE([oi],rt);let Gs=(()=>{class r{constructor(t,i,s){this.controlName=t,this.localeStrings=i,this.setLocale(s||Ey)}setLocale(t){const i=this.intGetControlConstant(r.locale,t);this.currentLocale=i||this.localeStrings}static load(t){this.locale=ae(this.locale,t,{},!0)}getConstant(t){return f(this.currentLocale[t])?this.localeStrings[t]||"":this.currentLocale[t]}intGetControlConstant(t,i){return t[i]?t[i][this.controlName]:null}}return r.locale={},r})();var ph=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class Iy extends hi{}ph([T(50)],Iy.prototype,"swipeThresholdDistance",void 0);const gc=/(Up|Down)/;let mn=class extends al{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=i=>{if(!0===this.touchAction){const s=this.updateChangeTouches(i);void 0!==i.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY},this.startEventData=s,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(i)},this.tapHoldThreshold),A.add(this.element,G.touchMoveEvent,this.moveEvent,this),A.add(this.element,G.touchEndEvent,this.endEvent,this),A.add(this.element,G.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=i=>{const s=this.updateChangeTouches(i);this.movedPoint=s,this.isTouchMoved=!(s.clientX===this.startPoint.clientX&&s.clientY===this.startPoint.clientY);let n={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(i),n=ae(n,{},{startEvents:this.startEventData,originalEvent:i,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(s)}),this.trigger("scroll",n),this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY})},this.cancelEvent=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(i),A.remove(this.element,G.touchCancelEvent,this.cancelEvent)},this.endEvent=i=>{this.swipeFn(i),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:i,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);const s=this.updateChangeTouches(i);let n=s.clientX-this.startPoint.clientX,a=s.clientY-this.startPoint.clientY;n=Math.floor(n<0?-1*n:n),a=Math.floor(a<0?-1*a:n),this.isTouchMoved=n>1||a>1,this.endPoint=s,this.calcPoints(i);const o={originalEvent:i,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(s)};if(this.isTouchMoved){let h;const d=this.swipeSettings.swipeThresholdDistance;h=ae(h,this.defaultArgs,o);let m=!1;const v=this.element,C=this.isScrollable(v),w=gc.test(this.movedDirection);(d<this.distanceX&&!w||d<this.distanceY&&w)&&(m=!C||this.checkSwipe(v,w)),m&&this.trigger("swipe",h)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),A.remove(this.element,G.touchMoveEvent,this.moveEvent),A.remove(this.element,G.touchEndEvent,this.endEvent),A.remove(this.element,G.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),G.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){A.add(this.element,G.touchStartEvent,this.startEvent,this)}unwireEvents(){A.remove(this.element,G.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){const t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,A.remove(this.element,G.touchMoveEvent,this.moveEvent),A.remove(this.element,G.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),A.remove(this.element,G.touchCancelEvent,this.cancelEvent)}calcPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){const t=e.clientX,i=e.clientY,s=Date.now(),n=t-this.startPoint.clientX,a=i-this.startPoint.clientX,o=s-this.tStampStart;return Math.sqrt(n*n+a*a)/o}checkSwipe(e,t){const i=["scroll","offset"],s=t?["Height","Top"]:["Width","Left"];return e[i[0]+s[0]]<=e[i[1]+s[0]]||0===e[i[0]+s[1]]||e[i[1]+s[0]]+e[i[0]+s[1]]>=e[i[0]+s[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};ph([$()],mn.prototype,"tap",void 0),ph([$()],mn.prototype,"tapHold",void 0),ph([$()],mn.prototype,"swipe",void 0),ph([$()],mn.prototype,"scroll",void 0),ph([T(350)],mn.prototype,"tapThreshold",void 0),ph([T(750)],mn.prototype,"tapHoldThreshold",void 0),ph([Ht({},Iy)],mn.prototype,"swipeSettings",void 0),mn=ph([oi],mn);const TP=new RegExp("\\n|\\r|\\s\\s+","g"),IS=new RegExp(/'|"/g),uu=new RegExp("if ?\\("),kS=new RegExp("else if ?\\("),MS=new RegExp("else"),OS=new RegExp("for ?\\("),AP=new RegExp("(/if|/for)"),oM=new RegExp("\\((.*)\\)",""),lM=new RegExp("^[0-9]+$","g"),du=new RegExp("[\\w\"'.\\s+]+","g"),xE=new RegExp('"(.*?)"',"g"),IE=new RegExp("[\\w\"'@#$.\\s-+]+","g");let RS=new RegExp("\\${([^}]*)}","g");const _2=/^\..*/gm,LS=/\\/gi,cM=/\\\\/gi,P2=new RegExp("[\\w\"'@#$.\\s+]+","g"),xP=/\window\./gm;function Xp(r,e,t,i,s){return!e||lM.test(r)||-1!==i.indexOf(r.split(".")[0])||s?r:t+"."+r}function ky(r,e,t,i){return e&&!lM.test(r)&&-1===i.indexOf(r.split(".")[0])?t+'["'+r:r}function kP(r){return r.match(cM)?r:r.replace(LS,"\\\\")}function MP(r,e,t,i){if(r=r.trim(),/\window\./gm.test(r))return r;{const n=/'|"/gm;return/@|\$|#/gm.test(r)&&(r=ky(r,-1===t.indexOf(r),e,t)+'"]'),_2.test(r)?function(r,e,t,i){return!e||lM.test(r)||-1!==i.indexOf(r.split(".")[0])||/^\..*/gm.test(r)?r:t+"."+r}(r,!n.test(r)&&-1===t.indexOf(r),e,t):Xp(r,!n.test(r)&&-1===t.indexOf(r),e,t,i)}}const V2=/^[\n\r.]+<tr|^<tr/,F2=/^[\n\r.]+<svg|^<path|^<g/;function OP(){return"-"+Math.random().toString(36).substr(2,5)}function us(r,e,t){const i=My.compile(r,e,t);return(s,n,a,o,h,d,m)=>{const v=i(s,n,a,m);return"string"==typeof v?F2.test(v)?Q("svg",{innerHTML:v}).childNodes:Q(V2.test(v)?"table":"div",{innerHTML:v}).childNodes:v}}const My={compile:(new class{compile(e,t={},i){return function(r,e,t){const i="data",s=function(r,e,t,i){let s=0;const n=[],a=r.match(/class="([^"]+|)\s{2}/g);let o="";return a&&a.forEach(h=>{o=h.replace(/\s\s+/g," "),r=r.replace(h,o)}),r.replace(TP,"").replace(xE,"'$1'").replace(RS,(h,d,m,v)=>{const w=d.match(oM);if(w){const S=w[1];if(kS.test(d))d='";} '+d.replace(w[1],S.replace(du,k=>Xp(k=k.trim(),!IS.test(k)&&-1===n.indexOf(k),e,n,i)))+'{ \n str = str + "';else if(uu.test(d))d='"; '+d.replace(w[1],S.replace(IE,k=>MP(k,e,n,i)))+'{ \n str = str + "';else if(OS.test(d)){const k=w[1].split(" of ");d='"; '+d.replace(w[1],O=>(n.push(k[0]),n.push(k[0]+"Index"),s+=1,"var i"+s+"=0; i"+s+" < "+Xp(k[1],!0,e,n,i)+".length; i"+s+"++"))+"{ \n "+k[0]+"= "+Xp(k[1],!0,e,n,i)+"[i"+s+"]; \n var "+k[0]+"Index=i"+s+'; \n str = str + "'}else{const k=d.split("(");let O=t&&t.hasOwnProperty(k[0])?"this.":"global";O=/\./.test(k[0])?"":O;const N=w[1].split(",");0!==w[1].length&&!/data/.test(N[0])&&!/window./.test(N[0])&&(w[1]="global"===O?e+"."+w[1]:w[1]);const q=/@|\$|#/gm,z=/\]\./gm;xP.test(d)&&z.test(d)||q.test(d)?/@|\$|#|\]\./gm.test(d)&&(d='"+ '+("global"===O?"":O)+d.replace(w[1],S.replace(P2,Ce=>MP(Ce,e,n,i)))+'+ "'):d='" + '+("global"===O?"":O)+d.replace(S,Xp(w[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==O,e,n,i))+'+"'}}else MS.test(d)?d='"; '+d.replace(MS,'} else { \n str = str + "'):d.match(AP)?d=d.replace(AP,'"; \n } \n str = str + "'):/@|#|\$/gm.test(d)?(d.match(LS)&&(d=kP(d)),d='"+'+ky(d,-1===n.indexOf(d),e,n)+'"]+"'):d=d.match(LS)?'"+'+ky(d=kP(d),-1===n.indexOf(d),e,n)+'"]+"':'"+'+Xp(d.replace(/,/gi,"+data."),-1===n.indexOf(d),e,n,i)+'+"';return d})}(r,i,e,t);return new Function(i,'var str="'+s+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if (str.match(/(?:href='')/) === null) {\n        if(str.match(hrefRegex)) {\n            var check = str.match(hrefRegex);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n    }\n     return str;").bind(e)}(e,t)}}).compile},RP=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],uM=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],kE=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class nn{static beforeSanitize(){return{selectors:{tags:RP,attributes:uM}}}static sanitize(e){const t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();const i=this.wrapElement.innerHTML;return this.removeElement(),i}static removeElement(){const e=this.wrapElement.children;for(let t=0;t<e.length;t++){const i=e[t].attributes;for(let s=0;s<i.length;s++)this.wrapElement.children[t].removeAttribute(i[s].localName)}}static removeXssTags(){const e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(t=>{oe(t)})}static removeJsEvents(){const e=this.wrapElement.querySelectorAll("["+kE.join("],[")+"]");e.length>0&&e.forEach(t=>{kE.forEach(i=>{t.hasAttribute(i)&&t.removeAttribute(i)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{const i=this.wrapElement.querySelectorAll(e.selector);i.length>0&&i.forEach(s=>{s.removeAttribute(e.attribute)})})}}function dM(r){return function(e){!function(r,e){e.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){(!r.prototype.hasOwnProperty(i)||t.isFormBase)&&(r.prototype[i]=t.prototype[i])})})}(e,r)}}function pu(r,e,t){var i={};if(r&&r.length){for(var s=0,n=r;s<n.length;s++){var a=n[s];!0===t?(e.propCollection[a]=new b.EventEmitter(!1),e[a]=e.propCollection[a]):i[a]=new b.EventEmitter(!1)}!0!==t&&e.setProperties(i,!0)}}function PS(r,e,t){var i=Object.keys(r.registeredTemplate);if(i.length)for(var s=e&&e.filter(function(z){return!/\./g.test(z)}),n=0,a=s&&s||i;n<a.length;n++){var o=a[n];if(t&&t.length)for(var h=0;h<t.length;h++)for(var d=0;d<r.registeredTemplate.template.length;d++)r.registeredTemplate.template[d].rootNodes[0]===t[h]&&(v=r.registeredTemplate[o])[d].destroy();else if(r.registeredTemplate[o])for(var C=0,w=r.registeredTemplate[o];C<w.length;C++){var v;if(!(v=w[C]).destroyed){if(v._view){var S=v._view.renderer.parentNode(v.rootNodes[0]);if(!f(S))for(d=0;d<v.rootNodes.length;d++)S.appendChild(v.rootNodes[d])}v.destroy()}}delete r.registeredTemplate[o]}for(var k=function(z){z.instance&&z.instance.clearTemplate(e&&e.filter(function(Z){return!!new RegExp(z.name).test(Z)}))},O=0,N=r.tagObjects;O<N.length;O++)k(N[O])}function Oy(r,e,t){for(var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{},n=0;n<i.length;n++){var a=i[n];n+1===i.length?s[a]=void 0===e?{}:e:void 0===s[a]&&(s[a]={}),s=s[a]}return s}var j2=/Ref$/,Ry=function(){function r(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return r.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var i=t[e],s=X("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);s&&this.tagObjects.push({instance:s,name:i})}for(var n=Object.keys(this),a=0;a<n.length;a++){var o=X(n[a],this);"object"==typeof o&&o.elementRef&&!X(-1!==n[a].indexOf("Ref")?n[a]:n[a]+"Ref",this)&&At(-1!==n[a].indexOf("Ref")?n[a]:n[a]+"Ref",o,this)}for(var h=0,d=n=(n=Object.keys(this)).filter(function(k){return/Ref$/i.test(k)});h<d.length;h++){var v=d[h].replace("Ref","");At(v.replace("_","."),X(v,this),this.propCollection)}var C=Object.keys(this);if(this.directivePropList){for(var w=0;w<this.directivePropList.length;w++){var S=this.directivePropList[w];-1!==C.indexOf(S)&&X(S,this)&&At(S,X(S,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},r.prototype.registerEvents=function(e){pu(e,this,!0)},r.prototype.ngOnChanges=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];this.propCollection[s]=e[s].currentValue}this.isUpdated=!1,this.hasChanges=!0},r.prototype.clearTemplate=function(e){PS(this,e)},r.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var i=t[e];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},r.prototype.isChanged=function(){var e=this.hasChanges;if(!f(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),s=0;s<i.length;s++)if(!f(this.propCollection[i[s]])){var n=X(i[s],this),a=this.propCollection[this.property][0][i[s]];!f(n)&&this.propCollection[i[s]]!==n&&a!==n&&(At(i[s],n,this.propCollection[this.property][0]),At(i[s],n,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var o=0,h=this.tagObjects;o<h.length;o++)e=e||h[o].instance.hasChanges;return e||this.hasChanges},r.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var e=Object.keys(this),t=0,i=e=e.filter(function(a){return j2.test(a)});t<i.length;t++){var n=i[t].replace("Ref","");At(n.replace("_","."),X(n,this),this.propCollection)}},r.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.directivePropList=[]},r}(),NS=function(){function r(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return r.prototype.ngOnInit=function(){this.isInitChanges=!0},r.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map(function(i){return i.dirIndex=t++,i.property=e.propertyName,i}),this.hasChanges=!0},r.prototype.getProperties=function(){for(var e=[],t=0,i=this.list;t<i.length;t++)e.push(i[t].getProperties());return e},r.prototype.isChanged=function(){var e=this,t=!1,i=0,s=!1,n=this.children.map(function(m){return m});if(this.list.length===this.children.length)for(var a=0;a<this.list.length;a++)this.list[a].propCollection.dataSource&&(this.list[a].dataSource&&this.list[a].propCollection.dataSource!==this.list[a].dataSource&&(this.list[a].propCollection.dataSource=this.list[a].dataSource,this.list[a].hasChanges=!0),s=JSON.stringify(this.list[a].propCollection.dataSource)!==JSON.stringify(n[a].propCollection.dataSource));this.hasNewChildren=!(this.list.length===this.children.length&&!s)||null,this.hasNewChildren&&(this.list=this.children.map(function(m){return m.dirIndex=i++,m.property=e.propertyName,m}));for(var o=0,h=this.list;o<h.length;o++)t=t||h[o].hasChanges;return!!this.list.length&&t},r.prototype.clearTemplate=function(e){for(var t=this,i=0,s=this.list;i<s.length;i++)s[i].clearTemplate(e&&e.map(function(a){return new RegExp(t.propertyName).test(a)?a.replace(t.propertyName+".",""):a}))},r.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)X("childColumns",this.list[e])&&"columns"===X("property",this.list[e])&&At("columns",X("childColumns",this.list[e]).getProperties(),this.list[e].propCollection),this.list[e].isUpdated=!0},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.list=[]},r}(),ME=function(){function r(){this.isProtectedOnChange=!0,this.isFormInit=!0}return r.prototype.saveChanges=function(e,t,i){if(!this.isProtectedOnChange){this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate();var s=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(s)}}},r.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,t.isFormInit=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(w,S){var k=t.srenderer?t.srenderer.createElement(w):Q(w);return void 0===S||(k.innerHTML=S.innerHTML?S.innerHTML:"",void 0!==S.className&&(k.className=S.className),void 0!==S.id&&(k.id=S.id),void 0!==S.styles&&k.setAttribute("style",S.styles),void 0!==t.ngAttr&&k.setAttribute(t.ngAttr,""),void 0!==S.attrs&&Te(k,S.attrs)),k};for(var i=0,s=t.tags;i<s.length;i++){var n=s[i],a={instance:X("child"+n.substring(0,1).toUpperCase()+n.substring(1),t),name:n};t.tagObjects.push(a)}for(var o=Object.keys(t),h=0,d=o=o.filter(function(w){return/Ref$/i.test(w)&&/\_/i.test(w)});h<d.length;h++){var v=d[h].replace("Ref",""),C={};At(v.replace("_","."),X(v,t),C),t.setProperties(C,!0)}},r.prototype.getAngularAttr=function(e){for(var s,t=e.attributes,i=t.length,n=0;n<i;n++)/_ngcontent/g.test(t[n].name)&&(s=t[n].name);return s},r.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden");for(var s=Object.keys(t),n=0,a=s=s.filter(function(d){return/Ref$/i.test(d)});n<a.length;n++){var h=a[n].replace("Ref","");At(h.replace("_","."),X(h+"Ref",t),t)}setTimeout(function(){"undefined"!=typeof window&&document.body.contains(t.element)&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")})},r.prototype.ngOnDestroy=function(e){var t=e||this;setTimeout(function(){"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null),t.ngBoundedEvents={},t.tagObjects={},t.ngEle=null)})},r.prototype.clearTemplate=function(e,t){PS(this,e,t)},r.prototype.ngAfterContentChecked=function(e){for(var t=e||this,i=0,s=t.tagObjects;i<s.length;i++){var n=s[i];if(!pt(n.instance)&&(n.instance.isInitChanges||n.instance.hasChanges||n.instance.hasNewChildren))if(n.instance.isInitChanges){var a={},o=void 0;(h=X("instance.list",n))&&h.length&&(o=h[0].directivePropList);var d=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(d=!1),o&&d&&-1===o.indexOf(n.instance.propertyName))for(var m=Object.keys(n.instance.list[0].propCollection),v=0;v<n.instance.list.length;v++){n.instance.list[v].propCollection[n.instance.propertyName]=[];for(var C={},w=0;w<m.length;w++)C[S=m[w]]=n.instance.list[v].propCollection[S];for(var k=0;k<n.instance.list[v].tags.length;k++){var O=n.instance.list[v].tags[k],N=X("child"+O.substring(0,1).toUpperCase()+O.substring(1),n.instance.list[v]);if(N){var q=n.instance.list[v]["child"+O.substring(0,1).toUpperCase()+O.substring(1)];if(q)for(var z=0;z<q.list.length;z++){var Z=q.list[0].tags[0];if(Z){var Ce=X("child"+Z.substring(0,1).toUpperCase()+Z.substring(1),q.list[z]);Ce&&q.list[z].tagObjects.push({instance:Ce,name:Z})}}n.instance.list[v].tagObjects.push({instance:N,name:O})}}n.instance.list[v].propCollection[n.instance.propertyName].push(C)}a[n.name]=n.instance.getProperties(),t.setProperties(a,n.instance.isInitChanges)}else{(t[n.name].length!==n.instance.list.length||"diagram"===t.getModuleName())&&(t[n.name]=n.instance.list);for(var ce=0,Fe=n.instance.list;ce<Fe.length;ce++){var h,Se=n.instance.list.indexOf(h=Fe[ce]),Be=X(n.name,t)[Se],ht=Object.keys(Be);if(ht=ht.filter(function(pe){return/Ref$/i.test(pe)}),Be.properties&&0!==Object.keys(Be.properties).length&&/chart/.test(t.getModuleName()))for(var Ie=0,Pe=ht;Ie<Pe.length;Ie++){var S;S=(S=Pe[Ie]).replace(/Ref/,""),Be.properties[S]=Be.properties[S]?Be.properties[S]:Be.propCollection[S]}!pt(Be)&&!pt(Be.setProperties)&&(/diagram|DashboardLayout/.test(t.getModuleName())?Be.setProperties(h.getProperties(),!0):Be.setProperties(h.getProperties())),h.isUpdated=!0}}}},r.prototype.registerEvents=function(e){pu(e,this)},r.prototype.twoWaySetter=function(e,t){var i=X(t,this.properties);i!==e&&(this.saveChanges(t,e,i),At(t,f(e)?null:e,this.properties),X(t+"Change",this).emit(e))},r.prototype.addTwoWay=function(e){for(var t=this,i=function(h){X(h,s),Object.defineProperty(s,h,{get:function(){return X(h,t.properties)},set:function(d){return t.twoWaySetter(d,h)}}),At(h+"Change",new b.EventEmitter,s)},s=this,n=0,a=e;n<a.length;n++)i(a[n])},r.prototype.addEventListener=function(e,t){var i=X(e,this);pt(i)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,i.subscribe(t)))},r.prototype.removeEventListener=function(e,t){pt(X(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},r.prototype.trigger=function(e,t,i){var s=X(e,this),n=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),pt(s)||s.next(t);var a=X("local"+e.charAt(0).toUpperCase()+e.slice(1),this);pt(a)||a.call(this,t),this.isProtectedOnChange=n,i&&(this.preventChange=this.isPreventChange,i.call(this,t)),this.isPreventChange=!1},r}(),Ly=(function(){function r(){}r.prototype.propagateChange=function(e){},r.prototype.propagateTouch=function(){},r.prototype.localChange=function(e){var t=void 0===e.checked?e.value:e.checked;this.objCheck=ch(t),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(t),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)):t!==this.angularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)},r.prototype.registerOnChange=function(e){this.propagateChange=e},r.prototype.registerOnTouched=function(e){this.propagateTouch=e},r.prototype.twoWaySetter=function(e,t){var i=this.oldValue||X(t,this.properties),s=this.inputElement||this.element;s&&i===e&&this.value===e&&(void 0===s.value||""===s.value)||(this.saveChanges(t,e,i),At(t,f(e)?null:e,this.properties),X(t+"Change",this).emit(e))},r.prototype.ngAfterViewInit=function(e){var t=e||this;if("undefined"!=typeof window){t.appendTo(t.element);var i=t.inputElement||t.element;i.addEventListener("focus",t.ngOnFocus.bind(t)),i.addEventListener("blur",t.ngOnBlur.bind(t))}this.isFormInit=!1},r.prototype.setDisabledState=function(e){this.enabled=!e,this.disabled=e},r.prototype.writeValue=function(e){void 0===this.checked?this.value=e:this.ngEle&&(this.checked="boolean"==typeof e?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?e===this.value:e:e===this.value),this.angularValue=e,this.isUpdated=!0,this.preventChange=!this.isFormInit},r.prototype.ngOnFocus=function(e){!0!==this.skipFromEvent&&this.focus.emit(e)},r.prototype.ngOnBlur=function(e){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(e)},r.isFormBase=!0}(),My.compile);function Vs(r){return function(e,t){var i={set:cg(t),get:_y(t,r),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i)}}function cg(r){return function(e){void 0!==e&&(At(r+"Ref",e,this),"string"!=typeof e?(e.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,e.elementRef.nativeElement.propName=r):this.saveChanges&&(this.saveChanges(r,e,void 0),this.dataBind()))}}function _y(r,e){return function(){return X(r+"Ref",this)||e}}function Cd(r,e,t,i,s,n){let a=i;if(i.tagName===e){const o=X("ej2_instances",i);a=r("input",{attrs:{type:t}});const h=["change","cssClass","label","labelPosition","id"];for(let d=0,m=i.attributes.length;d<m;d++)-1===h.indexOf(i.attributes[d].nodeName)&&a.setAttribute(i.attributes[d].nodeName,i.attributes[d].nodeValue);Te(i,{class:s,role:n,"aria-checked":"false"}),i.appendChild(a),At("ej2_instances",o,a),cS(i,"ej2_instances")}return a}function _P(r){let e;const t=r.childNodes;for(let i=0;i<t.length;i++)if(e=t[i],3===e.nodeType)return e;return null}function OE(r,e=!1,t={}){const i=r("div",{className:"e-checkbox-wrapper e-css"});if(t.cssClass&&L([i],t.cssClass.split(" ")),t.enableRtl&&i.classList.add("e-rtl"),e){const n=r("span",{className:"e-ripple-container"});Ts(n,{isCenterRipple:!0,duration:400}),i.appendChild(n)}const s=r("span",{className:"e-frame e-icons"});if(t.checked&&s.classList.add("e-check"),i.appendChild(s),t.label){const n=r("span",{className:"e-label"});t.disableHtmlEncode?n.textContent=t.label:n.innerHTML=t.label,i.appendChild(n)}return i}function Jp(r,e){if(e){const t=document.createEvent("MouseEvents");t.initEvent(r.type,!1,!0),e.dispatchEvent(t)}}function VS(r,e){r.element.getAttribute("ejs-for")&&e.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}My.compile=function(r,e){if("string"==typeof r)return Ly(r,e);var t=r.elementRef.nativeElement._viewContainerRef,i=r.elementRef.nativeElement.propName;return function(s,n,a){var h=t||n.viewContainerRef,d=h.createEmbeddedView(r,{$implicit:s});d.markForCheck();var m=n&&n.registeredTemplate?n.registeredTemplate:X("currentInstance.registeredTemplate",h);return void 0===m[a=a&&n.registeredTemplate?a:i]&&(m[a]=[]),m[a].push(d),d.rootNodes}};var To=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};new $p;let ll=(()=>{let r=class extends hs{constructor(t,i){super(t,i)}preRender(){}render(){this.initialize(),this.removeRippleEffect=Ts(this.element,{selector:".e-btn"}),this.renderComplete()}initialize(){if(this.cssClass&&L([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){const t=this.enableHtmlSanitizer?nn.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}controlStatus(t){this.element.disabled=t}setIconCss(){if(this.iconCss){const t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(t):this.element.insertBefore(t,i)}}wireEvents(){this.isToggle&&A.add(this.element,"click",this.btnClickHandler,this)}unWireEvents(){this.isToggle&&A.remove(this.element,"click",this.btnClickHandler)}btnClickHandler(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}destroy(){let t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),super.destroy(),H([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));const i=this.element.querySelector("span.e-btn-icon");i&&oe(i),this.unWireEvents(),mc&&this.removeRippleEffect()}getModuleName(){return"btn"}getPersistData(){return this.addOnPersist([])}static Inject(){}onPropertyChanged(t,i){let s=this.element.querySelector("span.e-btn-icon");for(const n of Object.keys(t))switch(n){case"isPrimary":t.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":s?t.iconCss?(s.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&s.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):oe(s):this.setIconCss();break;case"iconPosition":H([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),s=this.element.querySelector("span.e-btn-icon"),s&&oe(s),this.setIconCss();break;case"cssClass":i.cssClass&&H([this.element],i.cssClass.split(" ")),t.cssClass&&L([this.element],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":_P(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(t.content=nn.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss();break;case"isToggle":t.isToggle?A.add(this.element,"click",this.btnClickHandler,this):(A.remove(this.element,"click",this.btnClickHandler),H([this.element],["e-active"]))}}click(){this.element.click()}focusIn(){this.element.focus()}};return To([T("Left")],r.prototype,"iconPosition",void 0),To([T("")],r.prototype,"iconCss",void 0),To([T(!1)],r.prototype,"disabled",void 0),To([T(!1)],r.prototype,"isPrimary",void 0),To([T("")],r.prototype,"cssClass",void 0),To([T("")],r.prototype,"content",void 0),To([T(!1)],r.prototype,"isToggle",void 0),To([T()],r.prototype,"locale",void 0),To([T(!1)],r.prototype,"enableHtmlSanitizer",void 0),To([$()],r.prototype,"created",void 0),r=To([oi],r),r})();var Ao=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const RE="e-check",mM="e-checkbox-disabled",hg="e-frame",FS="e-stop",HS="e-label",Fa="e-ripple-container",BS="e-ripple-check",jS="e-ripple-stop",gM="e-rtl",vM="e-checkbox-wrapper",yM=["title","class","style","disabled","readonly","name","value"];let xo=class extends hs{constructor(e,t){super(e,t),this.isFocused=!1,this.isMouseClick=!1}changeState(e){let t,i;const s=this.getWrapper().getElementsByClassName(hg)[0];mc&&(i=this.getWrapper().getElementsByClassName(Fa)[0]),"check"===e?(s.classList.remove(FS),s.classList.add(RE),i&&(i.classList.remove(jS),i.classList.add(BS)),t="true",this.element.checked=!0):"uncheck"===e?(H([s],[RE,FS]),i&&H([i],[BS,jS]),t="false",this.element.checked=!1):(s.classList.remove(RE),s.classList.add(FS),i&&(i.classList.remove(BS),i.classList.add(jS)),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}clickHandler(e){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);const t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()}destroy(){let e=this.getWrapper();super.destroy(),this.wrapper&&(e=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&e.parentNode&&e.parentNode.insertBefore(this.element,e),oe(e),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML=""))}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1}getModuleName(){return"checkbox"}getPersistData(){return this.addOnPersist(["checked","indeterminate"])}getWrapper(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null}initialize(){f(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}initWrapper(){let e=this.element.parentElement;e.classList.contains(vM)||(e=this.createElement("div",{className:vM,attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+hg});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(gM),this.cssClass&&L([e],this.cssClass.split(" ")),e.appendChild(t),t.appendChild(this.element),VS(this,t),t.appendChild(i),mc){const s=this.createElement("span",{className:Fa});"Before"===this.labelPosition?t.appendChild(s):t.insertBefore(s,i),Ts(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}labelMouseDownHandler(e){this.isMouseClick=!0,Jp(e,this.getWrapper().getElementsByClassName(Fa)[0])}labelMouseUpHandler(e){this.isMouseClick=!0;const t=this.getWrapper().getElementsByClassName(Fa)[0];if(t){const i=t.querySelectorAll(".e-ripple-element");for(let s=0;s<i.length-1;s++)t.removeChild(t.childNodes[s]);Jp(e,t)}}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(mM),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&H([i],t.cssClass.split(" ")),e.cssClass&&L([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(gM):i.classList.remove(gM);break;case"label":this.setText(e.label);break;case"labelPosition":{const n=i.getElementsByClassName(HS)[0],a=i.getElementsByTagName("label")[0];oe(n),"After"===e.labelPosition?a.appendChild(n):a.insertBefore(n,i.getElementsByClassName(hg)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}preRender(){let e=this.element;this.formElement=U(this.element,"form"),this.tagName=this.element.tagName,e=Cd(this.createElement,"EJS-CHECKBOX","checkbox",e,vM,"checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=$i("e-"+this.getModuleName()))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(mM),e.setAttribute("aria-disabled","true")}setText(e){const t=this.getWrapper();if(!t)return;let i=t.getElementsByClassName(HS)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?nn.sanitize(e):e,i=this.createElement("span",{className:HS,innerHTML:e});const s=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?s.insertBefore(i,t.getElementsByClassName(hg)[0]):s.appendChild(i)}}changeHandler(e){e.stopPropagation()}formResetHandler(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}unWireEvents(){const e=this.wrapper;A.remove(this.element,"click",this.clickHandler),A.remove(this.element,"keyup",this.keyUpHandler),A.remove(this.element,"focus",this.focusHandler),A.remove(this.element,"focusout",this.focusOutHandler);const t=e.getElementsByTagName("label")[0];A.remove(t,"mousedown",this.labelMouseDownHandler),A.remove(t,"mouseup",this.labelMouseUpHandler),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&A.remove(this.element,"change",this.changeHandler)}wireEvents(){const e=this.getWrapper();A.add(this.element,"click",this.clickHandler,this),A.add(this.element,"keyup",this.keyUpHandler,this),A.add(this.element,"focus",this.focusHandler,this),A.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByTagName("label")[0];A.add(t,"mousedown",this.labelMouseDownHandler,this),A.add(t,"mouseup",this.labelMouseUpHandler,this),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&A.add(this.element,"change",this.changeHandler,this)}updateVueArrayModel(e){if(this.isVue&&"object"==typeof this.value){const t=this.element.value;if(t&&this.value){if(!e){const i=this.value.indexOf(t);return this.checked?i<0&&this.value.push(t):i>-1&&this.value.splice(i,1),this.value}for(let i=0;i<this.value.length;i++)t===this.value[i]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.element.checked}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(yM.indexOf(e)>-1){const t=this.getWrapper();"class"===e?L([t],this.htmlAttributes[e].split(" ")):"title"===e?t.setAttribute(e,this.htmlAttributes[e]):"style"===e?this.getWrapper().getElementsByClassName(hg)[0].setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}click(){this.element.click()}focusIn(){this.element.focus()}};Ao([$()],xo.prototype,"change",void 0),Ao([$()],xo.prototype,"created",void 0),Ao([T(!1)],xo.prototype,"checked",void 0),Ao([T("")],xo.prototype,"cssClass",void 0),Ao([T(!1)],xo.prototype,"disabled",void 0),Ao([T(!1)],xo.prototype,"indeterminate",void 0),Ao([T("")],xo.prototype,"label",void 0),Ao([T("After")],xo.prototype,"labelPosition",void 0),Ao([T("")],xo.prototype,"name",void 0),Ao([T("")],xo.prototype,"value",void 0),Ao([T(!1)],xo.prototype,"enableHtmlSanitizer",void 0),Ao([T({})],xo.prototype,"htmlAttributes",void 0),xo=Ao([oi],xo);var Py,Hl=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Ny="e-label",bM="e-ripple-container",WS="e-rtl",US="e-radio-wrapper",CM=["title","class","style","disabled","readonly","name","value"];let io=Py=class extends hs{constructor(e,t){super(e,t),this.isFocused=!1}changeHandler(e){this.checked=!0,this.dataBind();let t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value,this.trigger("change",{value:t,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}updateChange(){let e,t;const i=this.getRadioGroup();for(let s=0;s<i.length;s++)e=i[s],e!==this.element&&(t=eo(e,Py),t.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(t.angularValue=this.value))}destroy(){const e=this.element.parentElement;super.destroy(),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode&&e.parentNode.insertBefore(this.element,e),oe(e),this.element.checked=!1,["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML="")}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getLabel();e&&e.classList.remove("e-focus")}getModuleName(){return"radio"}getSelectedValue(){let e;const t=this.getRadioGroup();for(let i=0,s=t.length;i<s;i++)if(e=t[i],e.checked)return e.value;return""}getRadioGroup(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element?this.element.parentElement:null}getLabel(){return this.element?this.element.nextElementSibling:null}initialize(){f(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);const e=this.element.getAttribute("value");this.isVue&&e&&e===this.value&&(this.checked=!0),(this.isVue?this.value&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}initWrapper(){let e,t=this.element.parentElement;t.classList.contains(US)||(t=this.createElement("div",{className:US}),this.element.parentNode.insertBefore(t,this.element));const i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),mc&&(e=this.createElement("span",{className:bM}),i.appendChild(e),Ts(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(WS),this.cssClass&&L([t],this.cssClass.split(" ")),this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getLabel().classList.add("e-focus")}labelRippleHandler(e){Jp(e,this.getLabel().getElementsByClassName(bM)[0])}formResetHandler(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&Te(this.element,{checked:"true"})}onPropertyChanged(e,t){const i=this.getWrapper(),s=this.getLabel();for(const n of Object.keys(e))switch(n){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&H([i],t.cssClass.split(" ")),e.cssClass&&L([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?s.classList.add(WS):s.classList.remove(WS);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?s.classList.add("e-right"):s.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(!f(this.htmlAttributes)&&this.htmlAttributes.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}}preRender(){let e=this.element;if(this.formElement=U(this.element,"form"),this.tagName=this.element.tagName,e=Cd(this.createElement,"EJS-RADIOBUTTON","radio",e,US,"radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=$i("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){const t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}setDisabled(){this.element.disabled=!0}setText(e){const t=this.getLabel();let i=t.getElementsByClassName(Ny)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?nn.sanitize(e):e,i=this.createElement("span",{className:Ny,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}updateHtmlAttribute(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(CM.indexOf(e)>-1){const t=this.element.parentElement;"class"===e?L([t],this.htmlAttributes[e].split(" ")):"title"===e||"style"===e?t.setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}unWireEvents(){const e=this.getLabel();A.remove(this.element,"change",this.changeHandler),A.remove(this.element,"focus",this.focusHandler),A.remove(this.element,"focusout",this.focusOutHandler),A.remove(this.element,"keyup",this.keyUpHandler);const t=e.getElementsByClassName(Ny)[0];t&&(A.remove(t,"mousedown",this.labelRippleHandler),A.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler)}wireEvents(){const e=this.getLabel();A.add(this.element,"change",this.changeHandler,this),A.add(this.element,"keyup",this.keyUpHandler,this),A.add(this.element,"focus",this.focusHandler,this),A.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByClassName(Ny)[0];t&&(A.add(t,"mousedown",this.labelRippleHandler,this),A.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this)}click(){this.element.click()}focusIn(){this.element.focus()}};Hl([$()],io.prototype,"change",void 0),Hl([$()],io.prototype,"created",void 0),Hl([T(!1)],io.prototype,"checked",void 0),Hl([T("")],io.prototype,"cssClass",void 0),Hl([T(!1)],io.prototype,"disabled",void 0),Hl([T("")],io.prototype,"label",void 0),Hl([T("After")],io.prototype,"labelPosition",void 0),Hl([T("")],io.prototype,"name",void 0),Hl([T("")],io.prototype,"value",void 0),Hl([T(!1)],io.prototype,"enableHtmlSanitizer",void 0),Hl([T({})],io.prototype,"htmlAttributes",void 0),io=Py=Hl([oi],io);var vc=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const EM="e-switch-disabled",LE="e-ripple-container",qS="e-ripple-check",_E="e-rtl",zS="e-switch-wrapper",yc="e-switch-active";let cl=class extends hs{constructor(e,t){super(e,t),this.isFocused=!1,this.isDrag=!1}changeState(e){let t,i;const s=this.getWrapper(),n=s.querySelector(".e-switch-inner"),a=s.querySelector(".e-switch-handle");mc&&(i=s.getElementsByClassName(LE)[0]),e?(L([n,a],yc),t="true",this.element.checked=!0,this.checked=!0,i&&L([i],[qS])):(H([n,a],yc),t="false",this.element.checked=!1,this.checked=!1,i&&H([i],[qS])),s.setAttribute("aria-checked",t)}clickHandler(e){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus(),this.trigger("change",{checked:this.element.checked,event:e})}destroy(){var r,e;super.destroy(),this.disabled||this.unWireEvents(),r=this,e=this.getWrapper(),"INPUT"===this.tagName?(e.parentNode.insertBefore(r.element,e),oe(e),r.element.checked=!1,["name","value","disabled"].forEach(i=>{r.element.removeAttribute(i)})):(["role","aria-checked","class"].forEach(i=>{e.removeAttribute(i)}),e.innerHTML="")}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getWrapper().classList.remove("e-focus")}getModuleName(){return"switch"}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element.parentElement}initialize(){f(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)}initWrapper(){let e=this.element.parentElement;e.classList.contains(zS)||(e=this.createElement("div",{className:zS,attrs:{role:"switch","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("span",{className:"e-switch-inner"}),i=this.createElement("span",{className:"e-switch-on"}),s=this.createElement("span",{className:"e-switch-off"}),n=this.createElement("span",{className:"e-switch-handle"});if(e.appendChild(this.element),VS(this,e),t.appendChild(i),t.appendChild(s),e.appendChild(t),e.appendChild(n),mc){const a=this.createElement("span",{className:LE});n.appendChild(a),Ts(a,{duration:400,isCenterRipple:!0})}e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(_E),this.cssClass&&L([e],this.cssClass.split(" "))}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.changeState(e.checked);break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(EM),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",e.value);break;case"name":this.element.setAttribute("name",e.name);break;case"onLabel":case"offLabel":this.setLabel(e.onLabel,e.offLabel);break;case"enableRtl":e.enableRtl?i.classList.add(_E):i.classList.remove(_E);break;case"cssClass":t.cssClass&&H([i],t.cssClass.split(" ")),e.cssClass&&L([i],e.cssClass.split(" "))}}preRender(){const e=this.element;var r,i,s;this.formElement=U(this.element,"form"),this.tagName=this.element.tagName,r=this,i=e,s=this.getModuleName(),i=Cd(r.createElement,"EJS-SWITCH","checkbox",i,"e-switch-wrapper",s),r.element=i,"checkbox"!==r.element.getAttribute("type")&&r.element.setAttribute("type","checkbox"),r.element.id||(r.element.id=$i("e-"+s))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}rippleHandler(e){Jp(e,this.getWrapper().getElementsByClassName(LE)[0]),"mousedown"===e.type&&e.currentTarget.classList.contains("e-switch-wrapper")&&1===e.which&&(this.isDrag=!0,this.isFocused=!1)}rippleTouchHandler(e){const t=this.getWrapper().getElementsByClassName(LE)[0];if(t){const i=document.createEvent("MouseEvents");i.initEvent(e,!1,!0),t.dispatchEvent(i)}}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(EM),e.setAttribute("aria-disabled","true")}setLabel(e,t){const i=this.getWrapper();e&&(i.querySelector(".e-switch-on").textContent=e),t&&(i.querySelector(".e-switch-off").textContent=t)}switchFocusHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}switchMouseUp(e){const t=e.target;"touchmove"===e.type&&e.preventDefault(),"touchstart"===e.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===e.type&&t.className.indexOf("e-switch")<0||"touchend"===e.type)&&(this.clickHandler(e),this.rippleTouchHandler("mouseup"),e.preventDefault())}formResetHandler(){this.checked=this.initialSwitchCheckedValue,this.element.checked=this.initialSwitchCheckedValue}toggle(){this.clickHandler()}wireEvents(){const e=this.getWrapper();this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyUpHandler=this.switchFocusHandler.bind(this),A.add(e,"click",this.clickHandler,this),A.add(this.element,"focus",this.focusHandler,this),A.add(this.element,"focusout",this.focusOutHandler,this),A.add(this.element,"mouseup",this.delegateMouseUpHandler,this),A.add(this.element,"keyup",this.delegateKeyUpHandler,this),A.add(e,"mousedown mouseup",this.rippleHandler,this),A.add(e,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this)}unWireEvents(){const e=this.getWrapper();A.remove(e,"click",this.clickHandler),A.remove(this.element,"focus",this.focusHandler),A.remove(this.element,"focusout",this.focusOutHandler),A.remove(this.element,"mouseup",this.delegateMouseUpHandler),A.remove(this.element,"keyup",this.delegateKeyUpHandler),A.remove(e,"mousedown mouseup",this.rippleHandler),A.remove(e,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler)}click(){this.element.click()}focusIn(){this.element.focus()}};vc([$()],cl.prototype,"change",void 0),vc([$()],cl.prototype,"created",void 0),vc([T(!1)],cl.prototype,"checked",void 0),vc([T("")],cl.prototype,"cssClass",void 0),vc([T(!1)],cl.prototype,"disabled",void 0),vc([T("")],cl.prototype,"name",void 0),vc([T("")],cl.prototype,"onLabel",void 0),vc([T("")],cl.prototype,"offLabel",void 0),vc([T("")],cl.prototype,"value",void 0),cl=vc([oi],cl);var na=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Kt={chipSet:"e-chip-set",chip:"e-chip",avatar:"e-chip-avatar",text:"e-chip-text",icon:"e-chip-icon",delete:"e-chip-delete",deleteIcon:"e-dlt-btn",multiSelection:"e-multi-selection",singleSelection:"e-selection",active:"e-active",chipWrapper:"e-chip-avatar-wrap",iconWrapper:"e-chip-icon-wrap",focused:"e-focused",disabled:"e-disabled",rtl:"e-rtl"};let ra=class extends hs{constructor(e,t){super(e,t),this.multiSelectedChip=[]}preRender(){}chipType(){return this.chips&&this.chips.length&&this.chips.length>0}render(){this.type=this.chips.length?"chipset":this.text||this.element.innerText?"chip":"chipset",this.setAttributes(),this.createChip(),this.setRtl(),this.select(this.selectedChips,void 0),this.wireEvent(!1),this.rippleFunction=Ts(this.element,{selector:".e-chip"}),this.renderComplete()}createChip(){this.innerText=this.element.innerText&&0!==this.element.innerText.length?this.element.innerText.trim():this.element.innerText,this.element.innerHTML="",this.chipCreation("chip"===this.type?[this.innerText?this.innerText:this.text]:this.chips)}setAttributes(){"chip"===this.type?(this.element.tabIndex=0,this.element.setAttribute("role","option")):(this.element.classList.add(Kt.chipSet),this.element.setAttribute("role","listbox"),"Multiple"===this.selection?(this.element.classList.add(Kt.multiSelection),this.element.setAttribute("aria-multiselectable","true")):"Single"===this.selection?(this.element.classList.add(Kt.singleSelection),this.element.setAttribute("aria-multiselectable","false")):this.element.setAttribute("aria-multiselectable","false"))}setRtl(){this.element.classList[this.enableRtl?"add":"remove"](Kt.rtl)}chipCreation(e){let t=[];for(let i=0;i<e.length;i++){const s=this.getFieldValues(e[i]),n=this.elementCreation(s),a=(Kt.chip+" "+(s.enabled?" ":Kt.disabled)+" "+(s.avatarIconCss||s.avatarText?Kt.chipWrapper:s.leadingIconCss?Kt.iconWrapper:" ")+" "+s.cssClass).split(" ").filter(o=>o);if(this.chipType()){const o=this.createElement("DIV",{className:a.join(" "),attrs:{tabIndex:"0",role:"option","aria-label":s.text,"aria-selected":"false"}});s.value&&o.setAttribute("data-value",s.value.toString()),Ge(n,o),t.push(o)}else t=n,L([this.element],a),this.element.setAttribute("aria-label",s.text),s.value&&this.element.setAttribute("data-value",s.value.toString())}Ge(t,this.element)}getFieldValues(e){const t="false"!==this.enabled.toString();return{text:"object"==typeof e?e.text?e.text.toString():this.text.toString():this.chipType()?e.toString():this.innerText?this.innerText:this.text.toString(),cssClass:"object"==typeof e&&e.cssClass?e.cssClass.toString():this.cssClass.toString(),leadingIconCss:"object"==typeof e&&e.leadingIconCss?e.leadingIconCss.toString():this.leadingIconCss.toString(),avatarIconCss:"object"==typeof e&&e.avatarIconCss?e.avatarIconCss.toString():this.avatarIconCss.toString(),avatarText:"object"==typeof e&&e.avatarText?e.avatarText.toString():this.avatarText.toString(),trailingIconCss:"object"==typeof e&&e.trailingIconCss?e.trailingIconCss.toString():this.trailingIconCss.toString(),enabled:"object"==typeof e?f(e.enabled)?t:"false"!==e.enabled.toString():t,value:"object"==typeof e&&e.value?e.value.toString():null,leadingIconUrl:"object"==typeof e&&e.leadingIconUrl?e.leadingIconUrl.toString():this.leadingIconUrl,trailingIconUrl:"object"==typeof e&&e.trailingIconUrl?e.trailingIconUrl.toString():this.trailingIconUrl}}elementCreation(e){const t=[];if(e.avatarText||e.avatarIconCss){const s=(Kt.avatar+" "+e.avatarIconCss).trim(),n=this.createElement("span",{className:s});n.innerText=e.avatarText,t.push(n)}else if(e.leadingIconCss){const s=(Kt.icon+" "+e.leadingIconCss).trim(),n=this.createElement("span",{className:s});t.push(n)}else if(e.leadingIconUrl){const s=(Kt.avatar+" image-url").trim(),n=this.createElement("span",{className:s});n.style.backgroundImage="url("+e.leadingIconUrl+")",t.push(n)}const i=this.createElement("span",{className:Kt.text});if(i.innerText=e.text,t.push(i),e.trailingIconCss||this.chipType()&&this.enableDelete){const s=(Kt.delete+" "+(e.trailingIconCss?e.trailingIconCss:Kt.deleteIcon)).trim(),n=this.createElement("span",{className:s});t.push(n)}else if(e.trailingIconUrl){const s="trailing-icon-url".trim(),n=this.createElement("span",{className:s});n.style.backgroundImage="url("+e.trailingIconUrl+")",t.push(n)}return t}find(e){let t;const i=e instanceof HTMLElement?e:this.element.querySelectorAll("."+Kt.chip)[e];return i&&this.chipType()&&(t={text:void 0,index:void 0,element:void 0,data:void 0},t.index=Array.prototype.slice.call(this.element.querySelectorAll("."+Kt.chip)).indexOf(i),t.text="object"==typeof this.chips[t.index]?this.chips[t.index].text?this.chips[t.index].text.toString():"":this.chips[t.index].toString(),t.data=this.chips[t.index],t.element=i),t}add(e){if("chip"!==this.type){const t=e instanceof Array?e:[e];this.chips.push(...t),this.chipCreation(t)}}select(e,t){this.onSelect(e,!1,t)}multiSelection(e){const t=this.element.querySelectorAll(".e-chip");for(let i=0;i<e.length;i++)if("string"==typeof e[i]){for(let s=0;s<t.length;s++)if(e[i]!==s&&e[i]===t[s].attributes[5].value){this.multiSelectedChip.push(s);break}}else this.multiSelectedChip.push(e[i])}onSelect(e,t,i){let s,n,a;if(this.chipType()&&"None"!==this.selection){if(t){const h=this.element.querySelectorAll("."+Kt.chip);for(let d=0;d<h.length;d++)h[d].setAttribute("aria-selected","false"),h[d].classList.remove(Kt.active)}const o=e instanceof Array?e:[e];for(let h=0;h<o.length;h++){let d=o[h]instanceof HTMLElement?o[h]:this.element.querySelectorAll("."+Kt.chip)[o[h]];if("index"!==i)for(let m=0;m<this.chips.length;m++){n=this.element.querySelectorAll("."+Kt.chip)[m];const v=this.getFieldValues(this.chips[m]);"value"===i?null!==v.value&&(a=n.dataset.value):"text"===i&&(a=n.innerText),a===o[h].toString()&&(s=m,d=this.element.querySelectorAll("."+Kt.chip)[s])}d instanceof HTMLElement&&this.selectionHandler(d)}}}remove(e){if(this.chipType()){const t=e instanceof Array?e:[e],i=[],s=this.element.querySelectorAll("."+Kt.chip);t.forEach(n=>{const a=n instanceof HTMLElement?n:s[n];a instanceof HTMLElement&&i.push(a)}),i.forEach(n=>{const a=this.element.querySelectorAll("."+Kt.chip),o=Array.prototype.slice.call(a).indexOf(n);this.deleteHandler(n,o)})}}getSelectedChips(){let e;if(this.chipType()&&"None"!==this.selection){const t={texts:[],Indexes:[],data:[],elements:[]},i=this.element.querySelectorAll("."+Kt.active);for(let n=0;n<i.length;n++){const a=i[n];t.elements.push(a);const o=Array.prototype.slice.call(this.element.querySelectorAll("."+Kt.chip)).indexOf(a);t.Indexes.push(o),t.data.push(this.chips[o]);const h="object"==typeof this.chips[o]?this.chips[o].text?this.chips[o].text.toString():null:this.chips[o].toString();t.texts.push(h)}const s={text:t.texts[0],index:t.Indexes[0],data:t.data[0],element:t.elements[0]};e=f(s.index)?void 0:"Multiple"===this.selection?t:s}return e}wireEvent(e){e?(A.remove(this.element,"click",this.clickHandler),A.remove(this.element,"focusout",this.focusOutHandler),A.remove(this.element,"keydown",this.keyHandler),A.remove(this.element,"keyup",this.keyHandler)):(A.add(this.element,"click",this.clickHandler,this),A.add(this.element,"focusout",this.focusOutHandler,this),A.add(this.element,"keydown",this.keyHandler,this),A.add(this.element,"keyup",this.keyHandler,this))}keyHandler(e){e.target.classList.contains(Kt.chip)&&("keydown"===e.type?13===e.keyCode?this.clickHandler(e):46===e.keyCode&&this.enableDelete&&this.clickHandler(e,!0):9===e.keyCode&&this.focusInHandler(e.target))}focusInHandler(e){e.classList.contains(Kt.focused)||e.classList.add(Kt.focused)}focusOutHandler(e){const t=U(e.target,"."+Kt.chip),i=this.chipType()?this.element.querySelector("."+Kt.focused):this.element.classList.contains(Kt.focused)?this.element:null;t&&i&&i.classList.remove(Kt.focused)}clickHandler(e,t=!1){const i=U(e.target,"."+Kt.chip);if(i){let s;if(this.chipType())s=this.find(i);else{const n=Array.prototype.slice.call(this.element.querySelectorAll("."+Kt.chip)).indexOf(i);s={text:this.innerText?this.innerText:this.text,element:i,data:this.text,index:n}}s.event=e,s.cancel=!1,this.trigger("beforeClick",s,n=>{n.cancel||this.clickEventHandler(n.element,e,t)})}}clickEventHandler(e,t,i){if(this.chipType()){const s=this.find(e);s.event=t,(t.target.classList.contains(Kt.deleteIcon)?t.target:i?e.querySelector("."+Kt.deleteIcon):void 0)&&this.enableDelete?(s.cancel=!1,this.trigger("delete",s,o=>{o.cancel||(this.deleteHandler(o.element,o.index),this.selectionHandler(e),s.selected=o.element.classList.contains(Kt.active),this.trigger("click",s))})):"None"!==this.selection?(this.selectionHandler(e),s.selected=e.classList.contains(Kt.active),this.trigger("click",s)):(this.focusInHandler(e),this.trigger("click",s))}else this.focusInHandler(e),this.trigger("click",{text:this.innerText?this.innerText:this.text,element:e,data:this.text,event:t})}selectionHandler(e){if("Single"===this.selection){const t=this.element.querySelector("."+Kt.active);t&&t!==e&&(t.classList.remove(Kt.active),t.setAttribute("aria-selected","false")),this.setProperties({selectedChips:null},!0)}else this.setProperties({selectedChips:[]},!0);e.classList.contains(Kt.active)?(e.classList.remove(Kt.active),e.setAttribute("aria-selected","false")):(e.classList.add(Kt.active),e.setAttribute("aria-selected","true")),this.updateSelectedChips()}updateSelectedChips(){const e=this.element.querySelectorAll(".e-chip"),t=[],i=[];let n,s=null;for(let a=0;a<e.length;a++){const o=this.element.querySelectorAll(".e-chip")[a];if("true"===o.getAttribute("aria-selected")){if(n=o.getAttribute("data-value"),"Single"===this.selection&&o.classList.contains("e-active")){s=n||a;break}s=n?i.push(n):t.push(a)}}this.setProperties({selectedChips:"Single"===this.selection?s:n?i:t},!0)}deleteHandler(e,t){this.chips.splice(t,1),this.setProperties({chips:this.chips},!0),oe(e)}destroy(){H([this.element],[Kt.chipSet,Kt.chip,Kt.rtl,Kt.multiSelection,Kt.singleSelection,Kt.disabled,Kt.chipWrapper,Kt.iconWrapper,Kt.active,Kt.focused].concat(this.cssClass.toString().split(" ").filter(e=>e))),this.removeMultipleAttributes(["tabindex","role","aria-label","aria-multiselectable"],this.element),this.wireEvent(!0),this.rippleFunction(),super.destroy(),this.element.innerHTML="",this.element.innerText=this.innerText}removeMultipleAttributes(e,t){e.forEach(i=>{t.removeAttribute(i)})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"chip-list"}onPropertyChanged(e,t){let i;for(const s of Object.keys(e))switch(s){case"chips":case"text":case"avatarText":case"avatarIconCss":case"leadingIconCss":case"trailingIconCss":case"selection":case"enableDelete":case"enabled":this.refresh();break;case"cssClass":this.chipType()?this.refresh():(H([this.element],t.cssClass.toString().split(" ").filter(n=>n)),L([this.element],e.cssClass.toString().split(" ").filter(n=>n)));break;case"selectedChips":H(this.element.querySelectorAll(".e-active"),"e-active"),"Multiple"===this.selection?(this.multiSelectedChip=[],this.multiSelection(e.selectedChips),this.onSelect(this.multiSelectedChip,!0,i),this.updateSelectedChips()):this.onSelect(e.selectedChips,!0,i);break;case"enableRtl":this.setRtl()}}};na([T([])],ra.prototype,"chips",void 0),na([T("")],ra.prototype,"text",void 0),na([T("")],ra.prototype,"avatarText",void 0),na([T("")],ra.prototype,"avatarIconCss",void 0),na([T("")],ra.prototype,"leadingIconCss",void 0),na([T("")],ra.prototype,"trailingIconCss",void 0),na([T("")],ra.prototype,"leadingIconUrl",void 0),na([T("")],ra.prototype,"trailingIconUrl",void 0),na([T("")],ra.prototype,"cssClass",void 0),na([T(!0)],ra.prototype,"enabled",void 0),na([T([])],ra.prototype,"selectedChips",void 0),na([T("None")],ra.prototype,"selection",void 0),na([T(!1)],ra.prototype,"enableDelete",void 0),na([$()],ra.prototype,"created",void 0),na([$()],ra.prototype,"click",void 0),na([$()],ra.prototype,"beforeClick",void 0),na([$()],ra.prototype,"delete",void 0),ra=na([oi],ra);let fh,ef,PE,tf,Ed,Io,YS=!1;function gr(r,e,t,i,s){return ef=void 0,ef=s,YS=!!i,r?(e||(e="left"),t||(t="top"),tf=r.ownerDocument,PE=r,function(r,e,t){switch(fh=PE.getBoundingClientRect(),e+r){case"topcenter":bc(VE(),t),fu(ug(),t);break;case"topright":bc(ZS(),t),fu(ug(),t);break;case"centercenter":bc(VE(),t),fu(KS(),t);break;case"centerright":bc(ZS(),t),fu(KS(),t);break;case"centerleft":bc(XS(),t),fu(KS(),t);break;case"bottomcenter":bc(VE(),t),fu(QS(),t);break;case"bottomright":bc(ZS(),t),fu(QS(),t);break;case"bottomleft":bc(XS(),t),fu(QS(),t);break;default:case"topleft":bc(XS(),t),fu(ug(),t)}return t}(e.toLowerCase(),t.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function bc(r,e){e.left=r}function fu(r,e){e.top=r}function NE(){return tf.documentElement.scrollTop||tf.body.scrollTop}function GS(){return tf.documentElement.scrollLeft||tf.body.scrollLeft}function QS(){return YS?fh.bottom:fh.bottom+NE()}function KS(){return ug()+fh.height/2}function ug(){return YS?fh.top:fh.top+NE()}function XS(){return fh.left+GS()}function ZS(){const r=PE&&PE.classList.contains("e-date-range-wrapper")?ef?ef.width:0:ef&&fh.width>=ef.width?ef.width:0;return fh.right+GS()-r}function VE(){return XS()+fh.width/2}function FE(r,e=null,t={X:!1,Y:!1},i){if(!t.Y&&!t.X)return{left:0,top:0};const s=r.getBoundingClientRect();if(Io=e,Ed=r.ownerDocument,i||(i=gr(r,"left","top")),t.X){const n=Io?pg():sf(),a=qE(),o=eT(),h=a-i.left,d=i.left+s.width-o;s.width>n?i.left=h>0&&d<=0?o-s.width:d>0&&h<=0?a:h>d?o-s.width:a:h>0?i.left+=h:d>0&&(i.left-=d)}if(t.Y){const n=Io?DM():tT(),a=UE(),o=Vy(),h=a-i.top,d=i.top+s.height-o;s.height>n?i.top=h>0&&d<=0?o-s.height:d>0&&h<=0?a:h>d?o-s.height:a:h>0?i.top+=h:d>0&&(i.top-=d)}return i}function Cc(r,e=null,t,i){const s=gr(r,"left","top");t&&(s.left=t),i&&(s.top=i);const n=[];Io=e,Ed=r.ownerDocument;const a=r.getBoundingClientRect(),h=s.left,d=s.left+a.width,v=dg(s.top,s.top+a.height),C=VP(h,d);return v.topSide&&n.push("top"),C.rightSide&&n.push("right"),C.leftSide&&n.push("left"),v.bottomSide&&n.push("bottom"),n}function mu(r,e,t,i,s,n,a=null,o={X:!0,Y:!0},h){if(!(e&&r&&s&&n&&(o.X||o.Y)))return;const d={TL:null,TR:null,BL:null,BR:null},m={TL:null,TR:null,BL:null,BR:null};let v;if("none"===window.getComputedStyle(r).display){const w=r.style.visibility;r.style.visibility="hidden",r.style.display="block",v=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=w}else v=r.getBoundingClientRect();const C={posX:s,posY:n,offsetX:t,offsetY:i,position:{left:0,top:0}};Io=a,Ed=e.ownerDocument,function(r,e,t,i,s){t.position=gr(r,t.posX,t.posY,i,s),e.TL=gr(r,"left","top",i,s),e.TR=gr(r,"right","top",i,s),e.BR=gr(r,"left","bottom",i,s),e.BL=gr(r,"right","bottom",i,s)}(e,d,C,h,v),BE(m,C,v),o.X&&gu(e,m,d,C,v,!0),o.Y&&d.TL.top>-1&&jE(e,m,d,C,v,!0),function(r,e,t){let i=0,s=0;if(null!=r.offsetParent&&("absolute"===getComputedStyle(r.offsetParent).position||"relative"===getComputedStyle(r.offsetParent).position)){const n=gr(r.offsetParent,"left","top",!1,t);i=n.left,s=n.top}r.style.top=e.position.top+e.offsetY-s+"px",r.style.left=e.position.left+e.offsetX-i+"px"}(r,C,v)}function BE(r,e,t){r.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},r.TR={top:r.TL.top,left:r.TL.left+t.width},r.BL={top:r.TL.top+t.height,left:r.TL.left},r.BR={top:r.TL.top+t.height,left:r.TL.left+t.width}}function VP(r,e){let t=!1,i=!1;return r-YE()<qE()&&(t=!0),e>eT()&&(i=!0),{leftSide:t,rightSide:i}}function gu(r,e,t,i,s,n){const a=VP(e.TL.left,e.TR.left);t.TL.left-YE()<=qE()&&(a.leftSide=!1),t.TR.left>eT()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+s.width,i.offsetX=-1*i.offsetX,i.position=gr(r,i.posX,i.posY,!1),BE(e,i,s),n&&gu(r,e,t,i,s,!1))}function jE(r,e,t,i,s,n){const a=dg(e.TL.top,e.BL.top);t.TL.top-zE()<=UE()&&(a.topSide=!1),t.BL.top>=Vy()&&r.getBoundingClientRect().bottom<window.innerHeight&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+s.height,i.offsetY=-1*i.offsetY,i.position=gr(r,i.posX,i.posY,!1,s),BE(e,i,s),n&&jE(r,e,t,i,s,!1))}function dg(r,e){let t=!1,i=!1;return r-zE()<UE()&&(t=!0),e>Vy()&&(i=!0),{topSide:t,bottomSide:i}}function pg(){return Io.getBoundingClientRect().width}function DM(){return Io.getBoundingClientRect().height}function WE(){return Io.getBoundingClientRect().left}function JS(){return Io.getBoundingClientRect().top}function UE(){return Io?JS():0}function qE(){return Io?WE():0}function eT(){return Io?YE()+WE()+pg():YE()+sf()}function Vy(){return Io?zE()+JS()+DM():zE()+tT()}function zE(){return Ed.documentElement.scrollTop||Ed.body.scrollTop}function YE(){return Ed.documentElement.scrollLeft||Ed.body.scrollLeft}function tT(){return window.innerHeight}function sf(){const r=window.innerWidth;let e=document.documentElement.getBoundingClientRect();return r-(r-(f(document.documentElement)?0:e.width))}var nr=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let SM=(()=>{class r extends hi{}return nr([T("left")],r.prototype,"X",void 0),nr([T("top")],r.prototype,"Y",void 0),r})();const Gr_OPEN="e-popup-open",Gr_CLOSE="e-popup-close";let Wn=(()=>{let r=class extends hs{constructor(t,i){super(i,t)}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"width":Ue(this.element,{width:fe(t.width)});break;case"height":Ue(this.element,{height:fe(t.height)});break;case"zIndex":Ue(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":let n=t.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+n).toString()+"px";break;case"offsetY":let a=t.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+a).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==t.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}getModuleName(){return"popup"}resolveCollision(){this.checkCollision()}getPersistData(){return this.addOnPersist([])}destroy(){this.element.classList.remove("e-popup","e-rtl",Gr_OPEN,Gr_CLOSE),this.unwireEvents(),super.destroy()}render(){this.element.classList.add("e-popup");const t={};1e3!==this.zIndex&&(t.zIndex=this.zIndex),"auto"!==this.width&&(t.width=fe(this.width)),"auto"!==this.height&&(t.height=fe(this.height)),Ue(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}wireEvents(){G.isDevice&&A.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}wireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))A.add(t,"scroll",this.scrollRefresh,this)}unwireEvents(){G.isDevice&&A.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}unwireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))A.remove(t,"scroll",this.scrollRefresh)}getRelateToElement(){const t=""===this.relateTo||f(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}scrollRefresh(t){if("reposition"===this.actionOnScroll?!f(this.element)&&!(this.element.offsetParent===t.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==t.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){const i=this.isElementOnViewport(this.getRelateToElement(),t.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}isElementOnViewport(t,i){const s=this.getScrollableParent(t);for(let n=0;n<s.length;n++)if(!this.isElementVisible(t,s[n]))return!1;return!0}isElementVisible(t,i){const s=this.checkGetBoundingClientRect(t);if(!s.height||!s.width)return!1;if(f(this.checkGetBoundingClientRect(i))){const n=window,a={top:n.scrollY,left:n.scrollX,right:n.scrollX+n.outerWidth,bottom:n.scrollY+n.outerHeight},o=gr(t),h={top:o.top,left:o.left,right:o.left+s.width,bottom:o.top+s.height},d={top:a.bottom-h.top,left:a.right-h.left,bottom:h.bottom-a.top,right:h.right-a.left};return d.top>0&&d.left>0&&d.right>0&&d.bottom>0}{const n=i.getBoundingClientRect();return!(s.bottom<n.top||s.bottom>n.bottom||s.right>n.right||s.left<n.left)}}preRender(){}setEnableRtl(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}setContent(){f(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))}orientationOnChange(){setTimeout(()=>{this.refreshPosition()},200)}refreshPosition(t,i){f(t)||this.checkFixedParent(t),this.reposition(),i||this.checkCollision()}reposition(){let t,i;const s=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)t={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){let n;const a=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(n=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),t="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=a,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=n)}else if(s){const n=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=n}else t={left:0,top:0};f(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")}checkGetBoundingClientRect(t){let i;try{return i=t.getBoundingClientRect(),i}catch(s){return null}}getAnchorPosition(t,i,s,n,a){const o=this.checkGetBoundingClientRect(i),h=this.checkGetBoundingClientRect(t);if(f(o)||f(h))return null;const d=t;let m={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===t.tagName?m=gr(t):(i.classList.contains("e-dlg-modal")&&"BODY"!==d.tagName&&(i=i.parentElement),m=function(r,e){let t=!1;const i={left:0,top:0},s=r;if(!r||!e)return i;for(f(e.offsetParent)&&"fixed"===e.style.position&&(t=!0);(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=s;(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}(d,i)),s.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===d.tagName&&"container"===this.targetType?m.left+=window.innerWidth/2-o.width/2:m.left+="container"===this.targetType?h.width/2-o.width/2:h.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===d.tagName&&"container"===this.targetType?m.left+=window.innerWidth-o.width:m.left+="container"===this.targetType?h.width-o.width:h.width}switch(s.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===d.tagName&&"container"===this.targetType?m.top+=window.innerHeight/2-o.height/2:m.top+="container"===this.targetType?h.height/2-o.height/2:h.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===d.tagName&&"container"===this.targetType?m.top+=window.innerHeight-o.height:m.top+="container"===this.targetType?h.height-o.height:h.height}return m.left+=n,m.top+=a,m}callFlip(t){const i=this.getRelateToElement();mu(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)}callFit(t){if(0!==Cc(this.element,this.viewPortElement).length)if(f(this.viewPortElement)){const i=FE(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=i.left+"px"),t.Y&&(this.element.style.top=i.top+"px")}else{const i=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(f(i)||f(s))return null;t&&!0===t.Y&&(s.top>i.top?this.element.style.top="0px":s.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-s.bottom)+"px")),t&&!0===t.X&&(s.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-s.right)+"px":s.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-i.left)+"px"))}}checkCollision(){const t=this.collision.X,i=this.collision.Y;"none"===t&&"none"===i||("flip"===t&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===t&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===t?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===t?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))}show(t,i){if(this.wireEvents(),1e3===this.zIndex||!f(i)){const s=f(i)?this.element:i;this.zIndex=wd(s),Ue(this.element,{zIndex:this.zIndex})}t=f(t)||"object"!=typeof t?this.showAnimation:t,("none"!==this.collision.X||"none"!==this.collision.Y)&&(H([this.element],Gr_CLOSE),L([this.element],Gr_OPEN),this.checkCollision(),H([this.element],Gr_OPEN),L([this.element],Gr_CLOSE)),f(t)?(H([this.element],Gr_CLOSE),L([this.element],Gr_OPEN),this.trigger("open")):(t.begin=()=>{this.isDestroyed||(H([this.element],Gr_CLOSE),L([this.element],Gr_OPEN))},t.end=()=>{this.isDestroyed||this.trigger("open")},new Gi(t).animate(this.element))}hide(t){t=f(t)||"object"!=typeof t?this.hideAnimation:t,f(t)?(H([this.element],Gr_OPEN),L([this.element],Gr_CLOSE),this.trigger("close")):(t.end=()=>{this.isDestroyed||(H([this.element],Gr_OPEN),L([this.element],Gr_CLOSE),this.trigger("close"))},new Gi(t).animate(this.element)),this.unwireEvents()}getScrollableParent(t){return this.checkFixedParent(t),iT(t,this.fixedParent)}checkFixedParent(t){let i=t.parentElement;for(;i&&"HTML"!==i.tagName;){const s=getComputedStyle(i);"fixed"===s.position&&!f(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top)?fe(window.scrollY-parseInt(this.element.style.top)):fe(parseInt(this.element.style.top)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!f(this.element)&&f(this.element.offsetParent)&&"fixed"===s.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}};return nr([T("auto")],r.prototype,"height",void 0),nr([T("auto")],r.prototype,"width",void 0),nr([T(null)],r.prototype,"content",void 0),nr([T("container")],r.prototype,"targetType",void 0),nr([T(null)],r.prototype,"viewPortElement",void 0),nr([T({X:"none",Y:"none"})],r.prototype,"collision",void 0),nr([T("")],r.prototype,"relateTo",void 0),nr([Ht({},SM)],r.prototype,"position",void 0),nr([T(0)],r.prototype,"offsetX",void 0),nr([T(0)],r.prototype,"offsetY",void 0),nr([T(1e3)],r.prototype,"zIndex",void 0),nr([T(!1)],r.prototype,"enableRtl",void 0),nr([T("reposition")],r.prototype,"actionOnScroll",void 0),nr([T(null)],r.prototype,"showAnimation",void 0),nr([T(null)],r.prototype,"hideAnimation",void 0),nr([$()],r.prototype,"open",void 0),nr([$()],r.prototype,"close",void 0),nr([$()],r.prototype,"targetExitViewport",void 0),r=nr([oi],r),r})();function iT(r,e){const t=getComputedStyle(r),i=[],s=/(auto|scroll)/;let n=r.parentElement;for(;n&&"HTML"!==n.tagName;){const a=getComputedStyle(n);!("absolute"===t.position&&"static"===a.position)&&s.test(a.overflow+a.overflowY+a.overflowX)&&i.push(n),n=n.parentElement}return e||i.push(document),i}function wd(r){let e=r.parentElement;const t=[];for(;e&&"BODY"!==e.tagName;){const o=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),h=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");"auto"!==o&&"static"!==h&&t.push(o),e=e.parentElement}const i=[];for(let o=0;o<document.body.children.length;o++)if(!r.isEqualNode(document.body.children[o])){const h=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),d=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position");"auto"!==h&&"static"!==d&&i.push(h)}i.push("999");const s=[];if(!f(r.parentElement)&&"BODY"!==r.parentElement.tagName){const o=[].slice.call(r.parentElement.children);for(let h=0;h<o.length;h++)if(!r.isEqualNode(o[h])){const d=document.defaultView.getComputedStyle(o[h],null).getPropertyValue("z-index"),m=document.defaultView.getComputedStyle(o[h],null).getPropertyValue("position");"auto"!==d&&"static"!==m&&s.push(d)}}const n=t.concat(i,s),a=Math.max.apply(Math,n)+1;return a>2147483647?2147483647:a}const sT=["north-west","north","north-east","west","east","south-west","south","south-east"],nT="e-resize-handle",Dd="e-focused-handle",rT=["e-restrict-left"],Qs="e-resize-viewport",aT=["north","west","east","south"];let Ks,aa,nf,Sd,$E,Td,es,yu,bu,Fy=0,Hy=0,FP=0,TM=0,By=0,fg=0,vu=null,jy=null,GE=null,Wy=!0,oT=0,lT=!0;function BP(r){xM();const e=Q("span",{attrs:{unselectable:"on",contenteditable:"false"}});e.setAttribute("class","e-dialog-border-resize e-"+r),"south"===r&&(e.style.height="2px",e.style.width="100%",e.style.bottom="0px",e.style.left="0px"),"north"===r&&(e.style.height="2px",e.style.width="100%",e.style.top="0px",e.style.left="0px"),"east"===r&&(e.style.height="100%",e.style.width="2px",e.style.right="0px",e.style.top="0px"),"west"===r&&(e.style.height="100%",e.style.width="2px",e.style.left="0px",e.style.top="0px"),Ks.appendChild(e)}function QE(r){let e;return f(r)||(e="string"==typeof r?document.querySelector(r):r),e}function jP(r){f(r)&&(r=this);const e=Ks.querySelectorAll("."+nT);for(let i=0;i<e.length;i++)aa=e[i],A.add(aa,"mousedown",AM,r),A.add(aa,"msie"===G.info.name?"pointerdown":"touchstart",WP,r);const t=Ks.querySelectorAll(".e-dialog-border-resize");if(!f(t))for(let i=0;i<t.length;i++)aa=t[i],A.add(aa,"mousedown",AM,r),A.add(aa,"msie"===G.info.name?"pointerdown":"touchstart",WP,r)}function cT(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function AM(r){if(r.preventDefault(),Ks=r.target.parentElement,xM(),By=r.pageX,fg=r.pageY,r.target.classList.add(Dd),!f(vu)&&(bu=this,!0===vu(r,bu)))return;const e=f(es)?document:es;A.add(e,"mousemove",rf,this),A.add(document,"mouseup",KE,this);for(let t=0;t<rT.length;t++)Wy=!Ks.classList.contains(rT[t])}function KE(r){const e="msie"===G.info.name?"pointermove":"touchmove",t="msie"===G.info.name?"pointerup":"touchend",i=f(es)?document:es,s="msie"===G.info.name?"pointerdown":"touchstart";A.remove(i,"mousemove",rf),A.remove(i,e,rf),A.remove(i,s,rf),f(document.body.querySelector("."+Dd))||document.body.querySelector("."+Dd).classList.remove(Dd),f(GE)||(bu=this,GE(r,bu)),A.remove(document,"mouseup",KE),A.remove(document,t,KE)}function xM(){Fy=parseFloat(getComputedStyle(Ks,null).getPropertyValue("width").replace("px","")),Hy=parseFloat(getComputedStyle(Ks,null).getPropertyValue("height").replace("px","")),FP=Ks.getBoundingClientRect().left,TM=Ks.getBoundingClientRect().top}function WP(r){Ks=r.target.parentElement,xM();const e=r.touches?r.changedTouches[0]:r;if(By=e.pageX,fg=e.pageY,!f(vu)&&(bu=this,!0===vu(r,bu)))return;const t="msie"===G.info.name?"pointermove":"touchmove",i="msie"===G.info.name?"pointerup":"touchend",s=f(es)?document:es;A.add(s,t,rf,this),A.add(document,i,KE)}function rf(r){if(r.target.classList.contains(nT)&&r.target.classList.contains(Dd)?aa=r.target:f(document.body.querySelector("."+Dd))||(aa=document.body.querySelector("."+Dd)),!f(aa)){let e="";for(let t=0;t<sT.length;t++)aa.classList.contains("e-"+sT[t])&&(e=sT[t]);switch(f(jy)||(bu=this,jy(r,bu)),e){case"south":XE(r);break;case"north":ZE(r);break;case"west":hT(r);break;case"east":ko(r);break;case"south-east":XE(r),ko(r);break;case"south-west":XE(r),hT(r);break;case"north-east":ZE(r),ko(r);break;case"north-west":ZE(r),hT(r)}}}function Ad(r){return r.getBoundingClientRect()}function XE(r){const e=document.documentElement.clientHeight;let t=!1;const s=(r.touches?r.changedTouches[0]:r).pageY,n=Ad(Ks);let a;f(es)||(a=Ad(es)),f(es)?f(es)&&(e-s>=0||n.top<0)&&(t=!0):t=!0;let o=Hy+(s-fg);o=o>nf?o:nf;let h=0;f(es)||(h=a.top);const d=f(es)?0:es.offsetHeight-es.clientHeight;let m=n.top-h-d/2;if(m=m<0?0:m,n.top>0&&m+o>Sd){if(t=!1,Ks.classList.contains(Qs))return;return void(Ks.style.height=Sd-parseInt(m.toString(),10)+"px")}let v=0;if(t){n.top<0&&e+(n.height+n.top)>0&&(v=n.top,o+v<=30&&(o=n.height-(n.height+n.top)+30)),o+n.top>=Sd&&(Ks.style.height=n.height+(e-(n.height+n.top))+"px");const C=f(es)?v:m;o>=nf&&o+C<=Sd&&(Ks.style.height=o+"px")}}function ZE(r){let t,e=!1;const i="mouse"===cT(r.type)?r.pageY:r.touches[0].pageY,s=Ad(Ks);f(es)||(t=Ad(es)),(!f(es)&&s.top-t.top>0||f(es)&&i>0)&&(e=!0);const n=Hy-(i-fg);if(e&&n>=nf&&n<=Sd){let a=0;f(es)||(a=t.top);let o=TM-a+(i-fg);o=o>0?o:1,Ks.style.height=n+"px",Ks.style.top=o+"px"}}function hT(r){const e=document.documentElement.clientWidth;let i,t=!1;f(es)||(i=Ad(es));const s="mouse"===cT(r.type)?r.pageX:r.touches[0].pageX,n=Ad(Ks),a=f(es)?0:es.offsetWidth-es.clientWidth;let o=f(es)?0:i.left,h=f(es)?0:i.width;f(yu)&&(f(es)?yu=e:(yu=n.left-o-a/2+n.width,yu+=h-a-yu)),(!f(es)&&Math.floor(n.left-i.left+n.width+(i.right-n.right))-a<=Td||f(es)&&s>=0)&&(t=!0);let d=Fy-(s-By);if(Wy&&(d=d>yu?yu:d),t&&d>=$E&&d<=Td){let m=0;f(es)||(m=i.left);let v=FP-m+(s-By);v=v>0?v:1,d!==oT&&lT&&(Ks.style.width=d+"px"),Wy&&(Ks.style.left=v+"px",lT=1!==v)}oT=d}function ko(r){const e=document.documentElement.clientWidth;let i,t=!1;f(es)||(i=Ad(es));const n=(r.touches?r.changedTouches[0]:r).pageX,a=Ad(Ks);(!f(es)&&(a.left-i.left+a.width<=Td||a.right-i.left>=a.width)||f(es)&&e-n>0)&&(t=!0);const o=Fy+(n-By);let h=0;if(f(es)||(h=i.left),a.left-h+o>Td){if(t=!1,Ks.classList.contains(Qs))return;Ks.style.width=Td-(a.left-h)+"px"}t&&o>=$E&&o<=Td&&(Ks.style.width=o+"px")}function uT(){const r=Ks.querySelectorAll("."+nT);for(let t=0;t<r.length;t++)oe(r[t]);const e=Ks.querySelectorAll(".e-dialog-border-resize");if(!f(e))for(let t=0;t<e.length;t++)oe(e[t])}var Oi=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class mg extends hi{}Oi([T(!0)],mg.prototype,"isFlat",void 0),Oi([T()],mg.prototype,"buttonModel",void 0),Oi([T("Button")],mg.prototype,"type",void 0),Oi([$()],mg.prototype,"click",void 0);class Uy extends hi{}Oi([T("Fade")],Uy.prototype,"effect",void 0),Oi([T(400)],Uy.prototype,"duration",void 0),Oi([T(0)],Uy.prototype,"delay",void 0);const JE="e-dialog",e0="e-rtl",qy="e-dlg-header-content",IM="e-dlg-header",af="e-footer-content",dT="e-dlg-modal",kM="e-icon-dlg-close",mh="e-dlg-target",Mo="e-scroll-disabled",vg="e-device",t0="e-dlg-fullscreen",OM="e-dlg-closeicon-btn",Ec="e-popup-open",of="Information",Ea="e-scroll-disabled",xd="e-alert-dialog",zy="e-confirm-dialog",Oo="e-dlg-resizable",yg="e-restrict-left",lf="e-resize-viewport",Id="user action";let Si=class extends hs{constructor(e,t){super(e,t),this.dlgClosedBy=Id}render(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=fe(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}preRender(){if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=t=>{this.dlgClosedBy="close icon",this.hide(t)},this.dlgOverlayClickEventHandler=t=>{this.dlgClosedBy="overlayClick",t.preventFocus=!1,this.trigger("overlayClick",t,i=>{i.preventFocus||this.focusContent(),this.dlgClosedBy=Id})},this.l10n=new Gs("dialog",{close:"Close"},this.locale),this.checkPositionData(),f(this.target)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}}isNumberValue(e){return/^[-+]?\d*\.?\d+$/.test(e)}checkPositionData(){if(!f(this.position)){if(!f(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}if(!f(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t}}}getEle(e,t){let i;for(let s=0;s<e.length;s++)if(e[s].classList.contains(t)){i=e[s];break}return i}getMinHeight(){let e="0px",t="0px";f(this.element.querySelector("."+qy))||(e=getComputedStyle(this.headerContent).height);const i=this.getEle(this.element.children,af);f(i)||(t=getComputedStyle(i).height);const s=parseInt(e.slice(0,e.indexOf("p")),10),n=parseInt(t.slice(0,t.indexOf("p")),10);return r=s+30+(isNaN(n)?0:n),nf=r,s+30+n;var r}onResizeStart(e,t){return t.trigger("resizeStart",e),e.cancel}onResizing(e,t){t.trigger("resizing",e)}onResizeComplete(e,t){t.trigger("resizeStop",e)}setResize(){if(this.enableResize){if(this.isBlazorServerRender()&&!f(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(Oo);const e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth;let i="";for(let s=0;s<this.resizeHandles.length;s++){if("All"===this.resizeHandles[s]){i="south north east west north-east north-west south-east south-west";break}{let n="";switch(this.resizeHandles[s].toString()){case"SouthEast":n="south-east";break;case"SouthWest":n="south-west";break;case"NorthEast":n="north-east";break;case"NorthWest":n="north-west";break;default:n=this.resizeHandles[s].toString()}i+=n.toLocaleLowerCase()+" "}}this.enableRtl&&"south-east"===i.trim()?i="south-west":this.enableRtl&&"south-west"===i.trim()&&(i="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(yg):this.isModal&&this.target===document.body&&this.element.classList.add(lf),function(r){vu=r.resizeBegin,jy=r.resizing,GE=r.resizeComplete,Ks=QE(r.element),es=QE(r.boundary);const e=r.direction.split(" ");for(let t=0;t<e.length;t++)if(aT.indexOf(e[t])>=0&&e[t])BP(e[t]);else if(""!==e[t].trim()){const i=Q("div",{className:"e-icons "+nT+" e-"+e[t]});Ks.appendChild(i)}nf=r.minHeight,$E=r.minWidth,Td=r.maxWidth,Sd=r.maxHeight,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?jP(r.proxy):jP()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else uT(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?yg:lf),this.element.classList.remove(Oo)}getFocusElement(e){const i=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:i[i.length-1]}}keyDown(e){if(9===e.keyCode&&this.isModal){let n;f(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),f(this.btnObj)&&!f(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),f(this.btnObj)&&f(this.ftrTemplateContent)&&!f(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!f(n)&&document.activeElement===n.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),f(n)||n.element.focus())}const t=document.activeElement,i=["input","textarea"].indexOf(t.tagName.toLowerCase())>-1;let s=!1;if(i||(s=t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&(this.dlgClosedBy="escape",this.hide(e)),13===e.keyCode&&!e.ctrlKey&&"textarea"!==t.tagName.toLowerCase()&&i&&!f(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===t.tagName.toLowerCase()||s)&&!f(this.primaryButtonEle)){let n;this.buttons.some((o,h)=>{n=h;let d=o.buttonModel;return!f(d)&&!0===d.isPrimary})&&"function"==typeof this.buttons[n].click&&setTimeout(()=>{this.buttons[n].click.call(this,e)})}}initialize(){f(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||L([this.element],JE),G.isDevice&&L([this.element],vg),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}initRender(){if(this.initialRender=!0,this.isBlazorServerRender()||Te(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&f(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&f(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!f(this.header)&&this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||f(this.footerTemplate)?f(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!f(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!f(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(Te(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&f(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(let e=0,t=this.dlgContainer.children;e<t.length;e++)t[e].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=t[e])}if(!0!==this.element.classList.contains(xd)&&!0!==this.element.classList.contains(zy)&&!f(this.element.parentElement)){const e=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),e.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}f(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new Wn(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:e=>{const t={container:this.isModal?this.dlgContainer:this.element,element:this.element,target:this.target,preventFocus:!1};this.enableResize&&this.resetResizeIcon(),this.trigger("open",t,i=>{i.preventFocus||this.focusContent()})},close:e=>{this.isModal&&L([this.dlgOverlay],"e-fade"),this.unBindEvent(this.element),this.isModal&&(this.dlgContainer.style.display="none"),this.trigger("close",this.closeArgs);const t=document.activeElement;!f(t)&&!f(t.blur)&&t.blur(),!f(this.storeActiveElement)&&!f(this.storeActiveElement.focus)&&this.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(L([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}resetResizeIcon(){const e=this.getMinHeight();if(this.targetEle.offsetHeight<e){const i=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));f(i)||(i.style.bottom="-"+e.toString()+"px")}}setOverlayZindex(e){let t;t=f(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}positionChange(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}setPopupPosition(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}setAllowDragging(){this.dragObj=new ms(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:t=>{this.trigger("dragStart",t,i=>{})},dragStop:t=>{this.isModal&&(f(this.position)||this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y),this.element.style.position="relative"),this.trigger("dragStop",t),this.element.classList.remove(yg)},drag:t=>{this.trigger("drag",t)}}),f(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}setButton(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(let t=0;t<this.buttons.length;t++){const i=f(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),s=this.createElement("button",{attrs:{type:i}});this.buttonContent.push(s.outerHTML)}this.setFooterTemplate()}let e;for(let t=0,i=this.element.children;t<i.length;t++)i[t].classList.contains(af)&&(e=i[t].querySelectorAll("button"));for(let t=0;t<this.buttons.length;t++)this.isBlazorServerRender()||(this.btnObj[t]=new ll(this.buttons[t].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+af)),!f(this.ftrTemplateContent)&&e.length>0&&("function"==typeof this.buttons[t].click&&A.add(e[t],"click",this.buttons[t].click,this),"object"==typeof this.buttons[t].click&&A.add(e[t],"click",this.buttonClickHandler.bind(this,t),this)),!this.isBlazorServerRender()&&!f(this.ftrTemplateContent)&&(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.buttons[t].isFlat&&this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}buttonClickHandler(e){this.trigger("buttons["+e+"].click",{})}setContent(){Te(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!f(this.content)&&""!==this.content||!this.initialRender)&&("string"!=typeof this.content?this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content"):this.contentEle.innerHTML=this.sanitizeHelper(this.content)),f(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&G.isIE&&""===this.element.style.width&&!f(this.width)&&(this.element.style.width=fe(this.width)),this.setMaxHeight())}setTemplate(e,t,i){let s,n,a;n=t.classList.contains(IM)?this.element.id+"header":t.classList.contains(af)?this.element.id+"footerTemplate":this.element.id+"content",f(e.outerHTML)?"string"!=typeof e?(s=us(e),a=e):t.innerHTML=this.sanitizeHelper(e):t.appendChild(e);const o=[];if(!f(s)){const h=!0;for(const d of s({},this,i,n,h))o.push(d);Ge([].slice.call(o),t)}}sanitizeHelper(e){if(this.enableHtmlSanitizer){const t=nn.beforeSanitize();ae(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!f(t.helper)?e=t.helper(e):t.cancel||(e=nn.serializeValue(t,e))}return e}setMaxHeight(){if(!this.allowMaxHeight)return;const e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!f(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,G.isIE&&"auto"===this.height&&!f(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}setEnableRTL(){this.isBlazorServerRender()||(this.enableRtl?L([this.element],e0):H([this.element],e0)),f(this.element.querySelector(".e-resize-handle"))||(uT(),this.setResize())}setTargetContent(){if(f(this.content)||""===this.content){const e=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||e)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(t=>{8!==t.nodeType&&this.innerContentElement.appendChild(t)}))}}setHeader(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:IM}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Te(this.element,{"aria-labelledby":this.element.id}),this.element.insertBefore(this.headerContent,this.element.children[0])}setFooterTemplate(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:af}),""===this.footerTemplate||f(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)}createHeaderContent(){f(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:qy}))}renderCloseIcon(){this.closeIcon=this.createElement("button",{className:OM,attrs:{type:"button"}}),this.closeIconBtnObj=new ll({cssClass:"e-flat",iconCss:kM+" e-icons"}),this.closeIconTitle(),f(this.headerContent)?(this.createHeaderContent(),Mi([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Mi([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)}closeIconTitle(){this.l10n.setLocale(this.locale);const e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}setCSSClass(e){this.cssClass&&L([this.element],this.cssClass.split(" ")),e&&H([this.element],e.split(" "))}setIsModal(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove(Ec),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),L([this.element],dT),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}getValidFocusNode(e){let t;for(let i=0;i<e.length;i++){if(t=e[i],(t.clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t}focusableElements(e){if(!f(e)){const i=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(i)}return null}getAutoFocusNode(e){let t=e.querySelector("."+OM);const s=e.querySelectorAll("[autofocus]");let n=this.getValidFocusNode(s);if(f(n)){if(n=this.focusableElements(this.contentEle),!f(n))return n;if(!f(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=n;return t}disableElement(e,t){const i=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(i)for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e;return null}focusContent(){const e=this.getAutoFocusNode(this.element),t=f(e)?this.element:e,i=G.userAgent;(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.bindEvent(this.element)}bindEvent(e){A.add(e,"keydown",this.keyDown,this)}unBindEvent(e){A.remove(e,"keydown",this.keyDown)}updateSanitizeContent(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}isBlazorServerRender(){return!1}getModuleName(){return"dialog"}onPropertyChanged(e,t){if(this.element.classList.contains(JE))for(const i of Object.keys(e))switch(i){case"content":f(this.content)||""===this.content?f(this.contentEle)||(oe(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),f(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||f(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),oe(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||f(this.header)?this.headerEle&&(oe(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||f(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||f(this.footerTemplate)){if(!this.ftrTemplateContent)return;oe(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||f(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(kM).length>0?this.showCloseIcon||""!==this.header&&!f(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():oe(this.closeIcon):(oe(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":Ue(this.element,{height:fe(e.height)});break;case"width":Ue(this.element,{width:fe(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":{const s=this.buttons.length;!f(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(oe(this.ftrTemplateContent),this.ftrTemplateContent=null);for(let n=0;n<s;n++)f(this.buttons[n].buttonModel)||(this.footerTemplate="",this.setButton());break}case"allowDragging":this.allowDragging&&!f(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){const s=f(t.position.X)?this.position.X:t.position.X,n=f(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+s+"-"+n)&&this.dlgContainer.classList.remove("e-dlg-"+s+"-"+n)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}setTarget(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}updateIsModal(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)f(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",f(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(H([this.element],dT),H([document.body],[mh,Mo]),oe(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&A.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}setzIndex(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=wd(e),this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)}windowResizeHandler(){Td=this.targetEle.clientWidth,function(r){Sd=r}(this.targetEle.clientHeight),this.setMaxHeight()}getPersistData(){return this.addOnPersist([])}destroy(){if(this.isDestroyed)return;const e=[e0,dT,Oo,yg,t0,vg],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(H([this.targetEle],[mh,Mo]),!f(this.element)&&this.element.classList.contains(t0)&&H([document.body],[mh,Mo]),this.isModal&&H([f(this.targetEle)?document.body:this.targetEle],Mo),this.unWireEvents(),!f(this.btnObj))for(let i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(f(this.dragObj)||this.dragObj.destroy(),!f(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),H([this.element],e),!f(this.cssClass)&&""!==this.cssClass&&H([this.element],this.cssClass.split(" ")),!f(this.refElement)&&!f(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),oe(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(oe(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),oe(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!f(this.element.children))for(let i=0;i<=this.element.children.length;i++)i-=i,oe(this.element.children[i]);for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.isBlazorServerRender()?this.isDestroyed=!0:super.destroy(),this.isReact&&this.clearTemplate()}wireWindowResizeEvent(){window.addEventListener("resize",this.windowResizeHandler.bind(this))}unWireWindowResizeEvent(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))}wireEvents(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&A.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&A.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}unWireEvents(){if(this.showCloseIcon&&A.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&A.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!f(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(let e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&A.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}refreshPosition(){this.popupObj.refreshPosition()}getDimension(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}show(e){if(this.element.classList.contains(JE)){if(!this.element.classList.contains(Ec)||!f(e)){f(e)||this.fullScreen(e);const t={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",t,i=>{if(!i.cancel){this.element.style.maxHeight!==t.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=t.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!f(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",H([this.dlgOverlay],"e-fade"),f(this.targetEle)?L([document.body],[mh,Mo]):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",L([this.targetEle],[mh,Mo])));const s={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},n=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(n,!0),Ue(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(s),this.dialogOpen=!0;const a=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.preventVisibility=!0,this.isProtectedOnChange=a}})}this.isReact&&this.renderReactTemplates()}}hide(e){if(this.element.classList.contains(JE)&&this.preventVisibility){const t={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=t,this.trigger("beforeClose",t,i=>{if(!i.cancel){this.isModal&&(f(this.targetEle)||H([this.targetEle],[mh,Mo])),document.body.classList.contains(mh)&&document.body.classList.contains(Mo)&&H([document.body],[mh,Mo]);const s={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(s),this.dialogOpen=!1;const n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.preventVisibility=!1,this.isProtectedOnChange=n}this.dlgClosedBy=Id})}}fullScreen(e){if(e){L([this.element],t0);const s=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=f(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=s,L([document.body],[mh,Mo]),this.allowDragging&&!f(this.dragObj)&&this.dragObj.destroy()}else H([this.element],t0),H([document.body],[mh,Mo]),this.allowDragging&&!f(this.headerContent)&&this.setAllowDragging();return e}getButtons(e){return f(e)?this.btnObj:this.btnObj[e]}};var cf;Oi([T("")],Si.prototype,"content",void 0),Oi([T(!0)],Si.prototype,"enableHtmlSanitizer",void 0),Oi([T(!1)],Si.prototype,"showCloseIcon",void 0),Oi([T(!1)],Si.prototype,"isModal",void 0),Oi([T("")],Si.prototype,"header",void 0),Oi([T(!0)],Si.prototype,"visible",void 0),Oi([T(!1)],Si.prototype,"enableResize",void 0),Oi([T(["South-East"])],Si.prototype,"resizeHandles",void 0),Oi([T("auto")],Si.prototype,"height",void 0),Oi([T("")],Si.prototype,"minHeight",void 0),Oi([T("100%")],Si.prototype,"width",void 0),Oi([T("")],Si.prototype,"cssClass",void 0),Oi([T(1e3)],Si.prototype,"zIndex",void 0),Oi([T(null)],Si.prototype,"target",void 0),Oi([T("")],Si.prototype,"footerTemplate",void 0),Oi([T(!1)],Si.prototype,"allowDragging",void 0),Oi([Va([{}],mg)],Si.prototype,"buttons",void 0),Oi([T(!0)],Si.prototype,"closeOnEscape",void 0),Oi([Ht({},Uy)],Si.prototype,"animationSettings",void 0),Oi([Ht({X:"center",Y:"center"},SM)],Si.prototype,"position",void 0),Oi([$()],Si.prototype,"created",void 0),Oi([$()],Si.prototype,"open",void 0),Oi([$()],Si.prototype,"beforeSanitizeHtml",void 0),Oi([$()],Si.prototype,"beforeOpen",void 0),Oi([$()],Si.prototype,"close",void 0),Oi([$()],Si.prototype,"beforeClose",void 0),Oi([$()],Si.prototype,"dragStart",void 0),Oi([$()],Si.prototype,"dragStop",void 0),Oi([$()],Si.prototype,"drag",void 0),Oi([$()],Si.prototype,"overlayClick",void 0),Oi([$()],Si.prototype,"resizeStart",void 0),Oi([$()],Si.prototype,"resizing",void 0),Oi([$()],Si.prototype,"resizeStop",void 0),Oi([$()],Si.prototype,"destroyed",void 0),Si=Oi([oi],Si),function(r){function i(m,v){const C=new Si(m);return C.appendTo(v),C}function a(m,v){return m.header=f(v.title)?of:v.title,m.content=f(v.content)?"":v.content,m.isModal=!!f(v.isModal)||v.isModal,m.showCloseIcon=!f(v.showCloseIcon)&&v.showCloseIcon,m.allowDragging=!f(v.isDraggable)&&v.isDraggable,m.closeOnEscape=!f(v.closeOnEscape)&&v.closeOnEscape,m.position=f(v.position)?{X:"center",Y:"top"}:v.position,m.animationSettings=f(v.animationSettings)?{effect:"Fade",duration:400,delay:0}:v.animationSettings,m.cssClass=f(v.cssClass)?"":v.cssClass,m.zIndex=f(v.zIndex)?1e3:v.zIndex,m.open=f(v.open)?null:v.open,m}function d(m,v,C){const w=C;return f(v.text)||(w.buttonModel.content=v.text),f(v.icon)||(w.buttonModel.iconCss=v.icon),f(v.cssClass)||(w.buttonModel.cssClass=v.cssClass),f(v.click)||(w.click=v.click),w}r.alert=function(m){const v=Q("div",{className:xd});let C;return document.body.appendChild(v),C=i("string"==typeof m?{content:m,position:{X:"center",Y:"top"},isModal:!0,header:of,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(m){let v={buttons:[]};return v=a(v,m),v=function(m,v){const C=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return f(v.okButton)?m.buttons=C:m.buttons[0]=d(0,v.okButton,C[0]),m}(v,m),v}(m),v),C.close=()=>{m&&m.close&&m.close.apply(C),C.destroy(),C.element.classList.contains("e-dlg-modal")?(C.element.parentElement.remove(),C.target.classList.remove(Ea)):C.element.remove()},C},r.confirm=function(m){const v=Q("div",{className:zy});let C;return document.body.appendChild(v),C=i("string"==typeof m?{position:{X:"center",Y:"top"},content:m,isModal:!0,header:of,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(m){let v={buttons:[]};return v=a(v,m),v=function(m,v){const C={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},w={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return m.buttons[0]=f(v.okButton)?C:d(0,v.okButton,C),m.buttons[1]=f(v.cancelButton)?w:d(0,v.cancelButton,w),m}(v,m),v}(m),v),C.close=()=>{m&&m.close&&m.close.apply(C),C.destroy(),C.element.classList.contains("e-dlg-modal")?(C.element.parentElement.remove(),C.target.classList.remove(Ea)):C.element.remove()},C}}(cf||(cf={}));var ds=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Yy="e-tooltip",s0="e-tooltip-wrap",ET="e-tip-content",Dg="e-arrow-tip",LM="e-arrow-tip-outer",wT="e-arrow-tip-inner",$y="e-tip-bottom",n0="e-tip-top",_M="e-tip-left",r0="e-tip-right",DT="e-popup",a0="e-popup-open",PM="e-popup-close";class VM extends hi{}ds([T({effect:"FadeIn",duration:150,delay:0})],VM.prototype,"open",void 0),ds([T({effect:"FadeOut",duration:150,delay:0})],VM.prototype,"close",void 0);let gs=class extends hs{constructor(e,t){super(e,t),this.mouseMoveEvent=null,this.mouseMoveTarget=null}initialize(){this.formatPosition(),L([this.element],Yy)}formatPosition(){0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?[this.tooltipPositionY,this.tooltipPositionX]=this.position.split(/(?=[A-Z])/):[this.tooltipPositionX,this.tooltipPositionY]=this.position.split(/(?=[A-Z])/)}renderArrow(){this.setTipClass(this.position);const e=this.createElement("div",{className:Dg+" "+this.tipClass});e.appendChild(this.createElement("div",{className:LM+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:wT+" "+this.tipClass})),this.tooltipEle.appendChild(e)}setTipClass(e){this.tipClass=0===e.indexOf("Right")?_M:0===e.indexOf("Bottom")?n0:0===e.indexOf("Left")?r0:$y}renderPopup(e){const t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new Wn(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})}getTooltipPosition(e){this.tooltipEle.style.display="block";const t=gr(e,this.tooltipPositionX,this.tooltipPositionY),i=this.calculateTooltipOffset(this.position),s=this.collisionFlipFit(e,t.left+i.left,t.top+i.top);return this.tooltipEle.style.display="",s}windowResize(){this.reposition(this.findTarget())}reposition(e){if(this.popupObj&&e){const t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}}openPopupHandler(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)}closePopupHandler(){this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)}calculateTooltipOffset(e){const t={top:0,left:0},i=this.tooltipEle.offsetWidth,s=this.tooltipEle.offsetHeight,n=J("."+Dg,this.tooltipEle),a=n?n.offsetWidth:0,o=n?n.offsetHeight:0;let h=this.showTipPointer?0:8;const d=o/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),m=a/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(h+=2),e){case"RightTop":t.left+=a+h,t.top-=s-d;break;case"RightCenter":t.left+=a+h,t.top-=s/2;break;case"RightBottom":t.left+=a+h,t.top-=d;break;case"BottomRight":t.top+=o+h,t.left-=m;break;case"BottomCenter":t.top+=o+h,t.left-=i/2;break;case"BottomLeft":t.top+=o+h,t.left-=i-m;break;case"LeftBottom":t.left-=a+i+h,t.top-=d;break;case"LeftCenter":t.left-=a+i+h,t.top-=s/2;break;case"LeftTop":t.left-=a+i+h,t.top-=s-d;break;case"TopLeft":t.top-=s+o+h,t.left-=i-m;break;case"TopRight":t.top-=s+o+h,t.left-=m;break;default:t.top-=s+o+h,t.left-=i/2}return t.left+=this.offsetX,t.top+=this.offsetY,t}updateTipPosition(e){const t=Xe("."+Dg+",."+LM+",."+wT,this.tooltipEle);H(t,[$y,n0,_M,r0]),this.setTipClass(e),L(t,this.tipClass)}adjustArrow(e,t,i,s){if(!1===this.showTipPointer)return;let n,a;this.updateTipPosition(t),this.tooltipEle.style.display="block";const o=this.tooltipEle.clientWidth,h=this.tooltipEle.clientHeight,d=J("."+Dg,this.tooltipEle),m=J("."+wT,this.tooltipEle),v=d.offsetWidth,C=d.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===$y||this.tipClass===n0){if(this.tipClass===$y?(a="99.9%",m.style.top="-"+(C-2)+"px"):(a=-(C-1)+"px",m.style.top="-"+(C-6)+"px"),e){const w="Center"!==i||o>e.offsetWidth||this.mouseTrail;n=w&&"Left"===i||!w&&"End"===this.tipPointerPosition?o-v-2+"px":w&&"Right"===i||!w&&"Start"===this.tipPointerPosition?"2px":o/2-v/2+"px"}}else{this.tipClass===r0?(n="99.9%",m.style.left="-"+(v-2)+"px"):(n=-(v-1)+"px",m.style.left=v-2-v+"px");const w="Center"!==s||h>e.offsetHeight||this.mouseTrail;a=w&&"Top"===s||!w&&"End"===this.tipPointerPosition?h-C-2+"px":w&&"Bottom"===s||!w&&"Start"===this.tipPointerPosition?"2px":h/2-C/2+"px"}d.style.top=a,d.style.left=n}renderContent(e){const t=J("."+ET,this.tooltipEle);if(this.cssClass&&L([this.tooltipEle],this.cssClass.split(" ")),e&&!f(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),f(this.content))e&&!f(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"==typeof this.content)this.enableHtmlSanitizer&&this.setProperties({content:nn.sanitize(this.content)},!0),t[this.enableHtmlParse?"innerHTML":"textContent"]=this.content;else{const s=us(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t);s&&Ge(s,t),this.renderReactTemplates()}}renderCloseIcon(){if(!this.isSticky)return;const e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),A.add(e,G.touchStartEvent,this.onStickyClose,this)}addDescribedBy(e,t){const i=(e.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(t)<0&&i.push(t),Te(e,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})}removeDescribedBy(e){const t=e.getAttribute("data-tooltip-id"),i=(e.getAttribute("aria-describedby")||"").split(/\s+/),s=i.indexOf(t);-1!==s&&i.splice(s,1),e.removeAttribute("data-tooltip-id");const n=i.join(" ").trim();n?e.setAttribute("aria-describedby",n):e.removeAttribute("aria-describedby")}tapHoldHandler(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)}touchEndHandler(e){this.isSticky||(this.autoCloseTimer=setTimeout(()=>{this.close()},1500))}targetClick(e){let t;t=this.target?U(e.target,this.target):this.element,!f(t)&&(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))}targetHover(e){let t;if(t=this.target?U(e.target,this.target):this.element,f(t)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)return;const i=[].slice.call(Xe('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));for(const s of i)this.restoreElement(s);this.showTooltip(t,this.animation.open,e)}mouseMoveBeforeOpen(e){this.mouseMoveEvent=e}mouseMoveBeforeRemove(){this.mouseMoveTarget&&A.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)}showTooltip(e,t,i){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,A.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:this.tooltipEle,isInteracted:!f(i)},this.trigger("beforeRender",this.tooltipEventArgs,(n=>{this.beforeRenderCallback(n,e,i,t)}).bind(this))}beforeRenderCallback(e,t,i,s){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,f(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?$i(this.element.getAttribute("id")):$i("tooltip"),this.tooltipEle=this.createElement("div",{className:s0+" "+DT+" e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+fe(this.width)+";height:"+fe(this.height)+";position:absolute;"}),this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,i,s,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),Gi.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,i,s,this)))}tooltipBeforeRender(e,t){e&&(G.isDevice&&L([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=fe(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:ET})),document.body.appendChild(t.tooltipEle),H([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),L([t.tooltipEle],a0),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),Gi.stop(t.tooltipEle),t.reposition(e))}tooltipAfterRender(e,t,i,s){if(e){H([s.tooltipEle],a0),L([s.tooltipEle],PM),s.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:s.tooltipEle,isInteracted:!f(t)},s.needTemplateReposition()&&!s.mouseTrail&&(s.tooltipEle.style.display="none");const n=a=>{s.beforeOpenCallback(a,e,i,t)};s.trigger("beforeOpen",s.tooltipEventArgs,n.bind(s))}}beforeOpenCallback(e,t,i,s){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{let n={name:i.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};"None"===i.effect&&(n=void 0),this.openDelay>0?this.showTimer=setTimeout(()=>{this.mouseTrail&&A.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this),this.popupObj&&(this.popupObj.show(n,t),this.mouseMoveEvent&&this.mouseTrail&&this.onMouseMove(this.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(n,t)}s&&this.wireMouseEvents(s,t)}needTemplateReposition(){return!f(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef}checkCollision(e,t,i){const s={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},n=Cc(this.tooltipEle,this.checkCollideTarget(),t,i);return n.length>0&&(s.horizontal=n.indexOf("left")>=0?"Right":n.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=n.indexOf("top")>=0?"Bottom":n.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s}collisionFlipFit(e,t,i){const s=this.checkCollision(e,t,i);let n=s.position;if(this.tooltipPositionY!==s.vertical&&(n=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(0===n.indexOf("Left")&&(s.vertical="LeftTop"===n||"LeftCenter"===n?"Top":"Bottom",n=s.vertical+"Left"),0===n.indexOf("Right")&&(s.vertical="RightTop"===n||"RightCenter"===n?"Top":"Bottom",n=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:n},this.trigger("beforeCollision",this.tooltipEventArgs),s.position!==n){const h=gr(e,s.horizontal,s.vertical);this.adjustArrow(e,n,s.horizontal,s.vertical);const d=this.calculateTooltipOffset(n);d.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(n.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,d.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(n.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,s.position=n,s.left=h.left+d.left,s.top=h.top+d.top}else this.adjustArrow(e,n,s.horizontal,s.vertical);const a={left:s.left,top:s.top},o=FE(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:!1},a).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===n.indexOf("Bottom")||0===n.indexOf("Top"))){const h=J("."+Dg,this.tooltipEle);let d=parseInt(h.style.left,10)-(o-s.left);d<0?d=0:d+h.offsetWidth>this.tooltipEle.clientWidth&&(d=this.tooltipEle.clientWidth-h.offsetWidth),h.style.left=d.toString()+"px"}return this.tooltipEle.style.display="",a.left=o,a}checkCollideTarget(){return!this.windowCollision&&this.target?this.element:null}hideTooltip(e,t,i){this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(()=>{this.closeDelay&&this.tooltipEle&&this.isTooltipOpen||this.tooltipHide(e,t,i)},this.closeDelay)):this.tooltipHide(e,t,i)}tooltipHide(e,t,i){let s;s=t?this.target?i||t.target:this.element:J('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:s,event:t||null,element:this.tooltipEle,isInteracted:!f(t)},this.trigger("beforeClose",this.tooltipEventArgs,n=>{n.cancel?this.isHidden=!1:(this.mouseMoveBeforeRemove(),this.popupHide(e,s))})}popupHide(e,t){t&&this.restoreElement(t),this.isHidden=!0;let i={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(i=void 0),this.popupObj&&this.popupObj.hide(i)}restoreElement(e){this.unwireMouseEvents(e),f(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)}clear(){this.tooltipEle&&(H([this.tooltipEle],PM),L([this.tooltipEle],a0)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&nt(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)}tooltipHover(e){this.tooltipEle&&(this.isTooltipOpen=!0)}tooltipMouseOut(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())}onMouseOut(e){const t=e.relatedTarget;if(t&&!this.mouseTrail){const i=U(t,`.${s0}.e-lib.${DT}`);i?A.add(i,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()}tooltipElementMouseOut(e){this.hideTooltip(this.animation.close,e,this.findTarget()),A.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()}onStickyClose(e){this.close()}onMouseMove(e){let t=0,i=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),Gi.stop(this.tooltipEle),H([this.tooltipEle],PM),L([this.tooltipEle],a0),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);const s=this.calculateTooltipOffset(this.position),o=this.checkCollision(e.target,t+s.left+this.offsetX,i+s.top+this.offsetY);if(this.tooltipPositionX!==o.horizontal||this.tooltipPositionY!==o.vertical){const h=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?o.vertical+o.horizontal:o.horizontal+o.vertical;o.position=h,this.adjustArrow(e.target,o.position,o.horizontal,o.vertical);const d=this.calculateTooltipOffset(o.position);o.left=t+d.left-this.offsetX,o.top=i+d.top-this.offsetY}this.tooltipEle.style.left=o.left+"px",this.tooltipEle.style.top=o.top+"px"}keyDown(e){this.tooltipEle&&27===e.keyCode&&this.close()}touchEnd(e){this.tooltipEle&&null===U(e.target,"."+Yy)&&!this.isSticky&&this.close()}scrollHandler(e){this.tooltipEle&&(U(e.target,`.${s0}.e-lib.${DT}`)||this.close())}render(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()}preRender(){this.tipClass=$y,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0}wireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&A.add(this.element,G.touchStartEvent,this.targetClick,this),"Hover"===i&&(G.isDevice?(this.touchModule=new mn(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),A.add(this.element,G.touchEndEvent,this.touchEndHandler,this)):A.add(this.element,"mouseover",this.targetHover,this))}A.add(document,"touchend",this.touchEnd,this),A.add(document,"scroll wheel",this.scrollHandler,this),A.add(window,"resize",this.windowResize,this),A.add(document,"keydown",this.keyDown,this)}getTriggerList(e){return"Auto"===e&&(e=G.isDevice?"Hover":"Hover Focus"),e.split(" ")}wireFocusEvents(){if(f(this.target))A.add(this.element,"focus",this.targetHover,this);else{const e=[].slice.call(Xe(this.target,this.element));for(const t of e)A.add(t,"focus",this.targetHover,this)}}wireMouseEvents(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&A.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&A.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(A.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),A.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&A.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))}unwireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&A.remove(this.element,G.touchStartEvent,this.targetClick),"Hover"===i&&(G.isDevice?(this.touchModule&&this.touchModule.destroy(),A.remove(this.element,G.touchEndEvent,this.touchEndHandler)):A.remove(this.element,"mouseover",this.targetHover))}A.remove(document,"touchend",this.touchEnd),A.remove(document,"scroll wheel",this.scrollHandler),A.remove(window,"resize",this.windowResize),A.remove(document,"keydown",this.keyDown)}unwireFocusEvents(){if(f(this.target))A.remove(this.element,"focus",this.targetHover);else{const e=[].slice.call(Xe(this.target,this.element));for(const t of e)A.remove(t,"focus",this.targetHover)}}unwireMouseEvents(e){if(!this.isSticky){const t=this.getTriggerList(this.opensOn);for(const i of t)"Focus"===i&&A.remove(e,"blur",this.onMouseOut),"Hover"===i&&!G.isDevice&&A.remove(e,"mouseleave",this.onMouseOut);this.closeDelay&&(A.remove(e,"mouseenter",this.tooltipHover),A.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&A.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)}findTarget(){return J('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)}getModuleName(){return"tooltip"}getPersistData(){return this.addOnPersist([])}onPropertyChanged(e,t){const i=this.findTarget();for(const s of Object.keys(e))switch(s){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=fe(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=fe(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){const n=J("."+wT,this.tooltipEle);n.style.top=n.style.left=null,this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){const n=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+n).toString()+"px"}break;case"offsetY":if(this.tooltipEle){const n=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+n).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&H([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&L([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?L([this.tooltipEle],"e-rtl"):H([this.tooltipEle],"e-rtl"))}}open(e,t){f(t)&&(t=this.animation.open),f(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)}close(e){e||(e=this.animation.close),this.hideTooltip(e)}refresh(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)}destroy(){super.destroy(),this.tooltipEle&&nt(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),H([this.element],Yy),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null}};ds([T("auto")],gs.prototype,"width",void 0),ds([T("auto")],gs.prototype,"height",void 0),ds([T()],gs.prototype,"content",void 0),ds([T()],gs.prototype,"target",void 0),ds([T("TopCenter")],gs.prototype,"position",void 0),ds([T(0)],gs.prototype,"offsetX",void 0),ds([T(0)],gs.prototype,"offsetY",void 0),ds([T(!0)],gs.prototype,"showTipPointer",void 0),ds([T(!0)],gs.prototype,"enableHtmlParse",void 0),ds([T(!1)],gs.prototype,"windowCollision",void 0),ds([T("Auto")],gs.prototype,"tipPointerPosition",void 0),ds([T("Auto")],gs.prototype,"opensOn",void 0),ds([T(!1)],gs.prototype,"mouseTrail",void 0),ds([T(!1)],gs.prototype,"isSticky",void 0),ds([Ht({},VM)],gs.prototype,"animation",void 0),ds([T(0)],gs.prototype,"openDelay",void 0),ds([T(0)],gs.prototype,"closeDelay",void 0),ds([T()],gs.prototype,"cssClass",void 0),ds([T(!1)],gs.prototype,"enableHtmlSanitizer",void 0),ds([$()],gs.prototype,"beforeRender",void 0),ds([$()],gs.prototype,"beforeOpen",void 0),ds([$()],gs.prototype,"afterOpen",void 0),ds([$()],gs.prototype,"beforeClose",void 0),ds([$()],gs.prototype,"afterClose",void 0),ds([$()],gs.prototype,"beforeCollision",void 0),ds([$()],gs.prototype,"created",void 0),ds([$()],gs.prototype,"destroyed",void 0),gs=ds([oi],gs);const Ha={},hf="e-spin-show",Gy="e-spin-hide",HM="e-spin-material",BM="e-spin-fabric",jM="e-spin-tailwind",KP="e-spin-bootstrap",TT="e-spin-bootstrap4",WM="e-spin-bootstrap5",UM="e-spin-high-contrast",jl="e-spinner-pane",AT="e-spinner-inner",Qy="e-path-circle",Md="e-spin-template";function wc(r,e){if(!r.target)return;let t;const i=f(e)?Q:e;let s=function(r,e){const t=e("div",{}),i=e("div",{});return t.classList.add(jl),i.classList.add(AT),r.appendChild(t),t.appendChild(i),{wrap:t,inner_wrap:i}}(r.target,i);if(f(r.cssClass)||s.wrap.classList.add(r.cssClass),f(r.template)&&f(null)){const n=f(r.type)?function(r){return window.getComputedStyle(r,":after").getPropertyValue("content").replace(/['"]+/g,"")}(s.wrap):r.type;t=function(r,e){let t;switch(e){case"Material":case"Fabric":t=30;break;case"Tailwind":case"Tailwind-dark":t=30;break;case"Bootstrap4":case"Bootstrap5":t=36;break;default:t=30}return r=r?parseFloat(r+""):t,"Bootstrap"===e?r:r/2}(f(r.width)?void 0:r.width,n),function(r,e,t,i){const s=e.querySelector("."+AT),n=s.querySelector("svg");switch(f(n)||s.removeChild(n),r){case"Material":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Material",radius:e},XM(r,i,0,HM),d0(e,r,"Material",HM)}(s,t);break;case"Fabric":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Fabric",radius:e},h0(r,i,BM),Zy(e,r,BM)}(s,t);break;case"Bootstrap":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Bootstrap",radius:e},function(r,e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=64,n=32,a=2;i.setAttribute("id",e),i.setAttribute("class",KP),i.setAttribute("viewBox","0 0 "+s+" "+s),r.insertBefore(i,r.firstChild);for(let o=0;o<=7;o++){const h=document.createElementNS("http://www.w3.org/2000/svg","circle");h.setAttribute("class",Qy+"_"+o),h.setAttribute("r",a+""),h.setAttribute("transform","translate("+n+","+n+")"),i.appendChild(h)}}(r,i),function(r,e){const t=r.querySelector("svg.e-spin-bootstrap"),i=0,s=0,n=24;t.style.width=t.style.height=e+"px";let a=90;for(let o=0;o<=7;o++){const h=PT(i,s,n,a),d=t.querySelector("."+Qy+"_"+o);d.setAttribute("cx",h.x+""),d.setAttribute("cy",h.y+""),a=a>=360?0:a,a+=45}}(r,e)}(s,t);break;case"HighContrast":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"HighContrast",radius:e},h0(r,i,UM),Zy(e,r,UM)}(s,t);break;case"Bootstrap4":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Bootstrap4",radius:e},XM(r,i,0,TT),d0(e,r,"Bootstrap4",TT)}(s,t);break;case"Bootstrap5":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Bootstrap5",radius:e},XM(r,i,0,WM),d0(e,r,"Bootstrap5",WM)}(s,t);break;case"Tailwind":case"Tailwind-dark":!function(r,e,t){const i=Cu();Ha[i]={timeOut:0,type:"Tailwind",radius:e},h0(r,i,jM),Zy(e,r,jM)}(s,t)}}(n,s.wrap,t),f(r.label)||function(r,e,t){const i=t("div",{});i.classList.add("e-spin-label"),i.innerHTML=e,r.appendChild(i)}(s.inner_wrap,r.label,i)}else{const n=f(r.template)?null:r.template;s.wrap.classList.add(Md),function(r,e,t){f(null)||r.classList.add(null),r.querySelector(".e-spinner-inner").innerHTML=e}(s.wrap,n)}s.wrap.classList.add(Gy),s=null}function KM(r,e){const t=[],i=r,s=e;let n=!1,a=1;return function o(h){t.push(h),(h!==s||1===a)&&(h<=i&&h>1&&!n?h=parseFloat((h-.2).toFixed(2)):1===h?(h=7,h=parseFloat((h+.2).toFixed(2)),n=!0):h<8&&n?8===(h=parseFloat((h+.2).toFixed(2)))&&(n=!1):h<=8&&!n&&(h=parseFloat((h-.2).toFixed(2))),++a,o(h))}(i),t}function Cu(){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<5;t++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function h0(r,e,t,i){const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id",e),s.setAttribute("class",t);const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",Qy);const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("class","e-path-arc"),r.insertBefore(s,r.firstChild),s.appendChild(n),s.appendChild(a)}function XM(r,e,t,i){const s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",i),s.setAttribute("id",e),n.setAttribute("class",Qy),r.insertBefore(s,r.firstChild),s.appendChild(n)}function u0(r){(function(r,e,t,i,s,n,a){const o=++a.globalInfo[a.uniqueID].previousId,h=(new Date).getTime(),m=function(r){return parseFloat(r)}(2*a.globalInfo[a.uniqueID].radius+""),v=LT(m),C=-90*(a.globalInfo[a.uniqueID].count||0);!function w(k){const O=Math.max(0,Math.min((new Date).getTime()-h,i));(function(k,O){if(!f(O.querySelector("svg.e-spin-material"))&&!f(O.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){const q=O.querySelector("svg.e-spin-material").querySelector("path.e-path-circle");q.setAttribute("stroke-dashoffset",p0(m,v,k,75)+""),q.setAttribute("transform","rotate("+C+" "+m/2+" "+m/2+")")}})(t(O,1,148,i),k.container),o===k.globalInfo[k.uniqueID].previousId&&O<i?Ha[k.uniqueID].timeOut=setTimeout(w.bind(null,k),1):u0(k)}(a)})(0,0,_T,1333,0,0,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function d0(r,e,t,i){const s=2*r,n=e.querySelector("svg."+i),a=n.querySelector("path.e-path-circle"),o=LT(s),h=s/2+"px";n.setAttribute("viewBox","0 0 "+s+" "+s),n.style.width=n.style.height=s+"px",n.style.transformOrigin=h+" "+h+" "+h,a.setAttribute("d",function(r,e){const t=r/2,i=e/2;return"M"+t+","+i+"A"+(t-i)+","+(t-i)+" 0 1 1 "+i+","+t}(s,o)),"Material"===t&&(a.setAttribute("stroke-width",o+""),a.setAttribute("stroke-dasharray",(s-o)*Math.PI*.75+""),a.setAttribute("stroke-dashoffset",p0(s,o,1,75)+""))}function LT(r){return.1*r}function p0(r,e,t,i){return(r-e)*Math.PI*(3*i/100-t/100)}function _T(r,e,t,i){const s=(r/=i)*r,n=s*r;return e+t*(6*n*s+-15*s*s+10*n)}function Zy(r,e,t){const i=r,s=r,n=2*r,h=e.querySelector("."+t),d=h.querySelector(".e-path-circle"),m=h.querySelector(".e-path-arc"),v=n/2+"px";d.setAttribute("d",function(r,e,t){return["M",r,e,"m",-t,0,"a",t,t,0,1,0,2*t,0,"a",t,t,0,1,0,2*-t,0].join(" ")}(i,s,r)),m.setAttribute("d",function(r,e,t,i,s){const n=PT(r,e,t,45),a=PT(r,e,t,315);return["M",n.x,n.y,"A",t,t,0,0,0,a.x,a.y].join(" ")}(i,s,r)),h.setAttribute("viewBox","0 0 "+n+" "+n),h.style.transformOrigin=v+" "+v+" "+v,h.style.width=h.style.height=n+"px"}function PT(r,e,t,i){const s=(i-90)*Math.PI/180;return{x:r+t*Math.cos(s),y:e+t*Math.sin(s)}}function so(r){NT(r,!1),r=null}function NT(r,e){let t;if(r&&(t=r.classList.contains(jl)?r:r.querySelector("."+jl)),r&&t){const i=t.querySelector("."+AT);let s;if(s=e?!t.classList.contains(Md)&&!t.classList.contains(Gy):!t.classList.contains(Md)&&!t.classList.contains(hf),s){const n=t.querySelector("svg");if(f(n))return;const a=n.getAttribute("id");switch(Ha[a].isAnimate=!e,Ha[a].type){case"Material":e?clearTimeout(Ha[a].timeOut):function(r,e,t){const i={};Ha[e].timeOut=0,i[e]=function(r,e,t,i){return{radius:e,count:0,previousId:0}}(0,t),u0({uniqueID:e,container:r,globalInfo:i,timeOutVar:0})}(i,a,Ha[a].radius);break;case"Bootstrap":e?clearTimeout(Ha[a].timeOut):function(r){const t=r.querySelector("svg.e-spin-bootstrap").getAttribute("id");for(let s=1;s<=8;s++)i(r.getElementsByClassName("e-path-circle_"+(8===s?0:s))[0],s,0,KM(s,s),t);function i(s,n,a,o,h){let d=0;!function m(v){Ha[h].isAnimate&&(++d,s.setAttribute("r",v+""),d>=o.length&&(d=0),Ha[h].timeOut=setTimeout(m.bind(null,o[d]),18))}(n)}}(i)}}e?On(t,[Gy],[hf]):On(t,[hf],[Gy]),r=null}}function no(r){NT(r,!0),r=null}class kt{constructor(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}setKey(e){return this.key=e,this}using(e){return this.dataManager=e,this}execute(e,t,i,s){return(e=e||this.dataManager)?e.executeQuery(this,t,i,s):_e.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}executeLocal(e){return(e=e||this.dataManager)?e.executeLocal(this):_e.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}clone(){let e=new kt;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e.lazyLoad=this.lazyLoad.slice(0),e}from(e){return this.fromTable=e,this}addParams(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}distinct(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}expand(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}where(e,t,i,s,n){t=t?t.toLowerCase():null;let a=null;return"string"==typeof e?a=new Ni(e,t,i,s,n):e instanceof Ni&&(a=e),this.queries.push({fn:"onWhere",e:a}),this}search(e,t,i,s,n){return"string"==typeof t&&(t=[t]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:s,ignoreAccent:n,comparer:_e.fnOperators[i]}}),this}sortBy(e,t,i){return this.sortByForeignKey(e,t,i)}sortByForeignKey(e,t,i,s){let a,o,n=f(s)?"ascending":s;if("string"==typeof e&&_e.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),(!t||"string"==typeof t)&&(n=t?t.toLowerCase():"ascending",t=_e.fnSort(t)),i){a=kt.filterQueries(this.queries,"onSortBy");for(let h=0;h<a.length;h++)if(o=a[h].e.fieldName,"string"==typeof o){if(o===e)return this}else if(o instanceof Array)for(let d=0;d<o.length;d++)if(o[d]===e||e.toLowerCase()===o[d]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:n}}),this}sortByDesc(e){return this.sortBy(e,"descending")}group(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this}page(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}range(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}take(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}skip(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}select(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}hierarchy(e,t){return this.subQuerySelector=t,this.subQuery=e,this}foreignKey(e){return this.fKey=e,this}requiresCount(){return this.isCountRequired=!0,this}aggregate(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}static filterQueries(e,t){return e.filter(i=>i.fn===t)}static filterQueryLists(e,t){let i=e.filter(n=>-1!==t.indexOf(n.fn)),s={};for(let n=0;n<i.length;n++)s[i[n].fn]||(s[i[n].fn]=i[n].e);return s}}class Ni{constructor(e,t,i,s=!1,n){return this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=t.toLowerCase(),this.value=i,this.ignoreCase=s,this.ignoreAccent=n,this.isComplex=!1,this.comparer=_e.fnOperators.processOperator(this.operator)):(e instanceof Ni&&i instanceof Ni||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}static and(...e){return Ni.combinePredicates([].slice.call(e,0),"and")}and(e,t,i,s,n){return Ni.combine(this,e,t,i,"and",s,n)}static or(...e){return Ni.combinePredicates([].slice.call(e,0),"or")}or(e,t,i,s,n){return Ni.combine(this,e,t,i,"or",s,n)}static fromJson(e){if(e instanceof Array){let i=[];for(let s=0,n=e.length;s<n;s++)i.push(this.fromJSONData(e[s]));return i}return this.fromJSONData(e)}validate(e){let i,s,t=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,_e.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);i="and"===this.condition;for(let n=0;n<t.length;n++)if(s=t[n].validate(e),i){if(!s)return!1}else if(s)return!0;return i}toJson(){let e,t;if(this.isComplex){e=[],t=this.predicates;for(let i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}static combinePredicates(e,t){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new Ni(e[0],t,e.slice(1))}static combine(e,t,i,s,n,a,o){return t instanceof Ni?Ni[n](e,t):"string"==typeof t?Ni[n](e,new Ni(t,i,s,a,o)):_e.throwError("Predicate - "+n+" : invalid arguments")}static fromJSONData(e){let n,t=e.predicates||[],i=t.length,s=[];for(let a=0;a<i;a++)s.push(this.fromJSONData(t[a]));return n=e.isComplex?new Ni(s[0],e.condition,s.slice(1)):new Ni(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),n}}const f0={GroupGuid:"{271bbba0-1ee7}"};let _e=(()=>{class r{static getValue(t,i){return"function"==typeof t?t.call(i||{}):t}static endsWith(t,i){return t.slice&&t.slice(-i.length)===i}static startsWith(t,i){return t.slice(0,i.length)===i}static fnSort(t){return"ascending"===(t=t?r.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}static fnAscending(t,i){return f(t)&&f(i)||null==i?-1:"string"==typeof t?t.localeCompare(i):null==t?1:t-i}static fnDescending(t,i){return f(t)&&f(i)?-1:null==i?1:"string"==typeof t?-1*t.localeCompare(i):null==t?-1:i-t}static extractFields(t,i){let s={};for(let n=0;n<i.length;n++)s=this.setValue(i[n],this.getObject(i[n],t),s);return s}static select(t,i){let s=[];for(let n=0;n<t.length;n++)s.push(this.extractFields(t[n],i));return s}static group(t,i,s,n,a,o,h){n=n||1;let d=t,m="GroupGuid";if(d.GroupGuid===f0[m]){for(let w=0;w<d.length;w++)if(f(a))d[w].items=this.group(d[w].items,i,s,d.level+1,null,o,h),d[w].count=d[w].items.length;else{let S=-1,k=a.filter(O=>O.key===d[w].key);S=a.indexOf(k[0]),d[w].items=this.group(d[w].items,i,s,d.level+1,a[S].items,o,h),d[w].count=a[S].count}return d.childLevels+=1,d}let v={},C=[];C.GroupGuid=f0[m],C.level=n,C.childLevels=0,C.records=d;for(let w=0;w<d.length;w++){let S=this.getVal(d,w,i);if(f(o)||(S=o(S,i)),!v[S]&&(v[S]={key:S,count:0,items:[],aggregates:{},field:i},C.push(v[S]),!f(a))){let k=a.filter(O=>O.key===v[S].key);v[S].count=k[0].count}v[S].count=f(a)?v[S].count+=1:v[S].count,(!h||h&&s.length)&&v[S].items.push(d[w])}if(s&&s.length)for(let w=0;w<C.length;w++){let k,S={},O=s;for(let N=0;N<s.length;N++)if(k=r.aggregates[s[N].type],f(a))k&&(S[O[N].field+" - "+O[N].type]=k(C[w].items,O[N].field));else{let q=a.filter(z=>z.key===C[w].key);k&&(S[O[N].field+" - "+O[N].type]=k(q[0].items,O[N].field))}C[w].aggregates=S}if(h&&C.length&&s.length)for(let w=0;w<C.length;w++)C[w].items=[];return d.length&&C||d}static buildHierarchy(t,i,s,n,a){let o,d,h={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++){let m=this.getObject(t,n[o]);d=h[m]||(h[m]=[]),d.push(n[o])}for(o=0;o<s.length;o++){let m=this.getObject(a||t,s[o]);s[o][i]=h[m]}}static getFieldList(t,i,s){if(void 0===s&&(s=""),null==i)return this.getFieldList(t,[],s);let n=t,a=Object.keys(t);for(let o of a)"object"!=typeof n[o]||n[o]instanceof Array?i.push(s+o):this.getFieldList(n[o],i,s+o+".");return i}static getObject(t,i){if(!t)return i;if(!i)return;if(-1===t.indexOf("."))return i[t];let s=i,n=t.split(".");for(let a=0;a<n.length&&null!=s;a++)s=s[n[a]];return s}static setValue(t,i,s){let h,m,n=t.toString().split("."),a=s||{},o=a,d=n.length;for(h=0;h<d;h++)m=n[h],h+1===d?o[m]=void 0===i?void 0:i:f(o[m])&&(o[m]={}),o=o[m];return a}static sort(t,i,s){if(t.length<=1)return t;let n=parseInt((t.length/2).toString(),10),a=t.slice(0,n),o=t.slice(n);return a=this.sort(a,i,s),o=this.sort(o,i,s),this.merge(a,o,i,s)}static ignoreDiacritics(t){return"string"!=typeof t?t:t.split("").map(n=>n in r.diacritics?r.diacritics[n]:n).join("")}static merge(t,i,s,n){let o,a=[];for(;t.length>0||i.length>0;)o=t.length>0&&i.length>0?n?n(this.getVal(t,0,s),this.getVal(i,0,s),t[0],i[0])<=0?t:i:t[0][s]<t[0][s]?t:i:t.length>0?t:i,a.push(o.shift());return a}static getVal(t,i,s){return s?this.getObject(s,t[i]):t[i]}static toLowerCase(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""}static callAdaptorFunction(t,i,s,n){if(i in t){let a=t[i](s,n);f(a)||(s=a)}return s}static getAddParams(t,i,s){let n={};return r.callAdaptorFunction(t,"addParams",{dm:i,query:s,params:s.params,reqParams:n}),n}static isPlainObject(t){return!!t&&t.constructor===Object}static isCors(){let t=null;try{t=new window.XMLHttpRequest}catch(s){}return!!t&&"withCredentials"in t}static getGuid(t){let s;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(n,a)=>{if("crypto"in window&&"getRandomValues"in crypto){let o=new Uint8Array(1);window.crypto.getRandomValues(o),s=o[0]%16|0}else s=16*Math.random()|0;return"0123456789abcdef"[19===a?3&s|8:s]})}static isNull(t){return null==t}static getItemFromComparer(t,i,s){let n,a,o,h=0,d="string"==typeof r.getVal(t,0,i);if(t.length)for(;f(n)&&h<t.length;)n=r.getVal(t,h,i),o=t[h++];for(;h<t.length;h++)a=r.getVal(t,h,i),!f(a)&&(d&&(n=+n,a=+a),s(n,a)>0&&(n=a,o=t[h]));return o}static distinct(t,i,s){s=!f(s)&&s;let a,n=[],o={};return t.forEach((h,d)=>{a="object"==typeof t[d]?r.getVal(t,d,i):t[d],a in o||(n.push(s?t[d]:a),o[a]=1)}),n}static processData(t,i){let s=this.prepareQuery(t),n=new ot(i);t.requiresCounts&&s.requiresCount();let a=n.executeLocal(s),o={result:t.requiresCounts?a.result:a,count:a.count,aggregates:JSON.stringify(a.aggregates)};return t.requiresCounts?o:a}static prepareQuery(t){let i=new kt;return t.select&&i.select(t.select),t.where&&r.parse.parseJson(t.where).filter(n=>{if(f(n.condition))i.where(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent);else{let a=[];n.field?a.push(new Ni(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent)):a=a.concat(this.getPredicate(n.predicates)),"or"==n.condition?i.where(Ni.or(a)):"and"==n.condition&&i.where(Ni.and(a))}}),t.search&&r.parse.parseJson(t.search).filter(n=>i.search(n.key,n.fields,n.operator,n.ignoreCase,n.ignoreAccent)),t.aggregates&&t.aggregates.filter(s=>i.aggregate(s.type,s.field)),t.sorted&&t.sorted.filter(s=>i.sortBy(s.name,s.direction)),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(s=>i.group(s)),i}static getPredicate(t){let i=[];for(let s=0;s<t.length;s++){let n=t[s];if(n.field)i.push(new Ni(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{let a=[],o=this.getPredicate(n.predicates);for(const h of Object.keys(o))a.push(o[h]);i.push("or"==n.condition?Ni.or(a):Ni.and(a))}}return i}}return r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=e=>{try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},r.aggregates={sum:(e,t)=>{let s,i=0,n="number"!=typeof r.getVal(e,0,t);for(let a=0;a<e.length;a++)s=r.getVal(e,a,t),!isNaN(s)&&null!==s&&(n&&(s=+s),i+=s);return i},average:(e,t)=>r.aggregates.sum(e,t)/e.length,min:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnAscending))},max:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnDescending))},truecount:(e,t)=>new ot(e).executeLocal((new kt).where(t,"equal",!0,!0)).length,falsecount:(e,t)=>new ot(e).executeLocal((new kt).where(t,"equal",!1,!0)).length,count:(e,t)=>e.length},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},r.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},r.fnOperators={equal:(e,t,i,s)=>(s&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?r.toLowerCase(e)===r.toLowerCase(t):e===t),notequal:(e,t,i,s)=>(s&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),!r.fnOperators.equal(e,t,i)),lessthan:(e,t,i)=>i?r.toLowerCase(e)<r.toLowerCase(t):(f(e)&&(e=void 0),e<t),greaterthan:(e,t,i)=>i?r.toLowerCase(e)>r.toLowerCase(t):e>t,lessthanorequal:(e,t,i)=>i?r.toLowerCase(e)<=r.toLowerCase(t):(f(e)&&(e=void 0),e<=t),greaterthanorequal:(e,t,i)=>i?r.toLowerCase(e)>=r.toLowerCase(t):e>=t,contains:(e,t,i,s)=>(s&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?!f(e)&&!f(t)&&-1!==r.toLowerCase(e).indexOf(r.toLowerCase(t)):!f(e)&&!f(t)&&-1!==e.toString().indexOf(t)),notnull:e=>null!==e,isnull:e=>null===e,startswith:(e,t,i,s)=>(s&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.startsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.startsWith(e,t)),endswith:(e,t,i,s)=>(s&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.endsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.endsWith(e,t)),processSymbols:e=>{let t=r.operatorSymbols[e];return t?r.fnOperators[t]:r.throwError("Query - Process Operator : Invalid operator")},processOperator:e=>r.fnOperators[e]||r.fnOperators.processSymbols(e)},r.parse={parseJson:e=>("string"==typeof e?e=JSON.parse(e,r.parse.jsonReviver):e instanceof Array?r.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&r.parse.iterateAndReviveJson(e),e),iterateAndReviveArray:e=>{for(let t=0;t<e.length;t++)"object"==typeof e[t]&&null!==e[t]?r.parse.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[t])?r.parse.parseJson(e[t]):r.parse.jsonReviver("",e[t])},iterateAndReviveJson:e=>{let t,i=Object.keys(e);for(let s of i)r.startsWith(s,"__")||(t=e[s],"object"==typeof t?t instanceof Array?r.parse.iterateAndReviveArray(t):t&&r.parse.iterateAndReviveJson(t):e[s]=r.parse.jsonReviver(e[s],t))},jsonReviver:(e,t)=>{if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),s=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),s,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let n=t.indexOf("Z")>-1||t.indexOf("z")>-1,a=t.split(/[^0-9.]/);if(n)t=r.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),r.serverTimezoneOffset,!1);else{let o=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),h=parseInt(a[6],10),d=parseInt(a[7],10);if(isNaN(h)&&isNaN(d))return o;t.indexOf("+")>-1?o.setHours(o.getHours()-h,o.getMinutes()-d):o.setHours(o.getHours()+h,o.getMinutes()+d),t=r.dateParse.toTimeZone(o,r.serverTimezoneOffset,!1)}null==r.serverTimezoneOffset&&(t=r.dateParse.addSelfOffset(t))}}return t},isJson:e=>"string"==typeof e[0]?e:r.parse.parseJson(e),isGuid:e=>null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e),replacer:(e,t)=>r.isPlainObject(e)?r.parse.jsonReplacer(e,t):e instanceof Array?r.parse.arrayReplacer(e):e instanceof Date?r.parse.jsonReplacer({val:e},t).val:e,jsonReplacer:(e,t)=>{let i,s=Object.keys(e);for(let n of s){if(i=e[n],!(i instanceof Date))continue;let a=i;null==r.serverTimezoneOffset?e[n]=r.dateParse.toTimeZone(a,null).toJSON():(a=new Date(+a+36e5*r.serverTimezoneOffset),e[n]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(a),null).toJSON())}return e},arrayReplacer:e=>{for(let t=0;t<e.length;t++)r.isPlainObject(e[t])?e[t]=r.parse.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=r.parse.jsonReplacer({date:e[t]}).date);return e},jsonDateReplacer:(e,t)=>{if("value"===e&&t){if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t);if(i)t=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let s=t.split(/[^0-9]/);t=r.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),null,!0)}}if(t instanceof Date)return t=r.dateParse.addSelfOffset(t),null===r.serverTimezoneOffset?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(t),null).toJSON():(t=r.dateParse.toTimeZone(t,t.getTimezoneOffset()/60*2-r.serverTimezoneOffset,!1)).toJSON()}return t}},r.dateParse={addSelfOffset:e=>new Date(+e-6e4*e.getTimezoneOffset()),toUTC:e=>new Date(+e+6e4*e.getTimezoneOffset()),toTimeZone:(e,t,i)=>{if(null===t)return e;let s=i?r.dateParse.toUTC(e):e;return new Date(+s-36e5*t)},toLocalTime:e=>{let t=e,i=-t.getTimezoneOffset(),s=i>=0?"+":"-",n=o=>{let h=Math.floor(Math.abs(o));return(h<10?"0":"")+h};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+s+n(i/60)+":"+n(i%60)}},r})();const FT={GroupGuid:"{271bbba0-1ee7}"};class Sg{constructor(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=Sg,this.dataSource=e,this.pvt={}}processResponse(e,t,i,s){return e}}class Jy extends Sg{processQuery(e,t){let a,o,v,i=e.dataSource.json.slice(0),s=i.length,n=!0,h={},d=0,m=[];for(let w=0;w<t.lazyLoad.length;w++)d++,h[t.lazyLoad[w].key]=t.lazyLoad[w].value;let C={};for(let w=0;w<t.queries.length;w++)o=t.queries[w],"onPage"!==o.fn&&"onGroup"!==o.fn||!t.lazyLoad.length?(a=this[o.fn].call(this,i,o.e,t),"onAggregates"===o.fn?C[o.e.field+" - "+o.e.type]=a:i=void 0!==a?a:i,("onPage"===o.fn||"onSkip"===o.fn||"onTake"===o.fn||"onRange"===o.fn)&&(n=!1),n&&(s=i.length)):("onGroup"===o.fn&&m.push(o.e),"onPage"===o.fn&&(v=o.e));if(d){let S=this.lazyLoadGroup({query:t,lazyLoad:h,result:i,group:m,page:v});i=S.result,s=S.count}return t.isCountRequired&&(i={result:i,count:s,aggregates:C}),i}lazyLoadGroup(e){let t=0,i=this.getAggregate(e.query),s=e.result;if(f(e.lazyLoad.onDemandGroupInfo)){s=_e.group(s,e.group[0].fieldName,i,null,null,e.group[0].comparer,!0),t=s.length;let a=s;e.page&&(s=this.onPage(s,e.page,e.query)),this.formGroupResult(s,a)}else{let n=e.lazyLoad.onDemandGroupInfo;for(let o=n.where.length-1;o>=0;o--)s=this.onWhere(s,n.where[o]);e.group.length!==n.level&&(s=_e.group(s,e.group[n.level].fieldName,i,null,null,e.group[0].comparer,!0)),t=s.length;let a=s;s=s.slice(n.skip),s=s.slice(0,n.take),e.group.length!==n.level&&this.formGroupResult(s,a)}return{result:s,count:t}}formGroupResult(e,t){if(e.length&&t.length){let i="GroupGuid",s="childLevels",n="level",a="records";e[i]=t[i],e[s]=t[s],e[n]=t[n],e[a]=t[a]}return e}getAggregate(e){let t=kt.filterQueries(e.queries,"onAggregates"),i=[];if(t.length){let s;for(let n=0;n<t.length;n++)s=t[n].e,i.push({type:s.type,field:_e.getValue(s.field,e)})}return i}batchRequest(e,t,i){let s,n=t.deletedRecords.length;for(s=0;s<t.addedRecords.length;s++)this.insert(e,t.addedRecords[s]);for(s=0;s<t.changedRecords.length;s++)this.update(e,i.key,t.changedRecords[s]);for(s=0;s<n;s++)this.remove(e,i.key,t.deletedRecords[s]);return t}onWhere(e,t){return e&&e.length?e.filter(i=>{if(t)return t.validate(i)}):e}onAggregates(e,t){let i=_e.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null}onSearch(e,t){return e&&e.length?(0===t.fieldNames.length&&_e.getFieldList(e[0],t.fieldNames),e.filter(i=>{for(let s=0;s<t.fieldNames.length;s++)if(t.comparer.call(i,_e.getObject(t.fieldNames[s],i),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e}onSortBy(e,t,i){if(!e||!e.length)return e;let s,n=_e.getValue(t.fieldName,i);if(!n)return e.sort(t.comparer);if(n instanceof Array){n=n.slice(0);for(let a=n.length-1;a>=0;a--)!n[a]||(s=t.comparer,_e.endsWith(n[a]," desc")&&(s=_e.fnSort("descending"),n[a]=n[a].replace(" desc","")),e=_e.sort(e,n[a],s));return e}return _e.sort(e,n,t.comparer)}onGroup(e,t,i){if(!e||!e.length)return e;let s=this.getAggregate(i);return _e.group(e,_e.getValue(t.fieldName,i),s,null,null,t.comparer)}onPage(e,t,i){let s=_e.getValue(t.pageSize,i),n=(_e.getValue(t.pageIndex,i)-1)*s;return e&&e.length?e.slice(n,n+s):e}onRange(e,t){return e&&e.length?e.slice(_e.getValue(t.start),_e.getValue(t.end)):e}onTake(e,t){return e&&e.length?e.slice(0,_e.getValue(t.nos)):e}onSkip(e,t){return e&&e.length?e.slice(_e.getValue(t.nos)):e}onSelect(e,t){return e&&e.length?_e.select(e,_e.getValue(t.fieldNames)):e}insert(e,t,i,s,n){return f(n)?e.dataSource.json.push(t):e.dataSource.json.splice(n,0,t)}remove(e,t,i,s){let a,n=e.dataSource.json;for("object"==typeof i&&!(i instanceof Date)&&(i=_e.getObject(t,i)),a=0;a<n.length&&_e.getObject(t,n[a])!==i;a++);return a!==n.length?n.splice(a,1):null}update(e,t,i,s){let a,o,n=e.dataSource.json;for(f(t)||(o=X(t,i)),a=0;a<n.length&&(f(t)||X(t,n[a])!==o);a++);return a<n.length?So(n[a],i):null}}class Od extends Sg{processQuery(e,t,i){let h,d,s=this.getQueryRequest(t),n=kt.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=t.params,o=e.dataSource.url,m=null,v=this.options,C={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in n?(h=n.onPage,d=_e.getValue(h.pageIndex,t),m=_e.getValue(h.pageSize,t),d=(d-1)*m):"onRange"in n&&(h=n.onRange,d=h.start,m=h.end-h.start);for(let O=0;O<s.sorts.length;O++)h=_e.getValue(s.sorts[O].e.fieldName,t),C.sorts.push(_e.callAdaptorFunction(this,"onEachSort",{name:h,direction:s.sorts[O].e.direction},t));i&&(h=this.getFiltersFrom(i,t),h&&C.filters.push(_e.callAdaptorFunction(this,"onEachWhere",h.toJson(),t)));for(let O=0;O<s.filters.length;O++){let N=_e.callAdaptorFunction(this,"onEachWhere",s.filters[O].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!f(s.filters[O].e.key)&&s.filters.length>1&&(N="("+N+")"),C.filters.push(N);let q="object"==typeof C.filters[O]?Object.keys(C.filters[O]):[];for(let z of q)_e.isNull(C[z])&&delete C[z]}for(let O=0;O<s.searches.length;O++)h=s.searches[O].e,C.searches.push(_e.callAdaptorFunction(this,"onEachSearch",{fields:h.fieldNames,operator:h.operator,key:h.searchKey,ignoreCase:h.ignoreCase},t));for(let O=0;O<s.groups.length;O++)C.groups.push(_e.getValue(s.groups[O].e.fieldName,t));for(let O=0;O<s.aggregates.length;O++)h=s.aggregates[O].e,C.aggregates.push({type:h.type,field:_e.getValue(h.field,t)});let w={};if(this.getRequestQuery(v,t,n,C,w),_e.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:a,reqParams:w}),t.lazyLoad.length)for(let O=0;O<t.lazyLoad.length;O++)w[t.lazyLoad[O].key]=t.lazyLoad[O].value;let S=Object.keys(w);for(let O of S)(_e.isNull(w[O])||""===w[O]||0===w[O].length)&&delete w[O];(!(v.skip in w)||!(v.take in w))&&null!==m&&(w[v.skip]=_e.callAdaptorFunction(this,"onSkip",d,t),w[v.take]=_e.callAdaptorFunction(this,"onTake",m,t));let k=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(w,_e.parse.jsonDateReplacer),url:o,pvtData:k,type:"POST",contentType:"application/json; charset=utf-8"}:(h=this.convertToQueryString(w,t,e),h=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+h,{type:"GET",url:h.length?o.replace(/\/*$/,h):o,pvtData:k})}getRequestQuery(e,t,i,s,n){let o=n;o[e.from]=t.fromTable,e.apply&&t.distincts.length&&(o[e.apply]="onDistinct"in this?_e.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(o[e.expand]="onExpand"in this&&"onSelect"in i?_e.callAdaptorFunction(this,"onExpand",{selects:_e.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),o[e.select]="onSelect"in i&&!t.distincts.length?_e.callAdaptorFunction(this,"onSelect",_e.getValue(i.onSelect.fieldNames,t),t):"",o[e.count]=t.isCountRequired?_e.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",o[e.search]=s.searches.length?_e.callAdaptorFunction(this,"onSearch",s.searches,t):"",o[e.skip]="onSkip"in i?_e.callAdaptorFunction(this,"onSkip",_e.getValue(i.onSkip.nos,t),t):"",o[e.take]="onTake"in i?_e.callAdaptorFunction(this,"onTake",_e.getValue(i.onTake.nos,t),t):"",o[e.where]=s.filters.length||s.searches.length?_e.callAdaptorFunction(this,"onWhere",s.filters,t):"",o[e.sortBy]=s.sorts.length?_e.callAdaptorFunction(this,"onSortBy",s.sorts,t):"",o[e.group]=s.groups.length?_e.callAdaptorFunction(this,"onGroup",s.groups,t):"",o[e.aggregates]=s.aggregates.length?_e.callAdaptorFunction(this,"onAggregates",s.aggregates,t):"",o.param=[]}convertToQueryString(e,t,i){return""}processResponse(e,t,i,s,n,a){if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("application/json")){let w=_e.timeZoneHandling;t&&!t.timeZoneHandling&&(_e.timeZoneHandling=!1),e=_e.parse.parseJson(e),_e.timeZoneHandling=w}let o=n,h=o.pvtData||{},d=e?e.groupDs:[];if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];let m=JSON.parse(o.data);if(m&&"batch"===m.action&&e&&e.addedRecords)return a.addedRecords=e.addedRecords,a;e&&e.d&&(e=e.d);let v={};e&&"count"in e&&(v.count=e.count),v.result=e&&e.result?e.result:e;let C=!1;if(Array.isArray(e.result)&&e.result.length){let w="key",S="value",k="level";if(f(e.result[0][w])||(v.result=this.formRemoteGroupedData(v.result,1,h.groups.length-1)),i&&i.lazyLoad.length&&h.groups.length)for(let O=0;O<i.lazyLoad.length;O++)"onDemandGroupInfo"===i.lazyLoad[O][w]&&h.groups.length===i.lazyLoad[O][S][k]&&(C=!0)}return C||this.getAggregateResult(h,e,v,d,i),_e.isNull(v.count)?v.result:{result:v.result,count:v.count,aggregates:v.aggregates}}formRemoteGroupedData(e,t,i){for(let h=0;h<e.length;h++)e[h].items.length&&Object.keys(e[h].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[h].items,t+1,i-1);let s="GroupGuid",o="records";return e[s]=FT[s],e.level=t,e.childLevels=i,e[o]=e[0].items.length?this.getGroupedRecords(e,!f(e[0].items[o])):[],e}getGroupedRecords(e,t){let i=[];for(let n=0;n<e.length;n++)if(t)i=i.concat(e[n].items.records);else for(let a=0;a<e[n].items.length;a++)i.push(e[n].items[a]);return i}onGroup(e){return this.pvt.groups=e,e}onAggregates(e){this.pvt.aggregates=e}batchRequest(e,t,i,s,n){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ae({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[void 0],key:i[void 0]},_e.getAddParams(this,e,s)))}}beforeSend(e,t){}insert(e,t,i,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{value:t,table:i,action:"insert"},_e.getAddParams(this,e,s)))}}remove(e,t,i,s,n){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{key:i,keyColumn:t,table:s,action:"remove"},_e.getAddParams(this,e,n)))}}update(e,t,i,s,n){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{value:i,action:"update",keyColumn:t,key:_e.getObject(t,i),table:s},_e.getAddParams(this,e,n)))}}getFiltersFrom(e,t){let s,i=t.fKey,n=i,a=t.key,o=[];"object"!=typeof e[0]&&(n=null);for(let h=0;h<e.length;h++)s="object"==typeof e[0]?_e.getObject(a||n,e[h]):e[h],o.push(new Ni(i,"equal",s));return Ni.or(o)}getAggregateResult(e,t,i,s,n){let a=t;if(t&&t.result&&(a=t.result),e&&e.aggregates&&e.aggregates.length){let m,d=e.aggregates,v=a,C={};t.aggregate&&(v=t.aggregate);for(let w=0;w<d.length;w++)m=_e.aggregates[d[w].type],m&&(C[d[w].field+" - "+d[w].type]=m(v,d[w].field));i.aggregates=C}let h=Array.isArray(t.result)&&t.result.length&&!f(t.result[0].key);if(e&&e.groups&&e.groups.length&&!h){let d=e.groups;for(let m=0;m<d.length;m++){let v=null;f(s)||(s=_e.group(s,d[m]));let C=kt.filterQueries(n.queries,"onGroup")[m].e;a=_e.group(a,d[m],e.aggregates,v,s,C.comparer)}i.result=a}return i}getQueryRequest(e){let t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=kt.filterQueries(e.queries,"onSortBy"),t.groups=kt.filterQueries(e.queries,"onGroup"),t.filters=kt.filterQueries(e.queries,"onWhere"),t.searches=kt.filterQueries(e.queries,"onSearch"),t.aggregates=kt.filterQueries(e.queries,"onAggregates"),t}addParams(e){let t=e.reqParams;e.params.length&&(t.params={});for(let i of e.params){if(t[i.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[i.key]=i.value,i.fn&&(t[i.key]=i.fn.call(e.query,i.key,e.query,e.dm)),t.params[i.key]=t[i.key]}}}class Dc extends Od{constructor(e){super(),this.options=ae({},this.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),ae(this.options,e||{})}getModuleName(){return"ODataAdaptor"}onPredicate(e,t,i){let n,a,s="",o=e.value,h=typeof o,d=e.field?Dc.getField(e.field):null;if(o instanceof Date&&(o="datetime'"+_e.parse.replacer(o)+"'"),"string"===h&&(o=encodeURIComponent(o),o="'"+o+"'",i&&(d="cast("+d+", 'Edm.String')"),_e.parse.isGuid(o)&&(a="guid"),e.ignoreCase&&(a||(d="tolower("+d+")"),o=o.toLowerCase())),n=_e.odBiOperator[e.operator],n)return s+=d,s+=n,a&&(s+=a),s+o;if(n=f(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?_e.odUniOperator[e.operator]:_e.odv4UniOperator[e.operator],"substringof"===n){let m=o;o=d,d=m}return s+=n+"(",s+=d+",",a&&(s+=a),s+=o+")",s}addParams(e){super.addParams(e),delete e.reqParams.params}onComplexPredicate(e,t,i){let s=[];for(let n=0;n<e.predicates.length;n++)s.push("("+this.onEachWhere(e.predicates[n],t,i)+")");return s.join(" "+e.condition+" ")}onEachWhere(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)}onWhere(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}onEachSearch(e){e.fields&&0===e.fields.length&&_e.throwError("Query() - Search : oData search requires list of field names to search");let t=this.pvt.search||[];for(let i=0;i<e.fields.length;i++)t.push(new Ni(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t}onSearch(e){return this.pvt.search=Ni.or(this.pvt.search),""}onEachSort(e){let t=[];if(e.name instanceof Array)for(let i=0;i<e.name.length;i++)t.push(Dc.getField(e.name[i])+("descending"===e.direction?" desc":""));else t.push(Dc.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}onSortBy(e){return e.reverse().join(",")}onGroup(e){return this.pvt.groups=e,[]}onSelect(e){for(let t=0;t<e.length;t++)e[t]=Dc.getField(e[t]);return e.join(",")}onAggregates(e){return this.pvt.aggregates=e,""}onCount(e){return!0===e?"allpages":""}beforeSend(e,t,i){_e.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}processResponse(e,t,i,s,n,a){let o="odata.metadata";if(n&&"GET"===n.type&&!this.rootUrl&&e[o]){let k=e[o].split("/$metadata#");this.rootUrl=k[0],this.resourceTableName=k[1]}if(!f(e.d)){let k=i&&i.isCountRequired?e.d.results:e.d,O="__metadata";if(!f(k))for(let N=0;N<k.length;N++)f(k[N][O])||delete k[N][O]}let d=n&&n.pvtData,m=this.processBatchResponse(e,i,s,n,a);if(m)return m;let v=s&&n.getResponseHeader("DataServiceVersion"),C=null,w=v&&parseInt(v,10)||2;if(i&&i.isCountRequired){let k="__count";(e[k]||e["odata.count"])&&(C=e[k]||e["odata.count"]),e.d&&(e=e.d),(e[k]||e["odata.count"])&&(C=e[k]||e["odata.count"])}3===w&&e.value&&(e=e.value),e.d&&(e=e.d),w<3&&e.results&&(e=e.results);let S={};return S.count=C,S.result=e,this.getAggregateResult(d,e,S,null,i),_e.isNull(C)?S.result:{result:S.result,count:S.count,aggregates:S.aggregates}}convertToQueryString(e,t,i){let s=[],n="table",a=e[n]||"";delete e[n],i.dataSource.requiresFormat&&(e.$format="json");let h=Object.keys(e);for(let d of h)s.push(d+"="+e[d]);return s=s.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!a?s:s.length?a+"?"+s:a||""}localTimeReplacer(e,t){for(let i of f(t)?[]:Object.keys(t))t[i]instanceof Date&&(t[i]=_e.dateParse.toLocalTime(t[i]));return t}insert(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}remove(e,t,i,s){let n;return n="string"!=typeof i||_e.parse.isGuid(i)?`(${i})`:`('${i}')`,{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+n}}update(e,t,i,s,n,a){let o;return"PATCH"===this.options.updateType&&!f(a)&&(i=this.compareAndRemove(i,a,t)),o="string"!=typeof i[t]||_e.parse.isGuid(i[t])?`(${i[t]})`:`('${i[t]}')`,{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+o,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}batchRequest(e,t,i,s,n){let a=i.guid=_e.getGuid(this.options.batchPre),o=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;let h={url:i.url,key:i.key,cid:1,cSet:_e.getGuid(this.options.changeSet)},d="--"+a+"\n";return d+="Content-Type: multipart/mixed; boundary="+h.cSet.replace("--","")+"\n",this.pvt.changeSet=0,d+=this.generateInsertRequest(t.addedRecords,h,e),d+=this.generateUpdateRequest(t.changedRecords,h,e,n?n.changedRecords:[]),d+=this.generateDeleteRequest(t.deletedRecords,h,e),d+=h.cSet+"--\n",d+="--"+a+"--",{type:"POST",url:o,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:d}}generateDeleteRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"DELETE ",url:(a,o,h)=>{let d=_e.getObject(h,a[o]);return"number"==typeof d||_e.parse.isGuid(d)?"("+d+")":d instanceof Date?"("+a[o][h].toJSON()+")":`('${d}')`},data:(a,o)=>""},i),s+"\n"}generateInsertRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"POST ",url:(a,o,h)=>"",data:(a,o)=>JSON.stringify(a[o])+"\n\n"},i),s}generateUpdateRequest(e,t,i,s){if(!e)return"";let n="";return e.forEach(o=>o=this.compareAndRemove(o,s.filter(h=>_e.getObject(t.key,h)===_e.getObject(t.key,o))[0],t.key)),n=this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:(o,h,d)=>"number"==typeof o[h][d]||_e.parse.isGuid(o[h][d])?"("+o[h][d]+")":o[h][d]instanceof Date?"("+o[h][d].toJSON()+")":`('${o[h][d]}')`,data:(o,h)=>JSON.stringify(o[h])+"\n\n"},i),n}static getField(e){return e.replace(/\./g,"/")}generateBodyContent(e,t,i,s){let n="";for(let a=0;a<e.length;a++)n+="\n"+t.cSet+"\n",n+=this.options.changeSetContent+"\n\n",n+=i.method,"POST "===i.method?n+=(s.dataSource.insertUrl||s.dataSource.crudUrl||t.url)+i.url(e,a,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?n+=(s.dataSource.updateUrl||s.dataSource.crudUrl||t.url)+i.url(e,a,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(n+=(s.dataSource.removeUrl||s.dataSource.crudUrl||t.url)+i.url(e,a,t.key)+" HTTP/1.1\n"),n+="Accept: "+this.options.accept+"\n",n+="Content-Id: "+this.pvt.changeSet+++"\n",n+=this.options.batchChangeSetContentType+"\n",f(e[a]["@odata.etag"])?n+="\n":(n+="If-Match: "+e[a]["@odata.etag"]+"\n\n",delete e[a]["@odata.etag"]),n+=i.data(e,a);return n}processBatchResponse(e,t,i,s,n){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&_e.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()){let o,h,a=i.getResponseHeader("Content-Type"),d=e+"";if(a=a.substring(a.indexOf("=batchresponse")+1),d=d.split(a),d.length<2)return{};d=d[1];let m=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);m&&d.replace(m[0],""),d=d.split(m?m[1]:"");for(let C=d.length;C>-1;C--)!/\bContent-ID:/i.test(d[C])||!/\bHTTP.+201/.test(d[C])||(o=parseInt(/\bContent-ID: (\d+)/i.exec(d[C])[1],10),n.addedRecords[o]&&(h=_e.parse.parseJson(/^\{.+\}/m.exec(d[C])[0]),ae({},n.addedRecords[o],this.processResponse(h))));return n}return null}compareAndRemove(e,t,i){return f(t)||Object.keys(e).forEach(s=>{s!==i&&"@odata.etag"!==s&&(_e.isPlainObject(e[s])?(this.compareAndRemove(e[s],t[s]),0===Object.keys(e[s]).filter(a=>"@odata.etag"!==a).length&&delete e[s]):(e[s]===t[s]||e[s]&&t[s]&&e[s].valueOf()===t[s].valueOf())&&delete e[s])}),e}}class sO extends Jy{constructor(){super(),At("beforeSend",Od.prototype.beforeSend,this)}insert(e,t,i,s,n){return this.pvt.position=n,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{value:t,table:i,action:"insert"},_e.getAddParams(this,e,s)))}}remove(e,t,i,s,n){return super.remove(e,t,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{key:i,keyColumn:t,table:s,action:"remove"},_e.getAddParams(this,e,n)))}}update(e,t,i,s,n){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ae({},{value:i,action:"update",keyColumn:t,key:i[t],table:s},_e.getAddParams(this,e,n)))}}processResponse(e,t,i,s,n,a,o){let h;if(e="batch"===(n?JSON.parse(n.data):e).action?_e.parse.parseJson(e):e,"add"===this.updateType&&super.insert(t,e,null,null,this.pvt.position),"update"===this.updateType&&super.update(t,this.updateKey,e),this.updateType=void 0,e.added)for(h=0;h<e.added.length;h++)super.insert(t,e.added[h]);if(e.changed)for(h=0;h<e.changed.length;h++)super.update(t,o.key,e.changed[h]);if(e.deleted)for(h=0;h<e.deleted.length;h++)super.remove(t,o.key,e.deleted[h]);return e}batchRequest(e,t,i,s,n){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ae({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},_e.getAddParams(this,e,s)))}}addParams(e){(new Od).addParams(e)}}class rN extends Od{constructor(e){super(),this.options=ae({},this.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),ae(this.options,e||{})}getModuleName(){return"CustomDataAdaptor"}}class nO extends Od{constructor(e,t,i){super(),this.isCrudAction=!1,this.isInsertAction=!1,f(e)||(this.cacheAdaptor=e),this.pageSize=i,this.guidId=_e.getGuid("cacheAdaptor"),window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}));let n=this.guidId;f(t)||setInterval(()=>{let a;a=_e.parse.parseJson(window.localStorage.getItem(n));let o=[];for(let h=0;h<a.results.length;h++){let d=+new Date,m=+new Date(a.results[h].timeStamp);a.results[h].timeStamp=d-m,d-m>t&&o.push(h)}for(let h=0;h<o.length;h++)a.results.splice(o[h],1),a.keys.splice(o[h],1);window.localStorage.removeItem(n),window.localStorage.setItem(n,JSON.stringify(a))},t)}generateKey(e,t){let i=this.getQueryRequest(t),s=kt.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),n=e,a="onPage";a in s&&(n+=s[a].pageIndex),i.sorts.forEach(o=>{n+=o.e.direction+o.e.fieldName}),i.groups.forEach(o=>{n+=o.e.fieldName}),i.searches.forEach(o=>{n+=o.e.searchKey});for(let o=0;o<i.filters.length;o++){let h=i.filters[o];if(h.e.isComplex){let d=t.clone();d.queries=[];for(let m=0;m<h.e.predicates.length;m++)d.queries.push({fn:"onWhere",e:h.e.predicates[m],filter:t.queries.filter});n+=h.e.condition+this.generateKey(e,d)}else n+=h.e.field+h.e.operator+h.e.value}return n}processQuery(e,t,i){let n,s=this.generateKey(e.dataSource.url,t);n=_e.parse.parseJson(window.localStorage.getItem(this.guidId));let a=n?n.results[n.keys.indexOf(s)]:null;return null==a||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a}processResponse(e,t,i,s,n,a){if(this.isInsertAction||n&&this.cacheAdaptor.options.batch&&_e.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,s,n,a);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));let o=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,h={};h=_e.parse.parseJson(window.localStorage.getItem(this.guidId));let d=h.keys.indexOf(o);for(-1!==d&&(h.results.splice(d,1),h.keys.splice(d,1)),h.results[h.keys.push(o)-1]={keys:o,result:e.result,timeStamp:new Date,count:e.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),e}beforeSend(e,t,i){!f(this.cacheAdaptor.options.batch)&&_e.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}update(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,s)}insert(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)}remove(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,s)}batchRequest(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}class ot{constructor(e,t,i){let s;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],!e&&!this.dataSource&&(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?s={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),s={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof sO||e.adaptor instanceof rN||e.url),requiresFormat:e.requiresFormat}):_e.throwError("DataManager: Invalid arguments"),void 0===s.requiresFormat&&!_e.isCors()&&(s.requiresFormat=!!f(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=t,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new Dc,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new kt),this.ready.then(n=>{this.dataSource.offline=!0,this.isDataAvailable=!0,s.json=n.result,this.adaptor=new Jy})):this.adaptor=s.offline?new Jy:new Dc,!s.jsonp&&this.adaptor instanceof Dc&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new nO(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}setDefaultQuery(e){return this.defaultQuery=e,this}executeLocal(e){!this.defaultQuery&&!(e instanceof kt)&&_e.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||_e.throwError("DataManager - executeLocal() : Json data is required to execute");let t=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){let i=e.subQuery.fromTable,s=e.subQuery.lookups,n=e.isCountRequired?t.result:t;s&&s instanceof Array&&_e.buildHierarchy(e.subQuery.fKey,i,n,s,e.subQuery.key);for(let a=0;a<n.length;a++)n[a][i]instanceof Array&&(n[a]=ae({},{},n[a]),n[a][i]=this.adaptor.processResponse(e.subQuery.using(new ot(n[a][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)}executeQuery(e,t,i,s){let n="makeRequest";"function"==typeof e&&(s=i,i=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof kt||_e.throwError("DataManager - executeQuery() : A query is required to execute");let a=new Tg,o={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!f(this.adaptor[n])||this.isCustomDataAdaptor(this.adaptor)){let h=this.adaptor.processQuery(this,e);f(this.adaptor[n])?!f(h.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(h,a,o,e):(o=ot.getDeferedArgs(e,h,o),a.resolve(o)):this.adaptor[n](h,a,o,e)}else ot.nextTick(()=>{let h=this.executeLocal(e);o=ot.getDeferedArgs(e,h,o),a.resolve(o)});return(t||i)&&a.promise.then(t,i),s&&a.promise.then(s,s),a.promise}static getDeferedArgs(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i}static nextTick(e){(window.setImmediate||window.setTimeout)(e,0)}extendRequest(e,t,i){return ae({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)}makeRequest(e,t,i,s){let n=!!s.subQuerySelector,a=v=>{i.error=v,t.reject(i)},o=(v,C,w,S,k,O,N)=>{i.xhr=w,i.count=C?parseInt(C.toString(),10):0,i.result=v,i.request=S,i.aggregates=O,i.actual=k,i.virtualSelectRecords=N,t.resolve(i)},h=(v,C)=>{let w=new Tg,S={parent:i};s.subQuery.isChild=!0;let k=this.adaptor.processQuery(this,s.subQuery,v?this.adaptor.processResponse(v):C),O=this.makeRequest(k,w,S,s.subQuery);return n||w.then(N=>{v&&(_e.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,v,N,s.subQuery.key),o(v,N.count,N.xhr))},a),O},m=this.extendRequest(e,(v,C)=>{if(this.isGraphQLAdaptor(this.adaptor)&&!f(v.errors))return a(v.errors);this.isCustomDataAdaptor(this.adaptor)&&(C=ae({},this.ajaxReqOption,C)),-1===C.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&this.dateParse&&(v=_e.parse.parseJson(v));let w=this.adaptor.processResponse(v,this,s,C.httpRequest,C),S=0,k=null,N=v.virtualSelectRecords;s.isCountRequired&&(S=w.count,k=w.aggregates,w=w.result),s.subQuery?n||h(w,C):o(w,S,C.httpRequest,C.type,v,k,N)},a);if(this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=m,this.adaptor.options.getData({data:m.data,onSuccess:m.onSuccess,onFailure:m.onFailure});else{let v=new yd(m);v.beforeSend=()=>{this.beforeSend(v.httpRequest,v)},m=v.send(),m.catch(C=>!0),this.requests.push(v)}if(n){let v,C=s.subQuerySelector.call(this,{query:s.subQuery,parent:s});C&&C.length?(v=Promise.all([m,h(null,C)]),v.then((...w)=>{let S=w[0],k=this.adaptor.processResponse(S[0],this,s,this.requests[0].httpRequest,this.requests[0]),O=0;s.isCountRequired&&(O=k.count,k=k.result);let N=this.adaptor.processResponse(S[1],this,s.subQuery,this.requests[1].httpRequest,this.requests[1]);O=0,s.subQuery.isCountRequired&&(O=N.count,N=N.result),_e.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,k,N,s.subQuery.key),n=!1,o(k,O,this.requests[0].httpRequest)})):n=!1}return m}beforeSend(e,t){this.adaptor.beforeSend(this,e,t);let s,i=this.dataSource.headers;for(let n=0;i&&n<i.length;n++){s=[];let a=Object.keys(i[n]);for(let o of a)s.push(o),e.setRequestHeader(o,i[n][o])}}saveChanges(e,t,i,s,n){i instanceof kt&&(s=i,i=null);let a={url:i,key:t||this.dataSource.key},o=this.adaptor.batchRequest(this,e,a,s||new kt,n),h="doAjaxRequest";if(this.dataSource.offline)return o;if(f(this.adaptor[h])){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(o,this.adaptor.options.batchUpdate);{let d=new Tg,m=new yd(o);return m.beforeSend=()=>{this.beforeSend(m.httpRequest,m)},m.onSuccess=(v,C)=>{this.isGraphQLAdaptor(this.adaptor)&&(f(v.errors)||m.onFailure(JSON.stringify(v.errors))),d.resolve(this.adaptor.processResponse(v,this,null,C.httpRequest,C,e,a))},m.onFailure=v=>{d.reject([{error:v}])},m.send().catch(v=>!0),d.promise}}return this.adaptor[h](o)}insert(e,t,i,s){t instanceof kt&&(i=t,t=null);let n=this.adaptor.insert(this,e,t,i,s),a="doAjaxRequest";return this.dataSource.offline?n:f(this.adaptor[a])?this.doAjaxRequest(n,this.adaptor.options.addRecord):this.adaptor[a](n)}remove(e,t,i,s){"object"==typeof t&&(t=_e.getObject(e,t)),i instanceof kt&&(s=i,i=null);let n=this.adaptor.remove(this,e,t,i,s),a="doAjaxRequest";return this.dataSource.offline?n:f(this.adaptor[a])?this.doAjaxRequest(n,this.adaptor.options.deleteRecord):this.adaptor[a](n)}update(e,t,i,s,n){i instanceof kt&&(s=i,i=null);let a=this.adaptor.update(this,e,t,i,s,n),o="doAjaxRequest";return this.dataSource.offline?a:f(this.adaptor[o])?this.doAjaxRequest(a,this.adaptor.options.updateRecord):this.adaptor[o](a)}isCustomDataAdaptor(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()}isGraphQLAdaptor(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()}successFunc(e,t){if(this.isGraphQLAdaptor(this.adaptor)){let i=JSON.parse(e);f(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=ae({},this.ajaxReqOption,t));try{_e.parse.parseJson(e)}catch(i){e=[]}e=this.adaptor.processResponse(_e.parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)}failureFunc(e){this.ajaxDeffered.reject([{error:e}])}doAjaxRequest(e,t){if(e=ae({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new Tg,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{let i=new yd(e);i.beforeSend=()=>{this.beforeSend(i.httpRequest,i)},i.onSuccess=this.successFunc.bind(this),i.onFailure=this.failureFunc.bind(this),i.send().catch(s=>!0)}return this.ajaxDeffered.promise}}class Tg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}let Lt={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};var Ti;function Ag(r,e){const t={};if(f(r)||"string"==typeof r||"number"==typeof r||!f(r.isHeader))return r;for(const i of Object.keys(e)){const s=e[i],n=f(s)||"string"!=typeof s?void 0:X(s,r);f(n)||(t[s]=n)}return t}function eb(r){if(r)try{if(document.querySelector(r))return us(document.querySelector(r).innerHTML.trim())}catch(e){return us(r)}}!function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};const e={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},t={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:e,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function s(Ie,Pe,Le,pe,ve){return Be(Ie,n(Ie,Pe,Le,pe,ve),null,pe)}function n(Ie,Pe,Le,pe,ve){const Ae=[],de=ae({},t,pe);Lt=ce(de.moduleName);const ye=z();for(let We=0;We<Pe.length;We++){if(f(Pe[We]))continue;let ft;de.itemCreating&&"function"==typeof de.itemCreating&&de.itemCreating({dataSource:Pe,curData:Pe[We],text:Pe[We],options:de}),ft=Le?Ce(Ie,Pe[We],void 0,null,null,[],null,ye,We,pe):Se(Ie,Pe[We],void 0,null,null,pe,ve),de.itemCreated&&"function"==typeof de.itemCreated&&de.itemCreated({dataSource:Pe,curData:Pe[We],text:Pe[We],item:ft,options:de}),Ae.push(ft)}return Ae}function a(Ie,Pe,Le,pe,ve,Ae){const de=ae({},t,Le);Lt=ce(de.moduleName);const ye=!Ae||"listview"!=Ae.getModuleName()&&"multiselect"!=Ae.getModuleName()?ae({},r.defaultMappedFields,de.fields):de.fields,We=ae({},e,de.ariaAttributes);let ft,Jt=[];pe&&(We.level=pe);const Vt=[];let Fi,xi;Pe&&Pe.length&&!f(S(Pe).item)&&!S(Pe).item.hasOwnProperty(ye.id)&&(ft=z());for(let ci=0;ci<Pe.length;ci++){let mt=Ag(Pe[ci],ye);if(f(Pe[ci]))continue;de.itemCreating&&"function"==typeof de.itemCreating&&de.itemCreating({dataSource:Pe,curData:Pe[ci],text:mt[ye.text],options:de,fields:ye});const se=Pe[ci];de.itemCreating&&"function"==typeof de.itemCreating&&(mt=Ag(Pe[ci],ye)),mt.hasOwnProperty(ye.id)&&!f(mt[ye.id])&&(ft=mt[ye.id]);const ue=[];if(de.showCheckBox&&(de.itemNavigable&&(mt[ye.url]||mt[ye.urlAttributes])?Jt.push(Ie("input",{className:Lt.check,attrs:{type:"checkbox"}})):ue.push(Ie("input",{className:Lt.check,attrs:{type:"checkbox"}}))),!0===ve)de.showIcon&&mt.hasOwnProperty(ye.iconCss)&&!f(mt[ye.iconCss])&&ue.push(Ie("span",{className:Lt.icon+" "+mt[ye.iconCss]})),Fi=Ce(Ie,se,mt,ye,de.itemClass,ue,!(!se.hasOwnProperty("isHeader")||!se.isHeader),ft,ci,Le),xi=Fi.querySelector("."+Lt.anchorWrap),de.itemNavigable&&Jt.length&&Mi(Jt,Fi.firstElementChild);else{if(Fi=Se(Ie,se,mt,ye,de.itemClass,Le,Ae),Fi.classList.add(Lt.level+"-"+We.level),Fi.setAttribute("aria-level",We.level.toString()),xi=Fi.querySelector("."+Lt.anchorWrap),mt.hasOwnProperty(ye.tooltip)&&Fi.setAttribute("title",mt[ye.tooltip]),mt.hasOwnProperty(ye.htmlAttributes)&&mt[ye.htmlAttributes]&&k(Fi,mt[ye.htmlAttributes]),mt.hasOwnProperty(ye.enabled)&&!1===mt[ye.enabled]&&Fi.classList.add(Lt.disabled),mt.hasOwnProperty(ye.isVisible)&&!1===mt[ye.isVisible]&&(Fi.style.display="none"),mt.hasOwnProperty(ye.imageUrl)&&!f(mt[ye.imageUrl])&&!de.template){const Qe={src:mt[ye.imageUrl]};So(Qe,mt[ye.imageAttributes]);const Ct=Ie("img",{className:Lt.image,attrs:Qe});xi?xi.insertAdjacentElement("afterbegin",Ct):Mi([Ct],Fi.firstElementChild)}if(de.showIcon&&mt.hasOwnProperty(ye.iconCss)&&!f(mt[ye.iconCss])&&!de.template){const Qe=Ie("div",{className:Lt.icon+" "+mt[ye.iconCss]});xi?xi.insertAdjacentElement("afterbegin",Qe):Mi([Qe],Fi.firstElementChild)}ue.length&&Mi(ue,Fi.firstElementChild),de.itemNavigable&&Jt.length&&Mi(Jt,Fi.firstElementChild),Z(Ie,mt,ye,0,de,Fi,We.level)}xi&&L([Fi],[Lt.navigable]),de.itemCreated&&"function"==typeof de.itemCreated&&de.itemCreated({dataSource:Pe,curData:Pe[ci],text:mt[ye.text],item:Fi,options:de,fields:ye}),Jt=[],Vt.push(Fi)}return Vt}function o(Ie,Pe,Le,pe,ve,Ae){const de=ae({},t,Le);return Be(Ie,a(Ie,Pe,Le,pe,ve,Ae),de.listClass,Le)}function d(Ie,Pe){if(Pe&&Ie){let Le=Pe;return Le=Array.prototype.slice.call(Pe),Le.indexOf(Ie)}}function v(Ie,Pe,Le=new kt){if("Ascending"===Ie)Le.sortBy(Pe,"ascending",!0);else if("Descending"===Ie)Le.sortBy(Pe,"descending",!0);else for(let pe=0;pe<Le.queries.length;pe++)"onSortBy"===Le.queries[pe].fn&&Le.queries.splice(pe,1);return Le}function C(Ie,Pe){return new ot(Ie).executeLocal(Pe)}function S(Ie){for(let Le=0;Le<Ie.length;Le++)if(!f(Ie[Le]))return{typeof:typeof Ie[Le],item:Ie[Le]};return{typeof:null,item:null}}function k(Ie,Pe){const Le={};So(Le,Pe),Le.class&&(L([Ie],Le.class.split(" ")),delete Le.class),Te(Ie,Le)}function O(Ie){const Pe={},Le=Ie.attributes;for(let pe=0;pe<Le.length;pe++)Pe[Le[pe].nodeName]=Le[pe].nodeValue;return Pe}function z(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Z(Ie,Pe,Le,pe,ve,Ae,de){const ye=Pe[Le.child]||[];let We=Pe[Le.hasChildren];if(ye.length&&(We=!0,Ae.classList.add(Lt.hasChild),ve.processSubChild)){const ft=o(Ie,ye,ve,++de);Ae.appendChild(ft)}ve.expandCollapse&&We&&!ve.template&&(Ae.firstElementChild.classList.add(Lt.iconWrapper),("Left"===ve.expandIconPosition?Mi:Ge)([Ie("div",{className:"e-icons "+ve.expandIconClass})],Ae.querySelector("."+Lt.textContent)))}function Ce(Ie,Pe,Le,pe,ve,Ae,de,ye,We,ft){const Jt=ae({},t,ft),Vt=ae({},e,Jt.ariaAttributes);let ci,mt,Fi=Pe,xi=Pe;"string"!=typeof Pe&&"number"!=typeof Pe&&"boolean"!=typeof Pe&&(ci=Pe,Fi="boolean"==typeof Le[pe.text]||"number"==typeof Le[pe.text]?Le[pe.text]:Le[pe.text]||"",xi=Le[pe.value]),mt=f(ci)||f(Le[pe.id])||""===Le[pe.id]?ye+"-"+We:ye;const se=Ie("li",{className:(!0===de?Lt.group:Lt.li)+" "+(f(ve)?"":ve),id:mt,attrs:""!==Vt.groupItemRole&&""!==Vt.itemRole?{role:!0===de?Vt.groupItemRole:Vt.itemRole}:{}});return ci&&Le.hasOwnProperty(pe.enabled)&&"false"===Le[pe.enabled].toString()&&se.classList.add(Lt.disabled),de?se.innerText=Fi:(se.setAttribute("data-value",f(xi)?"null":xi),se.setAttribute("role","option"),ci&&Le.hasOwnProperty(pe.htmlAttributes)&&Le[pe.htmlAttributes]&&k(se,Le[pe.htmlAttributes]),Ae.length&&!Jt.itemNavigable&&Ge(Ae,se),ci&&(Le[pe.url]||Le[pe.urlAttributes]&&Le[pe.urlAttributes].href)?se.appendChild(Fe(Ie,ci,pe,Fi,Ae,Jt.itemNavigable)):(Ae.length&&Jt.itemNavigable&&Ge(Ae,se),se.appendChild(document.createTextNode(Fi)))),se}function ce(Ie){return{li:`e-${Ie}-item`,ul:`e-${Ie}-parent e-ul`,group:`e-${Ie}-group-item`,icon:`e-${Ie}-icon`,text:`e-${Ie}-text`,check:`e-${Ie}-check`,checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:`e-${Ie}-url`,collapsible:"e-icon-collapsible",disabled:"e-disabled",image:`e-${Ie}-img`,iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function Fe(Ie,Pe,Le,pe,ve,Ae){const de=Ag(Pe,Le),ye={href:de[Le.url]};let We;if(de.hasOwnProperty(Le.urlAttributes)&&de[Le.urlAttributes]&&(So(ye,de[Le.urlAttributes]),ye.href=de[Le.url]?de[Le.url]:de[Le.urlAttributes].href),Ae){We=Ie("a",{className:Lt.text+" "+Lt.url});const ft=Ie("div",{className:Lt.anchorWrap});ve&&ve.length&&Ge(ve,ft),ft.appendChild(document.createTextNode(pe)),Ge([ft],We)}else We=Ie("a",{className:Lt.text+" "+Lt.url,innerHTML:pe});return k(We,ye),We}function Se(Ie,Pe,Le,pe,ve,Ae,de){const ye=ae({},t,Ae),We=ae({},e,ye.ariaAttributes);let Jt,Vt,Fi,ft=Pe;"string"!=typeof Pe&&"number"!=typeof Pe&&(Fi=Pe,ft=Le[pe.text]||"",Jt=f(Le._id)?Le[pe.id]:Le._id,Vt=!(!Pe.hasOwnProperty("isHeader")||!Pe.isHeader)),Ae&&Ae.enableHtmlSanitizer&&(ft=ft);const xi=Ie("li",{className:(!0===Vt?Lt.group:Lt.li)+" "+(f(ve)?"":ve),attrs:""!==We.groupItemRole&&""!==We.itemRole?{role:!0===Vt?We.groupItemRole:We.itemRole}:{}});if(f(Jt)?xi.setAttribute("data-uid",z()):xi.setAttribute("data-uid",Jt),Vt&&Ae&&Ae.groupTemplate){const ci=eb(Ae.groupTemplate);if(de&&"listview"!==de.getModuleName()){const mt=ci(Pe,de,"groupTemplate",ye.groupTemplateID,!!ye.isStringTemplate,null,xi);mt&&Ge(mt,xi)}else Ge(ci(Pe,de,"groupTemplate",ye.groupTemplateID,!!ye.isStringTemplate),xi)}else if(!Vt&&Ae&&Ae.template){const ci=eb(Ae.template);if(de&&"listview"!==de.getModuleName()){const mt=ci(Pe,de,"template",ye.templateID,!!ye.isStringTemplate,null,xi);mt&&Ge(mt,xi)}else Ge(ci(Pe,de,"template",ye.templateID,!!ye.isStringTemplate),xi)}else{const ci=Ie("div",{className:Lt.textContent,attrs:""!==We.wrapperRole?{role:We.wrapperRole}:{}});if(Fi&&(Le[pe.url]||Le[pe.urlAttributes]&&Le[pe.urlAttributes].href))ci.appendChild(Fe(Ie,Fi,pe,ft,null,ye.itemNavigable));else{const mt=Ie("span",{className:Lt.text,attrs:""!==We.itemText?{role:We.itemText}:{}});Ae&&Ae.enableHtmlSanitizer?mt.innerText=ft:mt.innerHTML=ft,ci.appendChild(mt)}xi.appendChild(ci)}return xi}function Be(Ie,Pe,Le,pe){const ve=ae({},t,pe),Ae=ae({},e,ve.ariaAttributes);Lt=ce(ve.moduleName);const de=Ie("ul",{className:Lt.ul+" "+(f(Le)?"":Le),attrs:""!==Ae.listRole?{role:Ae.listRole}:{}});return Ge(Pe,de),de}r.createList=function(Ie,Pe,Le,pe,ve){const Ae=ae({},t,Le),de=ae({},e,Ae.ariaAttributes),ye=S(Pe).typeof;return"string"===ye||"number"===ye?s(Ie,Pe,pe,Le,ve):o(Ie,Pe,Le,de.level,pe,ve)},r.createListFromArray=s,r.createListItemFromArray=n,r.createListItemFromJson=a,r.createListFromJson=o,r.getSiblingLI=function(Ie,Pe,Le){if(Lt=ce(t.moduleName),!Ie||!Ie.length)return;let pe,ve;const Ae=Array.prototype.slice.call(Ie);for(ve=Pe?d(Pe,Ae):!0===Le?Ae.length:-1,pe=Ae[ve+(!0===Le?-1:1)];pe&&(!sn(pe)||pe.classList.contains(Lt.disabled));)ve+=!0===Le?-1:1,pe=Ae[ve];return pe},r.indexOf=d,r.groupDataSource=function(Ie,Pe,Le="None"){const pe=ae({},r.defaultMappedFields,Pe);let ve=(new kt).group(pe.groupBy);ve=v(Le,"key",ve);const Ae=C(Ie,ve);Ie=[];for(let de=0;de<Ae.length;de++){const ye=Ae[de].items,We={},ft="isHeader";We[pe.text]=Ae[de].key,We[ft]=!0;let Jt=pe.text;"id"===Jt&&(Jt="text",We[Jt]=Ae[de].key),We._id="group-list-item-"+(Ae[de].key?Ae[de].key.toString().trim():"undefined"),We.items=ye,Ie.push(We);for(let Vt=0;Vt<ye.length;Vt++)Ie.push(ye[Vt])}return Ie},r.addSorting=v,r.getDataSource=C,r.createJsonFromElement=function w(Ie,Pe){const Le=ae({},t,Pe),pe=ae({},r.defaultMappedFields,Le.fields),ve=Ie.cloneNode(!0),Ae=[];ve.classList.add("json-parent");const de=ve.querySelectorAll(".json-parent>li");ve.classList.remove("json-parent");for(let ye=0;ye<de.length;ye++){const We=de[ye],ft=We.querySelector("a"),Jt=We.querySelector("ul"),Vt={},Fi=ft?ft.childNodes:We.childNodes,xi=Object.keys(Fi);for(let mt=0;mt<Fi.length;mt++)Fi[Number(xi[mt])].hasChildNodes()||(Vt[pe.text]=Fi[Number(xi[mt])].textContent);let ci=O(We);ci.id?(Vt[pe.id]=ci.id,delete ci.id):Vt[pe.id]=z(),Object.keys(ci).length&&(Vt[pe.htmlAttributes]=ci),ft&&(ci=O(ft),Object.keys(ci).length&&(Vt[pe.urlAttributes]=ci)),Jt&&(Vt[pe.child]=w(Jt,Pe)),Ae.push(Vt)}return Ae},r.renderContentTemplate=function(Ie,Pe,Le,pe,ve,Ae){Lt=ce(t.moduleName);const de=Ie("ul",{className:Lt.ul,attrs:{role:"presentation"}}),ye=ae({},t,ve),We=ae({},r.defaultMappedFields,pe),ft=eb(Pe),Jt=[];let Vt;const Fi=z();for(let xi=0;xi<Le.length;xi++){let ci=Ag(Le[xi],We);const mt=Le[xi],se=mt.isHeader;Vt="string"==typeof Le[xi]||"number"==typeof Le[xi]?mt:ci[We.value],ye.itemCreating&&"function"==typeof ye.itemCreating&&ye.itemCreating({dataSource:Le,curData:mt,text:Vt,options:ye,fields:We}),ye.itemCreating&&"function"==typeof ye.itemCreating&&(ci=Ag(Le[xi],We),Vt="string"==typeof Le[xi]||"number"==typeof Le[xi]?mt:ci[We.value]);const ue=Ie("li",{id:Fi+"-"+xi,className:se?Lt.group:Lt.li,attrs:{role:"presentation"}});if(se)ue.innerText="string"==typeof Le[xi]||"number"==typeof Le[xi]?mt:ci[We.text];else{const Qe=se?ye.groupTemplateID:ye.templateID;if(se)if(Ae&&"listview"!==Ae.getModuleName()){const Ct=ft(mt,Ae,"headerTemplate",Qe,!!ye.isStringTemplate,null,ue);Ct&&Ge(Ct,ue)}else Ge(ft(mt,Ae,"headerTemplate",Qe,!!ye.isStringTemplate),ue);else if(Ae&&"listview"!==Ae.getModuleName()){const Ct=ft(mt,Ae,"template",Qe,!!ye.isStringTemplate,null,ue);Ct&&Ge(Ct,ue)}else Ge(ft(mt,Ae,"template",Qe,!!ye.isStringTemplate),ue);ue.setAttribute("data-value",f(Vt)?"null":Vt),ue.setAttribute("role","option")}ye.itemCreated&&"function"==typeof ye.itemCreated&&ye.itemCreated({dataSource:Le,curData:mt,text:Vt,item:ue,options:ye,fields:We}),Jt.push(ue)}return Ge(Jt,de),de},r.renderGroupTemplate=function(Ie,Pe,Le,pe,ve,Ae){const de=eb(Ie),ye=ae({},r.defaultMappedFields,Le),We=ae({},t,ve),ft=ye.groupBy;for(const Jt of pe){const Vt={};if(Vt[ft]=Jt.textContent,Jt.innerHTML="",Ae&&"listview"!==Ae.getModuleName()){const Fi=de(Vt,Ae,"groupTemplate",We.groupTemplateID,!!We.isStringTemplate,null,Jt);Fi&&Ge(Fi,Jt)}else Ge(de(Vt,Ae,"groupTemplate",We.groupTemplateID,!!We.isStringTemplate),Jt)}return pe},r.generateId=z,r.generateUL=Be,r.generateIcon=function(Ie,Pe,Le,pe){const ve=ae({},t,pe);return Lt=ce(ve.moduleName),("Left"===ve.expandIconPosition?Mi:Ge)([Ie("div",{className:"e-icons "+ve.expandIconClass+" "+(f(Le)?"":Le)})],Pe.querySelector("."+Lt.textContent)),Pe}}(Ti||(Ti={}));var hl,vr=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let Ro=hl=class extends al{constructor(e,t){super(t,e),this.getHelper=i=>{let n,s=this.getSortableElement(i.sender.target);return!!this.isValidTarget(s,this)&&(this.helper?n=this.helper({sender:s,element:i.element}):(n=s.cloneNode(!0),n.style.width=`${s.offsetWidth}px`,n.style.height=`${s.offsetHeight}px`),L([n],["e-sortableclone"]),document.body.appendChild(n),n)},this.onDrag=i=>{this.trigger("drag",{event:i.event,element:this.element,target:i.target});let s=this.getSortableInstance(i.target),n=this.getSortableElement(i.target,s);if((this.isValidTarget(n,s)||i.target.className.indexOf("e-list-group-item")>-1)&&(this.curTarget!==n||!f(s.placeHolder))&&(!s.placeHolderElement||s.placeHolderElement!==i.target)){if(i.target.className.indexOf("e-list-group-item")>-1&&(n=i.target),this.curTarget=n,this.target===n)return;let a=this.getIndex(s.placeHolderElement,s);const o=this.getPlaceHolder(n,s);let h;if(o){a=f(a)?this.getIndex(this.target):a,h=this.getIndex(n,s,i.event);const d=this.isPlaceHolderPresent(s);if(d&&a===h)return;d&&nt(s.placeHolderElement),s.placeHolderElement=o,i.target.className.indexOf("e-list-group-item")>-1?s.element.insertBefore(s.placeHolderElement,s.element.children[h]):s.element!==this.element&&h===s.element.childElementCount?s.element.appendChild(s.placeHolderElement):s.element.insertBefore(s.placeHolderElement,s.element.children[h]),this.refreshDisabled(a,h,s)}else{a=f(a)?this.getIndex(this.target):this.getIndex(n,s)<a||!a?a:a-1,h=this.getIndex(n,s);const d=s.element!==this.element?h:a<h?h+1:h;this.updateItemClass(s),s.element.insertBefore(this.target,s.element.children[d]),this.refreshDisabled(a,h,s),this.curTarget=this.target,this.trigger("drop",{droppedElement:this.target,element:s.element,previousIndex:a,currentIndex:h,target:i.target,helper:document.getElementsByClassName("e-sortableclone")[0],event:i.event,scope:this.scope})}}if(s=this.getSortableInstance(this.curTarget),f(n)&&i.target!==s.placeHolderElement)this.isPlaceHolderPresent(s)&&this.removePlaceHolder(s);else{let o;[].slice.call(document.getElementsByClassName("e-sortable-placeholder")).forEach(h=>{o=this.getSortableInstance(h),o.element&&o!==s&&this.removePlaceHolder(o)})}},this.onDragStart=i=>{this.target=this.getSortableElement(i.target);let s=!1;this.target.classList.add("e-grabbed"),this.curTarget=this.target,i.helper=document.getElementsByClassName("e-sortableclone")[0],this.trigger("beforeDragStart",{cancel:!1,element:this.element,target:this.target},a=>{a.cancel&&(s=a.cancel,this.onDragStop(i))}),!s&&this.trigger("dragStart",yt?{event:i.event,element:this.element,target:this.target,bindEvents:i.bindEvents,dragElement:i.dragElement}:{event:i.event,element:this.element,target:this.target})},this.onDragStop=i=>{let n,a,o,s=this.getSortableInstance(this.curTarget);n=this.getIndex(this.target);const h=this.isPlaceHolderPresent(s);if(h){const d=this.getIndex(s.placeHolderElement,s);this.trigger("beforeDrop",{previousIndex:n,currentIndex:d,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1,handled:!1},v=>{if(!v.cancel){if(o=v.handled,this.updateItemClass(s),v.handled){const w=this.target.cloneNode(!0);this.target.classList.remove("e-grabbed"),this.target=w}s.element.insertBefore(this.target,s.placeHolderElement);const C=this.getIndex(this.target,s);n=this===s&&n-C>1?n-1:n,this.trigger("drop",{event:i.event,element:s.element,previousIndex:n,currentIndex:C,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope,handled:o})}nt(s.placeHolderElement)})}s=this.getSortableInstance(i.target),a=s.element.childElementCount,n=this.getIndex(this.target),(s.element===i.target||!h&&this.curTarget===this.target)&&this.trigger("beforeDrop",{previousIndex:n,currentIndex:this.curTarget===this.target?n:a,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1},m=>{s.element===i.target&&!m.cancel&&(this.updateItemClass(s),s.element.appendChild(this.target),this.trigger("drop",{event:i.event,element:s.element,previousIndex:n,currentIndex:a,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope}))}),this.target.classList.remove("e-grabbed"),this.target=null,this.curTarget=null,nt(i.helper),sa(this.element,ms).intDestroy(i.event)},this.bind()}bind(){this.element.id||(this.element.id=$i("sortable")),this.itemClass||(this.itemClass="e-sort-item",this.dataBind()),this.initializeDraggable()}initializeDraggable(){new ms(this.element,{helper:this.getHelper,dragStart:this.onDragStart,drag:this.onDrag,dragStop:this.onDragStop,dragTarget:`.${this.itemClass}`,enableTapHold:!0,tapHoldThreshold:200,queryPositionInfo:this.queryPositionInfo,distance:5})}getPlaceHolder(e,t){if(t.placeHolder){const i=t.placeHolder({element:t.element,grabbedElement:this.target,target:e});return i.classList.add("e-sortable-placeholder"),i}return null}isValidTarget(e,t){return e&&by(e,t.element)&&e.classList.contains(t.itemClass)&&!e.classList.contains("e-disabled")}removePlaceHolder(e){nt(e.placeHolderElement),e.placeHolderElement=null}updateItemClass(e){this!==e&&(this.target.classList.remove(this.itemClass),this.target.classList.add(e.itemClass))}getSortableInstance(e){if(e=U(e,`.e-${this.getModuleName()}`)){const t=sa(e,hl);return t.scope&&this.scope&&t.scope===this.scope?t:this}return this}refreshDisabled(e,t,i){if(i===this){let s;const n=e<t;let a,o=n?e:t;const h=n?t:e;for(;o<=h;)s=this.element.children[o],s.classList.contains("e-disabled")?(a=this.getIndex(s),this.element.insertBefore(s,this.element.children[n?a+2:a-1]),o=n?a+2:a+1):o++}}getIndex(e,t=this,i){let s,n;return[].slice.call(t.element.children).forEach((a,o)=>{if(a.classList.contains("e-sortable-placeholder")&&(n=!0),a!==e);else if(s=o,!f(i)){n&&(s-=1);const h=e.getBoundingClientRect();s=i.clientY<=h.bottom-(h.bottom-h.top)/2?s:s+1}}),s}getSortableElement(e,t=this){return U(e,`.${t.itemClass}`)}queryPositionInfo(e){return e.left=pageXOffset?parseFloat(e.left)-pageXOffset+"px":e.left,e.top=pageYOffset?parseFloat(e.top)-pageYOffset+"px":e.top,e}isPlaceHolderPresent(e){return e.placeHolderElement&&!!U(e.placeHolderElement,`#${e.element.id}`)}moveTo(e,t,i){ib(this.element,e,t,i)}destroy(){"e-sort-item"===this.itemClass&&(this.itemClass=null,this.dataBind()),sa(this.element,ms).destroy(),super.destroy()}getModuleName(){return"sortable"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"itemClass":[].slice.call(this.element.children).forEach(s=>{s.classList.contains(t.itemClass)&&s.classList.remove(t.itemClass),e.itemClass&&s.classList.add(e.itemClass)})}}};function ib(r,e,t,i){let s=[];if(e||(e=r),t&&t.length?t.forEach(n=>{s.push(r.children[n])}):s=[].slice.call(r.children),f(i))s.forEach(n=>{e.appendChild(n)});else{const n=e.children[i];s.forEach(a=>{e.insertBefore(a,n)})}}vr([T(!1)],Ro.prototype,"enableAnimation",void 0),vr([T(null)],Ro.prototype,"itemClass",void 0),vr([T(null)],Ro.prototype,"scope",void 0),vr([T()],Ro.prototype,"helper",void 0),vr([T()],Ro.prototype,"placeHolder",void 0),vr([$()],Ro.prototype,"drag",void 0),vr([$()],Ro.prototype,"beforeDragStart",void 0),vr([$()],Ro.prototype,"dragStart",void 0),vr([$()],Ro.prototype,"beforeDrop",void 0),vr([$()],Ro.prototype,"drop",void 0),Ro=hl=vr([oi],Ro);var xg=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};function sb(r,e){const t=ae({},r);for(const i of Object.keys(t))e.indexOf(i)<0&&cS(t,i);return t}function oN(r,e){const t=40===e?0:r.childElementCount-1;let s,i=t;const n=r.querySelector(".e-selected");n&&n.classList.remove("e-selected");for(let a=0,o=r.children.length;a<o;a++)r.children[a].classList.contains("e-focused")&&(s=r.children[a],i=a,s.classList.remove("e-focused"),40===e?i++:i--,i===(40===e?r.childElementCount:-1)&&(i=t));s=r.children[i],i=cO(r,s,i,e),-1!==i&&(L([r.children[i]],"e-focused"),r.children[i].focus())}function cO(r,e,t,i,s=0){if((e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(40===i?r.childElementCount-1:0)?t=40===i?0:r.childElementCount-1:40===i?t++:t--),(e=r.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++s===r.childElementCount)return-1;t=cO(r,e,t,i,s)}return t}let df=(()=>{class r extends hi{}return xg([T("")],r.prototype,"iconCss",void 0),xg([T("")],r.prototype,"id",void 0),xg([T(!1)],r.prototype,"separator",void 0),xg([T("")],r.prototype,"text",void 0),xg([T("")],r.prototype,"url",void 0),xg([T(!1)],r.prototype,"disabled",void 0),r})();var wa=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let Lr=class extends hs{constructor(e,t){super(e,t),this.isPopupCreated=!0}preRender(){}getPersistData(){return this.addOnPersist([])}toggle(){this.canOpen()?this.openPopUp():this.closePopup()}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}addItems(e,t){let i,s=this.items.length;for(let n=0,a=this.items.length;n<a;n++)if(t===this.items[n].text){s=n;break}for(let n=e.length-1;n>=0;n--)i=new df(this,"items",e[n],!0),this.items.splice(s,0,i);this.canOpen()||this.createItems()}removeItems(e,t){let i=!1;for(let s=0,n=e.length;s<n;s++)for(let a=0,o=this.items.length;a<o;a++)if(e[s]===(t?this.items[a].id:this.items[a].text)){this.items.splice(a,1),i=!0;break}i&&this.getULElement()&&this.createItems()}createPopup(){const e=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new Wn(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),Te(this.element,{"aria-haspopup":this.items.length||this.target?"true":"false","aria-expanded":"false","aria-owns":this.getPopUpElement().id,type:"button","aria-label":this.element.textContent+" dropdownbutton"}),this.cssClass&&L([e],this.cssClass.split(" ")),this.isPopupCreated=!0}getTargetElement(){return"string"==typeof this.target?J(this.target):this.target}createItems(e){const t=this.items,i=this.hasIcon(this.items,"iconCss");let s,n,a,o,h=this.getULElement();h?h.innerHTML="":h=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(let d=0;d<t.length;d++){n=t[d];const m=this.enableHtmlSanitizer?nn.sanitize(n.text):n.text;a=this.createElement("li",{innerHTML:n.url?"":m,className:n.separator?"e-item e-separator":"e-item",attrs:{role:"menuItem",tabindex:"-1"},id:n.id?n.id:$i("e-"+this.getModuleName()+"-item")}),n.url&&(a.appendChild(this.createAnchor(n)),a.classList.add("e-url")),n.iconCss?(s=this.createElement("span",{className:"e-menu-icon "+n.iconCss}),n.url?a.childNodes[0].appendChild(s):a.insertBefore(s,a.childNodes[0])):i&&!n.separator&&a.classList.add("e-blank-icon"),n.disabled&&a.classList.add("e-disabled"),o={item:n,element:a},this.trigger("beforeItemRender",o),h.appendChild(a)}e&&this.getPopUpElement().appendChild(h),i&&function(r){const e=[].slice.call(r.getElementsByClassName("e-blank-icon"));if(!e.length)return;let t=r.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");t.classList.contains("e-url")&&(t=t.querySelector(".e-menu-url"));const i=t.querySelector(".e-menu-icon");let s;const n=r.classList.contains("e-rtl");s=n?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};let a=`${parseInt(getComputedStyle(i).fontSize,10)+parseInt(getComputedStyle(i)[s.margin],10)+parseInt(getComputedStyle(t).paddingLeft,10)}px`;e.forEach(o=>{o.classList.contains("e-url")?o.querySelector(".e-menu-url").style[s.padding]=a:o.style[s.padding]=a})}(this.getPopUpElement())}hasIcon(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}createAnchor(e){const t=this.enableHtmlSanitizer?nn.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})}initialize(){this.button=new ll({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=$i("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()||!this.createPopupOnClick?this.createPopup():this.isPopupCreated=!1}isColorPicker(){if(!this.element)return!1;const e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))}appendArrowSpan(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))}setActiveElem(e){this.activeElem=e}getModuleName(){return"dropdown-btn"}canOpen(){let e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e}destroy(){if(super.destroy(),"dropdown-btn"===this.getModuleName()){let e;this.element.querySelector("span.e-caret")&&oe(this.element.querySelector("span.e-caret")),this.cssClass&&(e=this.cssClass.split(" ")),this.button.destroy(),e&&H([this.element],e),H(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents()}}destroyPopup(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){const e=document.getElementById(this.getPopUpElement().id);e&&(H([e],["e-popup-open","e-popup-close"]),oe(e))}A.remove(this.getPopUpElement(),"click",this.clickHandler),A.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&(this.dropDown=void 0)}this.isPopupCreated=!1}getPopUpElement(){let e=null;return this.dropDown&&(e=this.dropDown.element),e}getULElement(){let e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e}wireEvents(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||A.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),A.add(this.element,"click",this.clickHandler,this),A.add(this.element,"keydown",this.keyBoardHandler,this)}popupWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&A.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(A.add(e,"click",this.clickHandler,this),A.add(e,"keydown",this.keyBoardHandler,this)),this.rippleFn=Ts(e,{selector:".e-item"})}popupUnWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&A.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(A.remove(e,"click",this.clickHandler),A.remove(e,"keydown",this.keyBoardHandler))}keyBoardHandler(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}}upDownKeyHandler(e){this.target&&(38===e.keyCode||40===e.keyCode)||(e.preventDefault(),oN(this.getULElement(),e.keyCode))}keyEventHandler(e){this.target&&(13===e.keyCode||9===e.keyCode)||e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}getLI(e){return"LI"===e.tagName?e:U(e,"li")}mousedownHandler(e){const t=e.target;this.dropDown&&!this.canOpen()&&!U(t,'[id="'+this.getPopUpElement().id+'"]')&&!U(t,'[id="'+this.element.id+'"]')&&this.closePopup(e)}clickHandler(e){const t=e.target;if(U(t,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&!this.isColorPicker()?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(U(t,'[id="'+this.getPopUpElement().id+'"]')){let i,s,n;const a=this.getLI(t);a&&(s=Array.prototype.indexOf.call(this.getULElement().children,a),n=this.items[s],n&&(i={element:a,item:n},this.trigger("select",i)),this.closePopup(e,this.activeElem[0]))}}openPopUp(e=null){this.target||this.createItems(!0);const t=this.getULElement();this.popupWireEvents(),this.trigger("beforeOpen",{element:t,items:this.items,event:e,cancel:!1},s=>{if(!s.cancel){const n=this.getULElement();this.dropDown.show(null,this.element),L([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),n.focus(),this.trigger("open",{element:n,items:this.items})}})}closePopup(e=null,t){const s={element:this.getULElement(),items:this.items,event:e,cancel:!1};let n=this.getPopUpElement();n&&A.remove(n,"keydown",this.keyBoardHandler),this.trigger("beforeClose",s,a=>{if(!a.cancel){this.popupUnWireEvents();const o=this.getULElement(),h=o.querySelector(".e-selected");h&&h.classList.remove("e-selected"),this.dropDown.hide(),H(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),t&&t.focus(),this.trigger("close",{element:o,items:this.items}),!this.target&&o&&oe(o),(!this.target||this.isColorPicker())&&this.createPopupOnClick&&this.destroyPopup(),this.target&&(this.isPopupCreated=!this.createPopupOnClick)}})}unWireEvents(){this.createPopupOnClick||A.remove(document,"mousedown touchstart",this.delegateMousedownHandler),A.remove(this.element,"click",this.clickHandler),A.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(A.remove(this.getPopUpElement(),"click",this.clickHandler),A.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))}onPropertyChanged(e,t){let s;this.button.setProperties(sb(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(s=this.getPopUpElement(),this.dropDown.setProperties(sb(e,["enableRtl"])));for(const n of Object.keys(e))switch(n){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":e.cssClass.indexOf("e-vertical")>-1&&On(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]),this.isPopupCreated&&(t.cssClass&&H([s],t.cssClass.split(" ")),e.cssClass&&L([s],e.cssClass.split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}}focusIn(){this.element.focus()}};wa([T("")],Lr.prototype,"content",void 0),wa([T("")],Lr.prototype,"cssClass",void 0),wa([T(!1)],Lr.prototype,"disabled",void 0),wa([T("")],Lr.prototype,"iconCss",void 0),wa([T("Left")],Lr.prototype,"iconPosition",void 0),wa([T(!1)],Lr.prototype,"enableHtmlSanitizer",void 0),wa([Va([],df)],Lr.prototype,"items",void 0),wa([T(!1)],Lr.prototype,"createPopupOnClick",void 0),wa([T("")],Lr.prototype,"target",void 0),wa([$()],Lr.prototype,"beforeItemRender",void 0),wa([$()],Lr.prototype,"beforeOpen",void 0),wa([$()],Lr.prototype,"beforeClose",void 0),wa([$()],Lr.prototype,"close",void 0),wa([$()],Lr.prototype,"open",void 0),wa([$()],Lr.prototype,"select",void 0),wa([$()],Lr.prototype,"created",void 0),Lr=wa([oi],Lr);var la=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const nb="e-rtl",Ig="EJS-SPLITBUTTON";let Qr=class extends Lr{constructor(e,t){super(e,t)}preRender(){let e=this.element;if(e.tagName===Ig){const t=X("ej2_instances",e),i=this.createElement("button",{attrs:{type:"button"}}),s=this.createElement(Ig,{className:"e-"+this.getModuleName()+"-wrapper"});for(let n=0,a=e.attributes.length;n<a;n++)i.setAttribute(e.attributes[n].nodeName,e.attributes[n].nodeValue);e.parentNode.insertBefore(s,e),oe(e),e=i,s.appendChild(e),At("ej2_instances",t,e),this.wrapper=s,this.element=e}this.element.id||(this.element.id=$i("e-"+this.getModuleName()))}render(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()}renderControl(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()}addItems(e,t){super.addItems(e,t),this.secondaryBtnObj.items=this.items}removeItems(e,t){super.removeItems(e,t),this.secondaryBtnObj.items=this.items}initWrapper(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(nb),this.cssClass&&L([this.wrapper],this.cssClass.split(" "))}createPrimaryButton(){this.primaryBtnObj=new ll({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)}createSecondaryButton(){const e=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(e);const t={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick};t.beforeItemRender=i=>{this.createPopupOnClick&&(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.trigger("beforeItemRender",i)},t.open=i=>{this.trigger("open",i)},t.close=i=>{this.trigger("close",i)},t.select=i=>{this.trigger("select",i)},t.beforeOpen=i=>{const s=new rb;return this.trigger("beforeOpen",i,n=>{s.resolve(n)}),s},t.beforeClose=i=>{const s=new rb;return this.trigger("beforeClose",i,n=>{s.resolve(n)}),s},this.secondaryBtnObj=new Lr(t),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(e),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")}setAria(){Te(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})}getModuleName(){return"split-btn"}toggle(){this.secondaryBtnObj.toggle()}destroy(){let e=[nb];if(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),this.element){const t=document.getElementById(this.element.id);t&&t.parentElement===this.wrapper&&(this.wrapper.tagName===Ig?(this.wrapper.innerHTML="",H([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),H([this.wrapper],this.cssClass.split(" "))):(H([this.element],e),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(i=>{this.element.removeAttribute(i)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),nt(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),super.destroy(),this.element.getAttribute("class")||this.element.removeAttribute("class")}wireEvents(){A.add(this.element,"click",this.primaryBtnClickHandler,this),new rt(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})}unWireEvents(){A.remove(this.element,"click",this.primaryBtnClickHandler),eo(this.element,rt).destroy()}primaryBtnClickHandler(){this.trigger("click",{element:this.element})}btnKeyBoardHandler(e){switch(e.action){case"altdownarrow":this.clickHandler(e)}}onPropertyChanged(e,t){let i=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(sb(e,i)),i=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(sb(e,i));for(const s of Object.keys(e))switch(s){case"cssClass":t.cssClass&&H([this.wrapper],t.cssClass.split(" ")),L([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?L([this.wrapper],nb):H([this.wrapper],nb)}}focusIn(){this.element.focus()}};la([T("")],Qr.prototype,"content",void 0),la([T("")],Qr.prototype,"cssClass",void 0),la([T(!1)],Qr.prototype,"disabled",void 0),la([T("")],Qr.prototype,"iconCss",void 0),la([T("Left")],Qr.prototype,"iconPosition",void 0),la([T(!1)],Qr.prototype,"createPopupOnClick",void 0),la([Va([],df)],Qr.prototype,"items",void 0),la([T("")],Qr.prototype,"target",void 0),la([$()],Qr.prototype,"beforeItemRender",void 0),la([$()],Qr.prototype,"beforeOpen",void 0),la([$()],Qr.prototype,"beforeClose",void 0),la([$()],Qr.prototype,"click",void 0),la([$()],Qr.prototype,"close",void 0),la([$()],Qr.prototype,"open",void 0),la([$()],Qr.prototype,"select",void 0),la([$()],Qr.prototype,"created",void 0),Qr=la([oi],Qr);class rb{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}var gn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const kg="e-hide-spinner",m0="e-progress",pf="e-progress-active",Du="e-btn-content";class Mg extends hi{}gn([T(null)],Mg.prototype,"template",void 0),gn([T(16)],Mg.prototype,"width",void 0),gn([T("Left")],Mg.prototype,"position",void 0);class Og extends hi{}gn([T(400)],Og.prototype,"duration",void 0),gn([T("None")],Og.prototype,"effect",void 0),gn([T("ease")],Og.prototype,"easing",void 0);let yr=class extends ll{constructor(e,t){super(e,t),this.step=1}preRender(){super.preRender()}render(){super.render(),this.init(),this.wireEvents(),this.setAria(),this.renderComplete()}start(e){this.isPaused=!1,this.startProgress(e||this.percent,this.progressTime)}stop(){this.isPaused=!0,cancelAnimationFrame(this.timerId)}progressComplete(){this.isPaused=!1,this.finishProgress()}getModuleName(){return"progress-btn"}destroy(){let e=[kg,pf,"e-round-corner","e-"+super.getModuleName(),"e-spin-"+this.spinSettings.position.toLowerCase()];super.destroy(),this.unWireEvents(),this.element.innerHTML="",this.cssClass&&(e=e.concat(this.cssClass.split(" "))),H([this.element],e),(this.element.getAttribute("class")?["aria-label","aria-valuemin","aria-valuemax","aria-valuenow"]:["aria-label","aria-valuemin","aria-valuemax","aria-valuenow","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.disabled&&this.element.removeAttribute("disabled")}init(){this.element.classList.add("e-"+super.getModuleName()),this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress()}createSpinner(){const e=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(e),wc({target:e,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)}getSpinner(){return this.element.getElementsByClassName("e-spinner")[0]}getProgress(){return this.element.getElementsByClassName(m0)[0]}setSpinPosition(e){const t=this.spinSettings.position||"Left";"Left"===t||"Top"===t?this.element.insertBefore(e,this.element.getElementsByClassName(Du)[0]):this.element.appendChild(e),this.element.classList.add("e-spin-"+t.toLowerCase())}createProgress(){this.element.appendChild(this.createElement("span",{className:m0}))}setContent(){let e;e=this.element.innerHTML,this.enableHtmlSanitizer&&(e=nn.sanitize(this.element.innerHTML)),this.element.innerHTML="",this.element.appendChild(this.createElement("span",{className:Du,innerHTML:e}))}setContentIcon(e){const t=this.createElement("span",{className:Du,innerHTML:e});if(this.iconCss){const i=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(i.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const s=t.childNodes[0];!s||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?t.appendChild(i):t.insertBefore(i,s)}this.element.appendChild(t)}clickHandler(){this.element.classList.contains(pf)||this.startProgress()}startProgress(e,t){const i=this.element.classList,s=i.contains("e-vertical");i.add(pf),i.contains(kg)||so(this.element),this.startAnimate(Date.now(),t||0,t?Date.now()-1*this.duration/100:Date.now(),e||0,0,this.step,0,s),this.startContAnimate()}startAnimate(e,t,i,s,n,a,o,h){try{const d=e-i,m=this.duration*a/100,v=d?d<m?d-m:d%m:0;this.progressTime=t=t+d-v,i=e-v,s+=(d-v)/this.duration*100;const C={percent:n=(t-o)%m==0||100===s?s:n,currentDuration:t,step:a};this.eIsVertical=h,this.trigger(0===s?"begin":100===s||t===this.duration?"end":"progress",C,w=>{this.successCallback(w,s,n,t,o,v,i)})}catch(d){cancelAnimationFrame(this.timerId),this.trigger("fail",d)}}successCallback(e,t,i,s,n,a,o){let h=t,d=i;const m=a,v=s;let C=n;const w=o,S=this.eIsVertical;h!==e.percent&&e.percent!==d&&(h=e.percent),this.percent=h,this.step=e.step,((v-C)%(this.duration*e.step/100)==0||100===h)&&(this.timerId=requestAnimationFrame(()=>{this.enableProgress&&(this.getProgress().style[S?"height":"width"]=h+"%"),this.element.setAttribute("aria-valuenow",h.toString())}),d=h,C=v),this.isPaused||(this.interval=v<this.duration&&h<100?window.setTimeout(()=>{this.startAnimate(Date.now(),v,w,h,d,e.step,C,S)},this.duration/100-m):window.setTimeout(()=>{this.progressTime=this.percent=0,this.enableProgress&&(this.getProgress().style[S?"height":"width"]="0%"),this.element.setAttribute("aria-valuenow","0"),this.hideSpin()},100))}startContAnimate(){const e=this.element.getElementsByClassName(Du)[0];"None"!==this.animationSettings.effect?new Gi({}).animate(e,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:()=>{"Center"===this.spinSettings.position&&this.setSpinnerSize()},end:()=>{e.classList.add("e-animate-end")}}):"Center"===this.spinSettings.position&&this.setSpinnerSize()}finishProgress(){const e=this.element.classList,t=e.contains("e-vertical");e.add(pf);for(let n=this.percent;n<100;n++)n+=10,n>100&&(n=100),this.enableProgress&&(this.getProgress().style[t?"height":"width"]=this.percent<100?n+"%":"100%");this.element.setAttribute("aria-valuenow","0"),this.hideSpin();const s={step:this.step,currentDuration:this.progressTime,percent:100};clearTimeout(this.interval),this.trigger("end",s),this.progressTime=this.percent=0}setSpinnerSize(){const e=this.element.getElementsByClassName(Du)[0],t=this.getSpinner();t.style.width=Math.max(t.offsetWidth,e.offsetWidth)+"px",t.style.height=Math.max(t.offsetHeight,e.offsetHeight)+"px",e.classList.add("e-cont-animate")}hideSpin(){const e=this.element.getElementsByClassName(Du)[0];if(this.element.classList.contains(kg)||no(this.element),this.element.classList.remove(pf),"None"!==this.animationSettings.effect&&e.classList.remove("e-animate-end"),"Center"===this.spinSettings.position){const t=this.getSpinner();e.classList.remove("e-cont-animate"),t.style.width="auto",t.style.height="auto"}}setIconSpan(){const e=this.element.getElementsByClassName(Du)[0],t=this.element.getElementsByClassName("e-btn-icon")[0];!e.childNodes[0]||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?e.appendChild(t):e.insertBefore(t,e.childNodes[0])}setAria(){Te(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})}wireEvents(){A.add(this.element,"click",this.clickHandler,this)}unWireEvents(){A.remove(this.element,"click",this.clickHandler)}onPropertyChanged(e,t){const i=this.element;let s=!1;this.element.querySelector(".e-spinner-pane").classList.contains("e-spin-show")&&(s=!0),super.onPropertyChanged(e,t);for(const a of Object.keys(e))switch(a){case"content":this.setContent(),this.createSpinner(),s&&(so(this.element),s=!1),this.enableProgress&&this.createProgress(),i.setAttribute("aria-label",i.textContent+" progress");break;case"iconCss":t.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":e.enableProgress?this.createProgress():nt(this.getProgress());break;case"spinSettings":e.spinSettings.position&&(i.classList.remove("e-spin-"+t.spinSettings.position.toLowerCase()),this.setSpinPosition(this.getSpinner())),(e.spinSettings.template||e.spinSettings.width)&&(i.removeChild(this.getSpinner()),this.createSpinner())}}focusIn(){this.element.focus()}};gn([T(!1)],yr.prototype,"enableProgress",void 0),gn([T(2e3)],yr.prototype,"duration",void 0),gn([T("Left")],yr.prototype,"iconPosition",void 0),gn([T("")],yr.prototype,"iconCss",void 0),gn([T(!1)],yr.prototype,"disabled",void 0),gn([T(!1)],yr.prototype,"isPrimary",void 0),gn([T("")],yr.prototype,"cssClass",void 0),gn([T("")],yr.prototype,"content",void 0),gn([T(!1)],yr.prototype,"isToggle",void 0),gn([T(!1)],yr.prototype,"enableHtmlSanitizer",void 0),gn([Ht({},Mg)],yr.prototype,"spinSettings",void 0),gn([Ht({},Og)],yr.prototype,"animationSettings",void 0),gn([$()],yr.prototype,"created",void 0),gn([$()],yr.prototype,"begin",void 0),gn([$()],yr.prototype,"progress",void 0),gn([$()],yr.prototype,"end",void 0),gn([$()],yr.prototype,"fail",void 0),yr=gn([oi],yr);var me;!function(r){let e,t=!0;function s(se){n(se.floatLabelType,se.element),se.element.addEventListener("focus",function(){const ue=k(this);(ue.classList.contains("e-input-group")||ue.classList.contains("e-outline")||ue.classList.contains("e-filled"))&&ue.classList.add("e-input-focus")}),se.element.addEventListener("blur",function(){const ue=k(this);(ue.classList.contains("e-input-group")||ue.classList.contains("e-outline")||ue.classList.contains("e-filled"))&&ue.classList.remove("e-input-focus")}),se.element.addEventListener("input",()=>{n(e,se.element)})}function n(se,ue){const Qe=ue.value;""!==Qe&&!f(Qe)&&ue.parentElement?ue.parentElement.classList.add("e-valid-input"):"Always"!==se&&ue.parentElement&&ue.parentElement.classList.remove("e-valid-input")}function a(){const se=k(this).getElementsByClassName("e-float-text")[0];f(se)||(L([se],"e-label-top"),se.classList.contains("e-label-bottom")&&H([se],"e-label-bottom"))}function o(){const se=k(this);if(se.getElementsByTagName("textarea")[0]?""===se.getElementsByTagName("textarea")[0].value:""===se.getElementsByTagName("input")[0].value){const ue=se.getElementsByClassName("e-float-text")[0];f(ue)||(ue.classList.contains("e-label-top")&&H([ue],"e-label-top"),L([ue],"e-label-bottom"))}}function h(se){se.addEventListener("focus",a),se.addEventListener("blur",o)}function m(se,ue,Qe){const Ct=f(Qe)?Q:Qe;"Auto"===se.floatLabelType&&h(se.element),f(ue.container)?(ue.container=z(se,"e-float-input","e-float-custom-tag","div",Ct),se.element.parentNode&&se.element.parentNode.insertBefore(ue.container,se.element)):(f(se.customTag)||ue.container.classList.add("e-float-custom-tag"),ue.container.classList.add("e-float-input"));const Bi=Ct("span",{className:"e-float-line"}),Ot=Ct("label",{className:"e-float-text"});if(!f(se.element.id)&&""!==se.element.id&&(Ot.id="label_"+se.element.id.replace(/ /g,"_"),Te(se.element,{"aria-labelledby":Ot.id})),!f(se.element.placeholder)&&""!==se.element.placeholder&&(Ot.innerText=Z(se.element.placeholder),se.element.removeAttribute("placeholder")),!f(se.properties)&&!f(se.properties.placeholder)&&""!==se.properties.placeholder&&(Ot.innerText=Z(se.properties.placeholder)),Ot.innerText||ue.container.classList.add("e-no-float-label"),ue.container.classList.contains("e-float-icon-left")){const Cs=ue.container.querySelector(".e-input-in-wrap");Cs.appendChild(se.element),Cs.appendChild(Bi),Cs.appendChild(Ot)}else ue.container.appendChild(se.element),ue.container.appendChild(Bi),ue.container.appendChild(Ot);S(se.element.value,Ot),"Always"===se.floatLabelType&&(Ot.classList.contains("e-label-bottom")&&H([Ot],"e-label-bottom"),L([Ot],"e-label-top")),"Auto"===se.floatLabelType&&(se.element.addEventListener("input",Cs=>{S(se.element.value,Ot)}),se.element.addEventListener("blur",Cs=>{S(se.element.value,Ot)})),f(se.element.getAttribute("id"))||Ot.setAttribute("for",se.element.getAttribute("id"))}function v(se,ue){"Always"===se&&ue.classList.contains("e-outline")&&ue.classList.add("e-valid-input")}function w(se,ue){se?H([ue],"e-clear-icon-hide"):L([ue],"e-clear-icon-hide")}function S(se,ue){se?(L([ue],"e-label-top"),ue.classList.contains("e-label-bottom")&&H([ue],"e-label-bottom")):(ue.classList.contains("e-label-top")&&H([ue],"e-label-top"),L([ue],"e-label-bottom"))}function k(se){let ue=f(se.parentNode)?se:se.parentNode;return ue&&ue.classList.contains("e-input-in-wrap")&&(ue=ue.parentNode),ue}function N(se,ue,Qe){(null==t||t)&&ue.addEventListener("click",Ct=>{se.classList.contains("e-disabled")||se.readOnly||(Ct.preventDefault(),se!==document.activeElement&&se.focus(),se.value="",L([ue],"e-clear-icon-hide"))}),se.addEventListener("input",Ct=>{w(se.value,ue)}),se.addEventListener("focus",Ct=>{w(se.value,ue)}),se.addEventListener("blur",Ct=>{setTimeout(()=>{L([ue],"e-clear-icon-hide")},200)})}function q(se,ue){if(k(se).classList.contains("e-float-input")&&"Auto"===ue){const Ct=k(se).getElementsByClassName("e-float-text")[0];S(se.value,Ct)}}function z(se,ue,Qe,Ct,Bi){const Ot=f(Bi)?Q:Bi;let Cs;return f(se.customTag)?Cs=Ot(Ct,{className:ue}):(Cs=Ot(se.customTag,{className:ue}),Cs.classList.add(Qe)),Cs.classList.add("e-control-wrapper"),Cs}function Z(se){let ue="";if(!f(se)&&""!==se){const Qe=document.createElement("span");Qe.innerHTML='<input  placeholder="'+se+'"/>',ue=Qe.children[0].placeholder}return ue}function ce(se,ue,Qe){!f(Qe)&&""!==Qe&&H(ue,Qe.split(" ")),!f(se)&&""!==se&&L(ue,se.split(" "))}function Se(se,ue){se=Z(se);const Qe=k(ue);Qe.classList.contains("e-float-input")?f(se)||""===se?(Qe.classList.add("e-no-float-label"),Qe.getElementsByClassName("e-float-text")[0].textContent=""):(Qe.getElementsByClassName("e-float-text")[0].textContent=se,Qe.classList.remove("e-no-float-label"),ue.removeAttribute("placeholder")):f(se)||""===se?(ue.removeAttribute("placeholder"),ue.removeAttribute("aria-placeholder")):Te(ue,{placeholder:se,"aria-placeholder":se})}function Be(se,ue,Qe){se?Te(ue,{readonly:""}):ue.removeAttribute("readonly"),f(Qe)||q(ue,Qe)}function ht(se,ue){se?L(ue,"e-rtl"):H(ue,"e-rtl")}function Ie(se,ue,Qe,Ct){const Bi={disabled:"disabled","aria-disabled":"true"},Ot=!f(Ct);se?(ue.classList.remove("e-disabled"),Le(Bi,ue),Ot&&H([Ct],"e-disabled")):(ue.classList.add("e-disabled"),pe(Bi,ue),Ot&&L([Ct],"e-disabled")),f(Qe)||q(ue,Qe)}function Pe(se,ue,Qe,Ct,Bi){const Ot=f(Bi)?Q:Bi;se?Qe.clearButton=function(se,ue,Qe,Ct){const Ot=(f(Ct)?Q:Ct)("span",{className:"e-clear-icon"}),Cs=ue.container;return f(Qe)?(ue.container.classList.contains("e-float-input")?ue.container.querySelector(".e-float-text"):se).insertAdjacentElement("afterend",Ot):Cs.appendChild(Ot),!f(Cs)&&Cs.classList.contains("e-float-input")&&L([Cs],"e-input-group"),L([Ot],"e-clear-icon-hide"),N(se,Ot),Ot.setAttribute("aria-label","close"),Ot}(ue,Qe,Ct,Ot):(nt(Qe.clearButton),Qe.clearButton=null)}function Le(se,ue){for(const Qe of Object.keys(se)){const Ct=k(ue);"disabled"===Qe&&ue.classList.remove("e-disabled"),"disabled"===Qe&&Ct.classList.contains("e-input-group")&&Ct.classList.remove("e-disabled"),"placeholder"===Qe&&Ct.classList.contains("e-float-input")?Ct.getElementsByClassName("e-float-text")[0].textContent="":ue.removeAttribute(Qe)}}function pe(se,ue){for(const Qe of Object.keys(se)){const Ct=k(ue);"disabled"===Qe&&ue.classList.add("e-disabled"),"disabled"===Qe&&Ct.classList.contains("e-input-group")&&Ct.classList.add("e-disabled"),"placeholder"===Qe&&Ct.classList.contains("e-float-input")?Ct.getElementsByClassName("e-float-text")[0].textContent=se[Qe]:ue.setAttribute(Qe,se[Qe])}}function ye(se,ue,Qe){const Ct=[];Ct.push(Qe);const Bi=f(Qe)?ue.querySelectorAll(".e-input-group-icon"):Ct;if(se&&Bi.length>0)for(let Ot=0;Ot<Bi.length;Ot++)Bi[Ot].addEventListener("mousedown",ft,!1),Bi[Ot].addEventListener("mouseup",Jt,!1);else if(Bi.length>0)for(let Ot=0;Ot<Bi.length;Ot++)Bi[Ot].removeEventListener("mousedown",ft,this),Bi[Ot].removeEventListener("mouseup",Jt,this)}function ft(){let ue=this.parentElement;for(;!ue.classList.contains("e-input-group");)ue=ue.parentElement;!function(se,ue){!se.classList.contains("e-disabled")&&!se.querySelector("input").readOnly&&ue.classList.add("e-input-btn-ripple")}(ue,this)}function Jt(){const se=this;setTimeout(()=>{se.classList.remove("e-input-btn-ripple")},500)}function Vt(se,ue){const Qe=ue("span",{className:se});return Qe.classList.add("e-input-group-icon"),Qe}function xi(se,ue,Qe,Ct){const Bi=f(Ct)?Q:Ct,Ot=Vt(se,Bi);ue.classList.add("e-float-icon-left");let Cs=ue.querySelector(".e-input-in-wrap");if(f(Cs)){Cs=Bi("span",{className:"e-input-in-wrap"}),Qe.parentNode.insertBefore(Cs,Qe);const rk=ue.querySelectorAll(Qe.tagName+" ~ *");Cs.appendChild(Qe);for(let Hc=0;Hc<rk.length;Hc++)Cs.appendChild(rk[Hc])}return Cs.parentNode.insertBefore(Ot,Cs),ue.classList.contains("e-input-group")||ue.classList.add("e-input-group"),ye(!0,ue,Ot),Ot}function ci(se,ue,Qe){const Bi=Vt(se,f(Qe)?Q:Qe);return ue.classList.contains("e-input-group")||ue.classList.add("e-input-group"),(ue.classList.contains("e-float-icon-left")?ue.querySelector(".e-input-in-wrap"):ue).appendChild(Bi),ye(!0,ue,Bi),Bi}function mt(se,ue){"hidden"===ue.type?se.classList.add("e-hidden"):se.classList.contains("e-hidden")&&se.classList.remove("e-hidden")}r.createInput=function(se,ue){const Qe=f(ue)?Q:ue;let Ct={container:null,buttons:[],clearButton:null};if(e=se.floatLabelType,t=se.bindClearAction,f(se.floatLabelType)||"Never"===se.floatLabelType?(Ct.container=z(se,"e-input-group","e-input-custom-tag","span",Qe),se.element.parentNode.insertBefore(Ct.container,se.element),L([se.element],"e-input"),Ct.container.appendChild(se.element)):m(se,Ct,Qe),s(se),!f(se.properties)&&!f(se.properties.showClearButton)&&se.properties.showClearButton&&"TEXTAREA"!==se.element.tagName&&(Pe(se.properties.showClearButton,se.element,Ct,!0,Qe),Ct.clearButton.setAttribute("role","button"),Ct.container.classList.contains("e-float-input")&&L([Ct.container],"e-input-group")),!f(se.buttons)&&"TEXTAREA"!==se.element.tagName)for(let Bi=0;Bi<se.buttons.length;Bi++)Ct.buttons.push(ci(se.buttons[Bi],Ct.container,Qe));return!f(se.element)&&"TEXTAREA"===se.element.tagName&&L([Ct.container],"e-multi-line-input"),mt(Ct.container,se.element),Ct=function(se,ue){if(!f(se.properties))for(const Qe of Object.keys(se.properties))switch(Qe){case"cssClass":ce(se.properties.cssClass,[ue.container]),v(se.floatLabelType,ue.container);break;case"enabled":Ie(se.properties.enabled,se.element,se.floatLabelType,ue.container);break;case"enableRtl":ht(se.properties.enableRtl,[ue.container]);break;case"placeholder":Se(se.properties.placeholder,se.element);break;case"readonly":Be(se.properties.readonly,se.element)}return ue}(se,Ct),Ct},r.bindInitialEvent=s,r.wireFloatingEvents=h,r.wireClearBtnEvents=N,r.setValue=function(se,ue,Qe,Ct){if(ue.value=se,!f(Qe)&&"Auto"===Qe&&q(ue,Qe),!f(Ct)&&Ct){const Bi=k(ue);if(!f(Bi)){const Ot=Bi.getElementsByClassName("e-clear-icon")[0];f(Ot)||(ue.value&&Bi.classList.contains("e-input-focus")?H([Ot],"e-clear-icon-hide"):L([Ot],"e-clear-icon-hide"))}}n(Qe,ue)},r.setCssClass=ce,r.setWidth=function(se,ue){"number"==typeof se?ue.style.width=fe(se):"string"==typeof se&&(ue.style.width=se.match(/px|%|em/)?se:fe(se))},r.setPlaceholder=Se,r.setReadonly=Be,r.setEnableRtl=ht,r.setEnabled=Ie,r.setClearButton=Pe,r.removeAttributes=Le,r.addAttributes=pe,r.removeFloating=function(se){const ue=se.container;if(!f(ue)&&ue.classList.contains("e-float-input")){const Qe=ue.querySelector("textarea")?ue.querySelector("textarea"):ue.querySelector("input"),Ct=ue.querySelector(".e-float-text").textContent,Bi=null!==ue.querySelector(".e-clear-icon");oe(ue.querySelector(".e-float-line")),oe(ue.querySelector(".e-float-text")),On(ue,["e-input-group"],["e-float-input"]),function(se){se.removeEventListener("focus",a),se.removeEventListener("blur",o)}(Qe),Te(Qe,{placeholder:Ct}),Qe.classList.add("e-input"),!Bi&&"INPUT"===Qe.tagName&&Qe.removeAttribute("required")}},r.addFloating=function(se,ue,Qe,Ct){const Bi=f(Ct)?Q:Ct,Ot=U(se,".e-input-group");if(e=ue,"Never"!==ue){let Cs=Ot.tagName;Cs="DIV"!==Cs&&"SPAN"!==Cs?Cs:null;const rk={element:se,floatLabelType:ue,customTag:Cs,properties:{placeholder:Qe}};let Hc=Ot.querySelector(".e-clear-icon");const Jie={container:Ot};se.classList.remove("e-input"),m(rk,Jie,Bi);const p2=Ot.classList.contains("e-float-icon-left");if(f(Hc)&&(Hc=p2?Ot.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):Ot.querySelector(".e-input-group-icon")),f(Hc))p2&&(Hc=Ot.querySelector(".e-input-group-icon")),f(Hc)&&Ot.classList.remove("e-input-group");else{const u6=Ot.querySelector(".e-float-line"),ese=Ot.querySelector(".e-float-text"),f2=p2?Ot.querySelector(".e-input-in-wrap"):Ot;f2.insertBefore(se,Hc),f2.insertBefore(u6,Hc),f2.insertBefore(ese,Hc)}}v(ue,se.parentElement)},r.setRipple=function(se,ue){for(let Qe=0;Qe<ue.length;Qe++)ye(se,ue[Qe].container)},r.addIcon=function(se,ue,Qe,Ct,Bi){const Ot="string"==typeof ue?ue.split(","):ue;if("append"===se.toLowerCase())for(const Cs of Ot)ci(Cs,Qe,Bi);else for(const Cs of Ot)xi(Cs,Qe,Ct,Bi)},r.prependSpan=xi,r.appendSpan=ci,r.validateInputType=mt}(me||(me={}));var rn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const g0="e-input-group-icon",v0="e-spin-up",y0="e-error",ff="increment",Rg="decrement",dO=new RegExp("^(-)?(\\d*)$"),BT="e-input-focus",jT=["title","style","class"];let mf=(()=>{let r=class extends hs{constructor(t,i){super(t,i),this.isVue=!1,this.preventChange=!1,this.isAngular=!1,this.isDynamicChange=!1,this.numericOptions=t}preRender(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;const t=X("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),H([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=U(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const s=this.createElement("input");let n=0;for(;n<this.element.attributes.length;n++)"id"!==this.element.attributes[n].nodeName&&(s.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),s.innerHTML=this.element.innerHTML);this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(s),this.element=s,At("ej2_instances",t,this.element)}Te(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"}),this.l10n=new Gs("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()}render(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete())}checkAttributes(t){const i=t?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];for(const s of i)if(!f(this.element.getAttribute(s)))switch(s){case"disabled":if(f(this.numericOptions)||void 0===this.numericOptions.enabled||t){const n=!("disabled"===this.element.getAttribute(s)||""===this.element.getAttribute(s)||"true"===this.element.getAttribute(s));this.setProperties({enabled:n},!t)}break;case"readonly":if(f(this.numericOptions)||void 0===this.numericOptions.readonly||t){const n="readonly"===this.element.getAttribute(s)||""===this.element.getAttribute(s)||"true"===this.element.getAttribute(s);this.setProperties({readonly:n},!t)}break;case"placeholder":(f(this.numericOptions)||void 0===this.numericOptions.placeholder||t)&&this.setProperties({placeholder:this.element.placeholder},!t);break;case"value":if(f(this.numericOptions)||void 0===this.numericOptions.value||t){const n=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));this.setProperties(At(s,n,{}),!t)}break;case"min":if(f(this.numericOptions)||void 0===this.numericOptions.min||t){const n=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==n&&!isNaN(n)&&this.setProperties(At(s,n,{}),!t)}break;case"max":if(f(this.numericOptions)||void 0===this.numericOptions.max||t){const n=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==n&&!isNaN(n)&&this.setProperties(At(s,n,{}),!t)}break;case"step":if(f(this.numericOptions)||void 0===this.numericOptions.step||t){const n=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==n&&!isNaN(n)&&this.setProperties(At(s,n,{}),!t)}break;case"style":this.inputStyle=this.element.getAttribute(s);break;case"name":this.inputName=this.element.getAttribute(s);break;default:{const n=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));(null!==n&&!isNaN(n)||"value"===s)&&this.setProperties(At(s,n,{}),!0)}}}updatePlaceholder(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)}initCultureFunc(){this.instance=new Ns(this.locale)}initCultureInfo(){this.cultureInfo.format=this.format,null!==X("currency",this)&&(At("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))}createWrapper(){let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.getNumericValidClassList(this.cssClass));const i=me.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&Te(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),Te(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&Te(this.container,{style:this.inputStyle})}updateDataAttribute(t){let i={};if(t)i=this.htmlAttributes;else for(let s=0;s<this.element.attributes.length;s++)i[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name);for(const s of Object.keys(i))0===s.indexOf("data")&&this.hiddenInput.setAttribute(s,i[s])}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))jT.indexOf(t)<0&&this.element.setAttribute(t,this.htmlAttributes[t])}updateCssClass(t,i){me.setCssClass(this.getNumericValidClassList(t),[this.container],this.getNumericValidClassList(i))}getNumericValidClassList(t){let i=t;return!f(t)&&""!==t&&(i=t.replace(/\s+/g," ").trim()),i}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))if(jT.indexOf(t)>-1)if("class"===t){const i=this.getNumericValidClassList(this.htmlAttributes[t]);""!==i&&L([this.container],i.split(" "))}else if("style"===t){let i=this.container.getAttribute(t);i=f(i)?this.htmlAttributes[t]:i+this.htmlAttributes[t],this.container.setAttribute(t,i)}else this.container.setAttribute(t,this.htmlAttributes[t])}setElementWidth(t){f(t)||("number"==typeof t?this.container.style.width=fe(t):"string"==typeof t&&(this.container.style.width=t.match(/px|%|em/)?t:fe(t)))}spinBtnCreation(){this.spinDown=me.appendSpan(g0+" e-spin-down",this.container,this.createElement),Te(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=me.appendSpan(g0+" "+v0,this.container,this.createElement),Te(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()}validateMinMax(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),Te(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})}formattedValue(t,i){return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(i)}validateStep(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)}action(t,i){this.isInteract=!0;const s=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(s,this.step,t)),this.raiseChangeEvent(i)}checkErrorClass(){this.isValidState?H([this.container],y0):L([this.container],y0),Te(this.element,{"aria-invalid":this.isValidState?"false":"true"})}bindClearEvent(){this.showClearButton&&A.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(t){t.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(t),this.isInteract=!0,this.raiseChangeEvent(t)}clear(t){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",U(this.element,"form")){const s=this.element.nextElementSibling,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),s.dispatchEvent(n)}}resetFormHandler(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)}setSpinButton(){f(this.spinDown)||Te(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),f(this.spinUp)||Te(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})}wireEvents(){A.add(this.element,"focus",this.focusHandler,this),A.add(this.element,"blur",this.focusOutHandler,this),A.add(this.element,"keydown",this.keyDownHandler,this),A.add(this.element,"keyup",this.keyUpHandler,this),A.add(this.element,"input",this.inputHandler,this),A.add(this.element,"keypress",this.keyPressHandler,this),A.add(this.element,"change",this.changeHandler,this),A.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&A.add(this.formEle,"reset",this.resetFormHandler,this))}wireSpinBtnEvents(){A.add(this.spinUp,G.touchStartEvent,this.mouseDownOnSpinner,this),A.add(this.spinDown,G.touchStartEvent,this.mouseDownOnSpinner,this),A.add(this.spinUp,G.touchEndEvent,this.mouseUpOnSpinner,this),A.add(this.spinDown,G.touchEndEvent,this.mouseUpOnSpinner,this),A.add(this.spinUp,G.touchMoveEvent,this.touchMoveOnSpinner,this),A.add(this.spinDown,G.touchMoveEvent,this.touchMoveOnSpinner,this)}unwireEvents(){A.remove(this.element,"focus",this.focusHandler),A.remove(this.element,"blur",this.focusOutHandler),A.remove(this.element,"keyup",this.keyUpHandler),A.remove(this.element,"input",this.inputHandler),A.remove(this.element,"keydown",this.keyDownHandler),A.remove(this.element,"keypress",this.keyPressHandler),A.remove(this.element,"change",this.changeHandler),A.remove(this.element,"paste",this.pasteHandler),this.formEle&&A.remove(this.formEle,"reset",this.resetFormHandler)}unwireSpinBtnEvents(){A.remove(this.spinUp,G.touchStartEvent,this.mouseDownOnSpinner),A.remove(this.spinDown,G.touchStartEvent,this.mouseDownOnSpinner),A.remove(this.spinUp,G.touchEndEvent,this.mouseUpOnSpinner),A.remove(this.spinDown,G.touchEndEvent,this.mouseUpOnSpinner),A.remove(this.spinUp,G.touchMoveEvent,this.touchMoveOnSpinner),A.remove(this.spinDown,G.touchMoveEvent,this.touchMoveOnSpinner)}changeHandler(t){t.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);const i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,t)}raiseChangeEvent(t){if(this.prevValue!==this.value){const i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:t},t&&(this.changeEventArgs.event=t),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),So(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}}pasteHandler(){if(!this.enabled||this.readonly)return;const t=this.element.value;setTimeout(()=>{this.numericRegex().test(this.element.value)||this.setElementValue(t)})}preventHandler(){const t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(()=>{if(this.element.selectionStart>0){const i=this.element.selectionStart,s=this.element.selectionStart-1,n=0,a=this.element.value.split(""),d=X("decimal",sg(this.locale)).charCodeAt(0);" "===this.element.value[s]&&this.element.selectionStart>0&&!t?(f(this.prevVal)?this.element.value=this.element.value.trim():0!==s?this.element.value=this.prevVal:0===s&&(this.element.value=this.element.value.trim()),this.element.setSelectionRange(s,s)):isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&45!==this.element.value[this.element.selectionStart-1].charCodeAt(0)?(a.indexOf(this.element.value[this.element.selectionStart-1])!==a.lastIndexOf(this.element.value[this.element.selectionStart-1])&&this.element.value[this.element.selectionStart-1].charCodeAt(0)===d||this.element.value[this.element.selectionStart-1].charCodeAt(0)!==d)&&(this.element.value=this.element.value.substring(0,s)+this.element.value.substring(i,this.element.value.length),this.element.setSelectionRange(s,s),isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&this.element.selectionStart>0&&this.element.value.length&&this.preventHandler()):isNaN(parseFloat(this.element.value[this.element.selectionStart-2]))&&this.element.selectionStart>1&&45!==this.element.value[this.element.selectionStart-2].charCodeAt(0)&&(a.indexOf(this.element.value[this.element.selectionStart-2])!==a.lastIndexOf(this.element.value[this.element.selectionStart-2])&&this.element.value[this.element.selectionStart-2].charCodeAt(0)===d||this.element.value[this.element.selectionStart-2].charCodeAt(0)!==d)&&(this.element.setSelectionRange(s,s),this.nextEle=this.element.value[this.element.selectionStart],this.cursorPosChanged=!0,this.preventHandler()),!0===this.cursorPosChanged&&this.element.value[this.element.selectionStart]===this.nextEle&&isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&(this.element.setSelectionRange(this.element.selectionStart+1,this.element.selectionStart+1),this.cursorPosChanged=!1,this.nextEle=null),""===this.element.value.trim()&&this.element.setSelectionRange(n,n),this.element.selectionStart>0&&45===this.element.value[this.element.selectionStart-1].charCodeAt(0)&&this.element.selectionStart>1&&(this.element.value=f(this.prevVal)?this.element.value:this.prevVal,this.element.setSelectionRange(this.element.selectionStart,this.element.selectionStart)),this.prevVal=this.element.value}})}keyUpHandler(){if(!this.enabled||this.readonly)return;(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&G.isDevice&&this.preventHandler();let i=this.instance.getNumberParser({format:"n"})(this.element.value);if(i=null===i||isNaN(i)?null:i,this.hiddenInput.value=i||0===i?i.toString():null,U(this.element,"form")){const n=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),n.dispatchEvent(a)}}inputHandler(t){const i=this;if(!this.enabled||this.readonly)return;const s=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||s)&&G.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==X("decimal",sg(this.locale))&&this.element.value!==X("minusSign",sg(this.locale))){let a=this.instance.getNumberParser({format:"n"})(this.element.value);a=isNaN(a)?null:a,i.localChange({value:a}),this.preventChange=!0}if(this.isVue){let a=this.instance.getNumberParser({format:"n"})(this.element.value);const o=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);new RegExp("[^1-9]+$").test(this.element.value)&&(a=this.value);const d={event:t,value:null===a||isNaN(a)?null:a,previousValue:null===o||isNaN(o)?null:o};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",d)}}keyDownHandler(t){if(!this.readonly)switch(t.keyCode){case 38:t.preventDefault(),this.action(ff,t);break;case 40:t.preventDefault(),this.action(Rg,t)}}performAction(t,i,s){(null===t||isNaN(t))&&(t=0);let n=s===ff?t+i:t-i;return n=this.correctRounding(t,i,n),this.strictMode?this.trimValue(n):n}correctRounding(t,i,s){const n=new RegExp("[,.](.*)"),a=n.test(t.toString()),o=n.test(i.toString());if(a||o){const h=a?n.exec(t.toString())[0].length:0,d=o?n.exec(i.toString())[0].length:0,m=Math.max(h,d);return this.roundValue(s,m)}return s}roundValue(t,i){i=i||0;const s=Math.pow(10,i);return Math.round(t*=s)/s}updateValue(t,i){i&&(this.isInteract=!0),null!==t&&!isNaN(t)&&this.decimals&&(t=this.roundNumber(t,this.decimals)),this.changeValue(null===t||isNaN(t)?null:this.strictMode?this.trimValue(t):t),this.isDynamicChange||this.raiseChangeEvent(i)}updateCurrency(t,i){At(t,i,this.cultureInfo),this.updateValue(this.value)}changeValue(t){if(t||0===t){const i=this.getNumberOfDecimals(t);this.setProperties({value:this.roundNumber(t,i)},!0)}else this.setProperties({value:t=null},!0);this.modifyText(),this.strictMode||this.validateState()}modifyText(){if(this.value||0===this.value){const t=this.formatNumber(),i=this.isFocused?t:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),Te(this.element,{"aria-valuenow":t}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null}setElementValue(t,i){me.setValue(t,i||this.element,this.floatLabelType,this.showClearButton)}validateState(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()}getNumberOfDecimals(t){let i;const s=new RegExp("[eE][-+]?([0-9]+)");let n=t.toString();if(s.test(n)){const o=s.exec(n);f(o)||(n=t.toFixed(Math.min(parseInt(o[1],10),20)))}const a=n.split(".")[1];return i=a&&a.length?a.length:0,null!==this.decimals&&(i=i<this.decimals?i:this.decimals),i}formatNumber(){const t=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(this.value)}trimValue(t){return t>this.max?this.max:t<this.min?this.min:t}roundNumber(t,i){let s=t;const n=i||0,a=s.toString().split("e");s=Math.round(Number(a[0]+"e"+(a[1]?Number(a[1])+n:n)));const o=s.toString().split("e");return s=Number(o[0]+"e"+(o[1]?Number(o[1])-n:-n)),Number(s.toFixed(n))}cancelEvent(t){return t.preventDefault(),!1}keyPressHandler(t){if(!this.enabled||this.readonly)return!0;if(!G.isDevice&&"11.0"===G.info.version&&13===t.keyCode){const n=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(n,t),!0}if(0===t.which||t.metaKey||t.ctrlKey||8===t.keyCode||13===t.keyCode)return!0;const i=String.fromCharCode(t.which);let s=this.element.value;return s=s.substring(0,this.element.selectionStart)+i+s.substring(this.element.selectionEnd),!!this.numericRegex().test(s)||(t.preventDefault(),t.stopPropagation(),!1)}numericRegex(){let i=X("decimal",sg(this.locale)),s="*";return"."===i&&(i="\\"+i),0===this.decimals&&this.validateDecimalOnType?dO:(this.decimals&&this.validateDecimalOnType&&(s="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+s+")?)|("+i+"\\d"+s+")))?$"))}mouseWheel(t){let i;t.preventDefault(),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i>0?this.action(ff,t):i<0&&this.action(Rg,t),this.cancelEvent(t)}focusHandler(t){if(this.focusEventArgs={event:t,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,H([this.container],y0),this.prevValue=this.value,this.value||0===this.value){const i=this.formatNumber();this.setElementValue(i),this.isPrevFocused||(G.isDevice||"11.0"!==G.info.version?setTimeout(()=>{this.element.setSelectionRange(0,i.length)},G.isDevice&&G.isIos?600:0):this.element.setSelectionRange(0,i.length))}G.isDevice||A.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}}focusOutHandler(t){if(this.blurEventArgs={event:t,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(t.preventDefault(),G.isDevice){const s=this.element.value;this.element.focus(),this.isPrevFocused=!1;const n=this.element;setTimeout(()=>{this.setElementValue(s,n)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);const s=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(s),G.isDevice||A.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(U(this.element,"form")){const s=this.element.nextElementSibling,n=document.createEvent("FocusEvent");n.initEvent("focusout",!1,!0),s.dispatchEvent(n)}}}mouseDownOnSpinner(t){if(this.isFocused&&(this.isPrevFocused=!0,t.preventDefault()),!this.getElementData(t))return;this.getElementData(t);const s=t.currentTarget,n=s.classList.contains(v0)?ff:Rg;A.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(()=>{this.isCalled=!0,this.action(n,t)},150),A.add(document,"mouseup",this.mouseUpClick,this)}touchMoveOnSpinner(t){let i;if("touchmove"===t.type){let s=t.touches;i=s.length&&document.elementFromPoint(s[0].pageX,s[0].pageY)}else i=document.elementFromPoint(t.clientX,t.clientY);i.classList.contains(g0)||clearInterval(this.timeOut)}mouseUpOnSpinner(t){if(this.isPrevFocused&&(this.element.focus(),G.isDevice||(this.isPrevFocused=!1)),G.isDevice||t.preventDefault(),!this.getElementData(t))return;const i=t.currentTarget,s=i.classList.contains(v0)?ff:Rg;if(A.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(s,t),this.isCalled=!1,A.remove(document,"mouseup",this.mouseUpClick),U(this.element,"form")){const a=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),a.dispatchEvent(o)}}getElementData(t){return!(t.which&&3===t.which||t.button&&2===t.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))}floatLabelTypeUpdate(){me.removeFloating(this.inputWrapper);const t=this.hiddenInput;this.hiddenInput.remove(),me.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(t,this.container.childNodes[1])}mouseUpClick(t){t.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,A.remove(this.spinUp,"mouseleave",this.mouseUpClick),A.remove(this.spinDown,"mouseleave",this.mouseUpClick)}increment(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,ff)),this.raiseChangeEvent()}decrement(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,Rg)),this.raiseChangeEvent()}destroy(){this.unwireEvents(),oe(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),oe(this.spinUp),oe(this.spinDown));const t=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"];for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),oe(this.container),super.destroy()}getText(){return this.element.value}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),L([this.container],[BT]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),H([this.container],[BT]))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"width":this.setElementWidth(t.width);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"enabled":me.setEnabled(t.enabled,this.element);break;case"enableRtl":me.setEnableRtl(t.enableRtl,[this.container]);break;case"readonly":me.setReadonly(t.readonly,this.element),this.readonly?Te(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),me.validateInputType(this.container,this.element);break;case"placeholder":me.setPlaceholder(t.placeholder,this.element);break;case"step":this.step=t.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(t);break;case"showClearButton":this.updateClearButton(t);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(t.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":At(s,X(s,t),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=t.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),me.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{const n=X(s,t);this.setProperties({currencyCode:n},!0),this.updateCurrency(s,n)}break;case"currencyCode":{const n=X(s,t);this.setProperties({currency:n},!0),this.updateCurrency("currency",n)}break;case"format":At(s,X(s,t),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=t.decimals,this.updateValue(this.value)}}updateClearButton(t){me.setClearButton(t.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()}updateSpinButton(t){t.showSpinButton?this.spinBtnCreation():(oe(this.spinUp),oe(this.spinDown))}getModuleName(){return"numerictextbox"}};return rn([T("")],r.prototype,"cssClass",void 0),rn([T(null)],r.prototype,"value",void 0),rn([T(-Number.MAX_VALUE)],r.prototype,"min",void 0),rn([T(Number.MAX_VALUE)],r.prototype,"max",void 0),rn([T(1)],r.prototype,"step",void 0),rn([T(null)],r.prototype,"width",void 0),rn([T(null)],r.prototype,"placeholder",void 0),rn([T({})],r.prototype,"htmlAttributes",void 0),rn([T(!0)],r.prototype,"showSpinButton",void 0),rn([T(!1)],r.prototype,"readonly",void 0),rn([T(!0)],r.prototype,"enabled",void 0),rn([T(!1)],r.prototype,"showClearButton",void 0),rn([T(!1)],r.prototype,"enablePersistence",void 0),rn([T("n2")],r.prototype,"format",void 0),rn([T(null)],r.prototype,"decimals",void 0),rn([T(null)],r.prototype,"currency",void 0),rn([T(null)],r.prototype,"currencyCode",void 0),rn([T(!0)],r.prototype,"strictMode",void 0),rn([T(!1)],r.prototype,"validateDecimalOnType",void 0),rn([T("Never")],r.prototype,"floatLabelType",void 0),rn([$()],r.prototype,"created",void 0),rn([$()],r.prototype,"destroyed",void 0),rn([$()],r.prototype,"change",void 0),rn([$()],r.prototype,"focus",void 0),rn([$()],r.prototype,"blur",void 0),r=rn([oi],r),r})();const ab="e-error",Lg="e-label-top",C0={0:"[0-9]",9:"[0-9 ]","#":"[0-9 +-]",L:"[A-Za-z]","?":"[A-Za-z ]","&":"[^\x7f ]+",C:"[^\x7f]+",A:"[A-Za-z0-9]",a:"[A-Za-z0-9 ]"};function E0(){if(Te(this.element,{role:"textbox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-live":"assertive","aria-valuenow":""}),this.mask){const r=this.mask.split("]");for(let t=0;t<r.length;t++)if("\\"===r[t][r[t].length-1]){r[t]=r[t]+"]";const i=r[t].split("[");for(let s=0;s<i.length;s++)"\\"===i[s][i[s].length-1]&&(i[s]=i[s]+"["),zT.call(this,i[s])}else{const i=r[t].split("[");if(i.length>1){let s=!1;for(let n=0;n<i.length;n++)"\\"===i[n]?(this.customRegExpCollec.push("["),this.hiddenMask+=i[n]+"["):""===i[n]?s=!0:""!==i[n]&&s||n===i.length-1?(this.customRegExpCollec.push("["+i[n]+"]"),this.hiddenMask+=this.promptChar,s=!1):zT.call(this,i[n])}else zT.call(this,i[0])}if(this.escapeMaskValue=this.hiddenMask,this.promptMask=this.hiddenMask.replace(/[09?LCAa#&]/g,this.promptChar),!f(this.customCharacters))for(let t=0;t<this.promptMask.length;t++)f(this.customCharacters[this.promptMask[t]])||(this.promptMask=this.promptMask.replace(new RegExp(this.promptMask[t],"g"),this.promptChar));let e=0;if(this.hiddenMask.match(new RegExp(/\\/)))for(let t=0;t<this.hiddenMask.length;t++){let i=0;t>=1&&(i=t),e=this.hiddenMask.length-this.promptMask.length,i-=e,t>0&&"\\"!==this.hiddenMask[t-1]&&(">"===this.hiddenMask[t]||"<"===this.hiddenMask[t]||"|"===this.hiddenMask[t])&&(this.promptMask=this.promptMask.substring(0,i)+this.promptMask.substring(t+1-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue.substring(t+1-e,this.escapeMaskValue.length)),"\\"===this.hiddenMask[t]&&(this.promptMask=this.promptMask.substring(0,i)+this.hiddenMask[t+1]+this.promptMask.substring(t+2-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue[t+1]+this.escapeMaskValue.substring(t+2-e,this.escapeMaskValue.length))}else this.promptMask=this.promptMask.replace(/[>|<]/g,""),this.escapeMaskValue=this.hiddenMask.replace(/[>|<]/g,"");Te(this.element,{"aria-invalid":"false"})}}function w0(){vs.call(this,this.promptMask),k0.call(this,this.value)}function D0(){A.add(this.element,"keydown",_g,this),A.add(this.element,"keypress",Un,this),A.add(this.element,"keyup",$T,this),A.add(this.element,"input",DO,this),A.add(this.element,"focus",YT,this),A.add(this.element,"blur",EO,this),A.add(this.element,"paste",Xt,this),A.add(this.element,"cut",wO,this),A.add(this.element,"drop",cN,this),A.add(this.element,"mousedown",T0,this),A.add(this.element,"mouseup",CO,this),this.enabled&&(S0.call(this),this.formElement&&A.add(this.formElement,"reset",yO,this))}function ob(){A.remove(this.element,"keydown",_g),A.remove(this.element,"keypress",Un),A.remove(this.element,"keyup",$T),A.remove(this.element,"input",DO),A.remove(this.element,"focus",YT),A.remove(this.element,"blur",EO),A.remove(this.element,"paste",Xt),A.remove(this.element,"cut",wO),A.remove(this.element,"mousedown",T0),A.remove(this.element,"mouseup",CO),this.formElement&&A.remove(this.formElement,"reset",yO)}function S0(){this.showClearButton&&A.add(this.inputObj.clearButton,"mousedown touchstart",qT,this)}function qT(r){r.preventDefault(),(!this.inputObj.clearButton.classList.contains("e-clear-icon-hide")||this.inputObj.container.classList.contains("e-static-clear"))&&(gf.call(this,r),this.value="")}function gf(r){const e=this.element.value;vs.call(this,this.promptMask),this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),Rd.call(this,r,e),this.element.setSelectionRange(0,0)}function yO(){"EJS-MASKEDTEXTBOX"===this.element.tagName?vs.call(this,this.promptMask):this.value=this.initInputValue}function bO(r){return r.value}function Ba(r,e){let t="",i=0,s=!1;const n=!f(e)||f(r)||f(this)?e:r.value;if(n!==this.promptMask)for(let a=0;a<this.customRegExpCollec.length;a++)s&&(s=!1),(">"===this.customRegExpCollec[i]||"<"===this.customRegExpCollec[i]||"|"===this.customRegExpCollec[i]||"\\"===this.customRegExpCollec[i])&&(--a,s=!0),s||n[a]!==this.promptChar&&!f(this.customRegExpCollec[i])&&(this._callPasteHandler||!f(this.regExpCollec[this.customRegExpCollec[i]])||this.customRegExpCollec[i].length>2&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||!f(this.customCharacters)&&!f(this.customCharacters[this.customRegExpCollec[i]]))&&""!==n&&(t+=n[a]),++i;return(null===this.mask||""===this.mask&&void 0!==this.value)&&(t=n),t}function zT(r){for(let e=0;e<r.length;e++)this.hiddenMask+=r[e],"\\"!==r[e]&&this.customRegExpCollec.push(r[e])}function T0(){this.isClicked=!0}function CO(){this.isClicked=!1}function YT(r){const e=this.element;let t=0;const i=Ba.call(this,e);let s=!1,n=!1,a={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd};if(this.isClicked||A0.call(this,a,e),this.mask&&(!(null===i||""===i)||"Always"===this.floatLabelType||null===this.placeholder||""===this.placeholder||(e.value=this.promptMask),setTimeout(()=>{if(e.selectionStart===this.promptMask.length||e.value[e.selectionStart]===this.promptChar)s=!0;else for(let o=e.selectionStart;o<this.promptMask.length;o++){if(e.value[o]===this.promptChar){s=!0;break}if(e.value[o]!==this.promptMask[o]){s=!1;break}}}),setTimeout(()=>{const o=e.selectionStart-1;if(o===this.promptMask.length-1||e.value[o]===this.promptChar)n=!0;else for(let h=o;h>=0;h--){if(e.value[h]===this.promptChar){n=!0;break}if(e.value[h]!==this.promptMask[h]){n=!1;break}}}),this.isClicked||"Always"!==this.floatLabelType&&(null===i||""===i)&&null!==this.placeholder&&""!==this.placeholder)){for(t=0;t<this.promptMask.length;t++)if(e.value[t]===this.promptChar){setTimeout(()=>{(s||n)&&(e.selectionEnd=t,e.selectionStart=t),a={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},A0.call(this,a,e)});break}f(e.value.match(this.promptChar))&&(a={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},A0.call(this,a,e)),this.isClicked=!1}}function A0(r,e){this.trigger("focus",r,t=>{e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd})}function EO(r){if(this.blurEventArgs={event:r,value:this.value,maskedValue:this.element.value,container:this.inputObj.container},this.trigger("blur",this.blurEventArgs),this.mask&&(this.isFocus=!1,this.placeholder&&this.element.value===this.promptMask&&"Always"!==this.floatLabelType)){vs.call(this,"");const e=this.element.parentNode.querySelector(".e-float-text");"Auto"===this.floatLabelType&&!f(e)&&e.classList.contains(Lg)&&H([e],Lg)}}function Xt(r){if(this.mask&&!this.readonly){const e=this.element.selectionStart,t=this.element.selectionEnd,i=this.element.value;vs.call(this,""),this._callPasteHandler=!0,setTimeout(()=>{let s=this.element.value.replace(/ /g,"");this.redoCollec.length>0&&this.redoCollec[0].value===this.element.value&&(s=Ba.call(this,this.element)),vs.call(this,i),this.element.selectionStart=e,this.element.selectionEnd=t;let n=0;this.maskKeyPress=!0;do{Su.call(this,s[n],!1,null),++n}while(n<s.length);if(this.maskKeyPress=!1,this._callPasteHandler=!1,this.element.value===i){let a=0;this.maskKeyPress=!0;do{Su.call(this,s[a],!1,null),++a}while(a<s.length);this.maskKeyPress=!1}else Rd.call(this,r,i)},1)}}function wO(r){if(this.mask&&!this.readonly){const e=this.element.value,t=this.element.selectionStart,i=this.element.selectionEnd;this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});const s=this.element.value.substring(0,t)+this.promptMask.substring(t,i)+this.element.value.substring(i);setTimeout(()=>{vs.call(this,s),this.element.selectionStart=this.element.selectionEnd=t,this.element.value!==e&&Rd.call(this,r,null)},0)}}function cN(r){r.preventDefault()}function DO(r){if((!0!==G.isIE||""!==this.element.value||"Never"!==this.floatLabelType)&&(ae(r,{ctrlKey:!1,keyCode:229}),this.mask)){if(""===this.element.value&&this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this._callPasteHandler||cb.call(this,r),this.element.value.length>this.promptMask.length){const i=this.element.selectionStart,n=this.element.value.substring(i-(this.element.value.length-this.promptMask.length),i);this.maskKeyPress=!1;let a=0;do{Su.call(this,n[a],r.ctrlKey,r),++a}while(a<n.length);this.element.value!==this.preEleVal&&Rd.call(this,r,null)}const t=Ba.call(this,this.element);this.prevValue=t,this.value=t,""===t&&(vs.call(this,this.promptMask),this.element.setSelectionRange(0,0))}}function _g(r){if(this.mask&&!this.readonly){229!==r.keyCode&&(r.ctrlKey&&(89===r.keyCode||90===r.keyCode)&&r.preventDefault(),cb.call(this,r));const e=this.element.value;if(r.ctrlKey&&(89===r.keyCode||90===r.keyCode)){let t;90===r.keyCode&&this.undoCollec.length>0&&e!==this.undoCollec[this.undoCollec.length-1].value?(t=this.undoCollec[this.undoCollec.length-1],this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),vs.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.undoCollec.splice(this.undoCollec.length-1,1)):89===r.keyCode&&this.redoCollec.length>0&&e!==this.redoCollec[0].value&&(t=this.redoCollec[0],this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),vs.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.redoCollec.splice(0,1))}}}function SO(){let r;const e=this.element.selectionStart,t=this.element.selectionEnd;this.redoCollec.length>0?(r=this.redoCollec[0],vs.call(this,r.value),r.startIndex-e==1?(this.element.selectionStart=r.startIndex,this.element.selectionEnd=r.endIndex):(this.element.selectionStart=e+1,this.element.selectionEnd=t+1)):(vs.call(this,this.promptMask),this.element.selectionStart=this.element.selectionEnd=e)}function lb(r,e,t){return"input"===t.type&&(r=!1,e=this.element.value,vs.call(this,this.promptMask),k0.call(this,e)),r}function cb(r){let t,e=!1,i=!1;this.element.value.length<this.promptMask.length&&(e=!0,t=this.element.value,e=lb.call(this,e,t,r),SO.call(this)),this.element.value.length>=this.promptMask.length&&"input"===r.type&&(e=lb.call(this,e,t,r));const s=this.element.selectionStart,n=this.element.selectionEnd;let a=this.element.selectionStart;const o=this.element.selectionEnd,h=this.hiddenMask.replace(/[>|\\<]/g,"");let d=h[a-1];const m=this.element.selectionEnd;if(e||8===r.keyCode||46===r.keyCode){this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:o});let v=!1;const C=this.element.value;if(a>0||(8===r.keyCode||46===r.keyCode)&&a<this.element.value.length&&this.element.selectionEnd-a!==this.element.value.length){let w=a;a!==o?(a=o,46===r.keyCode&&(v=!0)):46===r.keyCode?++w:--w;for(let S=a;8===r.keyCode||e||v?S>w:S<w;8===r.keyCode||e||v?S--:S++)for(let k=a;8===r.keyCode||e||v?k>0:k<this.element.value.length;8===r.keyCode||e||v?k--:k++){let O;(8===r.keyCode||v)&&(s!==n&&s!==a||s===n)||e?(d=h[k-1],O=a-1):(d=h[k],O=a,++a);let N=this.element.value[O];if(f(this.regExpCollec[d])&&!f(this.customCharacters)&&f(this.customCharacters[d])&&this.hiddenMask[O]!==this.promptChar&&"["!==this.customRegExpCollec[O][0]&&"]"!==this.customRegExpCollec[O][this.customRegExpCollec[O].length-1]||this.promptMask[O]!==this.promptChar&&f(this.customCharacters))this.element.selectionStart=this.element.selectionEnd=O,r.preventDefault(),46===r.keyCode&&!v&&++this.element.selectionStart;else{const q=this.element.value,z=this.promptChar,Z=q.substring(0,O)+z+q.substring(a,q.length);vs.call(this,Z),r.preventDefault(),46===r.keyCode&&!v&&O++,this.element.selectionStart=this.element.selectionEnd=O,i=!0}if(a=this.element.selectionStart,!i&&8===r.keyCode||v||!i&&46!==r.keyCode?O=a-1:(O=a,i=!1),N=this.element.value[O],s!==n&&this.element.selectionStart===s||this.promptMask[O]===this.promptChar||N!==this.promptMask[O]&&this.promptMask[O]!==this.promptChar&&!f(this.customCharacters))break}}46===r.keyCode&&v&&i&&(this.element.selectionStart=this.element.selectionEnd=m),0===this.element.selectionStart&&this.element.selectionEnd===this.element.value.length&&(vs.call(this,this.promptMask),r.preventDefault(),this.element.selectionStart=this.element.selectionEnd=a),this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),this.element.value!==C&&Rd.call(this,r,t)}}function Un(r){if(this.mask&&!this.readonly){const e=this.element.value;if(!r.ctrlKey||r.ctrlKey&&"KeyA"!==r.code&&"KeyY"!==r.code&&"KeyZ"!==r.code&&"KeyX"!==r.code&&"KeyC"!==r.code&&"KeyV"!==r.code){this.maskKeyPress=!0;let t=r.key;"Spacebar"===t&&(t=String.fromCharCode(r.keyCode)),t?t&&1===t.length&&(Su.call(this,t,r.ctrlKey,r),r.preventDefault()):(this.isIosInvalid=!0,Su.call(this,String.fromCharCode(r.keyCode),r.ctrlKey,r),r.preventDefault(),this.isIosInvalid=!1),32===r.keyCode&&" "===t&&" "===this.promptChar&&(this.element.selectionStart=this.element.selectionEnd=this.element.selectionStart-t.length)}this.element.value!==e&&Rd.call(this,r,e)}}function Rd(r,e){const t=this.isProtectedOnChange;if(!f(this.changeEventArgs)&&!this.isInitial){const i={};this.changeEventArgs={value:this.element.value,maskedValue:this.element.value,isInteraction:!1,isInteracted:!1},this.mask&&(this.changeEventArgs.value=Ba.call(this,this.element)),f(r)||(this.changeEventArgs.isInteracted=!0,this.changeEventArgs.isInteraction=!0,this.changeEventArgs.event=r),this.isProtectedOnChange=!0,this.value=this.changeEventArgs.value,this.isProtectedOnChange=t,So(i,this.changeEventArgs),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",i)}this.preEleVal=this.element.value,this.prevValue=Ba.call(this,this.element),Te(this.element,{"aria-valuenow":this.element.value})}function $T(r){if(this.mask&&!this.readonly){let e;if(this.maskKeyPress||229!==r.keyCode)AO.call(this);else{let i;if(1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this.element.value.length>this.promptMask.length){const s=this.element.selectionStart,n=this.element.value.length-this.promptMask.length;let a=this.element.value.substring(s-n,s);if(this.undoCollec.length>0){e=this.undoCollec[this.undoCollec.length-1];const o=this.element.selectionStart;i=e.value;const h=e.value.substring(o-n,o);e=this.redoCollec[0],a=a.trim();const d=G.isAndroid&&""===a;d||h===a||e.value.substring(o-n,o)===a?d&&GT.call(this,r,o-1,this.element.selectionEnd-1,a,r.ctrlKey,!1):Su.call(this,a,r.ctrlKey,r)}else i=this.promptMask,Su.call(this,a,r.ctrlKey,r);this.maskKeyPress=!1,Rd.call(this,r,i)}}const t=Ba.call(this,this.element);(0!==this.element.selectionStart||this.promptMask!==this.element.value||""!==t||""===t&&this.value!==t)&&(this.prevValue=t,this.value=t)}else Rd.call(this,r);if(0===this.element.selectionStart&&0===this.element.selectionEnd){const e=this.element;setTimeout(()=>{e.setSelectionRange(0,0)},0)}}function x0(r){if(r.length>1&&this.promptMask.length+r.length<this.element.value.length){const e=this.redoCollec[0].value.substring(0,this.redoCollec[0].startIndex)+r+this.redoCollec[0].value.substring(this.redoCollec[0].startIndex,this.redoCollec[0].value.length);vs.call(this,e),this.element.selectionStart=this.element.selectionEnd=this.redoCollec[0].startIndex+r.length}this.element.selectionStart=this.element.selectionStart-r.length,this.element.selectionEnd=this.element.selectionEnd-r.length}function hN(r){this.maskKeyPress||x0.call(this,r)}function Su(r,e,t){if(hN.call(this,r),f(this)||f(r))return;let i=this.element.selectionStart;const s=i;let n,a=!1;const o=this.element.value;let h,d=!1,m=!1;for(let v=0;v<r.length;v++){const C=r[v];if(i=this.element.selectionStart,!this.maskKeyPress&&s===i&&(i+=v),!this.maskKeyPress||i<this.promptMask.length){for(let w=i;w<this.promptMask.length;w++)n=this.escapeMaskValue[i],"\\"===this.hiddenMask[i]&&this.hiddenMask[i+1]===r&&(m=!0),(f(this.regExpCollec[n])&&(f(this.customCharacters)||!f(this.customCharacters)&&f(this.customCharacters[n]))&&this.hiddenMask[i]!==this.promptChar&&"["!==this.customRegExpCollec[i][0]&&"]"!==this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||this.promptMask[i]!==this.promptChar&&f(this.customCharacters)||this.promptChar===n&&this.escapeMaskValue===this.mask)&&(this.element.selectionStart=this.element.selectionEnd=i+1,i=this.element.selectionStart,n=this.hiddenMask[i]);if(f(this.customCharacters)||f(this.customCharacters[n]))(!f(this.regExpCollec[n])&&C.match(new RegExp(this.regExpCollec[n]))&&this.promptMask[i]===this.promptChar||this.promptMask[i]===this.promptChar&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]&&C.match(new RegExp(this.customRegExpCollec[i])))&&(a=!0);else{const S=this.customCharacters[n].split(",");for(let k=0;k<S.length;k++)if(C.match(new RegExp("["+S[k]+"]"))){a=!0;break}}if((!this.maskKeyPress||i<this.hiddenMask.length)&&a){if(0===v)if(this.maskKeyPress)this.undoCollec.push({value:o,startIndex:i,endIndex:i});else{const w=this.element.selectionStart,S=this.element.selectionEnd;this.redoCollec.length>0?(h=this.redoCollec[0].value,vs.call(this,h),this.undoCollec.push(this.redoCollec[0])):(this.undoCollec.push({value:this.promptMask,startIndex:i,endIndex:i}),h=this.promptMask,vs.call(this,h)),this.element.selectionStart=w,this.element.selectionEnd=S}i=this.element.selectionStart,TO.call(this,t,i,C,h,m),d=!0,v===r.length-1&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),a=!1}else i=this.element.selectionStart,GT.call(this,t,i,s,r,e,d);v===r.length-1&&!a&&(!G.isAndroid||G.isAndroid&&i<this.promptMask.length)&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd})}else 1===r.length&&!e&&!f(t)&&I0.call(this)}}function TO(r,e,t,i,s){if(this.hiddenMask.length>this.promptMask.length&&(t=uN.call(this,t,this.element.value)),!s){const n=this.element.value,a=n.substring(0,e)+t+n.substring(e+1,n.length);vs.call(this,a),this.element.selectionStart=this.element.selectionEnd=e+1}}function GT(r,e,t,i,s,n){if(!this.maskKeyPress){const a=this.element.value;e>=this.promptMask.length?vs.call(this,a.substring(0,e)):(vs.call(this,t===e?a.substring(0,e)+a.substring(e+1,a.length):this.promptMask.length===this.element.value.length?a.substring(0,e)+a.substring(e,a.length):a.substring(0,t)+a.substring(t+1,a.length)),this.element.selectionStart=this.element.selectionEnd=n||this.element.value[t]!==this.promptChar?e:t),I0.call(this)}1===i.length&&!s&&!f(r)&&I0.call(this)}function I0(){const r=this.element.parentNode;let e=200;r.classList.contains("e-input-group")||r.classList.contains("e-float-input")?L([r],ab):L([this.element],ab),!0===this.isIosInvalid&&(e=400),Te(this.element,{"aria-invalid":"true"}),setTimeout(()=>{this.maskKeyPress||AO.call(this)},e)}function AO(){const r=this.element.parentNode;f(r)||H([r],ab),H([this.element],ab),Te(this.element,{"aria-invalid":"false"})}function uN(r,e){let t,i,s=e,n=0;for(i=0;i<this.hiddenMask.length;i++)if("\\"===this.hiddenMask[i]&&(t=s.substring(0,i)+"\\"+s.substring(i,s.length)),(">"===this.hiddenMask[i]||"<"===this.hiddenMask[i]||"|"===this.hiddenMask[i])&&(this.hiddenMask[i]!==s[i]&&(t=s.substring(0,i)+this.hiddenMask[i]+s.substring(i,s.length)),++n),t){if(t[i]===this.promptChar&&i>this.element.selectionStart||this.element.value.indexOf(this.promptChar)<0&&this.element.selectionStart+n===i){n=0;break}s=t}for(;i>=0&&t;){if(0===i||"\\"!==t[i-1]){if(">"===t[i]){r=r.toUpperCase();break}if("<"===t[i]){r=r.toLowerCase();break}if("|"===t[i])break}--i}return r}function k0(r){if(this.mask&&void 0!==r&&(void 0===this.prevValue||this.prevValue!==r)){if(this.maskKeyPress=!0,vs.call(this,this.promptMask),""!==r&&!(null===r&&"Never"===this.floatLabelType&&this.placeholder)&&(this.element.selectionStart=0,this.element.selectionEnd=0),null!==r)for(let i=0;i<r.length;i++)Su.call(this,r[i],!1,null);const e=Ba.call(this,this.element);this.prevValue=e,this.value=e,Rd.call(this,null,null),this.maskKeyPress=!1;const t=this.element.parentNode.querySelector(".e-float-text");this.element.value===this.promptMask&&"Auto"===this.floatLabelType&&this.placeholder&&!f(t)&&t.classList.contains(Lg)&&!this.isFocus&&(H([t],Lg),L([t],"e-label-bottom"),vs.call(this,""))}(null===this.mask||""===this.mask&&void 0!==this.value)&&vs.call(this,this.value)}function vs(r,e){!this.isFocus&&"Auto"===this.floatLabelType&&this.placeholder&&f(this.value)&&(r="");const t=Ba.call(this,e||this.element,r);null===t||""===t?(me.setValue(r,e||this.element,this.floatLabelType,!1),this.showClearButton&&this.inputObj.clearButton.classList.add("e-clear-icon-hide")):me.setValue(r,e||this.element,this.floatLabelType,this.showClearButton)}var _r=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const IO="e-input-focus",kO=["title","style","class"];let br=class extends hs{constructor(e,t){super(e,t),this.initInputValue="",this.isAngular=!1,this.preventChange=!1,this.isClicked=!1,this.maskOptions=e}getModuleName(){return"maskedtextbox"}preRender(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.regExpCollec=C0,this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.changeEventArgs={},this.focusEventArgs={},this.blurEventArgs={},this.maskKeyPress=!1,this.isFocus=!1,this.isInitial=!1,this.isIosInvalid=!1;const e=X("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),H([this.cloneElement],["e-control","e-maskedtextbox","e-lib"]),this.angularTagName=null,this.formElement=U(this.element,"form"),"EJS-MASKEDTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const t=this.createElement("input");for(let i=0;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id"),this.element.classList.remove("e-control","e-maskedtextbox"),this.element.classList.add("e-mask-container"),this.element.appendChild(t),this.element=t,At("ej2_instances",e,this.element)}this.updateHTMLAttrToElement(),this.checkHtmlAttributes(!1),this.formElement&&(this.initInputValue=this.value)}getPersistData(){return this.addOnPersist(["value"])}render(){"input"===this.element.tagName.toLowerCase()&&("Never"===this.floatLabelType&&L([this.element],"e-input"),this.createWrapper(),this.updateHTMLAttrToWrapper(),""===this.element.name&&this.element.setAttribute("name",this.element.id),this.isInitial=!0,this.resetMaskedTextBox(),this.isInitial=!1,this.setMaskPlaceholder(!0,!1),this.setWidth(this.width),this.preEleVal=this.element.value,!G.isDevice&&("11.0"===G.info.version||"edge"===G.info.name)&&this.element.blur(),G.isDevice&&G.isIos&&this.element.blur(),(this.element.getAttribute("value")||this.value)&&this.element.setAttribute("value",this.element.value),this.renderComplete())}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))kO.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){me.setCssClass(this.getValidClassList(e),[this.inputObj.container],this.getValidClassList(t))}getValidClassList(e){let t=e;return!f(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(kO.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.inputObj.container],t.split(" "))}else if("style"===e){let t=this.inputObj.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputObj.container.setAttribute(e,t)}else this.inputObj.container.setAttribute(e,this.htmlAttributes[e])}resetMaskedTextBox(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.promptChar.length>1&&(this.promptChar=this.promptChar[0]),E0.call(this),w0.call(this),(null===this.mask||""===this.mask&&void 0!==this.value)&&vs.call(this,this.value);const e=Ba.call(this,this.element);this.prevValue=e,this.value=e,this.isInitial||ob.call(this),D0.call(this)}setMaskPlaceholder(e,t){(t||this.placeholder)&&(me.setPlaceholder(this.placeholder,this.element),(this.element.value===this.promptMask&&e&&"Always"!==this.floatLabelType||this.element.value===this.promptMask&&"Never"===this.floatLabelType)&&vs.call(this,""))}setWidth(e){if(!f(e))if("number"==typeof e)this.inputObj.container.style.width=fe(e),this.element.style.width=fe(e);else if("string"==typeof e){const t=e.match(/px|%|em/)?e:fe(e);this.inputObj.container.style.width=t,this.element.style.width=t}}checkHtmlAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"placeholder":(f(this.maskOptions)||void 0===this.maskOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"disabled":if(f(this.maskOptions)||void 0===this.maskOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e)}break;case"value":(f(this.maskOptions)||void 0===this.maskOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"readonly":if(f(this.maskOptions)||void 0===this.maskOptions.readonly||e){const s="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:s},!e)}}}createWrapper(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.getValidClassList(this.cssClass)),this.inputObj=me.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enableRtl:this.enableRtl,cssClass:e,enabled:this.enabled,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}},this.createElement),this.inputObj.container.setAttribute("class","e-control-wrapper e-mask "+this.inputObj.container.getAttribute("class"))}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"value":k0.call(this,this.value),this.placeholder&&this.setMaskPlaceholder(!1,!1);break;case"placeholder":this.setMaskPlaceholder(!0,!0);break;case"width":this.setWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":me.setEnabled(e.enabled,this.element,this.floatLabelType,this.inputObj.container);break;case"readonly":me.setReadonly(e.readonly,this.element);break;case"enableRtl":me.setEnableRtl(e.enableRtl,[this.inputObj.container]);break;case"customCharacters":this.customCharacters=e.customCharacters,this.resetMaskedTextBox();break;case"showClearButton":me.setClearButton(e.showClearButton,this.element,this.inputObj,void 0,this.createElement),S0.call(this);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,me.removeFloating(this.inputObj),me.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHtmlAttributes(!0);break;case"mask":{const s=this.value;this.mask=e.mask,this.updateValue(s)}break;case"promptChar":{e.promptChar.length>1&&(e.promptChar=e.promptChar[0]),this.promptChar=e.promptChar?e.promptChar:"_";let s=this.element.value.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar);this.promptMask===this.element.value&&(s=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar)),this.promptMask=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar),this.undoCollec=this.redoCollec=[],vs.call(this,s);break}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}updateValue(e){this.resetMaskedTextBox(),k0.call(this,e)}getMaskedValue(){return bO.call(this,this.element)}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),L([this.inputObj.container],[IO]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),H([this.inputObj.container],[IO]))}destroy(){ob.call(this);const e=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-valuenow","aria-invalid"];for(let t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.inputObj.container.insertAdjacentElement("afterend",this.element),oe(this.inputObj.container),super.destroy()}};_r([T(null)],br.prototype,"cssClass",void 0),_r([T(null)],br.prototype,"width",void 0),_r([T(null)],br.prototype,"placeholder",void 0),_r([T("Never")],br.prototype,"floatLabelType",void 0),_r([T({})],br.prototype,"htmlAttributes",void 0),_r([T(!0)],br.prototype,"enabled",void 0),_r([T(!1)],br.prototype,"readonly",void 0),_r([T(!1)],br.prototype,"showClearButton",void 0),_r([T(!1)],br.prototype,"enablePersistence",void 0),_r([T(null)],br.prototype,"mask",void 0),_r([T("_")],br.prototype,"promptChar",void 0),_r([T(null)],br.prototype,"value",void 0),_r([T(null)],br.prototype,"customCharacters",void 0),_r([$()],br.prototype,"created",void 0),_r([$()],br.prototype,"destroyed",void 0),_r([$()],br.prototype,"change",void 0),_r([$()],br.prototype,"focus",void 0),_r([$()],br.prototype,"blur",void 0),br=_r([oi],br);var wi=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class vf extends hi{}wi([T("None")],vf.prototype,"placement",void 0),wi([T(10)],vf.prototype,"largeStep",void 0),wi([T(1)],vf.prototype,"smallStep",void 0),wi([T(!1)],vf.prototype,"showSmallTicks",void 0),wi([T(null)],vf.prototype,"format",void 0);class M0 extends hi{}wi([T(null)],M0.prototype,"color",void 0),wi([T(null)],M0.prototype,"start",void 0),wi([T(null)],M0.prototype,"end",void 0);class Tu extends hi{}wi([T(!1)],Tu.prototype,"enabled",void 0),wi([T(null)],Tu.prototype,"minStart",void 0),wi([T(null)],Tu.prototype,"minEnd",void 0),wi([T(null)],Tu.prototype,"maxStart",void 0),wi([T(null)],Tu.prototype,"maxEnd",void 0),wi([T(!1)],Tu.prototype,"startHandleFixed",void 0),wi([T(!1)],Tu.prototype,"endHandleFixed",void 0);class Pg extends hi{}wi([T("")],Pg.prototype,"cssClass",void 0),wi([T("Before")],Pg.prototype,"placement",void 0),wi([T("Focus")],Pg.prototype,"showOn",void 0),wi([T(!1)],Pg.prototype,"isVisible",void 0),wi([T(null)],Pg.prototype,"format",void 0);let an=class extends hs{constructor(e,t){super(e,t),this.horDir="left",this.verDir="bottom",this.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},this.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},this.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",this.customAriaText=null,this.drag=!0,this.isDragComplete=!1,this.initialTooltip=!0}preRender(){this.l10n=new Gs("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()}formChecker(){const e=U(this.element,"form");e?(this.isForm=!0,f(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!f(this.formResetValue)&&"object"==typeof this.formResetValue?f(this.formResetValue)&&(this.formResetValue=parseFloat(fe(this.min))):this.formResetValue=[parseFloat(fe(this.min)),parseFloat(fe(this.max))],this.formElement=e):this.isForm=!1}initCultureFunc(){this.internationalization=new Ns(this.locale)}initCultureInfo(){this.tooltipFormatInfo.format=f(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=f(this.ticks.format)?null:this.ticks.format}formatString(e,t){let i=null,s=null;if(e||0===e){i=this.formatNumber(e);const n=this.numberOfDecimals(e);s=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,n))}return{elementVal:i,formatString:s}}formatNumber(e){const t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)}numberOfDecimals(e){const t=e.toString().split(".")[1];return t&&t.length?t.length:0}makeRoundNumber(e,t){return Number(e.toFixed(t||0))}fractionalToInteger(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;let t=1;for(let i=0;i<this.noOfDecimals;i++)t*=10;return Number((e*t).toFixed(0))}render(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout(()=>{this.refresh()},0)}initialize(){L([this.element],"e-slider"),this.setCSSClass()}setElementWidth(e){f(e)||("number"==typeof e?this.sliderContainer.style.width=fe(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:fe(e)))}setCSSClass(e){e&&H([this.element],e.split(" ")),this.cssClass&&L([this.element],this.cssClass.split(" "))}setEnabled(){this.enabled?(H([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(L([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())}getTheme(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}initRender(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:f(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=f(this.value)?parseFloat(fe(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(fe(this.value.toString()))):[this.checkHandleValue(parseFloat(fe(this.value[0].toString()))),this.checkHandleValue(parseFloat(fe(this.value[1].toString())))],this.previousChanged=this.previousVal,f(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?H([this.sliderContainer],["e-disabled"]):L([this.sliderContainer],["e-disabled"]),this.readonly?L([this.sliderContainer],["e-read-only"]):H([this.sliderContainer],["e-read-only"])}getThemeInitialization(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible}createRangeBar(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))}createLimitBar(){let e="Range"!==this.type?"e-limit-bar":"e-limit-first";e+=" e-limits",this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))}setOrientClass(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))}setAriaAttributes(e){let t=this.min,i=this.max;!f(this.customValues)&&this.customValues.length>0&&(t=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type?Te(e,{"aria-valuemin":t.toString(),"aria-valuemax":i.toString()}):(!f(this.customValues)&&this.customValues.length>0?[[t.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[t.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach((n,a)=>{const o=0===a?this.firstHandle:this.secondHandle;o&&Te(o,{"aria-valuemin":n[0],"aria-valuemax":n[1]})})}createSecondHandle(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)}createFirstHandle(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))}wireFirstHandleEvt(e){e?(A.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),A.remove(this.firstHandle,"transitionend",this.transitionEnd),A.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),A.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(A.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),A.add(this.firstHandle,"transitionend",this.transitionEnd,this),A.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),A.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))}wireSecondHandleEvt(e){e?(A.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),A.remove(this.secondHandle,"transitionend",this.transitionEnd),A.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),A.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(A.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),A.add(this.secondHandle,"transitionend",this.transitionEnd,this),A.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),A.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))}handleStart(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))}transitionEnd(e){"transform"!==e.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())}handleFocusOut(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")}handleFocus(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?this.firstHandle.classList.add("e-handle-focused"):this.secondHandle.classList.add("e-handle-focused"),A.add(document,"mousemove touchmove",this.sliderBarMove,this),A.add(document,"mouseup touchend",this.sliderBarUp,this)}handleOver(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())}handleLeave(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&!e.currentTarget.classList.contains("e-handle-focused")&&!e.currentTarget.classList.contains("e-tab-handle")&&this.closeTooltip()}setHandler(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()}setEnableRTL(){this.enableRtl&&"Vertical"!==this.orientation?L([this.sliderContainer],"e-rtl"):H([this.sliderContainer],"e-rtl");let e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(Ue(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&Ue(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()}tooltipValue(){let e;const t={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),t.text=e=this.tooltipObj.content,this.trigger("tooltipChange",t,i=>{this.addTooltipClass(i.text),e!==i.text&&(this.customAriaText=i.text,this.tooltipObj.content=i.text,this.setAriaAttrValue(this.firstHandle),"Range"===this.type&&this.setAriaAttrValue(this.secondHandle))}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))}setTooltipContent(){let e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e}formatContent(e,t){let i="",s=this.handleVal1,n=this.handleVal2;return!f(this.customValues)&&this.customValues.length>0&&(s=this.customValues[this.handleVal1],n=this.customValues[this.handleVal2]),t?("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?f(this.tooltip)||f(this.tooltip.format)?n.toString()+" - "+s.toString():this.formatString(n,e).elementVal+" - "+this.formatString(s,e).elementVal:f(this.tooltip)||f(this.tooltip.format)?s.toString()+" - "+n.toString():this.formatString(s,e).elementVal+" - "+this.formatString(n,e).elementVal:f(s)||(i=f(this.tooltip)||f(this.tooltip.format)?s.toString():this.formatString(s,e).elementVal),i):("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?f(e.format)?n.toString()+" - "+s.toString():this.formatString(n,e).formatString+" - "+this.formatString(s,e).formatString:f(e.format)?s.toString()+" - "+n.toString():this.formatString(s,e).formatString+" - "+this.formatString(n,e).formatString:f(s)||(i=f(e.format)?s.toString():this.formatString(s,e).formatString),i)}addTooltipClass(e){if(this.isMaterialTooltip){let t=e.toString().length;if(this.tooltipElement){let i=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"};this.tooltipElement.classList.remove(i.oldCss),this.tooltipElement.classList.contains(i.newCss)||(this.tooltipElement.classList.add(i.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else this.tooltipObj.cssClass="e-slider-tooltip "+(t>4?"e-material-range":"e-material-default")}}tooltipPlacement(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"}tooltipBeforeOpen(e){this.tooltipElement=e.element,this.tooltip.cssClass&&L([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(t=>t)),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())}tooltipCollision(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){const t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}}materialTooltipEventCallBack(e){this.sliderBarClick(e),A.add(document,"mousemove touchmove",this.sliderBarMove,this),A.add(document,"mouseup touchend",this.sliderBarUp,this)}wireMaterialTooltipEvent(e){this.isMaterialTooltip&&(e?A.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):A.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))}tooltipPositionCalculation(e){let t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t}getTooltipTransformProperties(e){let t;if(this.tooltipElement){let i="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:`translateY(${i}px)`}:{rotate:"rotate(225deg)",translate:`translateY(${-i}px)`}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:`translateX(${i}px)`}:{rotate:"rotate(-225deg)",translate:`translateX(${-i}px)`}}return t}openMaterialTooltip(){if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);let e=this.tooltipElement.firstElementChild;e.classList.remove("e-material-tooltip-hide"),e.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=e.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(()=>{this.tooltipElement.style.transition=this.transition.handle},2500):setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}closeMaterialTooltip(){if(this.isMaterialTooltip){let e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove("e-material-tooltip-show"),e.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}checkTooltipPosition(e){let t=this.tooltipPositionCalculation(e.collidedPosition);(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(t))&&(this.isMaterialTooltip&&(void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()}setTooltipTransform(){let e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?`${e.translate} scale(0.01)`:`${e.translate} ${e.rotate} scale(0.01)`}renderTooltip(){this.tooltipObj=new gs({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4||this.isTailwind||this.isBootstrap5,cssClass:"e-slider-tooltip",height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()}initializeTooltipProps(){this.setProperties({tooltip:{showOn:this.isMaterialTooltip?"Always":"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(t=>{f(t)||(t.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))}tooltipBeforeClose(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0}setButtons(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()}buttonTitle(){let e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);let t=this.l10n.getConstant("decrementTitle"),i=this.l10n.getConstant("incrementTitle");Te(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),Te(e?this.firstBtn:this.secondBtn,{"aria-label":i,title:i})}buttonFocusOut(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")}repeatButton(e){let s,t=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?s=this.add(t,parseFloat(this.step.toString()),!!i):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(s=this.add(t,parseFloat(this.step.toString()),!i)),this.limits.enabled&&(s=this.getLimitCorrectedValues(s)),s>=this.min&&s<=this.max&&(this.changeHandleValue(s),this.tooltipToggle(this.getHandle()))}repeatHandlerMouse(e){e.preventDefault(),("mousedown"===e.type||"touchstart"===e.type)&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))}materialChange(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")}repeatHandlerUp(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()}customTickCounter(e){let t=4;return!f(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t}renderScale(){let e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",G.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");let t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat(fe(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(fe(this.max))-parseFloat(fe(this.min));let i=this.fractionalToInteger(this.min),s=this.fractionalToInteger(this.max),n=this.fractionalToInteger(t),a=!f(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,o=this.customTickCounter(a),h=!f(this.customValues)&&this.customValues.length>0?a*o+a:Math.abs((s-i)/n);this.element.appendChild(this.ul);let d,m=parseFloat(this.min.toString());"v"===e&&(m=parseFloat(this.max.toString()));let C,v=0,w=100/h;w===1/0&&(w=5);for(let S=0,k=!f(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,O=0;S<=h;S++){if(d=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!f(this.customValues)&&this.customValues.length>0)C=S%(o+1)==0,C&&("h"===e?(m=this.customValues[O],O++):(m=this.customValues[k],k--),d.setAttribute("title",m.toString()));else if(d.setAttribute("title",m.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))C="h"===e?(m-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(m-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{let z=this.fractionalToInteger(this.ticks.largeStep),Z=this.fractionalToInteger(m);C="h"===e?(Z-i)%z==0:Math.abs(Z-parseFloat(s.toString()))%z==0}C&&d.classList.add("e-large"),"h"===e?d.style.width=w+"%":d.style.height=w+"%";let q,N=C?"Both"===this.ticks.placement?2:1:0;if(C)for(let z=0;z<N;z++)this.createTick(d,m,w);else f(this.customValues)&&this.formatTicksValue(d,m);this.ul.appendChild(d),this.tickElementCollection.push(d),f(this.customValues)&&(q=this.numberOfDecimals(t)>this.numberOfDecimals(m)?this.numberOfDecimals(t):this.numberOfDecimals(m),m=this.makeRoundNumber("h"===e?m+t:m-t,q),v=this.makeRoundNumber(v+t,q))}this.ticksAlignment(e,w)}ticksAlignment(e,t,i=!0){this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),i&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()}createTick(e,t,i){let s=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(s),f(this.customValues)?this.formatTicksValue(e,t,s,i):s.innerHTML=this.enableHtmlSanitizer?nn.sanitize(t.toString()):t.toString()}formatTicksValue(e,t,i,s){const n=this.formatNumber(t),a=f(this.ticks)||f(this.ticks.format)?n:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:a,tickElement:e},h=>{e.setAttribute("title",h.text.toString()),i&&(i.innerHTML=this.enableHtmlSanitizer?nn.sanitize(h.text.toString()):h.text.toString())})}scaleAlignment(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")}tickValuePosition(){this.firstChild=this.element.querySelector("ul").children[0];let t,i,e=this.firstChild.getBoundingClientRect(),s=this.ticks.smallStep,n=Math.abs(parseFloat(fe(this.max))-parseFloat(fe(this.min)))/s;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());let o,a=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];o=[].slice.call(a[0],"Both"===this.ticks.placement?2:1);let h="Vertical"===this.orientation?2*e.height:2*e.width;for(let d=0;d<this.firstChild.children.length;d++)"Vertical"===this.orientation?this.firstChild.children[d].style.top=-t.height/2+"px":this.firstChild.children[d].style.left=this.enableRtl?(h-this.firstChild.children[d].getBoundingClientRect().width)/2+"px":-t.width/2+"px";for(let d=0;d<o.length;d++)i=o[d].getBoundingClientRect(),Ue(o[d],"Vertical"===this.orientation?{top:(h-i.height)/2+"px"}:{left:(h-i.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==n&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===n&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))}setAriaAttrValue(e){let t;const i=!f(this.ticks)&&!f(this.ticks.format);let s=this.formatContent(i?this.tooltipFormatInfo:this.ticksFormatInfo,!1);const n=this.formatContent(i?this.ticksFormatInfo:this.tooltipFormatInfo,!0);s=this.customAriaText?this.customAriaText:s,t=2===s.split(" - ").length?s.split(" - "):[s,s],this.setAriaAttributes(e),Te(e,"Range"!==this.type?{"aria-valuenow":n,"aria-valuetext":s}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":n.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":n.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":n.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":n.split(" - ")[1],"aria-valuetext":t[1]})}handleValueUpdate(){let e;return e="Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1,e}getLimitCorrectedValues(e){return"MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]}focusSliderElement(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)}buttonClick(e){let t;this.focusSliderElement();const i=this.enableRtl&&"Vertical"!==this.orientation,s=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(s,parseFloat(this.step.toString()),!!i):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(s,parseFloat(this.step.toString()),!i):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(s,parseFloat(this.ticks.largeStep.toString()),!i):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(s,parseFloat(this.ticks.largeStep.toString()),!!i):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),e.currentTarget.classList.contains("e-first-button")&&A.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&A.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)}tooltipToggle(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)}buttonUp(e){e.currentTarget.classList.contains("e-first-button")&&A.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&A.remove(this.secondBtn,"mouseup touchend",this.buttonUp)}setRangeBar(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",Ue(this.rangeBar,{width:f(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",Ue(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",Ue(this.rangeBar,{height:f(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",Ue(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))}checkValidValueAndPos(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)}setLimitBarPositions(e,t,i,s){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.left=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.bottom=i+"px",this.limitBarSecond.style.height=s-i+"px"))}setLimitBar(){if("Default"===this.type||"MinRange"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);let i=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];i=this.checkValidValueAndPos(i);let s=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];s=this.checkValidValueAndPos(s),this.setLimitBarPositions(e,t,i,s)}}getLimitValueAndPosition(e,t,i,s){return f(t)&&(t=this.min,f(e)&&s&&(e=t)),f(i)&&(i=this.max,f(e)&&s&&(e=i)),e<t&&(e=t),e>i&&(e=i),[e,this.checkHandlePosition(e)]}setValue(){if(!f(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=f(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=f(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){const e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()}rangeValueUpdate(){(null===this.value||"object"!=typeof this.value)&&(this.value=[parseFloat(fe(this.min)),parseFloat(fe(this.max))])}validateRangeValue(){this.rangeValueUpdate(),this.setRangeValue()}modifyZindex(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=wd(this.element)+"")}setHandlePosition(e){let t;const i=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach(s=>{"Horizontal"===this.orientation?this.enableRtl?s.style.right=`${i}px`:s.style.left=`${i}px`:s.style.bottom=`${i}px`}),this.changeEvent("change",e)}getHandle(){return 1===this.activeHandle?this.firstHandle:this.secondHandle}setRangeValue(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1}changeEvent(e,t){let i="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),i!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{let s=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:s},!0),(i.length===this.value.length&&this.value[0]!==i[0]||this.value[1]!==i[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()}changeEventArgs(e,t){let i;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!f(t)}):i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:f(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!f(t)},i}setPreviousVal(e,t){"change"===e?this.previousVal=t:this.previousChanged=t}updateRangeValue(){const e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;let t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}}checkHandlePosition(e){let t;return e=100*(e-parseFloat(fe(this.min)))/(parseFloat(fe(this.max))-parseFloat(fe(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(fe(this.max))===parseFloat(fe(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t}checkHandleValue(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(fe(this.max));let t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e}reposition(){this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=`${this.handlePos1}px`:this.firstHandle.style.left=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=`${this.handlePos1}px`:this.materialHandle.style.left=`${this.handlePos1}px`),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",Ue(this.rangeBar,{width:f(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=`${this.handlePos2}px`:this.secondHandle.style.left=`${this.handlePos2}px`,this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",Ue(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.materialHandle.style.bottom=`${this.handlePos1}px`),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",Ue(this.rangeBar,{height:f(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=`${this.handlePos2}px`,this.rangeBar.style.bottom=this.handlePos1+"px",Ue(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(()=>{this.firstHandle.style.transition=this.scaleTransform,"Range"===this.type&&(this.secondHandle.style.transition=this.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()}changeHandleValue(e){let t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))}tempStartEnd(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}}xyToPosition(e){let t;if(this.min===this.max)return 100;if("Horizontal"===this.orientation){let s=e.x-this.element.getBoundingClientRect().left;this.val=s/(this.element.offsetWidth/100)}else{let s=e.y-this.element.getBoundingClientRect().top;this.val=100-s/(this.element.offsetHeight/100)}let i=this.stepValueCalculation(this.val);return i<0?i=0:i>100&&(i=100),this.enableRtl&&"Vertical"!==this.orientation&&(i=100-i),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(i/100):this.element.getBoundingClientRect().height*(i/100),t}stepValueCalculation(e){0===this.step&&(this.step=1);let t=parseFloat(fe(this.step))/((parseFloat(fe(this.max))-parseFloat(fe(this.min)))/100),i=e%Math.abs(t);return 0!==i&&(t/2>i?e-=i:e+=Math.abs(t)-i),e}add(e,t,i){let a,n=Math.pow(10,3);return a=i?(Math.round(e*n)+Math.round(t*n))/n:(Math.round(e*n)-Math.round(t*n))/n,a}positionToValue(e){let t,i=parseFloat(fe(this.max))-parseFloat(fe(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*i:e/this.element.getBoundingClientRect().height*i,this.add(t,parseFloat(this.min.toString()),!0)}sliderBarClick(e){let t;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:("touchend"===e.type||"touchstart"===e.type)&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});let i=this.xyToPosition(t),s=this.positionToValue(i);if("Range"===this.type&&this.handlePos2-i<i-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){let h=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=h[0],i=h[1]}this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=i,this.handleVal2=s}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let h=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=h[0],i=h[1]}this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=i,this.handleVal1=s}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");let n=this.element.querySelector(".e-tab-handle");if(n&&this.getHandle()!==n&&n.classList.remove("e-tab-handle"),e.target===(1===this.activeHandle?this.firstHandle:this.secondHandle))return this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(!this.checkRepeatedValue(s))return;let o=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=o.handle,"Default"!==this.type&&(this.rangeBar.style.transition=o.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}handleValueAdjust(e,t,i){1===i?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===i&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)}dragRangeBarMove(e){let t,i,s;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none",[i,s]="mousemove"===e.type?[e.clientX,e.clientY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(t=this.enableRtl?{x:i+this.secondPartRemain,y:s+this.secondPartRemain}:{x:i-this.firstPartRemain,y:s+this.secondPartRemain},this.handlePos1=this.xyToPosition(t),this.handleVal1=this.positionToValue(this.handlePos1),t=this.enableRtl?{x:i-this.firstPartRemain,y:s-this.firstPartRemain}:{x:i+this.secondPartRemain,y:s-this.firstPartRemain},this.handlePos2=this.xyToPosition(t),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){let n=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=n[0],this.handlePos1=n[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),n=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=n[0],this.handlePos2=n[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()}sliderBarUp(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove("e-handle-active")),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),A.remove(document,"mousemove touchmove",this.sliderBarMove),A.remove(document,"mouseup touchend",this.sliderBarUp)}sliderBarMove(e){let t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};let i=this.xyToPosition(t),s=this.positionToValue(i);if(i=Math.round(i),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let n=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);i=n[1],s=n[0]}this.handlePos1=i,this.handleVal1=s}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.startHandleFixed||(i>this.handlePos2&&(i=this.handlePos2,s=this.handleVal2),i===this.preHandlePos1))){if(this.limits.enabled){let n=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=n[0],i=n[1]}this.handlePos1=this.preHandlePos1=i,this.handleVal1=s,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||(i<this.handlePos1&&(i=this.handlePos1,s=this.handleVal1),i===this.preHandlePos2)))){if(this.limits.enabled){let n=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=n[0],i=n[1]}this.handlePos2=this.preHandlePos2=i,this.handleVal2=s,this.activeHandle=2}!this.checkRepeatedValue(s)||(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())}dragRangeBarUp(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),A.remove(document,"mousemove touchmove",this.dragRangeBarMove),A.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1}checkRepeatedValue(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1}refreshTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))}openTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)}closeTooltip(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)}keyDown(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}}wireButtonEvt(e){e?(A.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),A.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),A.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),A.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),A.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),A.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),A.remove(this.firstBtn,"focusout",this.sliderFocusOut),A.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(A.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),A.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),A.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),A.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),A.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),A.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),A.add(this.firstBtn,"focusout",this.sliderFocusOut,this),A.add(this.secondBtn,"focusout",this.sliderFocusOut,this))}rangeBarMousedown(e){if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){let t,i;"mousedown"===e.type?[t,i]=[e.clientX,e.clientY]:"touchstart"===e.type&&([t,i]=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]),"Horizontal"===this.orientation?(this.firstPartRemain=t-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-t):(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-i),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);let s=this.element.querySelector(".e-tab-handle");s&&s.classList.remove("e-tab-handle"),A.add(document,"mousemove touchmove",this.dragRangeBarMove,this),A.add(document,"mouseup touchend",this.dragRangeBarUp,this)}}elementClick(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e))}wireEvents(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(A.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&A.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),A.add(this.sliderContainer,"keydown",this.keyDown,this),A.add(this.sliderContainer,"keyup",this.keyUp,this),A.add(this.element,"focusout",this.sliderFocusOut,this),A.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&A.add(this.formElement,"reset",this.formResetHandler,this))}unwireEvents(){A.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&A.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),A.remove(this.sliderContainer,"keydown",this.keyDown),A.remove(this.sliderContainer,"keyup",this.keyUp),A.remove(this.element,"focusout",this.sliderFocusOut),A.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),A.remove(this.element,"reset",this.formResetHandler)}formResetHandler(){this.setProperties({value:this.formResetValue},!0),this.setValue()}keyUp(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");let t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)}hover(e){f(e)||("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type?this.sliderContainer.classList.add("e-slider-hover"):this.sliderContainer.classList.remove("e-slider-hover"))}sliderFocusOut(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&this.element.querySelector(".e-tab-range")&&this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)}removeElement(e){e.parentNode&&e.parentNode.removeChild(e)}changeSliderType(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!f(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?f(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):f(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==t&&this.updateConfig()}changeRtl(){if(!this.enableRtl&&"Range"===this.type&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){let e=this.enableRtl&&"Vertical"!==this.orientation;Te(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),Te(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}}changeOrientation(){this.changeSliderType(this.type,"null")}updateConfig(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()}limitsPropertyChange(){this.limits.enabled?(f(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),f(this.limitBarFirst)&&f(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(f(this.limitBarFirst)||oe(this.limitBarFirst),f(this.limitBarSecond)||oe(this.limitBarSecond))}getPersistData(){return this.addOnPersist(["value"])}destroy(){super.destroy(),this.unwireEvents(),window.removeEventListener("resize",this.onresize),H([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),oe(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){let s=f(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:s},!0),!f(t.value)&&t.value.toString()!==s.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=f(e.value)||t.value[1]===s[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!f(e.tooltip)&&!f(t.tooltip)&&this.setTooltip(i);break;case"type":!f(t)&&Object.keys(t).length&&!f(t.type)&&(this.changeSliderType(t.type,i),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":f(this.sliderContainer.querySelector(".e-scale"))||(oe(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,s=>{s.match(/e-scale-/)&&this.sliderContainer.classList.remove(s)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}setReadOnly(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))}setMinMaxValue(){this.setValue(),this.refreshTooltip(this.tooltipTarget),f(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(oe(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,e=>{e.match(/e-scale-/)&&this.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())}setZindex(){this.zIndex=6,!f(this.ticks)&&"None"!==this.ticks.placement&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!f(this.ticks)&&"Both"===this.ticks.placement&&(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")}setTooltip(e){this.changeSliderType(this.type,e)}setBarColor(){let e,t,i=this.sliderTrack.lastElementChild;for(;i;)this.sliderTrack.removeChild(i),i=this.sliderTrack.lastElementChild;for(let s=0;s<this.colorRange.length;s++)if(!f(this.colorRange[s].start)&&!f(this.colorRange[s].end)&&this.colorRange[s].end>this.colorRange[s].start){this.colorRange[s].start<this.min&&(this.colorRange[s].start=this.min),this.colorRange[s].end>this.max&&(this.colorRange[s].end=this.max);const n=this.checkHandlePosition(this.colorRange[s].start),a=this.checkHandlePosition(this.colorRange[s].end),o=this.createElement("div");o.style.backgroundColor=this.colorRange[s].color,o.style.border="1px solid "+this.colorRange[s].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?f(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[s].end):this.checkHandlePosition(this.customValues.length-this.colorRange[s].end-1):this.checkHandlePosition(this.colorRange[s].start),o.style.width=a-n+"px",o.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[s].start),o.style.height=a-n+"px",o.style.bottom=e+"px"),o.classList.add(t),this.sliderTrack.appendChild(o)}}getModuleName(){return"slider"}};wi([T(null)],an.prototype,"value",void 0),wi([T(null)],an.prototype,"customValues",void 0),wi([T(1)],an.prototype,"step",void 0),wi([T(null)],an.prototype,"width",void 0),wi([T(0)],an.prototype,"min",void 0),wi([T(100)],an.prototype,"max",void 0),wi([T(!1)],an.prototype,"readonly",void 0),wi([T("Default")],an.prototype,"type",void 0),wi([Va([{}],M0)],an.prototype,"colorRange",void 0),wi([Ht({},vf)],an.prototype,"ticks",void 0),wi([Ht({},Tu)],an.prototype,"limits",void 0),wi([T(!0)],an.prototype,"enabled",void 0),wi([Ht({},Pg)],an.prototype,"tooltip",void 0),wi([T(!1)],an.prototype,"showButtons",void 0),wi([T(!0)],an.prototype,"enableAnimation",void 0),wi([T("Horizontal")],an.prototype,"orientation",void 0),wi([T("")],an.prototype,"cssClass",void 0),wi([T(!1)],an.prototype,"enableHtmlSanitizer",void 0),wi([$()],an.prototype,"created",void 0),wi([$()],an.prototype,"change",void 0),wi([$()],an.prototype,"changed",void 0),wi([$()],an.prototype,"renderingTicks",void 0),wi([$()],an.prototype,"renderedTicks",void 0),wi([$()],an.prototype,"tooltipChange",void 0),an=wi([oi],an);var Ng,ja=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Au={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};var db=(()=>{return(r=db||(db={}))[r.Message=0]="Message",r[r.Label=1]="Label",db;var r})();let Pr=Ng=class extends al{constructor(e,t){super(t,e),this.validated=[],this.errorRules=[],this.allowSubmit=!1,this.required="required",this.infoElement=null,this.inputElement=null,this.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",this.localyMessage={},this.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===this.rules&&(this.rules={}),this.l10n=new Gs("formValidator",this.defaultMessages,this.locale),this.locale&&this.localeFunc(),Gp.on("notifyExternalChange",this.afterLocalization,this),e="string"==typeof e?J(e,document):e,null!=this.element&&(this.element.setAttribute("novalidate",""),this.inputElements=Xe(this.selectQuery,this.element),this.createHTML5Rules(),this.wireEvents())}addRules(e,t){e&&(this.rules.hasOwnProperty(e)?ae(this.rules[e],t,{}):this.rules[e]=t)}removeRules(e,t){if(e||t)if(this.rules[e]&&!t)delete this.rules[e];else{if(f(this.rules[e]&&t))return;for(let i=0;i<t.length;i++)delete this.rules[e][t[i]]}else this.rules={}}validate(e){const t=Object.keys(this.rules);if(e&&t.length)return this.validateRules(e),-1!==t.indexOf(e)&&0===this.errorRules.filter(i=>i.name===e).length;this.errorRules=[];for(const i of t)this.validateRules(i);return 0===this.errorRules.length}reset(){this.element.reset(),this.clearForm()}getInputElement(e){return this.inputElement=J('[name="'+e+'"]',this.element),this.inputElement}destroy(){this.reset(),this.unwireEvents(),this.rules={};const e=Xe("."+this.errorClass+", ."+this.validClass,this.element);for(const t of e)oe(t);super.destroy(),Gp.off("notifyExternalChange",this.afterLocalization)}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"locale":this.localeFunc()}}localeFunc(){for(const e of Object.keys(this.defaultMessages)){this.l10n.setLocale(this.locale);const t=this.l10n.getConstant(e);this.localyMessage[e]=t}}getModuleName(){return"formValidator"}afterLocalization(e){this.locale=e.locale,this.localeFunc()}refresh(){this.unwireEvents(),this.inputElements=Xe(this.selectQuery,this.element),this.wireEvents()}clearForm(){this.errorRules=[],this.validated=[];const e=Xe(this.selectQuery,this.element);for(const t of e){const i=t;i.removeAttribute("aria-invalid"),i.classList.remove(this.errorClass),i.name.length>0&&(this.getInputElement(i.name),this.getErrorElement(i.name),this.hideMessage(i.name)),i.classList.remove(this.validClass)}}createHTML5Rules(){const e=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],t=["hidden","email","url","date","number","tel"];for(const i of this.inputElements){const s={};for(let n of e)if(null!==i.getAttribute(n))switch(n){case"required":this.defRule(i,s,n,i.required);break;case"data-validation":n=i.getAttribute(n),this.defRule(i,s,n,!0);break;case"type":-1!==t.indexOf(i.type)&&this.defRule(i,s,i.type,!0);break;case"rangeLength":case"range":this.defRule(i,s,n,JSON.parse(i.getAttribute(n)));break;case"equalTo":{const a=i.getAttribute(n);this.defRule(i,s,n,a)}break;default:"true"===i.getAttribute("data-val")?this.annotationRule(i,s,n,i.getAttribute(n)):this.defRule(i,s,n,i.getAttribute(n))}0!==Object.keys(s).length&&this.addRules(i.name,s)}}annotationRule(e,t,i,s){const n=i.split("-"),a=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],o=n[n.length-1],h=n[n.length-2];if(-1!==a.indexOf(o))switch(o){case"required":this.defRule(e,t,"required",s);break;case"creditcard":this.defRule(e,t,"creditcard",s);break;case"phone":this.defRule(e,t,"tel",s)}else if(-1!==a.indexOf(h))switch(h){case"maxlength":this.defRule(e,t,"maxLength",s);break;case"minlength":this.defRule(e,t,"minLength",s);break;case"range":{const d=e.getAttribute("data-val-range-min"),m=e.getAttribute("data-val-range-max");this.defRule(e,t,"range",[d,m])}break;case"equalto":{const d=e.getAttribute(i).split(".");this.defRule(e,t,"equalTo",d[d.length-1])}break;case"regex":this.defRule(e,t,"regex",s)}}defRule(e,t,i,s){const n=e.getAttribute("data-"+i+"-message"),a=e.getAttribute("data-val-"+i);let o;this.rules[e.name]&&"validateHidden"!==i&&"hidden"!==i&&(this.getInputElement(e.name),o=this.getErrorMessage(this.rules[e.name][i],i)),n?s=[s,n]:a?s=[s,a]:o&&(s=[s,o]),t[i]=s}wireEvents(){for(const e of this.inputElements)Ng.isCheckable(e)?A.add(e,"click",this.clickHandler,this):"SELECT"===e.tagName?A.add(e,"change",this.changeHandler,this):(A.add(e,"focusout",this.focusOutHandler,this),A.add(e,"keyup",this.keyUpHandler,this));A.add(this.element,"submit",this.submitHandler,this),A.add(this.element,"reset",this.resetHandler,this)}unwireEvents(){for(const e of this.inputElements)A.clearEvents(e);A.remove(this.element,"submit",this.submitHandler),A.remove(this.element,"reset",this.resetHandler)}focusOutHandler(e){this.trigger("focusout",e);const t=e.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):-1===this.validated.indexOf(t.name)&&this.validated.push(t.name))}keyUpHandler(e){this.trigger("keyup",e);const t=e.target;9===e.which&&(!this.rules[t.name]||this.rules[t.name]&&!this.rules[t.name][this.required])||-1!==this.validated.indexOf(t.name)&&this.rules[t.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(e.which)&&this.validate(t.name)}clickHandler(e){this.trigger("click",e);const t=e.target;"submit"!==t.type?this.validate(t.name):null!==t.getAttribute("formnovalidate")&&(this.allowSubmit=!0)}changeHandler(e){this.trigger("change",e),this.validate(e.target.name)}submitHandler(e){this.trigger("submit",e),this.allowSubmit||this.validate()?this.allowSubmit=!1:e.preventDefault()}resetHandler(){this.clearForm()}validateRules(e){if(!this.rules[e])return;const t=Object.keys(this.rules[e]);let i=!1,s=!1;const n=t.indexOf("validateHidden"),a=t.indexOf("hidden");if(this.getInputElement(e),-1!==a&&(i=!0),-1!==n&&(s=!0),!i||i&&s){-1!==n&&t.splice(n,1),-1!==a&&t.splice(a-1,1),this.getErrorElement(e);for(const o of t){const h=this.getErrorMessage(this.rules[e][o],o),d={name:e,message:h},m={inputName:e,element:this.inputElement,message:h};if(!this.isValid(e,o)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(e),this.errorRules.push(d),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(d):this.createErrorElement(e,d.message,this.inputElement),m.errorElement=this.infoElement,m.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(e,m),this.trigger("validationComplete",m),"required"===o&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(e),m.status="success",this.trigger("validationComplete",m)}}}optionalValidationStatus(e,t){!this.rules[e][this.required]&&!this.inputElement.value.length&&!f(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(e))}isValid(e,t){const i=this.rules[e][t],n=this.rules[e][t],a={value:this.inputElement.value,param:i instanceof Array&&"string"==typeof i[1]?i[0]:i,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",a),!a.param&&"required"===t||(n&&"function"==typeof n[0]?n[0].call(this,{element:this.inputElement,value:this.inputElement.value}):Ng.isCheckable(this.inputElement)?"required"!==t||Xe('input[name="'+e+'"]:checked',this.element).length>0:Ng.checkValidator[t](a))}getErrorMessage(e,t){let i=this.inputElement.getAttribute("data-"+t+"-message")?this.inputElement.getAttribute("data-"+t+"-message"):e instanceof Array&&"string"==typeof e[1]?e[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[t]:this.defaultMessages[t];const s=i.match(/{(\d)}/g);if(!f(s))for(let n=0;n<s.length;n++)i=i.replace(s[n],e instanceof Array?e[n]:e);return i}createErrorElement(e,t,i){let s=Q(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{for:e}});this.errorOption===db.Message&&(s.classList.remove(this.errorClass),s.classList.add("e-message"),s=Q(this.errorContainer,{className:this.errorClass,innerHTML:s.outerHTML})),s.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+i.id+'"]')?this.element.querySelector('[data-valmsg-for="'+i.id+'"]').appendChild(s):!0===i.hasAttribute("data-msg-containerid")?J("#"+i.getAttribute("data-msg-containerid"),this.element).appendChild(s):null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,s):this.inputElement.parentNode.insertBefore(s,this.inputElement.nextSibling),s.style.display="block",this.getErrorElement(e),this.validated.push(e),this.checkRequired(e)}getErrorElement(e){return this.infoElement=J(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=J(this.errorElement+"."+this.errorClass+'[for="'+e+'"]',this.element)),this.infoElement}removeErrorRules(e){for(let t=0;t<this.errorRules.length;t++)this.errorRules[t].name===e&&this.errorRules.splice(t,1)}showMessage(e){this.infoElement.style.display="block",this.infoElement.innerHTML=e.message,this.checkRequired(e.name)}hideMessage(e){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(e),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))}checkRequired(e){!this.rules[e][this.required]&&!this.inputElement.value.length&&!f(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(e))}static isCheckable(e){const t=e.getAttribute("type");return t&&("checkbox"===t||"radio"===t||"submit"===t)}};Pr.checkValidator={required:r=>isNaN(Date.parse(r.value))?r.value.toString().length>0:!isNaN(new Date(r.value).getTime()),email:r=>Au.EMAIL.test(r.value),url:r=>Au.URL.test(r.value),dateIso:r=>Au.DATE_ISO.test(r.value),tel:r=>Au.PHONE.test(r.value),creditcard:r=>Au.CREDITCARD.test(r.value),number:r=>!isNaN(Number(r.value))&&-1===r.value.indexOf(" "),digits:r=>Au.DIGITS.test(r.value),maxLength:r=>r.value.length<=r.param,minLength:r=>r.value.length>=r.param,rangeLength:r=>{const e=r.param;return r.value.length>=e[0]&&r.value.length<=e[1]},range:r=>{const e=r.param;return!isNaN(Number(r.value))&&Number(r.value)>=e[0]&&Number(r.value)<=e[1]},date:r=>!isNaN(new Date(r.value).getTime()),max:r=>isNaN(Number(r.value))?new Date(r.value).getTime()<=new Date(JSON.parse(JSON.stringify(r.param))).getTime():+r.value<=r.param,min:r=>{if(isNaN(Number(r.value))){if(-1!==r.value.indexOf(",")){const e=r.value.replace(/,/g,"");return parseFloat(e)>=r.param}return new Date(r.value).getTime()>=new Date(JSON.parse(JSON.stringify(r.param))).getTime()}return+r.value>=r.param},regex:r=>new RegExp(r.param).test(r.value),equalTo:r=>{const e=r.formElement.querySelector("#"+r.param);return r.param=e.value,r.param===r.value}},ja([T("")],Pr.prototype,"locale",void 0),ja([T("e-hidden")],Pr.prototype,"ignore",void 0),ja([T()],Pr.prototype,"rules",void 0),ja([T("e-error")],Pr.prototype,"errorClass",void 0),ja([T("e-valid")],Pr.prototype,"validClass",void 0),ja([T("label")],Pr.prototype,"errorElement",void 0),ja([T("div")],Pr.prototype,"errorContainer",void 0),ja([T(db.Label)],Pr.prototype,"errorOption",void 0),ja([$()],Pr.prototype,"focusout",void 0),ja([$()],Pr.prototype,"keyup",void 0),ja([$()],Pr.prototype,"click",void 0),ja([$()],Pr.prototype,"change",void 0),ja([$()],Pr.prototype,"submit",void 0),ja([$()],Pr.prototype,"validationBegin",void 0),ja([$()],Pr.prototype,"validationComplete",void 0),ja([$()],Pr.prototype,"customPlacement",void 0),Pr=Ng=ja([oi],Pr);var ui=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const MO="e-file-select",XT="e-file-drop",OO="e-upload-files",O0="e-upload-file-list",qn="e-file-status",RO="e-file-name",ZT="e-file-type",LO="e-file-size",Kr="e-file-remove-btn",Wl="e-file-delete-btn",JT="e-spinner-pane",zn="e-file-abort-btn",Ul="e-file-reload-btn",eA="e-upload-drag-hover",Ld="e-upload-progress-wrap",fb="e-upload-progress-bar",tA="e-progress-bar-text",ql="e-upload-progress",Sc="e-upload-success",Lo="e-upload-fails",iA="e-file-container",sA="e-validation-fails",nA="e-disabled",PO="e-rtl-container",rA="e-clear-icon-focus",Wa="e-file-pause-btn",yf="e-file-play-btn",Fg="e-restrict-retry",R0=["title","style","class"],L0="e-form-upload",Hg="e-file-invalid";class mb extends hi{}ui([T("")],mb.prototype,"name",void 0),ui([T(null)],mb.prototype,"size",void 0),ui([T("")],mb.prototype,"type",void 0);class gb extends hi{}ui([T("Browse...")],gb.prototype,"browse",void 0),ui([T("Upload")],gb.prototype,"upload",void 0),ui([T("Clear")],gb.prototype,"clear",void 0);class Bg extends hi{}ui([T("")],Bg.prototype,"saveUrl",void 0),ui([T("")],Bg.prototype,"removeUrl",void 0),ui([T(0)],Bg.prototype,"chunkSize",void 0),ui([T(3)],Bg.prototype,"retryCount",void 0),ui([T(500)],Bg.prototype,"retryAfterDelay",void 0);let Hi=class extends hs{constructor(e,t){super(e,t),this.initialAttr={accept:null,multiple:!1,disabled:!1},this.uploadedFilesData=[],this.base64String=[],this.isForm=!1,this.allTypes=!1,this.pausedData=[],this.uploadMetaData=[],this.tabIndex="0",this.btnTabIndex="0",this.disableKeyboardNavigation=!1,this.count=-1,this.actionCompleteCount=0,this.flag=!0,this.selectedFiles=[],this.uploaderName="UploadFiles",this.fileStreams=[],this.newFileRef=0,this.isFirstFileOnSelection=!1,this.dragCounter=0,this.fileList=[],this.filesData=[],this.uploaderOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=f(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=f(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=f(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":this.clearAll();break;case"minFileSize":case"maxFileSize":case"autoUpload":case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=X("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(t.cssClass)}}setLocalizedTexts(){f(this.template)&&("string"==typeof this.buttons.browse&&(this.browseButton.innerText="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!f(this.uploadWrapper.querySelector("."+XT))&&(this.uploadWrapper.querySelector("."+XT).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())}getKeyValue(e){let t;for(const i of Object.keys(this.preLocaleObj))this.preLocaleObj[i]===e&&(t=i);return t}updateFileList(){let e;if(this.fileList.length>0&&!f(this.uploadWrapper.querySelector("."+OO)))for(let t=0;t<this.fileList.length;t++)e=this.fileList[t].querySelector(".e-file-status"),e.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.filesData[t].status=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.fileList[t].classList.contains(Sc)&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[t].querySelector(".e-file-play-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[t].querySelector(".e-file-remove-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[t].querySelector(".e-file-reload-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))}reRenderFileList(){this.listParent&&(oe(this.listParent),this.listParent=null,this.fileList=[],this.createFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))}preRender(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new Gs("uploader",this.localeText,this.locale),this.preLocaleObj=X("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);const e=X("ej2_instances",this.element);if("EJS-UPLOADER"===this.element.tagName){const t=this.createElement("input",{attrs:{type:"file"}});let i=0;for(;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;t.hasAttribute("name")||t.setAttribute("name","UploadFiles"),this.element.appendChild(t),this.element=t,At("ej2_instances",e,this.element)}e[0].isPureReactComponent&&(f(e[0].props.name)?!f(e[0].props.id)&&f(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),f(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=G.info.name,this.uploaderName=this.element.getAttribute("name")}formRendered(){let e=U(this.element,"form");if(!f(e))for(;e&&e!==document.documentElement;e=e.parentElement)"FORM"===e.tagName&&(this.isForm=!0,this.formElement=e,e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"))}getPersistData(){return this.addOnPersist(["filesData"])}getModuleName(){return"uploader"}updateDirectoryAttributes(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))}render(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()}renderBrowseButton(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),"string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")}renderActionButtons(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:"e-upload-actions"}),this.uploadButton=this.createElement("button",{className:"e-file-upload-btn e-css e-btn e-flat e-primary",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:"e-file-clear-btn e-css e-btn e-flat",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()}serverActionButtonsEventBind(e){e&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=e,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())}wireActionButtonEvents(){A.add(this.uploadButton,"click",this.uploadButtonClick,this),A.add(this.clearButton,"click",this.clearButtonClick,this)}unwireActionButtonEvents(){A.remove(this.uploadButton,"click",this.uploadButtonClick),A.remove(this.clearButton,"click",this.clearButtonClick)}removeActionButtons(){this.actionButtons&&(this.unwireActionButtonEvents(),oe(this.actionButtons),this.actionButtons=null)}renderButtonTemplates(){if("string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){const e=f(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=e,"string"==typeof this.buttons.upload?(this.uploadButton.textContent="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){const e=f(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=e,"string"==typeof this.buttons.clear?(this.clearButton.textContent="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}}initializeUpload(){this.element.setAttribute("tabindex","-1");const e=this.createElement("span",{className:MO});this.element.parentElement.insertBefore(e,this.element),this.dropAreaWrapper=this.createElement("div",{className:"e-file-select-wrap"}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),e.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:"e-upload e-control-wrapper"}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()}renderPreLoadFiles(){if(this.files.length){if(this.enablePersistence&&this.filesData.length)return void this.createFileList(this.filesData);if(f(this.files[0].size))return;this.isPreloadFiles=!0;let e=[].slice.call(this.files);const t=[];this.multiple||(this.clearData(),e=[e[0]]);for(const i of e){const s={name:i.name+"."+i.type.split(".")[i.type.split(".").length-1],rawFile:"",size:i.size,status:this.localizedTexts("uploadSuccessMessage"),type:i.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};t.push(s),this.filesData.push(s)}this.createFileList(t),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}}checkActionButtonStatus(){if(this.actionButtons){const e=this.uploadWrapper.querySelectorAll("."+sA).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+Sc).length+this.uploadWrapper.querySelectorAll("span."+ql).length;e>0&&e===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}}setDropArea(){const e=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement="string"!=typeof this.dropArea?this.dropArea:J(this.dropArea,document);let t=this.element,i=!1;for(;t.parentNode;)t=t.parentNode,t===this.dropZoneElement&&(i=!0,e?e.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!i&&e&&nt(e)}else!f(this.uploaderOptions)&&void 0===this.uploaderOptions.dropArea&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()}updateDropArea(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;const e=this.dropAreaWrapper.querySelector(".e-file-drop");e&&nt(e)}}createDropTextHint(){const e=this.createElement("span",{className:XT});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e)}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))R0.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(R0.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.uploadWrapper],t.split(" "))}else if("style"===e){let t=this.uploadWrapper.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.uploadWrapper.setAttribute(e,t)}else this.uploadWrapper.setAttribute(e,this.htmlAttributes[e])}setMultipleSelection(){if(this.multiple&&!this.element.hasAttribute("multiple")){const e=document.createAttribute("multiple");e.value="multiple",this.element.setAttributeNode(e)}else this.multiple||this.element.removeAttribute("multiple")}checkAutoUpload(e){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(e):this.upload(e),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()}sequenceUpload(e){if(this.filesData.length-e.length==0||"1"!==this.filesData[this.filesData.length-e.length-1].statusCode){++this.count;const t=!this.showFileList;"object"==typeof this.filesData[this.count]?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],t),"0"===this.filesData[this.count].statusCode&&this.sequenceUpload(e)):--this.count}}setCSSClass(e){let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),!f(this.cssClass)&&""!==t&&L([this.uploadWrapper],t.split(t.indexOf(",")>-1?",":" "));let i=e;f(e)||(i=e.replace(/\s+/g," ").trim()),!f(e)&&""!==i&&H([this.uploadWrapper],i.split(" "))}wireEvents(){A.add(this.browseButton,"click",this.browseButtonClick,this),A.add(this.element,"change",this.onSelectFiles,this),A.add(document,"click",this.removeFocus,this),this.keyboardModule=new rt(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&A.add(this.formElement,"reset",this.resetForm,this)}unWireEvents(){A.remove(this.browseButton,"click",this.browseButtonClick),A.remove(this.element,"change",this.onSelectFiles),A.remove(document,"click",this.removeFocus),this.isForm&&A.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()}resetForm(){this.clearAll()}keyActionHandler(e){const t=e.target;switch(e.action){case"enter":if(e.target===this.clearButton)this.clearButtonClick();else if(e.target===this.uploadButton)this.uploadButtonClick();else if(e.target===this.browseButton)this.browseButtonClick();else if(t.classList.contains(Wa)){const i=this.getCurrentMetaData(null,e);i.file.statusCode="4",i.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(i,!1)}else if(t.classList.contains(yf))this.resumeUpload(this.getCurrentMetaData(null,e),e);else if(t.classList.contains(Ul)){const i=this.getCurrentMetaData(null,e);if(f(i)){const n=this.filesData[this.fileList.indexOf(e.target.parentElement)];this.retry(n)}else i.file.statusCode="1",i.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(i.file)}else this.removeFiles(e),t.classList.contains(zn)||this.browseButton.focus();e.preventDefault(),e.stopPropagation()}}getCurrentMetaData(e,t){let i,s;i=f(e)?this.filesData[this.fileList.indexOf(t.target.parentElement)]:e;for(let n=0;n<this.uploadMetaData.length;n++)this.uploadMetaData[n].file.name===i.name&&(s=this.uploadMetaData[n]);return s}removeFocus(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+rA)&&(document.activeElement.blur(),this.listParent.querySelector("."+rA).classList.remove(rA))}browseButtonClick(){this.element.click()}uploadButtonClick(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)}clearButtonClick(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0}bindDropEvents(){this.dropZoneElement&&(A.add(this.dropZoneElement,"drop",this.dropElement,this),A.add(this.dropZoneElement,"dragover",this.dragHover,this),A.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),A.add(this.dropZoneElement,"paste",this.onPasteFile,this),A.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))}unBindDropEvents(){this.dropZoneElement&&(A.remove(this.dropZoneElement,"drop",this.dropElement),A.remove(this.dropZoneElement,"dragover",this.dragHover),A.remove(this.dropZoneElement,"dragleave",this.onDragLeave),A.remove(this.dropZoneElement,"dragenter",this.onDragEnter))}onDragEnter(e){!this.enabled||(this.dropZoneElement.classList.add(eA),this.dragCounter=this.dragCounter+1,e.preventDefault(),e.stopPropagation())}onDragLeave(){!this.enabled||(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(eA))}dragHover(e){!this.enabled||("Default"!==this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),e.preventDefault(),e.stopPropagation())}dropElement(e){this.dragCounter=0,this.dropZoneElement.classList.remove(eA),this.onSelectFiles(e),e.preventDefault(),e.stopPropagation()}onPasteFile(e){const t=e.clipboardData.items;if(1!==t.length)return;const i=[].slice.call(t)[0];"file"===i.kind&&i.type.match("^image/")&&this.renderSelectedFiles(e,[i.getAsFile()],!1,!0)}getSelectedFiles(e){const t=[],i=this.fileList[e],s=this.getFilesData(),n=+i.getAttribute("data-files-count");let a=0;for(let o=0;o<e;o++)a+=+this.fileList[o].getAttribute("data-files-count");for(let o=a;o<a+n;o++)t.push(s[o]);return t}removeFiles(e){if(!this.enabled)return;const i=this.fileList.indexOf(e.target.parentElement),s=this.fileList[i],n=this.isFormUpload(),a=n?this.getSelectedFiles(i):this.getFilesInArray(this.filesData[i]);if(!f(a)){if(e.target.classList.contains(zn)&&!n){if(a[0].statusCode="5",!f(s)){const o=s.querySelector("."+zn);wc({target:o,width:"20px"}),so(o)}this.sequentialUpload&&this.uploadSequential(),s.classList.contains(Fg)||this.checkActionComplete(!0)}else U(e.target,"."+JT)||this.remove(a,!1,!1,!0,e);this.element.value="",this.checkActionButtonStatus()}}removeFilesData(e,t){let i;if(t)return void(this.showFileList||(i=this.filesData.indexOf(e),this.filesData.splice(i,1)));const s=this.getLiElement(e);f(s)||(oe(s),i=this.fileList.indexOf(s),this.fileList.splice(i,1),this.filesData.splice(i,1),0===this.fileList.length&&!f(this.listParent)&&(oe(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&i<=this.count&&--this.count)}removeUploadedFile(e,t,i,s){const n=e,a=new yd(this.asyncSettings.removeUrl,"POST",!0,null);a.emitError=!1;const o=new FormData;a.beforeSend=h=>{t.currentRequest=a.httpRequest,i?this.removingEventCallback(t,o,n,e):this.trigger("removing",t,d=>{d.cancel?h.cancel=!0:this.removingEventCallback(d,o,n,e)})},a.onLoad=h=>(this.removeCompleted(h,n,s),{}),a.onError=h=>(this.removeFailed(h,n,s),{}),a.send(o)}removingEventCallback(e,t,i,s){const n=this.element.getAttribute("name"),a=this.getLiElement(s);if(!(f(a)||f(a.querySelector("."+Wl))&&f(a.querySelector("."+Kr)))){const o=a.querySelector("."+Wl)?a.querySelector("."+Wl):a.querySelector("."+Kr);wc({target:o,width:"20px"}),so(o)}e.postRawFile&&!f(i.rawFile)&&""!==i.rawFile?t.append(n,i.rawFile,i.name):t.append(n,i.name),this.updateFormData(t,e.customFormData)}updateFormData(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const s=t[i],n=Object.keys(s).map(function(a){return s[a]});e.append(Object.keys(s)[0],n)}}updateCustomheader(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const s=t[i],n=Object.keys(s).map(function(a){return s[a]});e.setRequestHeader(Object.keys(s)[0],n)}}removeCompleted(e,t,i){const s=e&&e.currentTarget?this.getResponse(e):null,n=e.target;if(4===n.readyState&&n.status>=200&&n.status<=299){const a={e,response:s,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",a),this.removeFilesData(t,i);const o=this.uploadedFilesData.indexOf(t);this.uploadedFilesData.splice(o,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(e,t,i)}removeFailed(e,t,i){const n={e,response:e&&e.currentTarget?this.getResponse(e):null,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedFailedMessage"),"0")};if(!i){const o=this.filesData.indexOf(t),h=this.fileList[o];if(h){h.classList.remove(Sc),h.classList.add(Lo);const d=h.querySelector("."+qn);d&&(d.classList.remove(Sc),d.classList.add(Lo))}this.checkActionButtonStatus()}this.trigger("failure",n);const a=this.getLiElement(t);f(a)||f(a.querySelector("."+Wl))||(no(a.querySelector("."+Wl)),oe(a.querySelector(".e-spinner-pane")))}getFilesFromFolder(e){this.filesEntries=[];const t=this.multiple?e.dataTransfer.items:[e.dataTransfer.items[0]];if(this.checkDirectoryUpload(t))for(let s=0;s<t.length;s++){const n=t[s].webkitGetAsEntry();if(n.isFile){const a=[];n.file(o=>{a.push({path:n.fullPath,file:o})}),this.renderSelectedFiles(e,a,!0)}else n.isDirectory&&this.traverseFileTree(n,e)}}checkDirectoryUpload(e){for(let t=0;e&&t<e.length;t++)if(e[t].webkitGetAsEntry().isDirectory)return!0;return!1}traverseFileTree(e,t){if(e.isFile)this.filesEntries.push(e);else if(e.isDirectory){const i=e.createReader();this.readFileFromDirectory(i,t)}}readFileFromDirectory(e,t){e.readEntries(i=>{for(let s=0;s<i.length;s++)this.traverseFileTree(i[s],t);this.pushFilesEntries(t),i.length&&this.readFileFromDirectory(e)})}pushFilesEntries(e){const t=[];for(let i=0;i<this.filesEntries.length;i++)this.filesEntries[i].file(s=>{this.filesEntries.length&&(t.push({path:this.filesEntries[i].fullPath,file:s}),i===this.filesEntries.length-1&&(this.filesEntries=[],this.renderSelectedFiles(e,t,!0)))})}onSelectFiles(e){if(!this.enabled)return;let t;if("drop"===e.type)if(this.directoryUpload)this.getFilesFromFolder(e);else{const i=this.sortFilesList=e.dataTransfer.files;"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=i),i.length>0&&(t=this.multiple?this.sortFileList(i):[i[0]],this.renderSelectedFiles(e,t))}else t=[].slice.call(e.target.files),this.renderSelectedFiles(e,t)}getBase64(e){return new Promise((t,i)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=n=>i(n)})}renderSelectedFiles(e,t,i,s){this.base64String=[];const n={event:e,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(t.length<1)return n.isCanceled=!0,void this.trigger("selected",n);this.flag=!0;let a=[];this.multiple||(this.clearData(!0),t=[t[0]]);for(let o=0;o<t.length;o++)this.updateInitialFileDetails(e,t,i?t[o].file:t[o],o,a,i,s);n.filesData=a,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.allTypes||(a=this.checkExtension(a)),this.trigger("selected",n,o=>{this._internalRenderSelect(o,a)})}updateInitialFileDetails(e,t,i,s,n,a,o){const d={name:a?t[s].path.substring(1,t[s].path.length):o?$i(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name):this.directoryUpload?t[s].webkitRelativePath:i.name,rawFile:i,size:i.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(i.name),validationMessages:this.validatedFileSize(i.size),statusCode:"1",id:$i(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name)};o&&(d.fileSource="paste"),d.status=""!==d.validationMessages.minSize?this.localizedTexts("invalidMinFileSize"):""!==d.validationMessages.maxSize?this.localizedTexts("invalidMaxFileSize"):d.status,(""!==d.validationMessages.minSize||""!==d.validationMessages.maxSize)&&(d.statusCode="0"),n.push(d)}_internalRenderSelect(e,t){if(!e.cancel){if(this.selectedFiles=this.selectedFiles.concat(t),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(e.isModified&&e.modifiedFilesData.length>0){for(let s=0;s<e.modifiedFilesData.length;s++)for(let n=0;n<t.length;n++)e.modifiedFilesData[s].id===t[n].id&&(e.modifiedFilesData[s].rawFile=t[n].rawFile);const i=this.allTypes?e.modifiedFilesData:this.checkExtension(e.modifiedFilesData);this.updateSortedFileList(i),this.filesData=i,(!this.isForm||this.allowUpload())&&this.checkAutoUpload(i)}else this.createFileList(t,!0),this.filesData=this.filesData.concat(t),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(t);!f(e.progressInterval)&&""!==e.progressInterval&&(this.progressInterval=e.progressInterval)}else this.filesData=this.filesData.concat(t),this.autoUpload&&this.upload(this.filesData,!0);this.raiseActionComplete(),this.isFirstFileOnSelection=!0}}allowUpload(){let e=!1;return this.isForm&&!f(this.asyncSettings.saveUrl)&&""!==this.asyncSettings.saveUrl&&(e=!0),e}isFormUpload(){let e=!1;return this.isForm&&(f(this.asyncSettings.saveUrl)||""===this.asyncSettings.saveUrl)&&(f(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl)&&(e=!0),e}clearData(e){f(this.listParent)||(oe(this.listParent),this.listParent=null),"msie"!==this.browserName&&!e&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()}updateSortedFileList(e){const t=this.createElement("div",{id:"clonewrapper"});let s,i=-1;if(this.listParent){for(let a=0;a<this.listParent.querySelectorAll("li").length;a++){const o=this.listParent.querySelectorAll("li")[a];t.appendChild(o.cloneNode(!0))}s=this.listParent.querySelectorAll("li");for(const a of s)oe(a);this.removeActionButtons();const n=[].slice.call(t.childNodes);oe(this.listParent),this.listParent=null,this.fileList=[],this.createParentUL();for(let a=0;a<e.length;a++){for(let o=0;o<this.filesData.length;o++)this.filesData[o].name===e[a].name&&(this.listParent.appendChild(n[o]),A.add(n[o].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(n[o]),i=a);i!==a&&this.createFileList([e[a]])}}else this.createFileList(e)}isBlank(e){return!e||/^\s*$/.test(e)}checkExtension(e){const t=e;if(!this.isBlank(this.allowedExtensions)){const i=[],s=this.allowedExtensions.split(",");for(const n of s)i.push(n.trim().toLocaleLowerCase());for(let n=0;n<e.length;n++)-1===i.indexOf(("."+e[n].type).toLocaleLowerCase())&&(e[n].status=this.localizedTexts("invalidFileType"),e[n].statusCode="0")}return t}validatedFileSize(e){let t="",i="";return e<this.minFileSize?t=this.localizedTexts("invalidMinFileSize"):e>this.maxFileSize?i=this.localizedTexts("invalidMaxFileSize"):(t="",i=""),{minSize:t,maxSize:i}}isPreLoadFile(e){let t=!1;for(let i=0;i<this.files.length;i++)this.files[i].name===e.name.slice(0,e.name.lastIndexOf("."))&&this.files[i].type===e.type&&(t=!0);return t}createCustomfileList(e){this.createParentUL();for(const t of e){const i=this.createElement("li",{className:O0,attrs:{"data-file-name":t.name}});this.uploadTemplateFn=this.templateComplier(this.template);const s=this.uploadTemplateFn(t,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);s&&Ge([].slice.call(s),i);const n=e.indexOf(t),a={element:i,fileInfo:t,index:n,isPreload:this.isPreLoadFile(t)},o={element:i,fileInfo:t,index:n,isPreload:this.isPreLoadFile(t)};this.trigger("rendering",a),this.trigger("fileListRendering",o),this.listParent.appendChild(i),this.fileList.push(i)}this.renderReactTemplates()}createParentUL(){f(this.listParent)&&(this.listParent=this.createElement("ul",{className:OO}),this.uploadWrapper.appendChild(this.listParent))}formFileList(e,t){const i=this.createElement("li",{className:O0});i.setAttribute("data-files-count",e.length+"");const s=this.createElement("span",{className:iA});let n;for(const m of e){const v=this.createElement("span",{className:RO});v.innerHTML=this.getFileNameOnly(m.name);const C=this.createElement("span",{className:ZT}),w=this.getFileType(m.name);if(C.innerHTML="."+w,w||C.classList.add("e-hidden"),this.enableRtl){const S=this.createElement("span",{className:PO});S.appendChild(C),S.appendChild(v),s.appendChild(S)}else s.appendChild(v),s.appendChild(C);this.truncateName(v),n=this.formValidateFileInfo(m,i)}i.appendChild(s),this.setListToFileInfo(e,i);const a=this.listParent.querySelectorAll("li").length,o=this.createElement("span");if(i.classList.contains(Hg)?(o.classList.add(qn),o.classList.add(Hg),o.innerText=e.length>1?this.localizedTexts("invalidFileSelection"):n):(o.classList.add(e.length>1?"e-file-information":LO),o.innerText=e.length>1?this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):this.bytesToSize(e[0].size),this.createFormInput(e)),s.appendChild(o),f(i.querySelector(".e-icons"))){const m=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&m.classList.add("e-msie"),m.setAttribute("title",this.localizedTexts("remove")),i.appendChild(s),i.appendChild(m),A.add(m,"click",this.removeFiles,this),m.classList.add(Kr)}const h={element:i,fileInfo:this.mergeFileInfo(e,i),index:a,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))},d={element:i,fileInfo:this.mergeFileInfo(e,i),index:a,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))};this.trigger("rendering",h),this.trigger("fileListRendering",d),this.listParent.appendChild(i),this.fileList.push(i)}formValidateFileInfo(e,t){let i=e.status;const s=this.validatedFileSize(e.size);(""!==s.minSize||""!==s.maxSize)&&(this.addInvalidClass(t),i=""!==s.minSize?this.localizedTexts("invalidMinFileSize"):""!==s.maxSize?this.localizedTexts("invalidMaxFileSize"):i);const n=this.checkExtension(this.getFilesInArray(e))[0].status;return n===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(t),i=n),i}addInvalidClass(e){e.classList.add(Hg)}createFormInput(e){const t=this.element.cloneNode(!0);t.classList.add("e-hidden-file-input");for(const i of e)i.input=t;t.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+MO).appendChild(t),"msie"!==this.browserName&&"edge"!==this.browserName&&(this.element.value="")}getFileSize(e){let t=0;for(const i of e)t+=i.size;return t}mergeFileInfo(e,t){const i={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:t},s=[];let n="";for(const a of e)s.push(a.name),n=a.type;return i.name=s.join(", "),i.size=this.getFileSize(e),i.type=n,i.status=this.statusForFormUpload(e,t),i}statusForFormUpload(e,t){let s,i=!0;for(const n of e){s=n.status;const a=this.validatedFileSize(n.size);(""!==a.minSize||""!==a.maxSize)&&(i=!1,s=""!==a.minSize?this.localizedTexts("invalidMinFileSize"):""!==a.maxSize?this.localizedTexts("invalidMaxFileSize"):s);const o=this.checkExtension(this.getFilesInArray(n))[0].status;o===this.localizedTexts("invalidFileType")&&(i=!1,s=o)}return i?s=this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):(t.classList.add(Hg),s=e.length>1?this.localizedTexts("invalidFileSelection"):s),s}formCustomFileList(e,t){this.createParentUL();const i=this.createElement("li",{className:O0});i.setAttribute("data-files-count",e.length+""),this.setListToFileInfo(e,i);const s=this.mergeFileInfo(e,i);i.setAttribute("data-file-name",s.name),this.uploadTemplateFn=this.templateComplier(this.template);const n=this.uploadTemplateFn(s,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);n&&Ge([].slice.call(n),i);const a=this.listParent.querySelectorAll("li").length;i.classList.contains(Hg)||this.createFormInput(e);const o={element:i,fileInfo:s,index:a,isPreload:this.isPreLoadFile(s)},h={element:i,fileInfo:s,index:a,isPreload:this.isPreLoadFile(s)};this.trigger("rendering",o),this.trigger("fileListRendering",h),this.listParent.appendChild(i),this.fileList.push(i),this.renderReactTemplates()}createFileList(e,t){if(this.createParentUL(),""===this.template||f(this.template))if(this.isFormUpload())this.uploadWrapper.classList.add(L0),this.formFileList(e,this.element.files);else for(const i of e){const s=this.createElement("li",{className:O0,attrs:{"data-file-name":i.name,"data-files-count":"1"}}),n=this.createElement("span",{className:iA}),a=this.createElement("span",{className:RO,attrs:{title:i.name}});a.innerHTML=this.getFileNameOnly(i.name);const o=this.createElement("span",{className:ZT}),h=this.getFileType(i.name);if(o.innerHTML="."+h,h||o.classList.add("e-hidden"),this.enableRtl){const O=this.createElement("span",{className:PO});O.appendChild(o),O.appendChild(a),n.appendChild(O)}else n.appendChild(a),n.appendChild(o);const d=this.createElement("span",{className:LO});d.innerHTML=this.bytesToSize(i.size),n.appendChild(d);const m=this.createElement("span",{className:qn});n.appendChild(m),m.innerHTML=i.status,s.appendChild(n);const v=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&v.classList.add("e-msie"),v.setAttribute("title",this.localizedTexts("remove")),s.appendChild(v),A.add(v,"click",this.removeFiles,this),"2"===i.statusCode?(m.classList.add(Sc),v.classList.add(Wl),v.setAttribute("title",this.localizedTexts("delete"))):"1"!==i.statusCode&&(m.classList.remove(Sc),m.classList.add(sA)),this.autoUpload&&"1"===i.statusCode&&""!==this.asyncSettings.saveUrl&&(m.innerHTML=""),v.classList.contains(Wl)||v.classList.add(Kr);const C=e.indexOf(i),w={element:s,fileInfo:i,index:C,isPreload:this.isPreLoadFile(i)},S={element:s,fileInfo:i,index:C,isPreload:this.isPreLoadFile(i)};this.trigger("rendering",w),this.trigger("fileListRendering",S),this.listParent.appendChild(s),this.fileList.push(s),this.truncateName(a);const k=this.flag;this.isPreLoadFile(i)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=k)}else this.isFormUpload()?(this.uploadWrapper.classList.add(L0),this.formCustomFileList(e,this.element.files)):this.createCustomfileList(e)}getSlicedName(e){const t=e.textContent;e.dataset.tail=t.slice(t.length-10)}setListToFileInfo(e,t){for(const i of e)i.list=t}truncateName(e){("edge"!==this.browserName&&e.offsetWidth<e.scrollWidth||e.offsetWidth+1<e.scrollWidth)&&this.getSlicedName(e)}getFileType(e){let t;const i=e.lastIndexOf(".");return i>=0&&(t=e.substring(i+1)),t||""}getFileNameOnly(e){let t=this.getFileType(e);return e.split("."+t)[0]}setInitialAttributes(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){const e=document.createAttribute("multiple");this.element.setAttributeNode(e)}}filterfileList(e){const t=[];let i;for(let s=0;s<e.length;s++)i=this.getLiElement(e[s]),i.classList.contains(Sc)||t.push(e[s]);return t}updateStatus(e,t,i,s=!0){if(!(""===t||f(t))&&!(""===i||f(i))&&(e.status=t,e.statusCode=i),s){const n=this.getLiElement(e);f(n)||!f(n.querySelector("."+qn))&&""!==t&&!f(t)&&(n.querySelector("."+qn).textContent=t)}return e}getLiElement(e){let t;for(let i=0;i<this.filesData.length;i++)!f(e)&&(f(this.filesData[i].id)||f(e.id)?this.filesData[i].name===e.name:this.filesData[i].name===e.name&&this.filesData[i].id===e.id)&&(t=i);return this.fileList[t]}createProgressBar(e){const t=this.createElement("span",{className:Ld}),i=this.createElement("progressbar",{className:fb,attrs:{value:"0",max:"100"}}),s=this.createElement("span",{className:"e-progress-inner-wrap"});i.setAttribute("style","width: 0%");const n=this.createElement("span",{className:tA});n.textContent="0%",s.appendChild(i),t.appendChild(s),t.appendChild(n),e.querySelector("."+iA).appendChild(t)}updateProgressbar(e,t){if(!isNaN(Math.round(e.loaded/e.total*100))&&!f(t.querySelector("."+fb)))if(f(this.progressInterval)||""===this.progressInterval)this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%");else{const i=Math.round(e.loaded/e.total*100)%parseInt(this.progressInterval,10);(0===i||100===i)&&this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%")}}changeProgressValue(e,t){e.querySelector("."+fb).setAttribute("style","width:"+t),e.querySelector("."+tA).textContent=t}uploadInProgress(e,t,i,s){const n=this.getLiElement(t);if(f(n)&&!i)return;if(f(n))this.cancelUploadingFile(t,e,s);else{"5"===t.statusCode&&this.cancelUploadingFile(t,e,s,n),!(n.querySelectorAll("."+Ld).length>0)&&n.querySelector("."+qn)&&(n.querySelector("."+qn).classList.add(ql),this.createProgressBar(n),this.updateProgressBarClasses(n,ql),n.querySelector("."+qn).classList.remove(Lo)),this.updateProgressbar(e,n);const o=n.querySelector("."+Kr);f(o)||(o.classList.add(zn,ql),o.setAttribute("title",this.localizedTexts("abort")),o.classList.remove(Kr))}const a={e,operation:"upload",file:this.updateStatus(t,this.localizedTexts("inProgress"),"3")};this.trigger("progress",a)}cancelUploadingFile(e,t,i,s){"5"===e.statusCode&&this.trigger("canceling",{event:t,fileData:e,cancel:!1,customFormData:[]},a=>{if(a.cancel){if(e.statusCode="3",!f(s)){const o=s.querySelector("."+zn);f(o)||(no(o),oe(s.querySelector(".e-spinner-pane")))}}else{i.emitError=!1,i.httpRequest.abort();const o=new FormData;if("5"===e.statusCode){const h=this.element.getAttribute("name");o.append(h,e.name),o.append("cancel-uploading",e.name),this.updateFormData(o,a.customFormData);const d=new yd(this.asyncSettings.removeUrl,"POST",!0,null);d.emitError=!1,d.onLoad=m=>(this.removecanceledFile(m,e),{}),d.send(o)}}})}removecanceledFile(e,t){const i=this.getLiElement(t);if(i.querySelector("."+Ul)||f(i.querySelector("."+zn)))return;this.updateStatus(t,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(e,t,i);const s=i.querySelector("."+Kr);f(i)||(no(s),f(i.querySelector(".e-spinner-pane"))||oe(i.querySelector(".e-spinner-pane")));const n=e&&e.currentTarget?this.getResponse(e):null;this.trigger("success",{event:e,response:n,operation:"cancel",file:t})}renderFailureState(e,t,i){this.updateProgressBarClasses(i,Lo),this.removeProgressbar(i,"failure"),f(i.querySelector(".e-file-status"))||i.querySelector(".e-file-status").classList.add(Lo);const s=i.querySelector("."+zn);f(s)||(s.classList.remove(zn,ql),s.classList.add(Kr),s.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),s.parentElement.insertBefore(this.pauseButton,s),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),i.querySelector("."+Ul).addEventListener("click",a=>{this.reloadcanceledFile(a,t,i,!1)},!1))}reloadcanceledFile(e,t,i,s){t.statusCode="1",t.status=this.localizedTexts("readyToUploadMessage"),s||(f(i.querySelector("."+qn))||i.querySelector("."+qn).classList.remove(Lo),f(i.querySelector("."+Ul))||oe(i.querySelector("."+Ul)),this.pauseButton=null),i.classList.add(Fg),this.upload([t])}uploadComplete(e,t,i){const s=e.target;if(4===s.readyState&&s.status>=200&&s.status<=299){const n=this.getLiElement(t);if(f(n)&&(!i||f(i)))return;if(!f(n)){this.updateProgressBarClasses(n,Sc),this.removeProgressbar(n,"success");const a=n.querySelector("."+zn);f(a)||(a.classList.add(Wl),a.setAttribute("title",this.localizedTexts("delete")),a.classList.remove(zn),a.classList.remove(ql))}this.raiseSuccessEvent(e,t)}else this.uploadFailed(e,t)}getResponse(e){const t=e.currentTarget;return{readyState:t.readyState,statusCode:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),withCredentials:t.withCredentials}}raiseSuccessEvent(e,t){const i=e&&e.currentTarget?this.getResponse(e):null,s=this.localizedTexts("uploadSuccessMessage"),n={e,response:i,operation:"upload",file:this.updateStatus(t,s,"2",!1),statusText:s},a=this.getLiElement(t);if(!f(a)){const o=a.querySelector("."+JT);f(o)||(no(a),oe(o))}this.trigger("success",n,o=>{this.updateStatus(t,o.statusText,"2"),this.uploadedFilesData.push(t),this.trigger("change",{file:this.uploadedFilesData}),this.checkActionButtonStatus(),this.fileList.length>0&&(this.getLiElement(t).classList.contains(Fg)?this.getLiElement(t).classList.remove(Fg):(this.uploadSequential(),this.checkActionComplete(!0)))})}uploadFailed(e,t){const i=this.getLiElement(t),s=e&&e.currentTarget?this.getResponse(e):null,n=this.localizedTexts("uploadFailedMessage"),a={e,response:s,operation:"upload",file:this.updateStatus(t,n,"0",!1),statusText:n};f(i)||this.renderFailureState(e,t,i),this.trigger("failure",a,o=>{this.updateStatus(t,o.statusText,"0"),this.checkActionButtonStatus(),this.uploadSequential(),this.checkActionComplete(!0)})}uploadSequential(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())}checkActionComplete(e){e?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()}raiseActionComplete(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;const e={fileData:[]};e.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",e)}}getSelectedFileStatus(e){const t=[];let i=0;for(let s=0;s<e.length;s++){const n=e[s];for(let a=0;a<this.filesData.length;a++)this.filesData[a].name===n.name&&(t[i]=this.filesData[a],++i)}return t}updateProgressBarClasses(e,t){const i=e.querySelector("."+fb);f(i)||i.classList.add(t)}removeProgressbar(e,t){f(e.querySelector("."+Ld))||(this.progressAnimation=new Gi({duration:1250}),this.progressAnimation.animate(e.querySelector("."+Ld),{name:"FadeOut"}),this.progressAnimation.animate(e.querySelector("."+tA),{name:"FadeOut"}),setTimeout(()=>{this.animateProgressBar(e,t)},750))}animateProgressBar(e,t){"success"===t?(e.classList.add(Sc),f(e.querySelector("."+qn))||(e.querySelector("."+qn).classList.remove(ql),this.progressAnimation.animate(e.querySelector("."+qn),{name:"FadeIn"}),e.querySelector("."+qn).classList.add(Sc))):f(e.querySelector("."+qn))||(e.querySelector("."+qn).classList.remove(ql),this.progressAnimation.animate(e.querySelector("."+qn),{name:"FadeIn"}),e.querySelector("."+qn).classList.add(Lo)),e.querySelector("."+Ld)&&oe(e.querySelector("."+Ld))}setExtensions(e){""===e||f(e)?this.element.removeAttribute("accept"):this.element.setAttribute("accept",e)}templateComplier(e){if(e)try{if(Xe(e,document).length)return us(J(e,document).innerHTML.trim())}catch(t){return us(e)}}setRTL(){this.enableRtl?L([this.uploadWrapper],"e-rtl"):H([this.uploadWrapper],"e-rtl")}localizedTexts(e){return this.l10n.setLocale(this.locale),this.l10n.getConstant(e)}setControlStatus(){this.enabled?(this.uploadWrapper.classList.contains(nA)&&this.uploadWrapper.classList.remove(nA),!f(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!f(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!f(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(nA),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),f(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),f(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))}checkHTMLAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"accept":(f(this.uploaderOptions)||void 0===this.uploaderOptions.allowedExtensions||e)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!e),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if(f(this.uploaderOptions)||void 0===this.uploaderOptions.multiple||e){const s="multiple"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({multiple:s},!e),this.initialAttr.multiple=!0}break;case"disabled":if(f(this.uploaderOptions)||void 0===this.uploaderOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e),this.initialAttr.disabled=!0}}}chunkUpload(e,t,i){const n=Math.min(this.asyncSettings.chunkSize,e.size),o=e.rawFile.slice(0,n);this.sendRequest(e,{chunkIndex:0,blob:o,file:e,start:0,end:n,retryCount:0,request:null},t,i)}sendRequest(e,t,i,s){const n=new FormData,a=e.rawFile.slice(t.start,t.end);n.append("chunkFile",a,e.name),n.append(this.uploaderName,a,e.name),n.append("chunk-index",t.chunkIndex.toString()),n.append("chunkIndex",t.chunkIndex.toString());const o=Math.max(Math.ceil(e.size/this.asyncSettings.chunkSize),1);n.append("total-chunk",o.toString()),n.append("totalChunk",o.toString());const h=new yd({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});h.emitError=!1,h.onLoad=m=>(this.chunkUploadComplete(m,t,i),{}),h.onUploadProgress=m=>(this.chunkUploadInProgress(m,t,i),{});const d={fileData:e,customFormData:[],cancel:!1,chunkSize:0===this.asyncSettings.chunkSize?null:this.asyncSettings.chunkSize};h.beforeSend=m=>{d.currentRequest=h.httpRequest,d.currentChunkIndex=t.chunkIndex,this.trigger(0===d.currentChunkIndex?"uploading":"chunkUploading",d,v=>{this.uploadingEventCallback(n,v,m,e)})},h.onError=m=>(this.chunkUploadFailed(m,t,i),{}),h.send(n),t.request=h}uploadingEventCallback(e,t,i,s){t.cancel?this.eventCancelByArgs(i,t,s):this.updateFormData(e,t.customFormData)}eventCancelByArgs(e,t,i){if(e.cancel=!0,"5"===t.fileData.statusCode)return;t.fileData.statusCode="5",t.fileData.status=this.localizedTexts("fileUploadCancel");const s=this.getLiElement(t.fileData);if(s){f(s.querySelector("."+qn))||(s.querySelector("."+qn).innerHTML=this.localizedTexts("fileUploadCancel"),s.querySelector("."+qn).classList.add(Lo)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});const n=s.querySelector("."+Kr);n&&n.parentElement.insertBefore(this.pauseButton,n),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",a=>{this.reloadcanceledFile(a,i,s)},!1),this.checkActionButtonStatus()}}checkChunkUpload(){return!(this.asyncSettings.chunkSize<=0||f(this.asyncSettings.chunkSize))}chunkUploadComplete(e,t,i){const s=e.target;let n;if(4===s.readyState&&s.status>=200&&s.status<300){const a=e&&e.currentTarget?this.getResponse(e):null,o=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);if(this.trigger("chunkSuccess",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:o,chunkSize:this.asyncSettings.chunkSize,response:a}),(f(i)||!i)&&(n=this.getLiElement(t.file)),this.updateMetaData(t),t.end===t.file.size&&(t.file.statusCode="3"),"5"===t.file.statusCode)this.trigger("canceling",{event:e,fileData:t.file,cancel:!1,customFormData:[]},m=>{if(m.cancel){t.file.statusCode="3";const v=n.querySelector("."+zn);!f(n)&&!f(v)&&(no(v),oe(n.querySelector(".e-spinner-pane"))),this.sendNextRequest(t)}else{t.request.emitError=!1,s.abort();const v=new FormData,C=this.element.getAttribute("name");v.append(C,t.file.name),v.append("cancel-uploading",t.file.name),v.append("cancelUploading",t.file.name),this.updateFormData(v,m.customFormData);const w=new yd(this.asyncSettings.removeUrl,"POST",!0,null);w.emitError=!1,w.onLoad=S=>(this.removeChunkFile(S,t,i),{}),w.send(v)}});else{if(o-1===t.chunkIndex&&o>t.chunkIndex){const d=this.pausedData.indexOf(t);return d>=0&&this.pausedData.splice(d,1),f(this.template)&&(f(i)||!i)&&n&&(n&&!f(n.querySelector("."+Wa))&&oe(n.querySelector("."+Wa)),this.removeChunkProgressBar(t)),void this.raiseSuccessEvent(e,t.file)}"4"!==t.file.statusCode&&this.sendNextRequest(t)}}else this.chunkUploadFailed(e,t)}sendNextRequest(e){e.start=e.end,e.end+=this.asyncSettings.chunkSize,e.end=Math.min(e.end,e.file.size),e.chunkIndex+=1,this.sendRequest(e.file,e)}removeChunkFile(e,t,i){if(f(this.template)&&f(i)&&!i){const s=this.getLiElement(t.file),n=s.querySelector("."+zn),a=n;this.updateStatus(t.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(s,Lo),this.removeProgressbar(s,"failure"),n&&n.classList.remove(zn),n&&n.classList.add(Kr),n&&n.setAttribute("title",this.localizedTexts("remove"));const o=s.querySelector("."+Wa);o&&o.classList.add(Ul),o&&o.classList.remove(Wa),o&&o.setAttribute("title",this.localizedTexts("retry")),!f(s)&&!f(n)&&!f(s.querySelector(".e-spinner-pane"))&&(no(a),oe(s.querySelector(".e-spinner-pane")))}}pauseUpload(e,t,i){e.file.statusCode="4",e.file.status=this.localizedTexts("pause"),this.updateMetaData(e);const s={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(e,i,s)}abortUpload(e,t,i){"4"!==e.file.statusCode&&(e.request.emitError=!1,e.request.httpRequest.abort());const s=this.getLiElement(e.file);if(f(this.template)&&(f(t)||!t)){const n=s.querySelector("."+Wa);n.classList.remove(Wa),n.classList.add(yf),n.setAttribute("title",this.localizedTexts("resume")),n.nextElementSibling.classList.add(Kr),n.nextElementSibling.classList.remove(zn),n.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(let n=0;n<this.pausedData.length;n++)this.pausedData[n].file.name===e.file.name&&this.pausedData.splice(n,1);this.pausedData.push(e),this.trigger("pausing",i)}resumeUpload(e,t,i){const s=this.getLiElement(e.file);let n;f(s)||(n=s.querySelector("."+yf)),!f(n)&&(f(i)||!i)&&(n.classList.remove(yf),n.classList.add(Wa),n.setAttribute("title",this.localizedTexts("pause")),n.nextElementSibling.classList.remove(Kr),n.nextElementSibling.classList.add(zn),n.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),e.file.status=this.localizedTexts("inProgress"),e.file.statusCode="3",this.updateMetaData(e);const a={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",a);for(let o=0;o<this.pausedData.length;o++)this.pausedData[o].end===this.pausedData[o].file.size?this.chunkUploadComplete(t,e,i):this.pausedData[o].file.name===e.file.name&&(this.pausedData[o].start=this.pausedData[o].end,this.pausedData[o].end=this.pausedData[o].end+this.asyncSettings.chunkSize,this.pausedData[o].end=Math.min(this.pausedData[o].end,this.pausedData[o].file.size),this.pausedData[o].chunkIndex=this.pausedData[o].chunkIndex+1,this.sendRequest(this.pausedData[o].file,this.pausedData[o],i))}updateMetaData(e){-1===this.uploadMetaData.indexOf(e)||this.uploadMetaData.splice(this.uploadMetaData.indexOf(e),1),this.uploadMetaData.push(e)}removeChunkProgressBar(e){const t=this.getLiElement(e.file);if(!f(t)){this.updateProgressBarClasses(t,Sc),this.removeProgressbar(t,"success");const i=t.querySelector("."+zn);f(i)||(i.classList.add(Wl),i.setAttribute("title",this.localizedTexts("delete")),i.classList.remove(zn,ql))}}chunkUploadFailed(e,t,i){const s=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);let n;f(this.template)&&(f(i)||!i)&&(n=this.getLiElement(t.file));const a=e&&e.currentTarget?this.getResponse(e):null;this.trigger("chunkFailure",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:s,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:a},h=>{if(!h.cancel)if(t.retryCount<this.asyncSettings.retryCount)setTimeout(()=>{this.retryRequest(n,t,i)},this.asyncSettings.retryAfterDelay);else{if(!f(n)){const C=n.querySelector("."+Wa)?n.querySelector("."+Wa):n.querySelector("."+yf);f(C)||(C.classList.add(Ul),C.classList.remove(Wa,yf)),this.updateProgressBarClasses(n,Lo),this.removeProgressbar(n,"failure"),n.querySelector(".e-icons").classList.remove(ql);const w=n.querySelector("."+zn)?n.querySelector("."+zn):n.querySelector("."+Kr);w.classList.remove(zn),f(n.querySelector("."+Wa))||oe(n.querySelector("."+Wa)),t.start>0?(w.classList.add(Wl),w.setAttribute("title",this.localizedTexts("delete"))):(w.classList.add(Kr),w.setAttribute("title",this.localizedTexts("remove")))}t.retryCount=0;const d=t.file,m=this.localizedTexts("uploadFailedMessage"),v={e,response:a,operation:"upload",file:this.updateStatus(d,m,"0",!1),statusText:m};this.trigger("failure",v,C=>{this.updateStatus(d,C.statusText,"0"),this.uploadSequential(),this.checkActionComplete(!0)})}})}retryRequest(e,t,i){f(this.template)&&(f(i)||!i)&&e&&this.updateProgressBarClasses(e,Lo),t.retryCount+=1,this.sendRequest(t.file,t)}checkPausePlayAction(e){const t=e.target,s=this.fileList.indexOf(e.target.parentElement),a=this.getCurrentMetaData(this.filesData[s]);t.classList.contains(Wa)?this.pauseUpload(a,e):t.classList.contains(yf)?this.resumeUpload(a,e):t.classList.contains(Ul)&&(a.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(a,!1):this.retryUpload(a,!0))}retryUpload(e,t){t?(e.end=e.end+this.asyncSettings.chunkSize,e.start=e.start+this.asyncSettings.chunkSize,this.sendRequest(e.file,e)):(e.file.statusCode="1",e.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(e.file)),this.getLiElement(e.file).classList.add(Fg)}chunkUploadInProgress(e,t,i){if("4"===t.file.statusCode)return;"4"!==t.file.statusCode&&"5"!==t.file.statusCode&&(t.file.statusCode="3",t.file.status=this.localizedTexts("inProgress")),this.updateMetaData(t);const s=this.getLiElement(t.file);if(f(s))return;const n=s.querySelector("."+Ul);if(f(n)||(n.classList.add(Wa),n.setAttribute("title",this.localizedTexts("pause")),n.classList.remove(Ul)),!f(s)){if(!(s.querySelectorAll("."+Ld).length>0)){const a=s.querySelector("."+qn);f(this.template)&&(a.classList.add(ql),a.classList.remove(Lo),this.createProgressBar(s),this.updateProgressBarClasses(s,ql));const o=s.querySelector("."+Kr)?s.querySelector("."+Kr):s.querySelector("."+Wl);f(o)||(o.classList.add(zn),o.setAttribute("title",this.localizedTexts("abort")),o.classList.remove(Kr))}if(!isNaN(Math.round(e.loaded/e.total*100))&&f(this.template)&&"4"!==t.file.statusCode){let a,o=Math.ceil(t.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&o&&(a=Math.round(t.chunkIndex/o*100),this.changeProgressValue(s,a.toString()+"%"))}0===t.chunkIndex&&this.checkActionButtonStatus()}if(f(s.querySelector("."+Wa))&&f(this.template)&&f(s.querySelector("."+Wl))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),"msie"===this.browserName&&this.pauseButton.classList.add("e-msie");const a=s.querySelector("."+zn);a.parentElement.insertBefore(this.pauseButton,a),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",o=>{this.checkPausePlayAction(o)},!1)}}bytesToSize(e){let t=-1;if(!e)return"0.0 KB";do{e/=1024,t++}while(e>99);return t>=2&&(e*=1024,t=1),Math.max(e,0).toFixed(1)+" "+["KB","MB"][t]}sortFileList(e){const t=e=e||this.sortFilesList,i=[];for(let a=0;a<t.length;a++)i.push(t[a].name);const s=i.sort(),n=[];for(const a of s)for(let o=0;o<t.length;o++)a===t[o].name&&n.push(t[o]);return n}destroy(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();const e=["aria-label","directory","webkitdirectory","tabindex"];for(const t of e)this.element.removeAttribute(t);f(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),oe(this.uploadWrapper)),this.uploadWrapper=null,super.destroy()}upload(e,t){if(e=e||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||t))this.sequenceUpload(e);else{const i=this.getFilesInArray(e);this.trigger("beforeUpload",{customFormData:[],currentRequest:null,cancel:!1},n=>{n.cancel||this.uploadFiles(i,t)})}}getFilesInArray(e){let t=[];return e instanceof Array?t=e:t.push(e),t}serverReadFileBase64(e,t,i){return new Promise((s,n)=>{const a=this.fileStreams[e].rawFile;try{const o=new FileReader;o.onload=(h=o,()=>{try{const d=h.result,m=d?d.split(";base64,")[1]:null;s(m)}catch(d){n(d)}}),o.readAsDataURL(a.slice(t,t+i))}catch(o){n(o)}var h})}uploadFileCount(e){const t=this.filesData;return t&&0!==t.length?t.length:-1}getFileRead(e,t){const i=this.filesData;if(!i||0===i.length)return-1;const s=i[e],n=this.newFileRef++;return this.fileStreams[n]=s,n}getFileInfo(e,t){const i=this.filesData;return i&&0!==i.length&&i[e]?this.filesData[e]:null}uploadFiles(e,t){let i=[];if(""!==this.asyncSettings.saveUrl&&!f(this.asyncSettings.saveUrl)){if(!t||f(t))if(this.multiple)i=this.filterfileList(e);else{const s=[];s.push(e[0]),i=this.filterfileList(s)}else i=e;for(let s=0;s<i.length;s++)this.uploadFilesRequest(i,s,t)}}uploadFilesRequest(e,t,i){const s=this.checkChunkUpload(),n=new yd(this.asyncSettings.saveUrl,"POST",!0,null);n.emitError=!1;const a={fileData:e[t],customFormData:[],cancel:!1},o=new FormData;if(n.beforeSend=h=>{a.currentRequest=n.httpRequest,this.trigger("uploading",a,d=>{d.cancel&&this.eventCancelByArgs(h,d,e[t]),this.updateFormData(o,d.customFormData)})},"1"===e[t].statusCode){const h=this.element.getAttribute("name");o.append(h,e[t].rawFile,e[t].name),s&&e[t].size>this.asyncSettings.chunkSize?this.chunkUpload(e[t],i,t):(n.onLoad=d=>(a.cancel||this.uploadComplete(d,e[t],i),{}),n.onUploadProgress=d=>(a.cancel||this.uploadInProgress(d,e[t],i,n),{}),n.onError=d=>(this.uploadFailed(d,e[t]),{}),n.send(o))}}spliceFiles(e){const t=this.fileList[e],i=this.getFilesData(),s=+t.getAttribute("data-files-count");let n=0;for(let o=0;o<e;o++)n+=+this.fileList[o].getAttribute("data-files-count");for(let o=n+s-1;o>=n;o--)i.splice(o,1)}remove(e,t,i,s,n){f(s)&&(s=!0);const a={event:n,cancel:!1,filesData:[],customFormData:[],postRawFile:s,currentRequest:null};this.trigger("beforeRemove",{cancel:!1,customFormData:[],currentRequest:null},h=>{if(!h.cancel)if(this.isFormUpload())a.filesData=e,this.trigger("removing",a,d=>{if(!d.cancel){const m=this.getFilesInArray(e);let C,v=!1;for(const w of m)if(v||(C=this.fileList.indexOf(w.list)),C>-1){const S=f(w.input)?null:w.input;S&&oe(S),this.spliceFiles(C),oe(this.fileList[C]),this.fileList.splice(C,1),v=!0,C=-1}}});else if(this.isForm&&(f(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl))a.filesData=this.getFilesData(),this.trigger("removing",a,d=>{d.cancel||this.clearAll()});else{let d=[];(e=f(e)?this.filesData:e)instanceof Array?d=e:d.push(e),a.filesData=d;const m=this.asyncSettings.removeUrl,v=!(""===m||f(m));for(const C of d){const w=this.uploadedFilesData.indexOf(C);("2"===C.statusCode||"4"===C.statusCode||"0"===C.statusCode&&-1!==w)&&v?this.removeUploadedFile(C,a,i,t):i?this.removeFilesData(C,t):this.trigger("removing",a,S=>{S.cancel||this.removeFilesData(C,t)}),n&&!n.target.classList.contains(Kr)&&this.checkActionComplete(!1)}}})}clearAll(){if(f(this.listParent))return"msie"!==this.browserName&&(this.element.value=""),void(this.filesData=[]);this.trigger("clearing",{cancel:!1,filesData:this.filesData},t=>{t.cancel||(this.clearData(),this.actionCompleteCount=0,this.count=-1)})}getFilesData(e){return f(e)?this.filesData:this.getSelectedFiles(e)}pause(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.pauseUploading(i,t)}pauseUploading(e,t){const i=this.getFiles(e);for(let s=0;s<i.length;s++)"3"===i[s].statusCode&&this.pauseUpload(this.getCurrentMetaData(i[s],null),null,t)}getFiles(e){let t=[];return f(e)||e instanceof Array?t=e:t.push(e),t}resume(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.resumeFiles(i,t)}resumeFiles(e,t){const i=this.getFiles(e);for(let s=0;s<i.length;s++)"4"===i[s].statusCode&&this.resumeUpload(this.getCurrentMetaData(i[s],null),null,t)}retry(e,t,i){const s=this.getFilesInArray(e=e||this.filesData);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(s,t,i)}retryFailedFiles(e,t,i){const s=this.getFiles(e);for(let n=0;n<s.length;n++)if("5"===s[n].statusCode||"0"===s[n].statusCode)if(this.asyncSettings.chunkSize>0)this.retryUpload(this.getCurrentMetaData(s[n],null),t);else{let a;i||(a=this.fileList[this.filesData.indexOf(s[n])]),this.reloadcanceledFile(null,s[n],a,i)}}cancel(e){const t=this.getFilesInArray(e=e||this.filesData);this.cancelUpload(t)}cancelUpload(e){const t=this.getFiles(e);if(this.asyncSettings.chunkSize>0){for(let i=0;i<t.length;i++)if("3"===t[i].statusCode){const s=this.getCurrentMetaData(t[i],null);s.file.statusCode="5",s.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(s),this.showHideUploadSpinner(t[i])}}else for(let i=0;i<t.length;i++)"3"===t[i].statusCode&&(t[i].statusCode="5",t[i].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(t[i]))}showHideUploadSpinner(e){const t=this.getLiElement(e);if(!f(t)&&f(this.template)){const i=t.querySelector("."+zn);wc({target:i,width:"20px"}),so(i)}}};ui([Ht({saveUrl:"",removeUrl:""},Bg)],Hi.prototype,"asyncSettings",void 0),ui([T(!1)],Hi.prototype,"sequentialUpload",void 0),ui([T({})],Hi.prototype,"htmlAttributes",void 0),ui([T("")],Hi.prototype,"cssClass",void 0),ui([T(!0)],Hi.prototype,"enabled",void 0),ui([T(null)],Hi.prototype,"template",void 0),ui([T(!0)],Hi.prototype,"multiple",void 0),ui([T(!0)],Hi.prototype,"autoUpload",void 0),ui([Ht({},gb)],Hi.prototype,"buttons",void 0),ui([T("")],Hi.prototype,"allowedExtensions",void 0),ui([T(0)],Hi.prototype,"minFileSize",void 0),ui([T(3e7)],Hi.prototype,"maxFileSize",void 0),ui([T(null)],Hi.prototype,"dropArea",void 0),ui([Va([{}],mb)],Hi.prototype,"files",void 0),ui([T(!0)],Hi.prototype,"showFileList",void 0),ui([T(!1)],Hi.prototype,"directoryUpload",void 0),ui([T("Default")],Hi.prototype,"dropEffect",void 0),ui([$()],Hi.prototype,"created",void 0),ui([$()],Hi.prototype,"actionComplete",void 0),ui([$()],Hi.prototype,"rendering",void 0),ui([$()],Hi.prototype,"beforeUpload",void 0),ui([$()],Hi.prototype,"fileListRendering",void 0),ui([$()],Hi.prototype,"selected",void 0),ui([$()],Hi.prototype,"uploading",void 0),ui([$()],Hi.prototype,"success",void 0),ui([$()],Hi.prototype,"failure",void 0),ui([$()],Hi.prototype,"removing",void 0),ui([$()],Hi.prototype,"beforeRemove",void 0),ui([$()],Hi.prototype,"clearing",void 0),ui([$()],Hi.prototype,"progress",void 0),ui([$()],Hi.prototype,"change",void 0),ui([$()],Hi.prototype,"chunkSuccess",void 0),ui([$()],Hi.prototype,"chunkFailure",void 0),ui([$()],Hi.prototype,"chunkUploading",void 0),ui([$()],Hi.prototype,"canceling",void 0),ui([$()],Hi.prototype,"pausing",void 0),ui([$()],Hi.prototype,"resuming",void 0),Hi=ui([oi],Hi);var En=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const vb="e-apply",yb="e-cancel",oA="e-current",bb="e-ctrl-btn",jg="e-switch-ctrl-btn",lA="e-disabled",_0="e-value-switch-btn",bf="e-handler",P0="e-hide-hex-value",VO="e-hide-opacity",Wg="e-hide-switchable-value",zl="e-hide-value",FO="e-hide-valueswitcher",Cf="e-hsv-color",Cb="e-hsv-container",Ef="e-selected-value",vh="e-mode-switch-btn",N0="e-nocolor-item",HO="e-opacity-value",Eb="e-palette",_o="e-color-palette",V0="e-color-picker",hA="e-preview-container",wf="e-previous",Df="e-show-value",F0="e-selected",uA="e-split-preview",H0="e-tile",jO_default=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"];let vn=class extends hs{constructor(e,t){super(e,t)}preRender(){const e=this.element;this.formElement=U(this.element,"form"),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new Gs("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)}render(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||L([this.container.parentElement],VO),this.renderComplete()}initWrapper(){const e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),Te(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);let t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");const i=t.slice(0,7);f(this.initialInputValue)&&(this.initialInputValue=i),this.element.value=i,this.setProperties(this.enableOpacity?{value:t}:{value:i},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&L([e],this.cssClass.split(" ")),this.tileRipple=Ts(this.container,{selector:"."+H0}),this.ctrlBtnRipple=Ts(this.container,{selector:".e-btn"})}getWrapper(){return this.element.parentElement}createWidget(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),G.isDevice&&this.refreshPopupPos()}createSplitBtn(){const e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new Qr({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:()=>{this.trigger("change",{currentValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},previousValue:{hex:null,rgba:null},value:this.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);const t=this.createElement("span",{className:uA});J(".e-selected-color",e).appendChild(t),t.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));const i=this.getPopupEle();if(L([i],"e-colorpicker-popup"),this.cssClass&&L([i],this.cssClass.split(" ")),G.isDevice){const s=this.getPopupInst();s.relateTo=document.body,s.position={X:"center",Y:"center"},s.targetType="container",s.collision={X:"fit",Y:"fit"},s.offsetY=4,i.style.zIndex=wd(this.splitBtn.element).toString()}this.bindCallBackEvent()}onOpen(){this.trigger("open",{element:this.container})}getPopupInst(){return eo(this.getPopupEle(),Wn)}bindCallBackEvent(){this.splitBtn.beforeOpen=e=>{const t=new rb;return this.trigger("beforeOpen",e,i=>{if(!i.cancel){const s=this.getPopupEle();s.style.top=fe(0+pageYOffset),s.style.left=fe(0+pageXOffset),s.style.display="block",this.createWidget(),s.style.display="",G.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,s),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(s.style.zIndex)-1).toString())}e.cancel=i.cancel,t.resolve(i)}),t},this.splitBtn.beforeClose=e=>{const t=new rb;return f(e.event)?t.resolve(e):this.trigger("beforeClose",{element:this.container,event:e.event,cancel:!1},s=>{G.isDevice&&e.event.target===this.modal&&(s.cancel=!0),s.cancel||this.onPopupClose(),e.cancel=s.cancel,t.resolve(s)}),t}}onPopupClose(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",J("."+uA,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",H([this.container],[V0,_o]),G.isDevice&&this.modal&&(H([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}createPalette(){if(On(this.container,[_o],[V0]),this.presetColors){const t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);const i=Object.keys(this.presetColors);if(1===i.length)this.appendPalette(this.presetColors[i[0]],i[0],t);else for(let s=0,n=i.length;s<n;s++)this.appendPalette(this.presetColors[i[s]],i[s],t);Xe(".e-row",t).length>10&&L([t],"e-palette-group")}else this.appendPalette(jO_default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();const e=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=fe(this.container.children[0].offsetWidth+e+e),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)}firstPaletteFocus(){J("."+F0,this.container.children[0])||Xe("."+Eb,this.container)[0].focus()}appendPalette(e,t,i){const s=this.createElement("div",{className:Eb,attrs:{tabindex:"0"}});let n,a,o;i?i.appendChild(s):this.appendElement(s);for(let h=0,d=e.length;h<d;h++)(0===h||h%this.columns==0)&&(n=this.createElement("div",{className:"e-row",attrs:{role:"presentation"}}),s.appendChild(n)),o=this.roundValue(e[h]).toLowerCase(),a=this.createElement("span",{className:H0,attrs:{role:"gridcell","aria-label":o,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:a,presetName:t,value:e[h]}),n.appendChild(a),this.value===o&&(this.addTileSelection(a),s.focus()),a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(o))}setNoColor(){const e=this.container.querySelector(".e-row").children[0];e.classList.add(N0),this.value||(e.classList.add(F0),U(e,"."+Eb).focus()),["aria-selected","aria-label"].forEach(t=>{e.removeAttribute(t)}),e.style.backgroundColor=""}appendElement(e,t=0){const i=this.container.children[t];i?this.container.insertBefore(e,i):this.container.appendChild(e)}addTileSelection(e){e.classList.add(F0),e.setAttribute("aria-selected","true")}createPicker(){On(this.container,[V0],[_o]);const e=this.createElement("div",{className:Cb});this.appendElement(e),e.appendChild(this.createElement("div",{className:Cf}));const t=this.createElement("span",{className:bf,attrs:{tabindex:"0"}});e.appendChild(t),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()}setHsvContainerBg(e=this.hsv[0]){this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))}getHsvContainer(){return J("."+Cb,this.container)}setHandlerPosition(){const e=this.getDragHandler(),t=J("."+Cf,this.container);e.style.left=fe(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=fe(t.offsetHeight*(100-this.hsv[2])/100)}createSlider(){const e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);const t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);let i=this.createElement("div",{className:"e-hue-slider"});t.appendChild(i),this.hueSlider=new an({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(i),this.enableOpacity&&(i=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(i),this.createOpacitySlider(i))}createOpacitySlider(e){this.opacitySlider=new an({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);const t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()}updateOpacitySliderBg(){const e=this.enableRtl?"to left":"to right",t=J(".e-opacity-empty-track",this.opacitySlider.element);t&&(t.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")}hueChange(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()}opacityChange(e){const t=e.value,i=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;const s=this.rgbToHex(this.rgb);this.updateOpacityInput(t);const n=this.convertToRgbString(this.rgb);this.updatePreview(n),this.triggerEvent(s,i,n)}updateOpacityInput(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(zl)){const t=eo(J("."+HO,this.container),mf);t.value=e,t.dataBind()}}createPreview(e){const t=this.createElement("div",{className:hA});e.appendChild(t);let i=this.createElement("span",{className:"e-preview "+oA});t.appendChild(i);const s=this.convertToRgbString(this.rgb);i.style.backgroundColor=s,i=this.createElement("span",{className:"e-preview "+wf}),t.appendChild(i),i.style.backgroundColor=s}isPicker(){return!this.container.classList.contains(_o)}getPopupEle(){return this.container.parentElement}createNumericInput(e,t,i,s){const n=new mf({value:t,placeholder:i,min:0,max:s,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:a=>{a.event&&this.inputHandler(a.event)}});n.createElement=this.createElement,n.appendTo(e)}createInput(){const e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(zl)||!e&&t.classList.contains(Df)){const i=this.createElement("div",{className:Ef});this.appendElement(i,e?2:1);const s=this.createElement("div",{className:"e-input-container"});if(i.appendChild(s),t.classList.contains(FO)||this.appendValueSwitchBtn(i),!t.classList.contains(P0)){const n=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});s.appendChild(n),me.createInput({element:n,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),me.setValue(this.value.slice(0,7),n),n.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(Wg)){let n,a;this.isRgb?(n="RGB",a=this.rgb):(n="HSV",a=this.hsv);const o=["rh","gs","bv"];for(let h=0;h<3;h++)this.createNumericInput(s.appendChild(this.createElement("input",{className:"e-"+o[h]+"-value"})),a[h],n[h],255);this.enableOpacity&&this.appendOpacityValue(s)}}}appendOpacityValue(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:HO})),100*this.rgb[3],"A",100)}appendValueSwitchBtn(e){const t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+_0});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(Wg)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))}createCtrlBtn(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);const e=this.createElement("div",{className:jg});if(this.container.appendChild(e),this.showButtons){const t=this.createElement("div",{className:bb});e.appendChild(t);const i=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-primary e-small "+vb,attrs:{title:i}}));const s=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-small "+yb,attrs:{title:s}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}}appendModeSwitchBtn(){const e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+vh,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});J("."+jg,this.container).insertBefore(e,J("."+bb,this.container))}createDragTooltip(){const e=new gs({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:t=>{this.tooltipEle=t.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=wd(this.tooltipEle).toString(),J(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))}getTooltipInst(){return eo(this.container,gs)}setTooltipOffset(e){this.getTooltipInst().offsetY=e}toggleDisabled(e){e?this.getWrapper().classList.add(lA):this.getWrapper().classList.remove(lA),this.showButtons&&[].slice.call(Xe(".e-btn",this.container)).forEach(t=>{e?Te(t,{disabled:""}):t.removeAttribute("disabled")})}convertToRgbString(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""}convertToHsvString(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"}updateHsv(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()}convertToOtherFormat(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);const i=this.rgbToHex(this.rgb),s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.updateInput(i),this.triggerEvent(i,t,s,e)}updateInput(e){const t=this.getWrapper();t.classList.contains(zl)||(t.classList.contains(P0)||me.setValue(e.substr(0,7),J(".e-hex",this.container)),t.classList.contains(Wg)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))}updatePreview(e){this.enableOpacity&&this.updateOpacitySliderBg(),J(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,J("."+hA+" ."+oA,this.container).style.backgroundColor=e,J("."+hA+" ."+wf,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))}getDragHandler(){return J("."+bf,this.container)}removeTileSelection(){[].slice.call(Xe("."+F0,this.container.children[0])).forEach(t=>{t.classList.remove(F0),t.setAttribute("aria-selected","false")})}convertRgbToNumberArray(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((t,i)=>3!==i?parseInt(t,10):parseFloat(t))}getValue(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){const i=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){const s=this.rgbToHex(i);return"hex"===t?s.slice(0,7):s}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===e[0]){const i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(i);if("hex"===t||"hexa"===t){const s=this.rgbToHex(i);return"hex"===t?s.slice(0,7):s}return"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"}{e=this.roundValue(e);let i=this.hexToRgb(e);return("rgb"===t||"hsv"===t)&&(i=i.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(i):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"hex"===t?e.slice(0,7):"a"===t?i[3].toString():"null"}}toggle(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)}getModuleName(){return"colorpicker"}getPersistData(){return this.addOnPersist(["value"])}wireEvents(){if(this.isPicker()){const e=this.getDragHandler();A.add(e,"keydown",this.pickerKeyDown,this),A.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),A.add(J("."+wf,this.container),"click",this.previewHandler,this)}else A.add(this.container,"click",this.paletteClickHandler,this),A.add(this.container,"keydown",this.paletteKeyDown,this)}formResetHandler(){this.value=this.initialInputValue,Te(this.element,{value:this.initialInputValue})}addCtrlSwitchEvent(){const e=J("."+jg,this.container);e&&A.add(e,"click",this.btnClickHandler,this)}pickerKeyDown(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:{e.preventDefault();const t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}}}enterKeyHandler(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())}closePopup(e){this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},i=>{i.cancel||(this.splitBtn.toggle(),this.onPopupClose())})}triggerChangeEvent(e){const t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"}handlerDragPosition(e,t,i){i.preventDefault(),this.hsv[e]+=t*(i.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)}handlerDown(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),A.add(document,"mousemove touchmove",this.handlerMove,this),A.add(document,"mouseup touchend",this.handlerEnd,this)}handlerMove(e){let t,i;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),i=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),i=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,i);const s=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(s),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-i)>8)&&(J("."+Cf,this.container).style.cursor="pointer",s.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",s.classList.add("e-hide-handler"))}setHsv(e,t){const i=J("."+Cf,this.container),s=i.getBoundingClientRect();e=this.enableRtl?e>s.right?0:Math.abs(e-s.right):e>s.left?Math.abs(e-s.left):0,t=t>s.top?Math.abs(t-s.top):0,this.hsv[2]=Math.round(10*Number(100*(i.offsetHeight-Math.max(0,Math.min(i.offsetHeight,t-i.offsetTop)))/i.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(i.offsetWidth,e-i.offsetLeft))/i.offsetWidth))/10}handlerEnd(e){"touchend"!==e.type&&e.preventDefault(),A.remove(document,"mousemove touchmove",this.handlerMove),A.remove(document,"mouseup touchend",this.handlerEnd);const t=this.getDragHandler();J("."+Cf,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)}btnClickHandler(e){const t=e.target;U(t,"."+vh)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains(vb)||t.classList.contains(yb))&&this.ctrlBtnClick(t,e)}switchToPalette(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),oe(J(".e-slider-preview",this.container)),this.getWrapper().classList.contains(zl)||nt(J("."+Ef,this.container)),oe(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})}refreshPopupPos(){if(!this.inline){const e=this.getPopupEle();e.style.left=fe(0+pageXOffset),e.style.top=fe(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}}formatSwitchHandler(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)}updateValue(e,t,i,s){const n=["e-rh-value","e-gs-value","e-bv-value"];let a;for(let o=0,h=n.length;o<h;o++)a=eo(J("."+n[o],this.container),mf),a.value=Math.round(e[o]),t&&(a.placeholder=n[o].substr(i,1).toUpperCase(),a.max=s?s[o]:255),a.dataBind()}previewHandler(e){const t=e.target,i=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);const s=this.rgbToHex(this.rgb),n=this.rgbToHsv.apply(this,this.rgb);n[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:n[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(n[0]),this.enableOpacity&&n[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*n[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=n,this.setHandlerPosition(),this.updateInput(s),J("."+hA+" ."+oA,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(s,i,this.convertToRgbString(this.rgb))}paletteClickHandler(e){e.preventDefault();const t=e.target;if(t.classList.contains(H0)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(N0))this.noColorTile();else{const i=t.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(i)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Df)&&this.updateInput(i),this.triggerEvent(i,s,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(e)}else U(t,"."+vh)?this.switchToPicker():t.classList.contains(vb)||t.classList.contains(yb)?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(Df)&&U(t,"."+_0)&&this.formatSwitchHandler()}noColorTile(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)}switchToPicker(){const e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(Xe("."+Eb,this.container)).forEach(i=>{oe(i)}),e.classList.contains(Df)&&oe(J("."+Ef,this.container)),this.container.style.width="";const t=J(".e-custom-palette",this.container);this.presetColors&&nt(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})}ctrlBtnClick(e,t){if(e.classList.contains(vb)){const i=this.rgbToHex(this.rgb);this.triggerChangeEvent(i)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())}paletteKeyDown(e){const t=e.target;if(!t.classList.contains(Eb))return;let i,s;const n=[].slice.call(Xe("."+H0,t)),a=n.filter(o=>o.classList.contains("e-selected")).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),i=a?n[this.tilePosition(n,a,this.enableRtl?-1:1)]:n[this.enableRtl?n.length-1:0],this.keySelectionChanges(i);break;case 37:e.preventDefault(),i=a?n[this.tilePosition(n,a,this.enableRtl?1:-1)]:n[this.enableRtl?0:n.length-1],this.keySelectionChanges(i);break;case 38:e.preventDefault(),s=a?this.tilePosition(n,a,-this.columns):0,i=n[s]?n[s]:n[s-this.columns],this.keySelectionChanges(i);break;case 40:e.preventDefault(),s=a?this.tilePosition(n,a,this.columns):n.length-1,n[s]||(s%=n.length,s+=n[n.length-1].parentElement.childElementCount),i=n[s],this.keySelectionChanges(i);break;case 13:if(e.preventDefault(),a){const o=a.getAttribute("aria-label");this.enterKeyHandler(o||"",e)}}}keySelectionChanges(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(N0))this.noColorTile(!0);else{const t=e.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Df)&&this.updateInput(t),this.triggerEvent(t,i,this.convertToRgbString(this.rgb),!0)}}tilePosition(e,t,i){const s=(e=Array.prototype.slice.call(e)).length,n=this.columns-e[s-1].parentElement.childElementCount;let a=e.indexOf(t);return a+=i,a<0?a+=s+n:a%=s+n,a}inputHandler(e){const t=e.target;if(!t.value.length)return;let i,s;switch(J(".e-float-text",t.parentElement).textContent){case"HEX":{let a="";if(("#"===t.value[0]&&5!==t.value.length||"#"!==t.value[0]&&4!==t.value.length)&&(a=this.roundValue(t.value)),9!==a.length)return;s=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(a+a.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),s,t.value);break}case"R":this.rgb[0]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[0]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"G":this.rgb[1]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[1]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"B":this.rgb[2]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[2]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"H":this.hueSlider.value=Number(t.value);break;case"S":this.hsv[1]!==Number(t.value)&&(this.hsv[1]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(t.value)&&(this.hsv[2]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(t.value)}}inputValueChange(e,t,i){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;const s=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(i||s);const n=this.convertToRgbString(this.rgb);this.updatePreview(n),this.triggerEvent(s,t,n)}triggerEvent(e,t,i,s=!1){const n=e.slice(0,7);this.showButtons||s?this.trigger("select",{currentValue:{hex:n,rgba:i},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:n,rgba:i},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties(this.enableOpacity?{value:e}:{value:n},!0),this.element.value=n||"#000000")}destroy(){const e=this.getWrapper();super.destroy(),["tabindex","spellcheck"].forEach(t=>{this.element.removeAttribute(t)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&oe(this.element.nextElementSibling),e&&(e.parentElement.insertBefore(this.element,e),oe(e)),this.container=null,this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler)}destroyOtherComp(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;const e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}}isPopupOpen(){return this.getPopupEle().classList.contains("e-popup-open")}unWireEvents(){if(this.isPicker()){const e=this.getDragHandler();A.remove(e,"keydown",this.pickerKeyDown),A.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&A.remove(J("."+jg,this.container),"click",this.btnClickHandler),A.remove(J("."+wf,this.container),"click",this.previewHandler)}else A.remove(this.container,"click",this.paletteClickHandler),A.remove(this.container,"keydown",this.paletteKeyDown)}roundValue(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);let t=e.length;if(4===t&&(e+="f",t=5),5===t){let i="";for(let s=1,n=e.length;s<n;s++)i+=e.charAt(s)+e.charAt(s);e="#"+i,t=9}return 7===t&&(e+="ff"),e}hexToRgb(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));const t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);const i=parseInt(e,16),s=[];return s.push(i>>16&255),s.push(i>>8&255),s.push(255&i),s.push(t),s}rgbToHsv(e,t,i,s){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,i/=255;const n=Math.max(e,t,i),a=Math.min(e,t,i);let o;const h=n,d=n-a,m=0===n?0:d/n;if(n===a)o=0;else{switch(n){case e:o=(t-i)/d+(t<i?6:0);break;case t:o=(i-e)/d+2;break;case i:o=(e-t)/d+4}o/=6}const v=[Math.round(360*o),Math.round(1e3*m)/10,Math.round(1e3*h)/10];return f(s)||v.push(s),v}hsvToRgb(e,t,i,s){let n,a,o;if(i/=100,0==(t/=100))return n=a=o=i,[Math.round(255*n),Math.round(255*a),Math.round(255*o),s];e/=60;const h=Math.floor(e),d=e-h,m=i*(1-t),v=i*(1-t*d),C=i*(1-t*(1-d));switch(h){case 0:n=i,a=C,o=m;break;case 1:n=v,a=i,o=m;break;case 2:n=m,a=i,o=C;break;case 3:n=m,a=v,o=i;break;case 4:n=C,a=m,o=i;break;default:n=i,a=m,o=v}const w=[Math.round(255*n),Math.round(255*a),Math.round(255*o)];return f(s)||w.push(s),w}rgbToHex(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(f(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""}hex(e){return("0"+e.toString(16)).slice(-2)}changeModeSwitcherProp(e){const t=J("."+jg,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?oe(J("."+vh,t)):nt(t))}changeShowBtnProps(e){const t=J("."+jg,this.container);e?(t&&nt(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?oe(J("."+bb,t)):nt(t)}changeValueProp(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),oe(U(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();const t=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');t&&this.addTileSelection(t)}}setInputEleProps(){nt(J("."+Ef,this.container)),this.createInput()}changeDisabledProp(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())}changeCssClassProps(e,t){const i=this.getWrapper(),s=this.getPopupEle();t&&H([i,s],t.split(" ")),e&&L([i,s],e.split(" "))}changeRtlProps(e){e?L([this.getWrapper()],"e-rtl"):H([this.getWrapper()],"e-rtl")}changePaletteProps(){oe(this.container.children[0]),this.container.style.width="",this.createPalette()}changeOpacityProps(e){const t=this.getWrapper();e?(H([this.container.parentElement],VO),this.createOpacitySlider(J(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!t.classList.contains(zl)&&!t.classList.contains(Wg)&&this.appendOpacityValue(J(".e-input-container",this.container))):(L([this.container.parentElement],VO),this.opacitySlider.destroy(),nt(this.opacitySlider.element),this.opacitySlider=null,!t.classList.contains(zl)&&!t.classList.contains(Wg)&&nt(J("."+HO,this.container).parentElement))}onPropertyChanged(e,t){if(!f(e.value)){const i=this.roundValue(e.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);const s=this.splitBtn&&J("."+uA,this.splitBtn.element);s&&(s.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&f(e.inline)&&(this.splitBtn.setProperties(sb(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(const i of Object.keys(e))switch(i){case"inline":e.inline?(this.getWrapper().appendChild(this.container),this.splitBtn.destroy(),oe(this.element.nextElementSibling),this.container.children.length||this.createWidget()):(this.destroyOtherComp(),this.unWireEvents(),this.container.innerHTML="",this.createSplitBtn());break;case"cssClass":{this.changeCssClassProps(e.cssClass,t.cssClass);let s=e.cssClass.split(" ").concat(t.cssClass.split(" "));s=s.reduce((a,o)=>(a.indexOf(o)<0&&a.push(o),a),[]);let n=0;s.forEach(a=>{0===n&&(a===zl||a===FO||a===Df||a===P0||a===Wg)&&(J("."+Ef,this.container)&&nt(J("."+Ef,this.container)),this.createInput(),n++)});break}case"enableRtl":this.isPicker()&&(this.hueSlider.enableRtl=e.enableRtl,this.enableOpacity&&(this.opacitySlider.enableRtl=e.enableRtl),this.setInputEleProps()),this.changeRtlProps(e.enableRtl);break;case"disabled":this.changeDisabledProp(e.disabled);break;case"value":this.value!==t.value&&this.changeValueProp(e.value);break;case"showButtons":this.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?this.switchToPicker():this.switchToPalette();break;case"modeSwitcher":this.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":this.isPicker()||this.changePaletteProps();break;case"noColor":e.noColor?"Palette"===this.mode&&!this.modeSwitcher&&this.setNoColor():this.changePaletteProps();break;case"enableOpacity":this.changeOpacityProps(e.enableOpacity)}}focusIn(){this.element.parentElement.focus()}};En([T("#008000ff")],vn.prototype,"value",void 0),En([T("")],vn.prototype,"cssClass",void 0),En([T(!1)],vn.prototype,"disabled",void 0),En([T("Picker")],vn.prototype,"mode",void 0),En([T(!0)],vn.prototype,"modeSwitcher",void 0),En([T(null)],vn.prototype,"presetColors",void 0),En([T(!0)],vn.prototype,"showButtons",void 0),En([T(10)],vn.prototype,"columns",void 0),En([T(!1)],vn.prototype,"inline",void 0),En([T(!1)],vn.prototype,"noColor",void 0),En([T(!1)],vn.prototype,"enablePersistence",void 0),En([T(!0)],vn.prototype,"enableOpacity",void 0),En([T(!1)],vn.prototype,"createPopupOnClick",void 0),En([$()],vn.prototype,"select",void 0),En([$()],vn.prototype,"change",void 0),En([$()],vn.prototype,"beforeTileRender",void 0),En([$()],vn.prototype,"beforeOpen",void 0),En([$()],vn.prototype,"open",void 0),En([$()],vn.prototype,"beforeClose",void 0),En([$()],vn.prototype,"beforeModeSwitch",void 0),En([$()],vn.prototype,"onModeSwitch",void 0),En([$()],vn.prototype,"created",void 0),vn=En([oi],vn);var Cr=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const B0="e-input-focus",pA=["title","style","class"];let Er=class extends hs{constructor(e,t){super(e,t),this.previousValue=null,this.isAngular=!1,this.isHiddenInput=!1,this.isForm=!1,this.inputPreviousValue=null,this.isVue=!1,this.textboxOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"floatLabelType":me.removeFloating(this.textboxWrapper),me.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":me.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":me.setWidth(e.width,this.textboxWrapper.container);break;case"value":{const s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=s,me.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(f(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&f(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkAttributes(!0),me.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":me.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),me.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(me.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":me.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":me.setPlaceholder(this.placeholder,this.respectiveElement);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),me.setPlaceholder(this.placeholder,this.respectiveElement)}}getModuleName(){return"textbox"}isBlank(e){return!e||/^\s*$/.test(e)}preRender(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=U(this.element,"form"),f(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){const t=X("ej2_instances",this.element),i=this.createElement(this.multiline?"textarea":"input");let s=0;for(;s<this.element.attributes.length;s++){const n=this.element.attributes[s].nodeName;"id"!==n&&(i.setAttribute(n,this.element.attributes[s].nodeValue),i.innerHTML=this.element.innerHTML,"name"===n&&this.element.removeAttribute("name"))}this.element.appendChild(i),this.element=i,At("ej2_instances",t,this.element)}if(this.updateHTMLAttrToElement(),this.checkAttributes(!1),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.element.setAttribute("role","textbox"),this.globalize=new Ns(this.locale),this.l10n=new Gs("textbox",{placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",$i("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",$i("textarea"));const t=["placeholder","disabled","value","readonly","type","autocomplete"];for(let i=0;i<this.element.attributes.length;i++){const s=this.element.attributes[i].nodeName;this.element.hasAttribute(s)&&pA.indexOf(s)<0&&"id"!==s&&"type"!==s&&"e-mappinguid"!==s&&(this.textarea.setAttribute(s,this.element.attributes[i].nodeValue),t.indexOf(s)<0&&(this.element.removeAttribute(s),i--))}}}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"disabled":if(f(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e)}break;case"readonly":if(f(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){const s="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:s},!e)}break;case"placeholder":(f(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":(f(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e)&&this.setProperties({autocomplete:"off"===this.element.autocomplete?"off":"on"},!e);break;case"value":(f(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"type":(f(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}render(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=me.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttrToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),f(this.value)||(me.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),f(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:!f(this.textboxOptions)&&void 0!==this.textboxOptions.autocomplete&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,me.setWidth(this.width,this.textboxWrapper.container),this.renderComplete()}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(pA.indexOf(e)>-1)if("class"===e){const t=this.getInputValidClassList(this.htmlAttributes[e]);""!==t&&L([this.textboxWrapper.container],t.split(" "))}else if("style"===e){let t=this.textboxWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.textboxWrapper.container.setAttribute(e,t)}else this.textboxWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))pA.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){me.setCssClass(this.getInputValidClassList(e),[this.textboxWrapper.container],this.getInputValidClassList(t))}getInputValidClassList(e){let t=e;return!f(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}setInitialValue(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)}wireEvents(){A.add(this.respectiveElement,"focus",this.focusHandler,this),A.add(this.respectiveElement,"blur",this.focusOutHandler,this),A.add(this.respectiveElement,"input",this.inputHandler,this),A.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&A.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!f(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&A.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)}animationHandler(){this.textboxWrapper.container.classList.add("e-valid-input");const e=this.textboxWrapper.container.querySelector(".e-float-text");f(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))}resetValue(e){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,this.isProtectedOnChange=t}resetForm(){if(this.resetValue(this.isAngular?"":this.initialValue),!f(this.textboxWrapper)){const e=this.textboxWrapper.container.querySelector(".e-float-text");f(e)||(f(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}}focusHandler(e){this.trigger("focus",{container:this.textboxWrapper.container,event:e,value:this.value})}focusOutHandler(e){(null!==this.previousValue||null!==this.value||""!==this.respectiveElement.value)&&this.previousValue!==this.respectiveElement.value&&this.raiseChangeEvent(e,!0),this.trigger("blur",{container:this.textboxWrapper.container,event:e,value:this.value})}inputHandler(e){const i={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(this.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",i),e.stopPropagation()}changeHandler(e){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(e,!0),e.stopPropagation()}raiseChangeEvent(e,t){const i={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",i),this.previousValue=this.value}bindClearEvent(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&(this.enabled?A.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):A.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))}resetInputHandler(e){e.preventDefault(),(!this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.textboxWrapper.container.classList.contains("e-static-clear"))&&(me.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0),this.trigger("input",{event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container}),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0))}unWireEvents(){A.remove(this.respectiveElement,"focus",this.focusHandler),A.remove(this.respectiveElement,"blur",this.focusOutHandler),A.remove(this.respectiveElement,"input",this.inputHandler),A.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&A.remove(this.formElement,"reset",this.resetForm),!f(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&A.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)}destroy(){this.unWireEvents(),"INPUT"===this.element.tagName&&this.multiline&&(oe(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),f(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),oe(this.textboxWrapper.container)),this.textboxWrapper=null,super.destroy()}addIcon(e,t){me.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)}getPersistData(){return this.addOnPersist(["value"])}addAttributes(e){for(const t of Object.keys(e))"disabled"===t?(this.setProperties({enabled:!1},!0),me.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!0},!0),me.setReadonly(this.readonly,this.respectiveElement)):"class"===t?this.respectiveElement.classList.add(e[t]):"placeholder"===t?(this.setProperties({placeholder:e[t]},!0),me.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.setAttribute(t,e[t])}removeAttributes(e){for(const t of e)"disabled"===t?(this.setProperties({enabled:!0},!0),me.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!1},!0),me.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===t?(this.setProperties({placeholder:null},!0),me.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(t)}focusIn(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&L([this.textboxWrapper.container],[B0]))}focusOut(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&H([this.textboxWrapper.container],[B0]))}};Cr([T("text")],Er.prototype,"type",void 0),Cr([T(!1)],Er.prototype,"readonly",void 0),Cr([T(null)],Er.prototype,"value",void 0),Cr([T("Never")],Er.prototype,"floatLabelType",void 0),Cr([T("")],Er.prototype,"cssClass",void 0),Cr([T(null)],Er.prototype,"placeholder",void 0),Cr([T("on")],Er.prototype,"autocomplete",void 0),Cr([T({})],Er.prototype,"htmlAttributes",void 0),Cr([T(!1)],Er.prototype,"multiline",void 0),Cr([T(!0)],Er.prototype,"enabled",void 0),Cr([T(!1)],Er.prototype,"showClearButton",void 0),Cr([T(!1)],Er.prototype,"enablePersistence",void 0),Cr([T(null)],Er.prototype,"width",void 0),Cr([$()],Er.prototype,"created",void 0),Cr([$()],Er.prototype,"destroyed",void 0),Cr([$()],Er.prototype,"change",void 0),Cr([$()],Er.prototype,"blur",void 0),Cr([$()],Er.prototype,"focus",void 0),Cr([$()],Er.prototype,"input",void 0),Er=Cr([oi],Er);var fA=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Sf="e-rtl",xu="e-overlay",wb="e-nav-arrow",Db="e-nav-right-arrow",Ug="e-nav-left-arrow",yh="e-scroll-nav",gA="e-scroll-right-nav",j0="e-scroll-left-nav",Sb="e-scroll-device",Tf="e-scroll-overlay",Af="e-scroll-right-overlay",vA="e-scroll-left-overlay";let UO=(()=>{let r=class extends hs{constructor(t,i){super(t,i)}preRender(){this.browser=G.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=G.isDevice,this.customStep=!0;const t=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===t.id&&(t.id=$i("hscroll"),this.uniqueId=!0),t.style.display="block",this.enableRtl&&t.classList.add(Sf)}render(){this.touchModule=new mn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),A.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(Sb),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}setScrollState(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}initialize(){const t=this.createElement("div",{className:"e-hscroll-content"}),i=this.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");const s=this.element,n=[].slice.call(s.children);for(const a of n)t.appendChild(a);i.appendChild(t),s.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=t}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"hScroll"}destroy(){const t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(Sb);const i=Xe(".e-"+t.id+"_nav."+yh,t),s=Xe("."+Tf,t);[].slice.call(s).forEach(n=>{oe(n)});for(const n of[].slice.call(this.scrollItems.children))t.appendChild(n);this.uniqueId&&this.element.removeAttribute("id"),oe(this.scrollEle),i.length>0&&(oe(i[0]),f(i[1])||oe(i[1])),A.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(t){const i=Xe(".e-scroll-nav:not(."+xu+")",this.element);t?this.element.classList.add(xu):this.element.classList.remove(xu),[].slice.call(i).forEach(s=>{s.setAttribute("tabindex",t?"-1":"0")})}createOverlay(t){const i=t.id.concat("_nav"),s=this.createElement("div",{className:Tf+" "+Af}),n="e-"+t.id.concat("_nav "+yh+" "+gA),a=this.createElement("div",{id:i.concat("_right"),className:n}),o=this.createElement("div",{className:Db+" "+wb+" e-icons"});a.appendChild(o);const h=this.createElement("div",{className:Tf+" "+vA});this.ieCheck&&a.classList.add("e-ie-align"),t.appendChild(s),t.appendChild(a),t.insertBefore(h,t.firstChild),this.eventBinding([a])}createNavIcon(t){const i=t.id.concat("_nav"),s="e-"+t.id.concat("_nav "+yh+" "+gA),n=this.createElement("div",{id:i.concat("_right"),className:s});n.setAttribute("aria-disabled","false");const a=this.createElement("div",{className:Db+" "+wb+" e-icons"}),o="e-"+t.id.concat("_nav "+yh+" "+j0),h=this.createElement("div",{id:i.concat("_left"),className:o+" "+xu});h.setAttribute("aria-disabled","true");const d=this.createElement("div",{className:Ug+" "+wb+" e-icons"});h.appendChild(d),n.appendChild(a),t.appendChild(n),t.insertBefore(h,t.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),h.classList.add("e-ie-align")),this.eventBinding([n,h])}onKeyPress(t){if("Enter"===t.key){const i=()=>{this.keyTimeout=!0,this.eleScrolling(10,t.target,!0)};this.keyTimer=window.setTimeout(()=>{i()},100)}}onKeyUp(t){"Enter"===t.key&&(this.keyTimeout?this.keyTimeout=!1:t.target.click(),clearTimeout(this.keyTimer))}eventBinding(t){[].slice.call(t).forEach(i=>{new mn(i,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),i.addEventListener("keydown",this.onKeyPress.bind(this)),i.addEventListener("keyup",this.onKeyUp.bind(this)),i.addEventListener("mouseup",this.repeatScroll.bind(this)),i.addEventListener("touchend",this.repeatScroll.bind(this)),i.addEventListener("contextmenu",s=>{s.preventDefault()}),A.add(i,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(t){let i=t.originalEvent.target;i=this.contains(i,yh)?i.firstElementChild:i;const n=()=>{this.eleScrolling(10,i,!0)};this.timeout=window.setInterval(()=>{n()},50)}contains(t,i){return t.classList.contains(i)}eleScrolling(t,i,s){const n=this.element;let a=i.classList;a.contains(yh)&&(a=i.querySelector("."+wb).classList),this.contains(n,Sf)&&this.browserCheck&&(t=-t),!this.contains(n,Sf)||this.browserCheck||this.ieCheck?a.contains(Db)?this.frameScrollRequest(t,"add",s):this.frameScrollRequest(t,"",s):a.contains(Ug)?this.frameScrollRequest(t,"add",s):this.frameScrollRequest(t,"",s)}clickEventHandler(t){this.eleScrolling(this.scrollStep,t.target,!1)}swipeHandler(t){const i=this.scrollEle;let s;s=t.velocity<=1?t.distanceX/(10*t.velocity):t.distanceX/t.velocity;let n=.5;const a=()=>{const o=Math.sin(n);o<=0?window.cancelAnimationFrame(o):("Left"===t.swipeDirection?i.scrollLeft+=s*o:"Right"===t.swipeDirection&&(i.scrollLeft-=s*o),n-=.5,window.requestAnimationFrame(a))};a()}scrollUpdating(t,i){"add"===i?this.scrollEle.scrollLeft+=t:this.scrollEle.scrollLeft-=t}frameScrollRequest(t,i,s){if(s)return void this.scrollUpdating(t,i);this.customStep||[].slice.call(Xe("."+Tf,this.element)).forEach(o=>{t-=o.offsetWidth});const a=()=>{let o,h;this.contains(this.element,Sf)&&this.browserCheck?(o=-t,h=-10):(o=t,h=10),o<10?window.cancelAnimationFrame(h):(this.scrollUpdating(h,i),t-=h,window.requestAnimationFrame(a))};a()}touchHandler(t){const i=this.scrollEle;let s=t.distanceX;this.ieCheck&&this.contains(this.element,Sf)&&(s=-s),"Left"===t.scrollDirection?i.scrollLeft=i.scrollLeft+s:"Right"===t.scrollDirection&&(i.scrollLeft=i.scrollLeft-s)}arrowDisabling(t,i){if(this.isDevice){const n=(f(t)?i:t).querySelector("."+wb);f(t)?On(n,[Db],[Ug]):On(n,[Ug],[Db])}else t.classList.add(xu),t.setAttribute("aria-disabled","true"),t.removeAttribute("tabindex"),i.classList.remove(xu),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()}scrollHandler(t){const i=t.target,s=i.offsetWidth,a=this.element.querySelector("."+j0),o=this.element.querySelector("."+gA);let h=this.element.querySelector("."+vA),d=this.element.querySelector("."+Af),m=i.scrollLeft;if(m<=0&&(m=-m),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(h=this.element.querySelector("."+Af),d=this.element.querySelector("."+vA)),h.style.width=m<40?m+"px":"40px",d.style.width=i.scrollWidth-Math.ceil(s+m)<40?i.scrollWidth-Math.ceil(s+m)+"px":"40px"),0===m)this.arrowDisabling(a,o);else if(Math.ceil(s+m+.1)>=i.scrollWidth)this.arrowDisabling(o,a);else{const v=this.element.querySelector("."+yh+"."+xu);v&&(v.classList.remove(xu),v.setAttribute("aria-disabled","false"),v.setAttribute("tabindex","0"))}}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"scrollStep":this.setScrollState();break;case"enableRtl":t.enableRtl?this.element.classList.add(Sf):this.element.classList.remove(Sf)}}};return fA([T(null)],r.prototype,"scrollStep",void 0),r=fA([oi],r),r})();var qO=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const W0="e-rtl",_d="e-overlay",qg="e-nav-arrow",Tb="e-nav-up-arrow",zg="e-nav-down-arrow",Yg="e-scroll-nav",zO="e-scroll-up-nav",Iu="e-scroll-down-nav",YO="e-scroll-device",U0="e-scroll-overlay",CA="e-scroll-up-overlay",$g="e-scroll-down-overlay";let bh=class extends hs{constructor(e,t){super(e,t)}preRender(){this.browser=G.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=G.isDevice,this.customStep=!0;const e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=$i("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(W0)}render(){this.touchModule=new mn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),A.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(YO),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),A.add(this.element,"wheel",this.wheelEventHandler,this)}setScrollState(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}initialize(){const e=Q("div",{className:"e-vscroll-content"}),t=Q("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");const i=this.element,s=[].slice.call(i.children);for(const n of s)e.appendChild(n);t.appendChild(e),i.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"vScroll"}destroy(){const e=this.element;e.style.display="",H([this.element],["e-vscroll",YO]);const t=Xe(".e-"+e.id+"_nav."+Yg,e),i=Xe("."+U0,e);[].slice.call(i).forEach(s=>{oe(s)});for(const s of[].slice.call(this.scrollItems.children))e.appendChild(s);this.uniqueId&&this.element.removeAttribute("id"),oe(this.scrollEle),t.length>0&&(oe(t[0]),f(t[1])||oe(t[1])),A.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){const t=Xe(".e-scroll-nav:not(."+_d+")",this.element);e?this.element.classList.add(_d):this.element.classList.remove(_d),[].slice.call(t).forEach(i=>{i.setAttribute("tabindex",e?"-1":"0")})}createOverlayElement(e){const t=e.id.concat("_nav"),i=Q("div",{className:U0+" "+$g}),s="e-"+e.id.concat("_nav "+Yg+" "+Iu),n=Q("div",{id:t.concat("down"),className:s}),a=Q("div",{className:zg+" "+qg+" e-icons"});n.appendChild(a);const o=Q("div",{className:U0+" "+CA});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(o,e.firstChild),this.eventBinding([n])}createNavIcon(e){const t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+Yg+" "+Iu),s=Q("div",{id:t.concat("_down"),className:i});s.setAttribute("aria-disabled","false");const n=Q("div",{className:zg+" "+qg+" e-icons"}),a="e-"+e.id.concat("_nav "+Yg+" "+zO),o=Q("div",{id:t.concat("_up"),className:a+" "+_d});o.setAttribute("aria-disabled","true");const h=Q("div",{className:Tb+" "+qg+" e-icons"});o.appendChild(h),s.appendChild(n),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(o,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),o.classList.add("e-ie-align")),this.eventBinding([s,o])}onKeyPress(e){if("Enter"===e.key){const t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(t=>{new mn(t,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),t.addEventListener("keydown",this.onKeyPress.bind(this)),t.addEventListener("keyup",this.onKeyUp.bind(this)),t.addEventListener("mouseup",this.repeatScroll.bind(this)),t.addEventListener("touchend",this.repeatScroll.bind(this)),t.addEventListener("contextmenu",i=>{i.preventDefault()}),A.add(t,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,Yg)?t.firstElementChild:t;const s=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{s()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,i){let s=t.classList;s.contains(Yg)&&(s=t.querySelector("."+qg).classList),s.contains(zg)?this.frameScrollRequest(e,"add",i):s.contains(Tb)&&this.frameScrollRequest(e,"",i)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}wheelEventHandler(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}swipeHandler(e){const t=this.scrollEle;let i;i=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;let s=.5;const n=()=>{const a=Math.sin(s);a<=0?window.cancelAnimationFrame(a):("Up"===e.swipeDirection?t.scrollTop+=i*a:"Down"===e.swipeDirection&&(t.scrollTop-=i*a),s-=.02,window.requestAnimationFrame(n))};n()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}frameScrollRequest(e,t,i){if(i)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(Xe("."+U0,this.element)).forEach(a=>{e-=a.offsetHeight});const n=()=>{e<10?window.cancelAnimationFrame(10):(this.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(n))};n()}touchHandler(e){const t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)}arrowDisabling(e,t){if(this.isDevice){const s=(f(e)?t:e).querySelector("."+qg);f(e)?On(s,[zg],[Tb]):On(s,[Tb],[zg])}else e.classList.add(_d),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(_d),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollEventHandler(e){const t=e.target,i=t.offsetHeight,s=this.element.querySelector("."+zO),n=this.element.querySelector("."+Iu),a=this.element.querySelector("."+CA),o=this.element.querySelector("."+$g);let h=t.scrollTop;if(h<=0&&(h=-h),this.isDevice&&(a.style.height=h<40?h+"px":"40px",o.style.height=t.scrollHeight-Math.ceil(i+h)<40?t.scrollHeight-Math.ceil(i+h)+"px":"40px"),0===h)this.arrowDisabling(s,n);else if(Math.ceil(i+h+.1)>=t.scrollHeight)this.arrowDisabling(n,s);else{const d=this.element.querySelector("."+Yg+"."+_d);d&&(d.classList.remove(_d),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(W0):this.element.classList.remove(W0)}}};function Pd(r,e,t,i,s,n){let a,o;const h=e.parentElement;if("vscroll"===i?(a=n||e.getBoundingClientRect().height,o=t.getBoundingClientRect().height):(a=e.getBoundingClientRect().width,o=t.getBoundingClientRect().width),a<o)return SN(r,e,t,i,s,n);if(h){const d=h.getBoundingClientRect().width;return d<a&&"hscroll"===i?(o=d,e.style.maxWidth=d+"px",SN(r,e,t,i,s,n)):t}return t}function SN(r,e,t,i,s,n){const a=r("div",{className:"e-menu-"+i});let o;return e.appendChild(a),a.appendChild(t),n?(a.style.overflow="hidden",a.style.height=n+"px"):(a.style.maxHeight=e.style.maxHeight,e.style.overflow="hidden"),"vscroll"===i?(o=new bh({enableRtl:s},a),o.scrollStep=J(".e-"+i+"-bar",e).offsetHeight/2):(o=new UO({enableRtl:s},a),o.scrollStep=J(".e-"+i+"-bar",e).offsetWidth),a}function q0(r,e,t){if(r){const i=J(".e-menu-parent",e);i?(!t||t===i)&&(r.destroy(),e.parentElement.appendChild(i),oe(e)):(r.destroy(),oe(e))}}qO([T(null)],bh.prototype,"scrollStep",void 0),bh=qO([oi],bh);var Qi=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Ab="enter",EA="escape",Rn="e-focused",xb="e-menu-header",on="e-selected",Ib="e-separator",Gg="uparrow",Mu="downarrow",xf="leftarrow",Ch="rightarrow",kb="home",Mb="end",Ob="e-caret",Ou="e-menu-item",$O="e-disabled",Eh="e-menu-hide",As="e-icons",wh="e-menu-popup";class Lu extends hi{}Qi([T("id")],Lu.prototype,"itemId",void 0),Qi([T("parentId")],Lu.prototype,"parentId",void 0),Qi([T("text")],Lu.prototype,"text",void 0),Qi([T("iconCss")],Lu.prototype,"iconCss",void 0),Qi([T("url")],Lu.prototype,"url",void 0),Qi([T("separator")],Lu.prototype,"separator",void 0),Qi([T("items")],Lu.prototype,"children",void 0);class zt extends hi{}Qi([T(null)],zt.prototype,"iconCss",void 0),Qi([T("")],zt.prototype,"id",void 0),Qi([T(!1)],zt.prototype,"separator",void 0),Qi([Va([],zt)],zt.prototype,"items",void 0),Qi([T("")],zt.prototype,"text",void 0),Qi([T("")],zt.prototype,"url",void 0);class ro extends hi{}Qi([T("SlideDown")],ro.prototype,"effect",void 0),Qi([T(400)],ro.prototype,"duration",void 0),Qi([T("ease")],ro.prototype,"easing",void 0);let Ln=class extends hs{constructor(e,t){super(e,t),this.navIdx=[],this.animation=new Gi({}),this.isTapHold=!1,this.tempItem=[],this.showSubMenuOn="Auto"}preRender(){if(!this.isMenu){let e;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:$i(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});const t=X("ej2_instances",this.element);H([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,At("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:$i(this.getModuleName())}),Ge([].slice.call(this.element.cloneNode(!0).children),e);const t=this.element.nextElementSibling;t?this.element.parentElement.insertBefore(e,t):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){let e=this.element;const t=X("ej2_instances",e),i=this.createElement("ul"),s=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"});for(let n=0,a=e.attributes.length;n<a;n++)i.setAttribute(e.attributes[n].nodeName,e.attributes[n].nodeValue);e.parentNode.insertBefore(s,e),oe(e),e=i,s.appendChild(e),At("ej2_instances",t,e),this.clonedElement=s,this.element=e,this.element.id||(this.element.id=$i(this.getModuleName()))}}render(){this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();const e=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame(()=>{Pd(this.createElement,e,this.element,"hscroll",this.enableRtl)})}initialize(){let e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&L([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick}renderItems(){if(!this.items.length){const t=Ti.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:t},!0),this.element.innerHTML=""}const e=this.createItems(this.items);if(Ge(Array.prototype.slice.call(e.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){const t=this.getWrapper();this.element.classList.contains("e-vertical")?Pd(this.createElement,t,this.element,"vscroll",this.enableRtl):Pd(this.createElement,t,this.element,"hscroll",this.enableRtl)}}wireEvents(){const e=this.getWrapper();if(this.target){let t;const i=Xe(this.target);for(let s=0,n=i.length;s<n;s++)t=i[s],this.isMenu?A.add(t,"click",this.menuHeaderClickHandler,this):G.isIos?new mn(t,{tapHold:this.touchHandler.bind(this)}):A.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){A.add(this.targetElement,"scroll",this.scrollHandler,this);for(const s of iT(this.targetElement))A.add(s,"scroll",this.scrollHandler,this)}}G.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),A.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),A.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),A.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=Ts(e,{selector:"."+Ou})}wireKeyboardEvent(e){const t={downarrow:Mu,uparrow:Gg,enter:Ab,leftarrow:xf,rightarrow:Ch,escape:EA};this.isMenu&&(t.home=kb,t.end=Mb),new rt(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})}mouseDownHandler(e){U(e.target,".e-"+this.getModuleName()+"-wrapper")!==this.getWrapper()&&!U(e.target,".e-"+this.getModuleName()+"-popup")&&this.closeMenu(this.isMenu?null:this.navIdx.length,e)}keyBoardHandler(e){let t="";const i=e.target;let s=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&i.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([Rn,on],[U(i,".e-"+this.getModuleName()+"-wrapper")]),s)switch(e.action){case Ch:t=Ch,e.action=Mu;break;case xf:t=xf,e.action=Gg;break;case Mu:t=Mu,e.action=Ch;break;case Gg:t=Gg,e.action=""}else if(this.enableRtl)switch(e.action){case xf:s=!0,t=xf,e.action=Ch;break;case Ch:s=!0,t=Ch,e.action=xf}switch(e.action){case Mu:case Gg:case Mb:case kb:this.upDownKeyHandler(e);break;case Ch:this.rightEnterKeyHandler(e);break;case xf:this.leftEscKeyHandler(e);break;case Ab:this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case EA:this.leftEscKeyHandler(e)}s&&(e.action=t)}upDownKeyHandler(e){const t=this.getUlByNavIdx(),i=e.action===Mu||e.action===kb?0:t.childElementCount-1;let s=i;const n=this.getLIByClass(t,Rn);n&&(e.action!==Mb&&e.action!==kb&&(s=this.getIdx(t,n)),n.classList.remove(Rn),e.action!==Mb&&e.action!==kb&&(e.action===Mu?s++:s--,s===(e.action===Mu?t.childElementCount:-1)&&(s=i))),s=this.isValidLI(t.children[s],s,e.action),t.children[s].classList.add(Rn),t.children[s].focus()}isValidLI(e,t,i){const s=this.getUlByNavIdx();return(e.classList.contains(Ib)||e.classList.contains($O)||e.classList.contains(Eh))&&(i===Mu||i===Ch?t++:t--),((e=s.children[t]).classList.contains(Ib)||e.classList.contains($O)||e.classList.contains(Eh))&&(t=this.isValidLI(e,t,i)),t}getUlByNavIdx(e=this.navIdx.length){if(this.isMenu){const t=[this.getWrapper()].concat([].slice.call(Xe("."+wh)))[e];return f(t)?null:J(".e-menu-parent",t)}return this.getWrapper().children[e]}rightEnterKeyHandler(e){let t;const i=this.getUlByNavIdx(),s=this.getLIByClass(i,Rn);if(s){const n=this.getIdx(i,s),a=this.navIdx.concat(n),o=this.getItem(a);o.items.length?(this.navIdx.push(n),this.keyType="right",this.action=e.action,this.openMenu(s,o,-1,-1,e)):e.action===Ab&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([on],[this.getWrapper()]):s.classList.remove(Rn),s.classList.add(on),t={element:s,item:o,event:e},this.trigger("select",t),this.closeMenu(null,e))}}leftEscKeyHandler(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===EA&&this.closeMenu(null,e)}scrollHandler(e){this.closeMenu(null,e)}touchHandler(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)}cmenuHandler(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)}closeMenu(e=0,t=null,i){if(this.isMenuVisible()){let s,n;const a=this.getWrapper();let o,h;const d=this.getPopups();let m=!1;const v=this.isMenu?d.length+1:a.childElementCount,C=this.isMenu&&1!==v?J(".e-ul",d[v-2]):Xe(".e-menu-parent",a)[v-1];if(this.isMenu&&C.classList.contains("e-menu")&&(s=this.getLIByClass(C,on),s&&s.classList.remove(on),m=!0),!m){const w=t&&t.target&&this.getLI(t.target);n=this.navIdx.length?this.getItem(this.navIdx):null,h=n?n.items:this.items,o={element:C,parentItem:n,items:h,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",o,S=>{let k,O,q,N="";const z=!S.cancel;let Z,Ce,ce;(z||this.isCMenu)&&(this.isMenu?(k=U(C,"."+wh),this.hamburgerMode&&(k.parentElement.style.minHeight="",U(C,".e-menu-item").setAttribute("aria-expanded","false")),this.unWireKeyboardEvent(k),q0(eo(k.children[0],bh),k.children[0]),q=eo(k,Wn),q.hide(),N=k.id,q.destroy(),oe(k)):this.toggleAnimation(C,!1),O={element:C,parentItem:n,items:h},this.trigger("onClose",O),this.navIdx.pop()),this.updateReactTemplate();const Fe=this.getWrapper()&&this.getUlByNavIdx();this.isCMenu&&(this.canOpen(t.target)&&this.openMenu(null,null,this.pageY,this.pageX,t),this.isCMenu=!1),this.isMenu&&Fe&&N.length&&(Z=new RegExp("(.*)-ej2menu-"+this.element.id+"-popup").exec(N)[1],Ce=Fe.querySelector('[id="'+Z+'"]'),ce=w&&Fe.querySelector('[id="'+w.id+'"]'));const Se=w&&w.querySelectorAll(".e-menu-item");if(z&&this.hamburgerMode&&e&&!Se.length)this.afterCloseMenu(t);else if(z&&!this.hamburgerMode&&this.navIdx.length&&Ce&&!ce){let Be=t&&t.target.classList.contains("e-vscroll")?U(t.target,".e-menu-wrapper"):null;Be?(Be=Be.querySelector(".e-menu-item"),(this.showItemOnClick||Be&&this.getIndex(Be.id,!0).length<=this.navIdx.length)&&this.closeMenu(this.navIdx[this.navIdx.length-1],t,!0)):this.closeMenu(this.navIdx[this.navIdx.length-1],t)}else if(z&&!i&&!e&&(this.hamburgerMode&&this.navIdx.length||1===this.navIdx.length))this.closeMenu(null,t);else if(z&&f(e)&&this.navIdx.length)this.closeMenu(null,t);else if(!z||this.isMenu||e||0!==this.navIdx.length||this.isMenusClosed)if(z&&this.isMenu&&t&&t.target&&0!==this.navIdx.length&&U(t.target,".e-menu-parent.e-control"))this.closeMenu(0,t);else{if(!z||"right"!==this.keyType&&"click"!==this.keyType){const Be=this.getUlByNavIdx(),ht=this.getLIByClass(Be,on);if(ht&&(ht.setAttribute("aria-expanded","false"),ht.classList.remove(on),S.isFocused&&w&&(ht.classList.add(Rn),ht.focus())),!z&&this.hamburgerMode&&w&&"false"===w.getAttribute("aria-expanded")&&"true"===w.getAttribute("aria-haspopup")){U(w,".e-menu-parent.e-control")?this.navIdx=[]:this.navIdx.pop(),this.navIdx.push(this.cliIdx);const Ie=this.getItem(this.navIdx);w.setAttribute("aria-expanded","true"),this.openMenu(w,Ie,-1,-1,t)}}else this.afterCloseMenu(t);this.navIdx.length<1&&("Hover"===this.showSubMenuOn||"Click"===this.showSubMenuOn)&&(this.showItemOnClick=this.defaultOption,this.showSubMenuOn="Auto")}else this.isMenusClosed=!0,this.closeMenu(0,t);this.removeStateWrapper()})}}}updateReactTemplate(){if(this.isReact&&this.template&&0===this.navIdx.length){const e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}}getMenuItemModel(e,t){if(f(e))return null;f(t)&&(t=0);const i=this.getFields(t);return{text:e[i.text],id:e[i.id],items:e[i.child],separator:e[i.separator],iconCss:e[i.iconCss],url:e[i.url]}}getPopups(){const e=[];return[].slice.call(document.querySelectorAll("."+wh)).forEach(t=>{!f(t.querySelector("."+Ou))&&this.getIndex(t.querySelector("."+Ou).id,!0).length&&e.push(t)}),e}isMenuVisible(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&sn(this.element).valueOf()}canOpen(e){let t=!0;if(this.filter){t=!1;const i=this.filter.split(" ");for(let s=0,n=i.length;s<n;s++)if(U(e,"."+i[s])){t=!0;break}}return t}openMenu(e,t,i=0,s=0,n=null,a=this.targetElement){const o=this.getWrapper();this.lItem=e;const h=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,f(i)&&(i=-1),f(s)&&(s=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&G.isDevice){o.lastChild.style.display="none";const d={text:t[this.getField("text")].toString(),iconCss:As+" e-previous"},m=new zt(this.items[0],"items",d,!0),v=this.createItems([m]).children[0];v.classList.add(xb),this.uList.insertBefore(v,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+wh,id:e.id+"-ej2menu-"+h+"-popup"}),this.hamburgerMode?(i=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&L([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,n,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,n,0,0,"menu")},this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,o.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,n,i,s,"none")},this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,n,i,s,"none"))}else this.uList=this.element,this.uList.style.zIndex=wd(a||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,n,i,s,"none")}calculateIndentSize(e,t){const i=getComputedStyle(t);let s=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?s*=2:s+=s/4,e.style.textIndent=s+"px";const n=e.querySelectorAll(".e-blankicon");if(n&&n.length){const a=e.querySelector(".e-menu-icon"),o=getComputedStyle(a),h=parseInt(o.marginRight,10)+a.offsetWidth+s;for(let d=0;d<n.length;d++)n[d].style.textIndent=h+"px"}}generatePopup(e,t,i,s){const n=new Wn(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:i,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:s||this.enableRtl?"none":"flip",Y:"fit"},position:s&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:()=>{const a=J(".e-menu-vscroll",n.element);a&&(a.style.height="inherit",a.style.maxHeight="");const o=J(".e-ul",n.element);n.element.style.maxHeight="",o.focus(),this.triggerOpen(o)}});return n}createHeaderContainer(e){e=e||this.getWrapper();const t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?nn.sanitize(this.title):this.title,s=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),n=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(s),t.appendChild(n),e.insertBefore(t,this.element)}openHamburgerMenu(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}closeHamburgerMenu(e){this.trigger("beforeClose",{element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},i=>{i.cancel||(this.closeMenu(null,e),this.element.classList.add("e-hide-menu"),this.trigger("onClose",{element:this.element,parentItem:null,items:this.items}))})}callFit(e,t,i,s,n){return FE(e,null,{X:t,Y:i},{top:s,left:n})}triggerBeforeOpen(e,t,i,s,n,a,o){const h=e?i[this.getField("children",this.navIdx.length-1)]:this.items,m=o;this.trigger("beforeOpen",{element:t,items:h,parentItem:i,event:s,cancel:!1,top:n,left:a,showSubMenuOn:"Auto"},v=>{switch(m){case"menu":this.hamburgerMode||("Auto"!==v.showSubMenuOn&&(this.showItemOnClick=!this.defaultOption,this.showSubMenuOn=v.showSubMenuOn),this.top=v.top,this.left=v.left),this.popupWrapper.style.display="block",this.hamburgerMode||(this.popupWrapper.style.maxHeight=this.popupWrapper.getBoundingClientRect().height+"px",this.enableScrolling&&Pd(this.createElement,this.popupWrapper,this.uList,"vscroll",this.enableRtl),this.checkScrollOffset(s)),this.hamburgerMode||this.left||this.top?(this.popupObj.collision={X:"none",Y:"none"},this.popupWrapper.style.display=""):(this.popupObj.refreshPosition(this.lItem,!0),this.left=parseInt(this.popupWrapper.style.left,10),this.top=parseInt(this.popupWrapper.style.top,10),this.enableRtl&&(this.left=this.isNestedOrVertical?this.left-this.popupWrapper.offsetWidth-this.lItem.parentElement.offsetWidth+2:this.left-this.popupWrapper.offsetWidth+this.lItem.offsetWidth),this.template&&(this.isReact||this.isAngular)?requestAnimationFrame(()=>{this.collision(),this.popupWrapper.style.display=""}):(this.collision(),this.popupWrapper.style.display=""));break;case"none":this.top=v.top,this.left=v.left;break;case"hamburger":v.cancel||(this.element.classList.remove("e-hide-menu"),this.triggerOpen(this.element))}if("hamburger"!==m&&(v.cancel?(this.isMenu?(this.popupObj.destroy(),oe(this.popupWrapper)):t.className.indexOf("e-ul")>-1&&oe(t),this.navIdx.pop()):this.isMenu?this.hamburgerMode?(this.popupWrapper.style.top=this.top+"px",this.popupWrapper.style.left="0px",this.toggleAnimation(this.popupWrapper)):(this.setBlankIconStyle(this.popupWrapper),this.wireKeyboardEvent(this.popupWrapper),Ts(this.popupWrapper,{selector:"."+Ou}),this.popupWrapper.style.left=this.left+"px",this.popupWrapper.style.top=this.top+"px",this.popupObj.show("None"!==this.animationSettings.effect?{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing}:null,this.lItem)):(this.setBlankIconStyle(this.uList),this.setPosition(this.lItem,this.uList,this.top,this.left),this.toggleAnimation(this.uList))),"right"===this.keyType){let C=this.getUlByNavIdx();e.classList.remove(Rn),this.isMenu&&1===this.navIdx.length&&this.removeLIStateByClass([on],[this.getWrapper()]),e.classList.add(on),this.action===Ab&&this.trigger("select",{element:e,item:i,event:s}),e.focus(),C=this.getUlByNavIdx();const w=this.isValidLI(C.children[0],0,this.action);C.children[w].classList.add(Rn),C.children[w].focus()}})}collision(){let e;if(e=Cc(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";const t=U(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?gr(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}e=Cc(this.popupWrapper,null,this.left,this.top),(e.indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"}setBlankIconStyle(e){const t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(!t.length)return;const i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)"),s=i.querySelector(".e-menu-icon");if(!s)return;const n=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},a=getComputedStyle(s);let o=parseInt(a.fontSize,10);parseInt(a.width,10)&&parseInt(a.width,10)>o&&(o=parseInt(a.width,10));const h=`${o+parseInt(a[n.margin],10)+parseInt(getComputedStyle(i)[n.padding],10)}px`;t.forEach(d=>{d.style[n.padding]=h})}checkScrollOffset(e){const t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){const i=f(e)?this.element:U(e.target,"."+Ou),s=J(".e-hscroll-bar",t);s.scrollLeft>i.offsetLeft&&(s.scrollLeft-=s.scrollLeft-i.offsetLeft);const n=s.scrollLeft+s.offsetWidth,a=i.offsetLeft+i.offsetWidth;n<a&&(s.scrollLeft+=a-n)}}setPosition(e,t,i,s){const n="px";if(this.toggleVisiblity(t),t===this.element||s>-1&&i>-1){let a=Cc(t,null,s,i);if(a.indexOf("right")>-1&&(s-=t.offsetWidth),a.indexOf("bottom")>-1&&(i=this.callFit(t,!1,!0,i,s).top-20)<0){const h=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;h>-1&&(i=h)}a=Cc(t,null,s,i),a.indexOf("left")>-1&&(s=this.callFit(t,!0,!1,i,s).left)}else if(G.isDevice)i=Number(this.element.style.top.replace(n,"")),s=Number(this.element.style.left.replace(n,""));else{let o=gr(e,this.enableRtl?"left":"right","top");s=o.left;const h=Cc(t,null,this.enableRtl?s-t.offsetWidth:s,i=o.top),d=h.indexOf("left")>-1||h.indexOf("right")>-1;d&&(o=gr(e,this.enableRtl?"right":"left","top"),s=o.left),(this.enableRtl||d)&&(s=this.enableRtl&&d?s:s-t.offsetWidth),h.indexOf("bottom")>-1&&(o=this.callFit(t,!1,!0,i,s),i=o.top)}this.toggleVisiblity(t,!1),t.style.top=i+n,t.style.left=s+n}toggleVisiblity(e,t=!0){e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"}createItems(e){const t=this.navIdx?this.navIdx.length:0,i=this.getFields(t),s=this.hasField(e,this.getField("iconCss",t)),n={showIcon:s,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:o=>{o.curData[o.fields[i.id]]||(o.curData[o.fields[i.id]]=$i("menuitem")),o.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},this.isMenu&&!o.curData[this.getField("separator",t)]&&(o.curData.htmlAttributes["aria-label"]=o.curData[o.fields.text]),""===o.curData[o.fields[i.iconCss]]&&(o.curData[o.fields[i.iconCss]]=null)},itemCreated:o=>{if(o.curData[this.getField("separator",t)]&&(o.item.classList.add(Ib),o.item.removeAttribute("role")),s&&!o.curData[o.fields.iconCss]&&!o.curData[this.getField("separator",t)]&&o.item.classList.add("e-blankicon"),o.curData[o.fields.child]&&o.curData[o.fields.child].length){const d=this.createElement("span",{className:As+" "+Ob});o.item.appendChild(d),o.item.setAttribute("aria-haspopup","true"),o.item.setAttribute("aria-expanded","false"),this.isMenu||o.item.removeAttribute("role"),o.item.classList.add("e-menu-caret-icon")}this.isMenu&&this.template&&(o.item.setAttribute("id",o.curData[o.fields.id].toString()),o.item.removeAttribute("data-uid"),o.item.classList.contains("e-level-1")&&o.item.classList.remove("e-level-1"),o.item.classList.contains("e-has-child")&&o.item.classList.remove("e-has-child")),this.trigger("beforeItemRender",{item:o.curData,element:o.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(n.templateID=this.element.id+"Template");const a=Ti.createList(this.createElement,e,n,!this.template,this);return a.setAttribute("tabindex","0"),this.isMenu&&a.setAttribute("role","menu"),a}moverHandler(e){const t=e.target;this.liTrgt=t;const i=this.getLI(t),s=i?U(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),n=this.getWrapper(),a=new RegExp("-ej2menu-(.*)-popup");let o,h=!1;if(s){if(o=""!==s.id?a.exec(s.id)[1]:s.querySelector("ul").id,o!==this.element.id){if(this.removeLIStateByClass([Rn,on],[this.getWrapper()]),!this.navIdx.length)return;h=!0}i&&U(i,".e-"+this.getModuleName()+"-wrapper")&&!h?(this.removeLIStateByClass([Rn],this.isMenu?[s].concat(this.getPopups()):[s]),this.removeLIStateByClass([Rn],this.isMenu?[n].concat(this.getPopups()):[n]),i.classList.add(Rn),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!h&&this.removeLIStateByClass([Rn],[s].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===s||U(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)||"Hover"===this.showSubMenuOn?h&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([Rn],[s]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}}removeStateWrapper(){if(this.liTrgt){const e=U(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([Rn,on],[e])}}removeLIStateByClass(e,t){let i;for(let s=0;s<t.length;s++)e.forEach(n=>{i=J("."+n,t[s]),i&&i.classList.remove(n)})}getField(e,t=0){const i=this.fields[e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()}getFields(e=0){return{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}}hasField(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}menuHeaderClickHandler(e){U(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))}clickHandler(e){if(this.isTapHold)this.isTapHold=!1;else{const t=this.getWrapper(),i=e.target,s=this.cli=this.getLI(i),n=new RegExp("-ej2menu-(.*)-popup"),a=s?U(s,".e-"+this.getModuleName()+"-wrapper"):null,o=s&&a&&(this.isMenu?this.getIndex(s.id,!0).length>0:t.firstElementChild.id===a.firstElementChild.id);if(G.isDevice&&this.isMenu&&(this.removeLIStateByClass([Rn],[t].concat(this.getPopups())),this.mouseDownHandler(e)),s&&a&&this.isMenu){const h=a.id?n.exec(a.id)[1]:a.querySelector(".e-menu-parent").id;if(this.element.id!==h)return}if(o&&"click"===e.type&&!s.classList.contains(xb)){this.setLISelected(s);const h=this.getIndex(s.id,!0),d=this.getItem(h);this.trigger("select",{element:s,item:d,event:e})}if(o&&("mouseover"===e.type||G.isDevice||this.showItemOnClick)){let h;if(s.classList.contains(xb)){h=t.children[this.navIdx.length-1],this.toggleAnimation(h);const d=this.getLIByClass(h,on);d&&d.classList.remove(on),oe(s.parentNode),this.navIdx.pop()}else if(!s.classList.contains(Ib)){this.showSubMenu=!0;const d=s.parentNode;if(this.cliIdx=this.getIdx(d,s),this.isMenu||!G.isDevice){const m=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),U(d,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,d);if(this.navIdx[m]===this.cliIdx&&(this.showSubMenu=!1),m!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){const v=this.getLIByClass(d,on);v&&v.classList.remove(on),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(s),this.closeMenu(m+1,e),this.showItemOnClick&&this.setLISelected(s)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&U(i,".e-menu-vscroll")){const h=U(i,"."+wh),d=Array.prototype.indexOf.call(this.getPopups(),h)+1;d<this.navIdx.length&&(this.closeMenu(d+1,e),h&&this.removeLIStateByClass([Rn,on],[h]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):("UL"!==i.tagName||(this.isMenu?i.parentElement.classList.contains("e-menu-wrapper")&&!this.getIndex(i.querySelector("."+Ou).id,!0).length:i.parentElement!==t))&&(s||this.removeLIStateByClass([on],[t]),(!s||!s.querySelector("."+Ob))&&this.closeMenu(null,e))}}afterCloseMenu(e){let t;if(this.showSubMenu){t=U(this.showItemOnClick&&0===this.navIdx.length?e.target:this.element,".e-menu-parent.e-control");const i=this.navIdx.concat(this.cliIdx),s=this.getItem(i);if(s&&s[this.getField("children",i.length-1)]&&s[this.getField("children",i.length-1)].length?(("mouseover"===e.type||G.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,s,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){const n=this.getUlByNavIdx(),a=this.getLIByClass(n,on);a&&(a.setAttribute("aria-expanded","false"),a.classList.remove(on))}}this.keyType=""}setLISelected(e){const t=this.getLIByClass(e.parentElement,on);t&&t.classList.remove(on),this.isMenu||e.classList.remove(Rn),e.classList.add(on)}getLIByClass(e,t){for(let i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null}getItemIndex(e,t){let i;return i="string"==typeof e?e:e.id,this.getIndex(i,!1!==t)}setItem(e,t,i){const a=this.getIndex(t||e.id,!1!==i),o=this.getItem(a);o.iconCss=e.iconCss,o.id=e.id,o.text=e.text,o.url=e.url,o.separator=e.separator,o.items=e.items}getItem(e){const t=(e=e.slice()).pop();return this.getItems(e)[t]}getItems(e){let t=this.items;for(let i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t}setItems(e,t){const i=this.getItems(t);i.splice(0,i.length);for(let s=0;s<e.length;s++)i.splice(s,0,e[s])}getIdx(e,t,i=!0){let s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(xb)&&s--,s}getLI(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:U(e,"li.e-menu-item")}updateItemsByNavIdx(){let e=this.items,t=0;for(let i=0;i<this.navIdx.length&&(e=e[i].items,e);i++){t++;const s=this.getUlByNavIdx(t);if(!s)break;this.updateItem(s,e)}}removeChildElement(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"cssClass":t.cssClass&&H([i],t.cssClass.split(" ")),e.cssClass&&L([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"enableScrolling":if(e.enableScrolling){let n;this.element.classList.contains("e-vertical")?Pd(this.createElement,i,this.element,"vscroll",this.enableRtl):Pd(this.createElement,i,this.element,"hscroll",this.enableRtl),this.getPopups().forEach(a=>{n=J(".e-ul",a),Pd(this.createElement,a,n,"vscroll",this.enableRtl)})}else{let n=i.children[0];this.element.classList.contains("e-vertical")?q0(eo(n,bh),n):q0(eo(n,UO),n),i.style.overflow="",i.appendChild(this.element),this.getPopups().forEach(a=>{n=a.children[0],q0(eo(n,bh),n),a.style.overflow=""})}break;case"items":{let n,a,o;if(Object.keys(t.items).length){const h=Object.keys(e.items);for(let d=0;d<h.length;d++)a=this.getChangedItemIndex(e,[],Number(h[d])),a.length<=this.getWrapper().children.length&&(n=a.pop(),o=this.getItems(a),this.insertAfter([o[n]],o[n].text),this.removeItem(o,a,n),this.setItems(o,a)),a.length=0}else{if(this.updateItem(this.element,this.items),!this.hamburgerMode)for(let h=1,d=i.childElementCount;h<d;h++)oe(i.lastElementChild);this.navIdx=[]}break}}}updateItem(e,t){e.innerHTML="",[].slice.call(this.createItems(t).children).forEach(s=>{e.appendChild(s)})}getChangedItemIndex(e,t,i){t.push(i);const s=Object.keys(e.items[i]).pop();if("items"===s){const n=e.items[i],a=Object.keys(n.items).pop();a&&this.getChangedItemIndex(n,t,Number(a))}else"isParentArray"===s&&t.length>1&&t.pop();return t}removeItem(e,t,i){e.splice(i,1);const s=this.getWrapper().children;t.length<s.length&&oe(s[t.length].children[i])}unWireEvents(e=this.target){const t=this.getWrapper();if(e){let i,s;const n=Xe(e);for(let a=0,o=n.length;a<o;a++)i=n[a],this.isMenu?A.remove(i,"click",this.menuHeaderClickHandler):G.isIos?(s=eo(i,mn),s&&s.destroy()):A.remove(i,"contextmenu",this.cmenuHandler);if(!this.isMenu){A.remove(this.targetElement,"scroll",this.scrollHandler);for(const a of iT(this.targetElement))A.remove(a,"scroll",this.scrollHandler)}}G.isDevice||(A.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),A.remove(document,"mousedown",this.delegateMouseDownHandler)),A.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()}unWireKeyboardEvent(e){const t=eo(e,rt);t&&t.destroy()}toggleAnimation(e,t=!0){let i,s;"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:n=>{this.hamburgerMode?(s=n.element.parentElement,n.element.style.position="absolute",i=s.offsetHeight,n.element.style.maxHeight=n.element.offsetHeight+"px",s.style.maxHeight=""):(n.element.style.display="block",n.element.style.maxHeight=n.element.getBoundingClientRect().height+"px")},progress:n=>{this.hamburgerMode&&(s.style.minHeight=i+n.element.offsetHeight+"px")},end:n=>{this.hamburgerMode?(n.element.style.position="",n.element.style.maxHeight="",s.style.minHeight="",n.element.style.top="0px",n.element.children[0].focus(),this.triggerOpen(n.element.children[0])):this.end(n.element,t)}}):this.end(e,t)}triggerOpen(e){const t=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:t,items:t?t.items:this.items})}end(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+Rn))e.querySelector("."+Rn).focus();else{const i=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];i?i.querySelector("."+on).focus():this.element.focus()}else if(e===this.element){const i=this.getLIByClass(this.element,Rn);i&&i.classList.remove(Rn);const s=this.getLIByClass(this.element,on);s&&s.classList.remove(on),e.style.display="none"}else oe(e)}getPersistData(){return""}getWrapper(){return U(this.element,".e-"+this.getModuleName()+"-wrapper")}getIndex(e,t,i=this.items,s=[],n=!1,a=0){let o;a=n?a+1:0;for(let h=0,d=i.length;h<d;h++){if(o=i[h],(t?o[this.getField("itemId",a)]:o[this.getField("text",a)])===e){s.push(h);break}if(o[this.getField("children",a)]&&o[this.getField("children",a)].length){if(-1!==(s=this.getIndex(e,t,o[this.getField("children",a)],s,!0,a))[s.length-1]){s.unshift(h);break}h!==d-1&&s.pop()}else h===d-1&&s.push(-1)}return n||-1!==s[0]?s:[]}enableItems(e,t=!0,i){let s,n,a;const o=$O;let h;for(let d=0;d<e.length;d++){if(a=this.getIndex(e[d],i),this.navIdx.length){if(1!==a.length){h=!1;for(let m=0,v=a.length-1;m<v;m++)if(a[m]!==this.navIdx[m]){h=!0;break}if(h)continue}}else if(1!==a.length)continue;n=a.pop(),s=this.getUlByNavIdx(a.length),s&&(t?this.isMenu?(s.children[n].classList.remove(o),s.children[n].removeAttribute("aria-disabled")):G.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.remove(o):s.children[n].classList.remove(o):this.isMenu?(s.children[n].classList.add(o),s.children[n].setAttribute("aria-disabled","true")):G.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.add(o):s.children[n].classList.add(o))}}showItems(e,t){this.showHideItems(e,!1,t)}hideItems(e,t){this.showHideItems(e,!0,t)}showHideItems(e,t,i){let s,n,a;for(let o=0;o<e.length;o++)a=this.getIndex(e[o],i),n=a.pop(),s=this.getUlByNavIdx(a.length),s&&(t?G.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.add(Eh):s.children[n].classList.add(Eh):G.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.remove(Eh):s.children[n].classList.remove(Eh))}removeItems(e,t){let i,s,n;for(let a=0;a<e.length;a++)s=this.getIndex(e[a],t),i=s.pop(),n=this.getItems(s),this.removeItem(n,s,i)}insertAfter(e,t,i){this.insertItems(e,t,i)}insertBefore(e,t,i){this.insertItems(e,t,i,!1)}insertItems(e,t,i,s=!0){let n,a,o,h,d;for(let m=0;m<e.length;m++){o=this.getIndex(t,i),a=o.pop(),h=this.getItems(o),d=new zt(h[0],"items",e[m],!0),h.splice(s?a+1:a,0,d);const v=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(o.length<v.length){a=s?a+1:a,n=this.createItems(h).children[a];const C=this.isMenu?J(".e-menu-parent",v[o.length]):v[o.length];C.insertBefore(n,C.children[a])}}}removeAttributes(){["top","left","display","z-index"].forEach(e=>{this.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(e=>{"class"===e&&this.element.classList.contains("e-menu-parent")&&this.element.classList.remove("e-menu-parent"),(-1===["class","style"].indexOf(e)||!this.element.getAttribute(e))&&this.element.removeAttribute(e),this.isMenu&&"class"===e&&this.element.classList.contains("e-vertical")&&this.element.classList.remove("e-vertical")})}destroy(){const e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)L([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){const t=this.clonedElement.nextElementSibling;t&&t!==e?this.clonedElement.parentElement.insertBefore(this.element,t):this.clonedElement.parentElement.appendChild(this.element),this.element.innerHTML="",Ge([].slice.call(this.clonedElement.children),this.element),oe(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(oe(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):oe(e),super.destroy(),this.template&&this.clearTemplate(["template"])}}};Qi([$()],Ln.prototype,"beforeItemRender",void 0),Qi([$()],Ln.prototype,"beforeOpen",void 0),Qi([$()],Ln.prototype,"onOpen",void 0),Qi([$()],Ln.prototype,"beforeClose",void 0),Qi([$()],Ln.prototype,"onClose",void 0),Qi([$()],Ln.prototype,"select",void 0),Qi([$()],Ln.prototype,"created",void 0),Qi([T("")],Ln.prototype,"cssClass",void 0),Qi([T(0)],Ln.prototype,"hoverDelay",void 0),Qi([T(!1)],Ln.prototype,"showItemOnClick",void 0),Qi([T("")],Ln.prototype,"target",void 0),Qi([T("")],Ln.prototype,"filter",void 0),Qi([T(null)],Ln.prototype,"template",void 0),Qi([T(!1)],Ln.prototype,"enableScrolling",void 0),Qi([T(!1)],Ln.prototype,"enableHtmlSanitizer",void 0),Qi([Ht({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},Lu)],Ln.prototype,"fields",void 0),Qi([Va([],zt)],Ln.prototype,"items",void 0),Qi([Ht({duration:400,easing:"ease",effect:"SlideDown"},ro)],Ln.prototype,"animationSettings",void 0),Ln=Qi([oi],Ln);var bi=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const wA="e-vertical",ln="e-toolbar-items",Yn="e-toolbar-item",Dh="e-rtl",rr="e-separator",z0="e-popup-up-icon",Ua="e-popup-down-icon",_n="e-popup-open",Yl="e-template",$l="e-overlay",GO="e-toolbar-text",Y0="e-popup-text",ul="e-overflow-show",_u="e-overflow-hide",ao="e-hor-nav",Nd="e-scroll-nav",$0="e-toolbar-center",oo="e-tbar-pos",If="e-hscroll-bar",Vd="e-toolbar-pop",Sh="e-toolbar-popup",Qg="e-nav-active",Fd="e-ignore",SA="e-popup-alone",kf="e-hidden",G0="e-toolbar-multirow",ZO="e-multirow-pos",TA="e-multirow-separator",mi="e-extended-separator",JO="e-extended-toolbar",Mf="e-toolbar-extended",AA="e-tbar-extended";class ca extends hi{}bi([T("")],ca.prototype,"id",void 0),bi([T("")],ca.prototype,"text",void 0),bi([T("auto")],ca.prototype,"width",void 0),bi([T("")],ca.prototype,"cssClass",void 0),bi([T(!1)],ca.prototype,"showAlwaysInPopup",void 0),bi([T(!1)],ca.prototype,"disabled",void 0),bi([T("")],ca.prototype,"prefixIcon",void 0),bi([T("")],ca.prototype,"suffixIcon",void 0),bi([T(!0)],ca.prototype,"visible",void 0),bi([T("None")],ca.prototype,"overflow",void 0),bi([T("")],ca.prototype,"template",void 0),bi([T("Button")],ca.prototype,"type",void 0),bi([T("Both")],ca.prototype,"showTextOn",void 0),bi([T(null)],ca.prototype,"htmlAttributes",void 0),bi([T("")],ca.prototype,"tooltipText",void 0),bi([T("Left")],ca.prototype,"align",void 0),bi([$()],ca.prototype,"click",void 0);let Da=class extends hs{constructor(e,t){super(e,t),this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"}}destroy(){this.isReact&&this.clearTemplate();const e=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(e).forEach(t=>{!f(t)&&!f(t.ej2_instances)&&!f(t.ej2_instances[0])&&!t.ej2_instances[0].isDestroyed&&t.ej2_instances[0].destroy()}),super.destroy(),this.unwireEvents(),this.tempId.forEach(t=>{f(this.element.querySelector(t))||(document.body.appendChild(this.element.querySelector(t)).style.display="none")});this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&H([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(t=>this.element.removeAttribute(t))}preRender(){const e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(wA),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,Dh)}wireEvents(){A.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}wireKeyboardEvent(){this.keyModule=new rt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),A.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}unwireKeyboardEvent(){this.keyModule&&(A.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}docKeyDown(e){if("INPUT"===e.target.tagName)return;const t=!f(this.popObj)&&sn(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}unwireEvents(){A.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),A.remove(document,"scroll",this.docEvent),A.remove(document,"click",this.docEvent)}clearProperty(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}docEvent(e){const t=U(e.target,".e-popup");this.popObj&&sn(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}destroyScroll(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,oo),this.scrollModule.destroy(),this.scrollModule=null)}destroyItems(){this.element&&[].slice.call(this.element.querySelectorAll("."+Yn)).forEach(t=>{oe(t)});const e=this.element.querySelector("."+ln);this.tbarAlign&&([].slice.call(e.children).forEach(t=>{oe(t)}),this.tbarAlign=!1,this.remove(e,oo)),this.clearProperty()}destroyMode(){this.scrollModule&&(this.remove(this.scrollModule.element,Dh),this.destroyScroll()),this.remove(this.element,AA),this.remove(this.element,JO);const e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,G0),this.popObj&&this.popupRefresh(this.popObj.element,!0)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}elementFocus(e){const t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}clstElement(e,t){let i;return i=e&&this.popObj&&sn(this.popObj.element)?this.popObj.element.querySelector("."+Yn):this.element===t||e?this.element.querySelector("."+Yn+":not(."+$l+" ):not(."+rr+" ):not(."+kf+" )"):U(t,"."+Yn),i}keyHandling(e,t,i,s,n){const a=this.popObj,o=this.element,h={name:"FadeOut",duration:100},d="moveUp"===t.action?"previous":"next";let m,v;switch(t.action){case"moveRight":if(this.isVertical)return;o===i?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){const C=U(e,".e-popup");C?sn(this.popObj.element)&&(v=[].slice.call(C.children),m="home"===t.action?v[0]:v[v.length-1]):(v=this.element.querySelectorAll("."+ln+" ."+Yn),m="home"===t.action?v[0]:v[v.length-1]),m&&this.elementFocus(m)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(a&&U(i,".e-popup")){const C=a.element,w=C.firstElementChild;if("previous"===d&&w===e||"next"===d&&C.lastElementChild===e)return;this.eleFocus(e,d)}else"moveDown"===t.action&&a&&sn(a.element)&&this.elementFocus(e);break;case"tab":if(!n&&!s){const C=e.firstElementChild;o===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(C),C.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(h);break;case"popupOpen":if(!s)return;a&&!sn(a.element)?(a.element.style.top=o.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(h)}}keyActionHandler(e){const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||this.element.classList.contains($l))return;e.preventDefault();const i=t.classList.contains(ao),s=t.classList.contains(Nd),n=this.clstElement(i,t);(n||s)&&this.keyHandling(n,e,t,i,s)}disable(e){const t=this.element;e?t.classList.add($l):t.classList.remove($l),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(sn(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}eleContains(e){return e.classList.contains(rr)||e.classList.contains($l)||e.getAttribute("disabled")||e.classList.contains(kf)||!sn(e)}eleFocus(e,t){const i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){let s=Object(e.parentElement)[t+"ElementSibling"];if(!f(s)&&0===s.children.length&&(s=Object(s)[t+"ElementSibling"]),!f(s)&&s.children.length>0)if("next"===t){const n=s.querySelector("."+Yn);this.eleContains(n)?this.eleFocus(n,t):(n.firstElementChild.focus(),this.activeEleSwitch(n))}else{const n=s.lastElementChild;this.eleContains(n)?this.eleFocus(n,t):this.elementFocus(n)}}}clickHandler(e){const t=e.target,i=this.element,s=!f(U(t,"."+Vd));let o,n=t.classList,a=U(t,"."+ao);a||(a=t),!i.children[0].classList.contains("e-hscroll")&&!i.children[0].classList.contains("e-vscroll")&&n.contains(ao)&&(n=t.querySelector(".e-icons").classList),(n.contains(z0)||n.contains(Ua))&&this.popupClickHandler(i,a,Dh);const h=U(e.target,"."+Yn);if((f(h)||h.classList.contains($l))&&!a.classList.contains(ao))return;h&&(o=this.items[this.tbarEle.indexOf(h)]);const d={originalEvent:e,item:o};o&&!f(o.click)&&this.trigger("items["+this.tbarEle.indexOf(h)+"].click",d),d.cancel||this.trigger("clicked",d,m=>{!f(this.popObj)&&s&&!m.cancel&&"Popup"===this.overflowMode&&m.item&&"Input"!==m.item.type&&this.popObj.hide({name:"FadeOut",duration:100})})}popupClickHandler(e,t,i){const s=this.popObj;sn(s.element)?(t.classList.remove(Qg),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0===s.offsetX&&!e.classList.contains(i)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),t.classList.add(Qg),s.show({name:"FadeIn",duration:100}))}render(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=fe(this.width),t=fe(this.height);("msie"!==G.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&Ue(this.element,{height:t}),Ue(this.element,{width:e}),Te(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&L([this.element],this.cssClass.split(" "))}renderControl(){const e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}renderLayout(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}itemsAlign(e,t){let i,s;this.tbarEle||(this.tbarEle=[]);for(let n=0;n<e.length;n++)i=this.renderSubComponent(e[n],n),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[n],t,n),s=t.querySelector(".e-toolbar-"+e[n].align.toLowerCase()),s?(e[n].showAlwaysInPopup&&"Show"!==e[n].overflow||this.tbarAlgEle[(e[n].align+"s").toLowerCase()].push(i),s.appendChild(i)):t.appendChild(i);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())}changeOrientation(){const e=this.element;this.isVertical?(e.classList.remove(wA),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(wA),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),Ue(this.element,{height:fe(this.height),width:fe(this.width)})),this.destroyMode(),this.refreshOverflow()}initScroll(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+ln+" ."+$0).removeAttribute("style"),this.scrollModule=this.isVertical?new bh({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new UO({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,oo),Ue(this.element,{overflow:"hidden"}))}itemWidthCal(e){let i,t=0;return[].slice.call(Xe("."+Yn,e)).forEach(s=>{sn(s)&&(i=window.getComputedStyle(s),t+=this.isVertical?s.offsetHeight:s.offsetWidth,t+=parseFloat(this.isVertical?i.marginTop:i.marginRight),t+=parseFloat(this.isVertical?i.marginBottom:i.marginLeft))}),t}getScrollCntEle(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}checkOverflow(e,t){if(f(e)||f(t)||!sn(e))return!1;const i=this.isVertical?e.offsetHeight:e.offsetWidth;let s=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));const n=e.querySelector("."+ao),a=e.querySelector("."+Nd);let o=0;return n?o=this.isVertical?n.offsetHeight:n.offsetWidth:a&&(o=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),s>i-o}refreshOverflow(){this.resize()}toolbarAlign(e){this.tbarAlign&&(this.add(e,oo),this.itemPositioning())}renderOverflowMode(){const e=this.element,t=e.querySelector("."+ln),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===G.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":f(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(ln)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,G0),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,ZO)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===G.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,JO),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}setOverflowAttributes(e){this.createPopupEle(e,[].slice.call(Xe("."+ln+" ."+Yn,e))),this.element.querySelector("."+ao).setAttribute("tabIndex","0"),this.element.querySelector("."+ao).setAttribute("role","list")}separator(){const e=this.element,t=[].slice.call(e.querySelectorAll("."+rr)),i=e.querySelector("."+TA),s=e.querySelector("."+mi),n="MultiRow"===this.overflowMode?i:s;null!==n&&("MultiRow"===this.overflowMode?n.classList.remove(TA):"Extended"===this.overflowMode&&n.classList.remove(mi));for(let a=0;a<=t.length-1;a++)t[a].offsetLeft<30&&0!==t[a].offsetLeft&&("MultiRow"===this.overflowMode?t[a].classList.add(TA):"Extended"===this.overflowMode&&t[a].classList.add(mi))}createPopupEle(e,t){let i=e.querySelector("."+ao);const s=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+ao);const a=(s?e.offsetHeight:e.offsetWidth)-(s?i.offsetHeight:i.offsetWidth);this.element.classList.remove("e-rtl"),Ue(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}pushingPoppedEle(e,t,i,s,n){const a=e.element,o=[].slice.call(Xe("."+Sh,a.querySelector("."+ln)));let h=Xe("."+ul,i),d=0,m=0;o.forEach((C,w)=>{h=Xe("."+ul,i),C.classList.contains(ul)&&h.length>0?e.tbResize&&h.length>w?(i.insertBefore(C,h[w]),++m):(i.insertBefore(C,i.children[h.length]),++m):C.classList.contains(ul)||e.tbResize&&C.classList.contains(_u)&&i.children.length>0&&0===h.length?(i.insertBefore(C,i.firstChild),++m):C.classList.contains(_u)?t.push(C):e.tbResize?(i.insertBefore(C,i.childNodes[d+m]),++d):i.appendChild(C),C.classList.contains(rr)?Ue(C,{display:"",height:n+"px"}):Ue(C,{display:"",height:s+"px"})}),t.forEach(C=>{i.appendChild(C)});const v=Xe("."+Yn,a.querySelector("."+ln));for(let C=v.length-1;C>=0;C--){const w=v[C];if(!w.classList.contains(rr)||"Extended"===this.overflowMode)break;Ue(w,{display:"none"})}}createPopup(){const e=this.element;let t,i;"Extended"===this.overflowMode&&(i=e.querySelector("."+rr+":not(."+Sh+")"),t="auto"===e.style.height||""===e.style.height?null:i.offsetHeight);const s=e.querySelector("."+Yn+":not(."+rr+"):not(."+Sh+")"),n="auto"===e.style.height||""===e.style.height?null:s&&s.offsetHeight;let a;if(J("#"+e.id+"_popup."+Vd,e))a=J("#"+e.id+"_popup."+Vd,e);else{const h=this.createElement("div",{id:e.id+"_popup",className:Vd+" "+Mf}),d=this.createElement("div",{id:e.id+"_popup",className:Vd});a="Extended"===this.overflowMode?h:d}this.pushingPoppedEle(this,[],a,n,t),this.popupInit(e,a)}getElementOffsetY(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}popupInit(e,t){if(this.popObj){const i=this.popObj.element;Ue(i,{maxHeight:"",display:"block"}),Ue(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),Ue(this.element,{overflow:""});const i=window.getComputedStyle(this.element),s=new Wn(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(s.appendTo(t),"Extended"===this.overflowMode&&(s.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),s.offsetX=0),A.add(document,"scroll",this.docEvent.bind(this)),A.add(document,"click ",this.docEvent.bind(this)),s.element.style.maxHeight=s.element.offsetHeight+"px",this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){const n=this.element.querySelector("."+ao);n.classList.add(Qg),On(n.firstElementChild,[z0],[Ua]),this.element.querySelector("."+Mf).classList.add(_n)}else s.hide();this.popObj=s,this.element.setAttribute("aria-haspopup","true")}}tbarPopupHandler(e){"Extended"===this.overflowMode&&(e?this.add(this.element,AA):this.remove(this.element,AA))}popupOpen(e){const t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());const i=this.popObj.element,s=this.popObj.element.parentElement,n=s.querySelector("."+ao);Ue(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");const a=i.offsetTop+i.offsetHeight+gr(s).top,o=n.firstElementChild;n.classList.add(Qg),On(o,[z0],[Ua]),this.tbarPopupHandler(!0);const h=f(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+h<a&&this.element.offsetTop<i.offsetHeight){let d=i.offsetHeight-(a-window.innerHeight-h+5);t.height=d+"px";for(let m=0;m<=i.childElementCount;m++){const v=i.children[m];if(v.offsetTop+v.offsetHeight>d){d=v.offsetTop;break}}Ue(t.element,{maxHeight:d+"px"})}else if(this.isVertical){const d=this.element.getBoundingClientRect();Ue(t.element,{maxHeight:d.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){const d=i.getBoundingClientRect();d.right>document.documentElement.clientWidth&&d.width>s.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}}popupClose(e){const i=this.element.querySelector("."+ao),s=i.firstElementChild;i.classList.remove(Qg),On(s,[Ua],[z0]),this.tbarPopupHandler(!1)}checkPriority(e,t,i,s){const n=this.popupPriCount>0,o=i;let h,d,m=0,v=0,C=0;const w=(S,k)=>{let O=!1;return k.forEach(N=>{S.classList.contains(N)&&(O=!0)}),O};for(let S=t.length-1;S>=0;S--){let k;const O=window.getComputedStyle(t[S]);this.isVertical?(k=parseFloat(O.marginTop),k+=parseFloat(O.marginBottom)):(k=parseFloat(O.marginRight),k+=parseFloat(O.marginLeft));const N=t[S]===this.tbarEle[0];N&&(this.tbarEleMrgn=k),h=this.isVertical?t[S].offsetHeight:t[S].offsetWidth;const q=N?h+k:h;if(w(t[S],[SA])&&n&&(t[S].classList.add(Sh),Ue(t[S],this.isVertical?{display:"none",minHeight:q+"px"}:{display:"none",minWidth:q+"px"}),C++),d=this.isVertical?t[S].offsetTop+t[S].offsetHeight+k>i:t[S].offsetLeft+t[S].offsetWidth+k>i,d){if(t[S].classList.contains(rr)){if("Extended"===this.overflowMode)v===C&&w(t[S],[rr,Fd])&&(t[S].classList.add(Sh),C++),v++;else if("Popup"===this.overflowMode){if(m>0&&v===C){const z=t[S+v+(m-1)];w(z,[rr,Fd])&&Ue(z,{display:"none"})}m++,v=0,C=0}}else v++;t[S].classList.contains(ul)&&s||w(t[S],[rr,Fd])?i-=(this.isVertical?t[S].offsetHeight:t[S].offsetWidth)+k:(t[S].classList.add(Sh),Ue(t[S],this.isVertical?{display:"none",minHeight:q+"px"}:{display:"none",minWidth:q+"px"}),C++)}}if(s){const S=Xe("."+Yn+":not(."+Sh+")",this.element);this.checkPriority(e,S,o,!1)}}createPopupIcon(e){const t=e.id.concat("_nav");let i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;const s=this.createElement("div",{id:t,className:i});("msie"===G.info.name||"edge"===G.info.name)&&s.classList.add("e-ie-align");const n=this.createElement("div",{className:Ua+" e-icons"});s.appendChild(n),s.setAttribute("tabindex","0"),s.setAttribute("role","list"),e.appendChild(s)}tbarPriRef(e,t,i,s,n,a,o,h){const d=h,C=Xe("."+Sh+":not(."+ul+")",this.popObj.element).length,w=(S,k)=>S.classList.contains(k);if(0===Xe(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){const S=e.children[t-(t-i)-1],k=!f(S)&&w(S,Fd);if(!f(S)&&w(S,rr)&&!sn(S)||k){const O="none";S.style.display="inherit";const N=S.offsetWidth+2*parseFloat(window.getComputedStyle(S).marginRight),q=S.previousElementSibling;a+N<o||n?(e.insertBefore(s,e.children[t+d-(t-i)]),f(q)||(q.style.display="")):q.classList.contains(rr)&&(q.style.display=O),S.style.display=""}else e.insertBefore(s,e.children[t+d-(t-i)])}else e.insertBefore(s,e.children[t+d-C])}popupRefresh(e,t){const i=this.element,s=this.isVertical,n=i.querySelector("."+ln);let o,a=i.querySelector("."+ao);if(f(a))return;n.removeAttribute("style"),e.style.display="block",o=s?i.offsetHeight-(a.offsetHeight+n.offsetHeight):i.offsetWidth-(a.offsetWidth+n.offsetWidth);let h=0;[].slice.call(e.children).forEach(d=>{h+=this.popupEleWidth(d),Ue(d,{position:""})}),o+(s?a.offsetHeight:a.offsetWidth)>h&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(o,e,t),e.style.display="",0===e.children.length&&a&&this.popObj&&(oe(a),a=null,this.popObj.destroy(),oe(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}ignoreEleFetch(e,t){const i=[].slice.call(t.querySelectorAll("."+Fd)),s=[];let n=0;return i.length>0?(i.forEach(a=>{s.push([].slice.call(t.children).indexOf(a))}),s.forEach(a=>{a<=e&&n++}),n):0}checkPopupRefresh(e,t){t.style.display="block";const i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");const s=e.offsetWidth-e.querySelector("."+ao).offsetWidth,n=e.querySelector("."+ln).offsetWidth;return t.style.removeProperty("display"),s>i+n}popupEleWidth(e){e.style.position="absolute";let t=this.isVertical?e.offsetHeight:e.offsetWidth;const i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(Y0)){const s=e.children[0];!f(i)&&e.classList.contains(Y0)?i.style.display="none":!f(i)&&e.classList.contains(GO)&&(i.style.display="block"),s.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",f(i)||(i.style.display="")}return t}popupEleRefresh(e,t,i){const s=this.popupPriCount>0;let a,o,n=this.tbarEle,h=this.element.querySelector("."+ln),d=0;for(const v of[].slice.call(t.children)){if(v.classList.contains(SA)&&s&&!i)continue;let C=this.popupEleWidth(v);if(v===this.tbarEle[0]&&(C+=this.tbarEleMrgn),v.style.position="",!(C<e||i))break;{if(Ue(v,{minWidth:"",height:"",minHeight:""}),v.classList.contains(_u)||v.classList.remove(Sh),o=this.tbarEle.indexOf(v),this.tbarAlign){const S=this.items[o].align;o=this.tbarAlgEle[(S+"s").toLowerCase()].indexOf(v),n=this.tbarAlgEle[(S+"s").toLowerCase()],h=this.element.querySelector("."+ln+" .e-toolbar-"+S.toLowerCase())}let w=0;"Extended"!==this.overflowMode&&n.slice(0,o).forEach(S=>{(S.classList.contains(ul)||S.classList.contains(rr))&&(S.classList.contains(rr)&&(S.style.display="",e-=S.offsetWidth),w++)}),d=this.ignoreEleFetch(o,h),v.classList.contains(ul)?(this.tbarPriRef(h,o,w,v,i,C,e,d),e-=v.offsetWidth):0===o?(h.insertBefore(v,h.firstChild),e-=v.offsetWidth):(a=Xe("."+ul,this.popObj.element).length,h.insertBefore(v,h.children[o+d-a]),e-=v.offsetWidth),v.style.height=""}}this.checkOverflow(this.element,this.element.getElementsByClassName(ln)[0])&&!i&&this.renderOverflowMode()}removePositioning(){const e=this.element.querySelector("."+ln);if(f(e)||!e.classList.contains(oo))return;this.remove(e,oo);const t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}refreshPositioning(){const e=this.element.querySelector("."+ln);this.add(e,oo),this.itemPositioning()}itemPositioning(){const e=this.element.querySelector("."+ln);let t;if(f(e)||!e.classList.contains(oo))return;const i=this.element.querySelector("."+ao);let s;s=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),t=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;let n=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){n-=this.isVertical?i.offsetHeight:i.offsetWidth;const h=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=h:s[2].style.bottom=h:this.enableRtl?s[2].style.left=h:s[2].style.right=h}if(n<=t)return;const a=(n-t-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");const o=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+a+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=o:s[1].style.marginTop=o:this.enableRtl?s[1].style.marginRight=o:s[1].style.marginLeft=o}tbarItemAlign(e,t,i){if(e.showAlwaysInPopup&&"Show"!==e.overflow)return;const s=[];if(s.push(this.createElement("div",{className:"e-toolbar-left"})),s.push(this.createElement("div",{className:$0})),s.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)s.forEach(n=>{t.appendChild(n)}),this.tbarAlign=!0,this.add(t,oo);else if("Left"!==e.align){const a=s[0];[].slice.call(t.childNodes).forEach(o=>{this.tbarAlgEle.lefts.push(o),a.appendChild(o)}),t.appendChild(a),t.appendChild(s[1]),t.appendChild(s[2]),this.tbarAlign=!0,this.add(t,oo)}}ctrlTemplate(){this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,ln),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(t=>{"DIV"===t.tagName&&(this.tbarEle.push(t),t.setAttribute("aria-disabled","false"),this.add(t,Yn))})}renderItems(){const e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){let i;e&&e.children.length>0&&(i=e.querySelector("."+ln)),i||(i=this.createElement("div",{className:ln})),this.itemsAlign(t,i),e.appendChild(i)}}setAttr(e,t){const i=Object.keys(e);let s;for(let n=0;n<i.length;n++)s=i[n],"class"===s?this.add(t,e[s]):t.setAttribute(s,e[s])}enableItems(e,t){const i=e,s=i.length;let n;f(t)&&(t=!0);const a=(o,h)=>{o?(h.classList.remove($l),h.setAttribute("aria-disabled","false")):(h.classList.add($l),h.setAttribute("aria-disabled","true"))};if(!f(s)&&s>=1){for(let o=0,h=[].slice.call(i);o<s;o++){const d=h[o];if("number"==typeof d){if(n=this.getElementByIndex(d),f(n))return;i[o]=n}else n=d;a(t,n)}t?H(i,$l):L(i,$l)}else{if("number"==typeof i){if(n=this.getElementByIndex(i),f(n))return}else n=e;a(t,n)}}getElementByIndex(e){return this.tbarEle[e]?this.tbarEle[e]:null}addItems(e,t){let i;this.extendedOpen();const s=this.element.querySelector("."+ln);if(f(s))return void this.itemsRerender(e);let n,a="Left";f(t)&&(t=0),e.forEach(o=>{!f(o.align)&&"Left"!==o.align&&"Left"===a&&(a=o.align)});for(const o of e)if(f(o.type)&&(o.type="Button"),i=Xe("."+Yn,this.element),o.align=a,n=this.renderSubComponent(o,t),this.tbarEle.length>=t&&i.length>=0){f(this.scrollModule)&&this.destroyMode();const h="L"===o.align[0]?0:"C"===o.align[0]?1:2;let d;this.tbarAlign||"Left"===a?this.tbarAlign?(d=U(i[0],"."+ln).children[h],d.insertBefore(n,d.children[t]),this.tbarAlgEle[(o.align+"s").toLowerCase()].splice(t,0,n),this.refreshPositioning()):0===i.length?(i=Xe("."+ln,this.element),i[0].appendChild(n)):i[0].parentNode.insertBefore(n,i[t]):(this.tbarItemAlign(o,s,1),this.tbarAlign=!0,d=U(i[0],"."+ln).children[h],d.appendChild(n),this.tbarAlgEle[(o.align+"s").toLowerCase()].push(n),this.refreshPositioning()),this.items.splice(t,0,o),this.tbarEle.splice(t,0,n),t++,this.offsetWid=s.offsetWidth}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}removeItems(e){const t=e;let i,s=[].slice.call(Xe("."+Yn,this.element));if("number"==typeof t)i=parseInt(e.toString(),10),this.removeItemByIndex(i,s);else if(t&&t.length>1)for(const n of[].slice.call(t))i=this.tbarEle.indexOf(n),this.removeItemByIndex(i,s),s=Xe("."+Yn,this.element);else i=s.indexOf(t&&t.length&&1===t.length?t[0]:e),this.removeItemByIndex(i,s);this.resize()}removeItemByIndex(e,t){if(this.tbarEle[e]&&t[e]){const i=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){const n=this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].indexOf(this.tbarEle[i]);this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].splice(n,1)}this.isReact&&this.clearTemplate();const s=t[e].querySelector(".e-control.e-btn");!f(s)&&!f(s.ej2_instances[0])&&!s.ej2_instances[0].isDestroyed&&s.ej2_instances[0].destroy(),oe(t[e]),this.items.splice(i,1),this.tbarEle.splice(i,1)}}templateRender(e,t,i,s){const a=e;let o;if("object"==typeof e&&(o="function"==typeof a.appendTo),"string"!=typeof e&&o){if("Input"===i.type){const h=this.createElement("input");h.id=i.id?i.id:$i("tbr-ipt"),t.appendChild(h),a.appendTo(h)}}else{let h,m,d=e;d="string"==typeof e?e.trim():e;try{if("object"!=typeof e||f(e.tagName)){if(document.querySelectorAll(d).length){const v=document.querySelector(d),C=v.outerHTML.trim();t.appendChild(v),v.style.display="",f(C)||this.tempId.push(d)}}else t.appendChild(e)}catch(v){h=us(d)}f(h)||(m=h({},this,"template",this.element.id+s+"_template",this.isStringTemplate)),!f(m)&&m.length>0&&[].slice.call(m).forEach(v=>{f(v.tagName)||(v.style.display=""),t.appendChild(v)})}this.add(t,Yl),this.tbarEle.push(t)}buttonRendering(e,t){const i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");const s=e.text;let n,a;i.id=e.id?e.id:$i("e-tbr-btn");const o=this.createElement("span",{className:"e-tbar-btn-text"});s?(o.innerHTML=this.enableHtmlSanitizer?nn.sanitize(s):s,i.appendChild(o),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(n=e.prefixIcon+" e-icons",a="Left"):(n=e.suffixIcon+" e-icons",a="Right"));const h=new ll({iconCss:n,iconPosition:a});return h.createElement=this.createElement,h.appendTo(i),e.width&&Ue(i,{width:fe(e.width)}),i}renderSubComponent(e,t){let i;const s=this.createElement("div",{className:Yn});s.setAttribute("aria-disabled","false");const n=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?nn.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",n.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,t);else switch(e.type){case"Button":i=this.buttonRendering(e,s),i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),s.appendChild(i),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,rr)}if(e.showTextOn){const a=e.showTextOn;"Toolbar"===a?(this.add(s,GO),this.add(s,"e-tbtn-align")):"Overflow"===a&&this.add(s,Y0)}if(e.overflow){const a=e.overflow;"Show"===a?this.add(s,ul):"Hide"===a&&(s.classList.contains(rr)||this.add(s,_u))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains(rr)&&(this.add(s,SA),this.popupPriCount++),e.disabled&&this.add(s,$l),!1===e.visible&&this.add(s,kf),s}itemClick(e){this.activeEleSwitch(e.currentTarget)}activeEleSwitch(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}activeEleRemove(e){f(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,f(this.trgtEle)&&!e.parentElement.classList.contains(Yl)?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}getPersistData(){return this.addOnPersist([])}getModuleName(){return"toolbar"}itemsRerender(e){this.items=this.tbarItemsCol,this.isReact&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}resize(){const e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();const t=this.checkOverflow(e,e.getElementsByClassName(ln)[0]);if(!t){this.destroyScroll();const i=e.querySelector("."+ln);f(i)||(this.remove(i,ZO),this.tbarAlign&&this.add(i,oo))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){const i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+If)&&(this.scrollStep=this.element.querySelector("."+If).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}extendedOpen(){const e=this.element.querySelector("."+Mf);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(_n))}onPropertyChanged(e,t){const i=this.element,s=i.offsetWidth;this.extendedOpen();for(const n of Object.keys(e))switch(n){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else{const a=Object.keys(e.items);for(let o=0;o<a.length;o++){const h=parseInt(Object.keys(e.items)[o],10),d=Object.keys(e.items[h])[0],m=Object(e.items[h])[d];if("function"!=typeof m){if(this.tbarAlign||"align"===d){this.refresh(),this.trigger("created");break}const C="overflow"===d&&0!==this.popupPriCount;("showAlwaysInPopup"===d&&!m||this.items[h].showAlwaysInPopup&&C)&&--this.popupPriCount,f(this.scrollModule)&&this.destroyMode();const w=[].slice.call(Xe("."+ln+" ."+Yn,i));this.isReact&&this.clearTemplate(),oe(w[h]),this.tbarEle.splice(h,1),this.addItems([this.items[h]],h),this.items.splice(h,1),this.items[h].template&&this.tbarEle.splice(this.items.length,1)}}}break;case"width":Ue(i,{width:fe(e.width)}),this.renderOverflowMode(),this.popObj&&s<i.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":Ue(this.element,{height:fe(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,Dh),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,Dh):this.remove(i,Dh),f(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,Dh):this.remove(this.scrollModule.element,Dh)),f(this.popObj)||(e.enableRtl?this.add(this.popObj.element,Dh):this.remove(this.popObj.element,Dh)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&H([this.element],t.cssClass.split(" ")),e.cssClass&&L([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}hideItem(e,t){const i="object"==typeof e;let n,a,s=e;const o=[].slice.call(Xe("."+Yn,this.element));if(i?a=e:this.tbarEle[s]&&(a=[].slice.call(Xe("."+Yn,this.element))[s]),a){if(t?a.classList.add(kf):a.classList.remove(kf),t&&f(this.element.getAttribute("tabindex"))&&!a.classList.contains(rr)){if(f(a.firstElementChild.getAttribute("tabindex"))){a.firstElementChild.setAttribute("tabindex","-1");const h=[].slice.call(Xe("."+Yn,this.element));i&&(s=h.indexOf(a));let d=h[++s];for(;d;){if(!this.eleContains(d)){d.firstElementChild.removeAttribute("tabindex");break}d=h[++s]}}}else if(f(this.element.getAttribute("tabindex"))&&!a.classList.contains(rr)){n=0;let h=!1,d=!1,m=o[n];for(;m;)if(m.classList.contains(rr))m=o[++n];else if(f(m.firstElementChild.getAttribute("tabindex")))m.firstElementChild.setAttribute("tabindex","-1"),h=!0;else{if(h&&d)break;this.eleContains(m)||(m.firstElementChild.removeAttribute("tabindex"),d=!0),m=o[++n]}}this.refreshOverflow()}}};bi([Va([],ca)],Da.prototype,"items",void 0),bi([T("auto")],Da.prototype,"width",void 0),bi([T("auto")],Da.prototype,"height",void 0),bi([T("")],Da.prototype,"cssClass",void 0),bi([T("Scrollable")],Da.prototype,"overflowMode",void 0),bi([T()],Da.prototype,"scrollStep",void 0),bi([T(!0)],Da.prototype,"enableCollision",void 0),bi([T(!0)],Da.prototype,"enableHtmlSanitizer",void 0),bi([T(!0)],Da.prototype,"allowKeyboard",void 0),bi([$()],Da.prototype,"clicked",void 0),bi([$()],Da.prototype,"created",void 0),bi([$()],Da.prototype,"destroyed",void 0),bi([$()],Da.prototype,"beforeCreate",void 0),Da=bi([oi],Da);var qs=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Q0="e-acrdn-root",wr="e-accordion",dl="e-acrdn-item",e1="e-item-focus",Of="e-hide",Nr="e-acrdn-header",xA="e-acrdn-header-content",Gl="e-acrdn-panel",K0="e-acrdn-content",_b="e-toggle-icon",t1="e-expand-icon",kA="e-rtl",X0="e-content-hide",Pb="e-select",Nb="e-selected",Vb="e-active",Kg="e-overlay",Z0="e-toggle-animation",Tc="e-expand-state",s1="e-accordion-container";class Pu extends hi{}qs([T("SlideDown")],Pu.prototype,"effect",void 0),qs([T(400)],Pu.prototype,"duration",void 0),qs([T("linear")],Pu.prototype,"easing",void 0);class MA extends hi{}qs([Ht({effect:"SlideUp",duration:400,easing:"linear"},Pu)],MA.prototype,"collapse",void 0),qs([Ht({effect:"SlideDown",duration:400,easing:"linear"},Pu)],MA.prototype,"expand",void 0);class Nu extends hi{}qs([T(null)],Nu.prototype,"content",void 0),qs([T(null)],Nu.prototype,"header",void 0),qs([T(null)],Nu.prototype,"cssClass",void 0),qs([T(null)],Nu.prototype,"iconCss",void 0),qs([T(!1)],Nu.prototype,"expanded",void 0),qs([T(!0)],Nu.prototype,"visible",void 0),qs([T(!1)],Nu.prototype,"disabled",void 0),qs([T()],Nu.prototype,"id",void 0);let ha=class extends hs{constructor(e,t){super(e,t),this.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"}}destroy(){this.isReact&&this.clearTemplate();const e=this.element;if(super.destroy(),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(e.children).forEach(t=>{e.removeChild(t)}),this.trgtEle)for(;this.ctrlTem.firstElementChild;)e.appendChild(this.ctrlTem.firstElementChild);e.classList.remove(Q0),e.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach(t=>{this.element.removeAttribute(t)}),!this.isNested&&mc&&this.removeRippleEffect()}preRender(){const e=U(this.element,"."+Gl);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),f(e)?this.element.classList.add(Q0):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,kA)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}render(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=fe(this.width),t=fe(this.height);Ue(this.element,{width:e,height:t}),f(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),Te(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")}renderControl(){this.trgtEle=this.element.children.length>0?J("div",this.element):null,this.renderItems(),this.initItemExpand()}wireFocusEvents(){const e=[].slice.call(this.element.querySelectorAll("."+dl));for(const t of e){const i=t.querySelector("."+Nr);t.childElementCount>0&&i&&(A.clearEvents(i),A.add(i,"focus",this.focusIn,this),A.add(i,"blur",this.focusOut,this))}}unwireEvents(){A.remove(this.element,"click",this.clickHandler),f(this.keyModule)||this.keyModule.destroy()}wireEvents(){A.add(this.element,"click",this.clickHandler,this),!this.isNested&&!this.isDestroy&&(this.removeRippleEffect=Ts(this.element,{selector:"."+Nr})),this.isNested||(this.keyModule=new rt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))}templateParser(e){if(e)try{if(document.querySelectorAll(e).length)return us(document.querySelector(e).innerHTML.trim())}catch(t){return us(e)}}initializeHeaderTemplate(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))}initializeItemTemplate(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))}getHeaderTemplate(){return this.headerTemplateFn}getItemTemplate(){return this.itemTemplateFn}focusIn(e){e.target.parentElement.classList.add(e1)}focusOut(e){e.target.parentElement.classList.remove(e1)}ctrlTemplate(){let e;this.ctrlTem=this.element.cloneNode(!0);const t=J("."+s1,this.element);e=t?t.children:this.element.children;const i=[];[].slice.call(e).forEach(s=>{i.push({header:s.childElementCount>0&&s.children[0]?s.children[0]:"",content:s.childElementCount>1&&s.children[1]?s.children[1]:""}),s.parentNode.removeChild(s)}),t&&this.element.removeChild(t),this.setProperties({items:i},!0)}toggleIconGenerate(){const e=this.createElement("div",{className:_b}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e}initItemExpand(){const e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(let t=0;t<e;t++)this.expandItem(!0,this.initExpand[t]);this.isReact&&this.renderReactTemplates()}}renderItems(){const e=this.element;let t,i;if(f(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((s,n)=>{i=this.renderInnerItem(s,n),e.appendChild(i),i.childElementCount>0&&(A.add(i.querySelector("."+Nr),"focus",this.focusIn,this),A.add(i.querySelector("."+Nr),"blur",this.focusOut,this))});else{const s=this.items;e&&s.length>0&&s.forEach((n,a)=>{t=this.renderInnerItem(n,a),e.appendChild(t),t.childElementCount>0&&(A.add(t.querySelector("."+Nr),"focus",this.focusIn,this),A.add(t.querySelector("."+Nr),"blur",this.focusOut,this))})}this.isReact&&this.renderReactTemplates()}clickHandler(e){const t=e.target,i=this.getItems(),s={};let n;if(U(t,"."+wr)!==this.element)return;t.classList.add("e-target");const o=U(t,"."+dl);let m,h=U(t,"."+Nr),d=U(t,"."+Gl);o&&(f(h)||f(d))&&(h=o.children[0],d=o.children[1]),h&&(n=J("."+_b,h)),h?m=U(h,"."+dl):d&&(m=U(d,"."+dl));const v=this.getIndexByItem(o);m&&(s.item=i[this.getIndexByItem(m)]),s.originalEvent=e,!f(n)&&o.childElementCount<=1&&(f(d)||!f(J("."+Nr+" ."+_b,m)))?(o.appendChild(this.contentRendering(v)),this.ariaAttrUpdate(o),this.afterContentRender(t,s,o,h,d,m)):this.afterContentRender(t,s,o,h,d,m),this.isReact&&this.renderReactTemplates()}afterContentRender(e,t,i,s,n,a){const o=[];this.trigger("clicked",t);let h=n&&!f(J(".e-target",n));const m=n&&!f(J("."+wr,n))&&f(U(e,".e-acrdn-panel .e-accordion")),v=n&&f(J("."+wr,n))||U(e,"."+wr)!==this.element;if(h=h&&(m||v),e.classList.remove("e-target"),e.classList.contains(Gl)||e.classList.contains(K0)||h)return;const C=this.element.querySelector("."+s1);[].slice.call(C?C.children:this.element.children).forEach(N=>{N.classList.contains(Vb)&&o.push(N)});const S=[].slice.call(this.element.querySelectorAll("."+dl+" [e-animate]"));if(S.length>0)for(const N of S)o.push(N.parentElement);const k=-1!==o.indexOf(a)&&"true"===n.getAttribute("e-animate");let O=!1;if(!f(i)&&!f(s)){const N=J("."+Gl,i),z=U(i,"."+Q0).querySelector("."+Tc);if(f(N))return;O=z===i,!sn(N)||k&&!a.classList.contains(Nb)?(o.length>0&&"Single"===this.expandMode&&!k&&o.forEach(Z=>{this.collapse(J("."+Gl,Z)),Z.classList.remove(Tc)}),this.expand(N)):this.collapse(N),!f(z)&&!O&&z.classList.remove(Tc)}}eleMoveFocus(e,t,i){let s,n=U(i,"."+dl);i===t?s=("moveUp"===e?i.lastElementChild:i).querySelector("."+Nr):i.classList.contains(Nr)&&(n="moveUp"===e?n.previousElementSibling:n.nextElementSibling,n&&(s=J("."+Nr,n))),s&&s.focus()}keyActionHandler(e){const t=e.target;if(f(U(e.target,Nr))&&!t.classList.contains(wr)&&!t.classList.contains(Nr))return;let s;const n=this.element;let a;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,n,t);break;case"space":case"enter":a=t.nextElementSibling,!f(a)&&a.classList.contains(Gl)?"true"!==a.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":s="home"===e.action?n.firstElementChild.children[0]:n.lastElementChild.children[0],s.focus()}}headerEleGenerate(){const e=this.createElement("div",{className:Nr,id:$i("acrdn_header")});return Te(e,{tabindex:"0",role:"heading","aria-selected":"false","aria-label":"collapsed","aria-disabled":"false","aria-level":this.getItems().length.toString()}),e}renderInnerItem(e,t){const i=this.createElement("div",{className:dl});if(i.id=$i("acrdn_item"),f(e.id)&&(e.id=i.id),Te(i,{"aria-expanded":"false",role:"row"}),this.headerTemplate){const n=this.headerEleGenerate(),a=this.createElement("div",{className:xA});return n.appendChild(a),Ge(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),a),i.appendChild(n),n.appendChild(this.toggleIconGenerate()),this.add(i,Pb),i}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=nn.sanitize(e.header));const n=this.headerEleGenerate(),a=this.createElement("div",{className:xA});n.appendChild(a),n.appendChild(this.fetchElement(a,e.header,t,!0)),i.appendChild(n)}let s=J("."+Nr,i);if(e.expanded&&!f(t)&&!this.enablePersistence&&-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&L([i],e.cssClass.split(" ")),e.disabled&&L([i],Kg),!1===e.visible&&L([i],Of),e.iconCss){const n=this.createElement("div",{className:"e-acrdn-header-icon"}),a=this.createElement("span",{className:e.iconCss+" e-icons"});n.appendChild(a),f(s)?(s=this.headerEleGenerate(),s.appendChild(n),i.appendChild(s)):s.insertBefore(n,s.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){const n=this.toggleIconGenerate();f(s)&&(s=this.headerEleGenerate(),i.appendChild(s)),s.appendChild(n),this.add(i,Pb)}return i}angularnativeCondiCheck(e,t){const s="content"===t?e.content:e.header;if(this.isAngular&&!f(s.elementRef)){const n=s.elementRef.nativeElement.data;if(f(n)||""===n||-1===n.indexOf("bindings="))return!0;const a=JSON.parse(s.elementRef.nativeElement.data.replace("bindings=",""));return!(!f(a)&&"false"===a["ng-reflect-ng-if"])}return!0}fetchElement(e,t,i,s){let n,a,o;try{if(document.querySelectorAll(t).length&&"Button"!==t){const h=document.querySelector(t);a=h.outerHTML.trim(),e.appendChild(h),h.style.display=""}}catch(h){"string"==typeof t?e.innerHTML=nn.sanitize(t):!f(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):n=us(t)}if(!f(n)){let h,d;this.isReact&&this.renderReactTemplates(),e.classList.contains(xA)?(h=this.element.id+i+"_header",d="header"):e.classList.contains(K0)&&(h=this.element.id+i+"_content",d="content"),o=n({},this,d,h,this.isStringTemplate)}return f(o)||!(o.length>0)||f(o[0].tagName)&&1===o.length?0===e.childElementCount&&(e.innerHTML=nn.sanitize(t)):[].slice.call(o).forEach(h=>{f(h.tagName)||(h.style.display=""),e.appendChild(h)}),f(a)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e}ariaAttrUpdate(e){const t=J("."+Nr,e),i=J("."+Gl,e);t.setAttribute("aria-controls",i.id),i.setAttribute("aria-labelledby",t.id),i.setAttribute("role","definition")}contentRendering(e){const t=this.createElement("div",{className:Gl+" "+X0,id:$i("acrdn_panel")});Te(t,{"aria-hidden":"true"});const i=this.createElement("div",{className:K0});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),Ge(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),i),t.appendChild(i)):(this.enableHtmlSanitizer&&typeof this.items[e].content&&(this.items[e].content=nn.sanitize(this.items[e].content)),t.appendChild(this.fetchElement(i,this.items[e].content,e,!1))),t}expand(e){const t=this.getItems(),i=U(e,"."+dl);if(f(e)||sn(e)&&"true"!==e.getAttribute("e-animate")||i.classList.contains(Kg))return;const n=U(i,"."+Q0).querySelector("."+Tc),a={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},o=J("."+_b,i).firstElementChild,h={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+Gl),isExpanded:!0};this.trigger("expanding",h,d=>{d.cancel||(o.classList.add(Z0),this.expandedItemsPush(i),f(n)||n.classList.remove(Tc),i.classList.add(Tc),"None"===a.name?(this.expandProgress("begin",o,e,i,d),this.expandProgress("end",o,e,i,d)):this.expandAnimation(a.name,o,e,i,a,d))})}expandAnimation(e,t,i,s,n,a){let o;this.lastActiveItemId=s.id,"SlideDown"===e?(n.begin=()=>{this.expandProgress("begin",t,i,s,a),i.style.position="absolute",o=s.offsetHeight,i.style.maxHeight=i.offsetHeight+"px",s.style.maxHeight=""},n.progress=()=>{s.style.minHeight=o+i.offsetHeight+"px"},n.end=()=>{Ue(i,{position:"",maxHeight:""}),s.style.minHeight="",this.expandProgress("end",t,i,s,a)}):(n.begin=()=>{this.expandProgress("begin",t,i,s,a)},n.end=()=>{this.expandProgress("end",t,i,s,a)}),new Gi(n).animate(i)}expandProgress(e,t,i,s,n){this.remove(i,X0),this.add(s,Nb),this.add(t,t1),"end"===e&&(this.add(s,Vb),i.setAttribute("aria-hidden","false"),Te(s,{"aria-expanded":"true"}),Te(i.previousElementSibling,{"aria-selected":"true","aria-label":"expanded"}),t.classList.remove(Z0),this.trigger("expanded",n))}expandedItemsPush(e){const t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){const i=[].slice.call(this.expandedIndices);i.push(t),this.setProperties({expandedIndices:i},!0)}}getIndexByItem(e){const t=this.getItemElements();return[].slice.call(t).indexOf(e)}getItemElements(){const e=[];return[].slice.call(this.element.children).forEach(i=>{i.classList.contains(dl)&&e.push(i)}),e}expandedItemsPop(e){const t=this.getIndexByItem(e),i=[].slice.call(this.expandedIndices);i.splice(i.indexOf(t),1),this.setProperties({expandedIndices:i},!0)}collapse(e){const t=this.getItems(),i=U(e,"."+dl);if(f(e)||!sn(e)||i.classList.contains(Kg))return;const s={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},n=J("."+_b,i).firstElementChild,a={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+Gl),isExpanded:!1};this.trigger("expanding",a,o=>{o.cancel||(this.expandedItemsPop(i),i.classList.add(Tc),n.classList.add(Z0),"None"===s.name?(this.collapseProgress("begin",n,e,i,o),this.collapseProgress("end",n,e,i,o)):this.collapseAnimation(s.name,e,i,n,s,o))})}collapseAnimation(e,t,i,s,n,a){let o,h,d,m;this.lastActiveItemId=i.id,"SlideUp"===e?(n.begin=()=>{d=i.offsetHeight,i.style.minHeight=d+"px",t.style.position="absolute",o=i.offsetHeight,h=t.offsetHeight,t.style.maxHeight=h+"px",this.collapseProgress("begin",s,t,i,a)},n.progress=()=>{m=o-(h-t.offsetHeight),m<d&&(i.style.minHeight=m+"px")},n.end=()=>{t.style.display="none",this.collapseProgress("end",s,t,i,a),i.style.minHeight="",Ue(t,{position:"",maxHeight:"",display:""})}):(n.begin=()=>{this.collapseProgress("begin",s,t,i,a)},n.end=()=>{this.collapseProgress("end",s,t,i,a)}),new Gi(n).animate(t)}collapseProgress(e,t,i,s,n){this.remove(t,t1),this.remove(s,Nb),"end"===e&&(this.add(i,X0),t.classList.remove(Z0),this.remove(s,Vb),i.setAttribute("aria-hidden","true"),Te(s,{"aria-expanded":"false"}),Te(i.previousElementSibling,{"aria-selected":"false","aria-label":"collapsed"}),this.trigger("expanded",n))}getModuleName(){return"accordion"}itemAttribUpdate(){const e=this.getItems(),t=this.getItemElements(),i=e.length;t.forEach(s=>{J("."+Nr,s).setAttribute("aria-level",""+i)})}getItems(){let e;return e=this.itemTemplate&&this.headerTemplate?this.dataSource:this.items,e}addItem(e,t){const i=this.element,s=this.getItemElements(),n=this.getItems();f(t)&&(t=n.length),i.childElementCount>=t&&(e instanceof Array?e:[e]).forEach((o,h)=>{const d=t+h;n.splice(d,0,o);const m=this.renderInnerItem(o,d);i.childElementCount===d?i.appendChild(m):i.insertBefore(m,s[d]),A.add(m.querySelector("."+Nr),"focus",this.focusIn,this),A.add(m.querySelector("."+Nr),"blur",this.focusOut,this),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(i),o&&o.expanded&&this.expandItem(!0,d)}),this.isReact&&this.renderReactTemplates()}expandedItemRefresh(e){const t=this.getItemElements();[].slice.call(t).forEach(i=>{i.classList.contains(Nb)&&this.expandedItemsPush(i)})}removeItem(e){this.isReact&&this.clearTemplate(["headerTemplate","itemTemplate"],e);const i=this.getItemElements()[e],s=this.getItems();f(i)||(this.restoreContent(e),oe(i),s.splice(e,1),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(this.element))}select(e){const i=this.getItemElements()[e];f(i)||f(J("."+Nr,i))||i.children[0].focus()}hideItem(e,t){const s=this.getItemElements()[e];f(s)||(f(t)&&(t=!0),t?this.add(s,Of):this.remove(s,Of))}enableItem(e,t){const s=this.getItemElements()[e];if(f(s))return;const n=s.firstElementChild;t?(this.remove(s,Kg),Te(n,{tabindex:"0","aria-disabled":"false"}),n.focus()):(s.classList.contains(Vb)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,n)),this.add(s,Kg),n.setAttribute("aria-disabled","true"),n.removeAttribute("tabindex"))}expandItem(e,t){const i=this.getItemElements();if(f(t))if("Single"===this.expandMode&&e){const s=i[i.length-1];this.itemExpand(e,s,this.getIndexByItem(s))}else{const s=J("#"+this.lastActiveItemId,this.element);[].slice.call(i).forEach(a=>{this.itemExpand(e,a,this.getIndexByItem(a)),a.classList.remove(Tc)});const n=J("."+Tc,this.element);n&&n.classList.remove(Tc),s&&s.classList.add(Tc)}else{const s=i[t];if(f(s)||!s.classList.contains(Pb)||s.classList.contains(Vb)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,s,t)}}itemExpand(e,t,i){let s=t.children[1];t.classList.contains(Kg)||(f(s)&&e?(s=this.contentRendering(i),t.appendChild(s),this.ariaAttrUpdate(t),this.expand(s)):f(s)||(e?this.expand(s):this.collapse(s)),this.isReact&&this.renderReactTemplates())}destroyItems(){this.restoreContent(null),this.isReact&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+dl)).forEach(e=>{oe(e)})}restoreContent(e){let t;t=f(e)?this.element:this.element.querySelectorAll("."+dl)[e],this.templateEle.forEach(i=>{f(t.querySelector(i))||(document.body.appendChild(t.querySelector(i)).style.display="none")})}updateItem(e,t){if(!f(e)){const i=this.getItems(),s=i[t];i.splice(t,1),this.restoreContent(t),oe(e),this.addItem(s,t)}}setTemplate(e,t,i){t.innerHTML="",this.templateCompile(t,e,i),this.isReact&&this.renderReactTemplates()}templateCompile(e,t,i){const s=this.createElement("div");this.fetchElement(s,t,i,!1),0!==s.childNodes.length&&[].slice.call(s.childNodes).forEach(n=>{e.appendChild(n)})}getPersistData(){return this.addOnPersist(["expandedIndices"])}onPropertyChanged(e,t){const i=this.element;let s=!1;for(const n of Object.keys(e))switch(n){case"items":if(e.items instanceof Array&&t.items instanceof Array)s=!0;else{const a=Object.keys(e.items);for(let o=0;o<a.length;o++){const h=parseInt(Object.keys(e.items)[o],10),d=Object.keys(e.items[h])[0],m=Xe("."+dl,this.element)[h],v=Object(t.items[h])[d],C=Object(e.items[h])[d],w=d;if(("header"===w||"iconCss"===w||"expanded"===w||"content"===w&&""===v)&&this.updateItem(m,h),"cssClass"===d&&!f(m)&&(m.classList.remove(v),m.classList.add(C)),"visible"===d&&!f(m)&&(!1===Object(e.items[h])[d]?m.classList.add(Of):m.classList.remove(Of)),"disabled"===d&&!f(m)&&this.enableItem(h,!C),"content"===d&&!f(m)&&2===m.children.length)if("function"==typeof C){const S=m.querySelector("."+K0);S.innerHTML="",this.setTemplate(C,S,h)}else m.classList.contains(Nb)&&this.expandItem(!1,h),oe(m.querySelector("."+Gl))}}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),s=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),s=!0;break;case"itemTemplate":this.initializeItemTemplate(),s=!0;break;case"enableRtl":e.enableRtl?this.add(i,kA):this.remove(i,kA);break;case"height":Ue(this.element,{height:fe(e.height)});break;case"width":Ue(this.element,{width:fe(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedIndices.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}s&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())}};qs([Va([],Nu)],ha.prototype,"items",void 0),qs([T([])],ha.prototype,"dataSource",void 0),qs([T()],ha.prototype,"itemTemplate",void 0),qs([T()],ha.prototype,"headerTemplate",void 0),qs([T("100%")],ha.prototype,"width",void 0),qs([T("auto")],ha.prototype,"height",void 0),qs([T([])],ha.prototype,"expandedIndices",void 0),qs([T("Multiple")],ha.prototype,"expandMode",void 0),qs([T(!1)],ha.prototype,"enableHtmlSanitizer",void 0),qs([Ht({},MA)],ha.prototype,"animation",void 0),qs([$()],ha.prototype,"clicked",void 0),qs([$()],ha.prototype,"expanding",void 0),qs([$()],ha.prototype,"expanded",void 0),qs([$()],ha.prototype,"created",void 0),qs([$()],ha.prototype,"destroyed",void 0),ha=qs([oi],ha);var Hd=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let Fb=class extends Ln{constructor(e,t){super(e,t)}preRender(){this.isMenu=!1,this.element.id=this.element.id||$i("ej2-contextmenu"),super.preRender()}initialize(){super.initialize(),Te(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=wd(this.element).toString()}open(e,t,i){super.openMenu(null,null,e,t,null,i)}close(){super.closeMenu()}onPropertyChanged(e,t){super.onPropertyChanged(e,t);for(const i of Object.keys(e))switch(i){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(t.target),this.wireEvents()}}getModuleName(){return"contextmenu"}};Hd([T("")],Fb.prototype,"target",void 0),Hd([T("")],Fb.prototype,"filter",void 0),Hd([Va([],zt)],Fb.prototype,"items",void 0),Fb=Hd([oi],Fb);var Th=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Ac="e-vertical",OA="e-hamburger";let Ah=class extends Ln{constructor(e,t){super(e,t),this.tempItems=[]}getModuleName(){return"menu"}preRender(){if(this.isMenu=!0,this.element.id=this.element.id||$i("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}else this.updateMenuItems(this.items);super.preRender()}initialize(){super.initialize(),Te(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(Ac),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(Ac),this.element.setAttribute("aria-orientation","vertical")):G.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add(OA),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))}updateMenuItems(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(Ac),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(Ac),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(Ac),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(Ac),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(t.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||super.createHeaderContainer(),e.hamburgerMode?(this.element.parentElement.classList.add(OA),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach(s=>{s.style[this.enableRtl?"paddingRight":"paddingLeft"]=""})):(this.element.parentElement.classList.remove(OA),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(Ac),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(Ac):this.element.previousElementSibling.classList.remove(Ac),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?nn.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(t.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(Ac):(this.element.previousElementSibling||super.createHeaderContainer(),this.element.previousElementSibling.classList.remove(Ac)),this.element.classList.add("e-hide-menu")))}super.onPropertyChanged(e,t)}createMenuItems(e){let t,i,s=this.items;const n=this.getField("parentId");if(e[n]){for(t=this.getIndex(e[n].toString(),!0),i=0;i<t.length;i++)s[t[i]].items||(s[t[i]].items=[]),s=s[t[i]].items;s.push(e)}else this.items.push(e)}open(){super.openHamburgerMenu()}close(){super.closeHamburgerMenu()}};Th([T("Horizontal")],Ah.prototype,"orientation",void 0),Th([T("")],Ah.prototype,"target",void 0),Th([T(null)],Ah.prototype,"template",void 0),Th([T(!1)],Ah.prototype,"enableScrolling",void 0),Th([T(!1)],Ah.prototype,"hamburgerMode",void 0),Th([T("Menu")],Ah.prototype,"title",void 0),Th([T(!1)],Ah.prototype,"enableHtmlSanitizer",void 0),Th([Ht({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},Lu)],Ah.prototype,"fields",void 0),Ah=Th([oi],Ah);var Ri=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const xh="e-tab",Sa="e-tab-header",Ui="e-content",J0="e-nested",wn="e-item",RA="e-template",LA="e-rtl",ts="e-active",Bd="e-disable",yn="e-hidden",_A="e-focused",ew="e-icons",Hb="e-icon",n1="e-icon-tab",Vu="e-close-icon",Xr="e-close-show",Bb="e-tab-text",qa="e-indicator",Po="e-tab-wrap",tw="e-text-wrap",PA="e-tab-icon",No="e-toolbar-items",qi="e-toolbar-item",r1="e-toolbar-pop",jd="e-toolbar-popup",VA="e-progress",FA="e-ignore",iw="e-overlay",sw="e-vertical-tab",nw="e-vertical",NN="e-vertical-left",HA="e-vertical-right",BA="e-horizontal-bottom",Zg="e-fill-mode";class Jg extends hi{}Ri([T("SlideLeftIn")],Jg.prototype,"effect",void 0),Ri([T(600)],Jg.prototype,"duration",void 0),Ri([T("ease")],Jg.prototype,"easing",void 0);class rw extends hi{}Ri([Ht({effect:"SlideLeftIn",duration:600,easing:"ease"},Jg)],rw.prototype,"previous",void 0),Ri([Ht({effect:"SlideRightIn",duration:600,easing:"ease"},Jg)],rw.prototype,"next",void 0);class jb extends hi{}Ri([T("")],jb.prototype,"text",void 0),Ri([T("")],jb.prototype,"iconCss",void 0),Ri([T("left")],jb.prototype,"iconPosition",void 0);class Fu extends hi{}Ri([Ht({},jb)],Fu.prototype,"header",void 0),Ri([T(null)],Fu.prototype,"headerTemplate",void 0),Ri([T("")],Fu.prototype,"content",void 0),Ri([T("")],Fu.prototype,"cssClass",void 0),Ri([T(!1)],Fu.prototype,"disabled",void 0),Ri([T(!0)],Fu.prototype,"visible",void 0),Ri([T()],Fu.prototype,"id",void 0);let Fs=class extends hs{constructor(e,t){super(e,t),this.show={},this.hide={},this.maxHeight=0,this.title="Close",this.lastIndex=0,this.isAdd=!1,this.isIconAlone=!1,this.draggableItems=[],this.resizeContext=this.refreshActElePosition.bind(this),this.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"}}destroy(){if(this.isReact&&this.clearTemplate(),f(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach(e=>{this.element.removeAttribute(e)}),this.expTemplateContent(),this.isTemplate){const e=J(".e-tab > ."+Ui,this.element);this.element.classList.remove(RA),f(e)||(e.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)nt(this.element.firstElementChild);super.destroy(),this.trigger("destroyed")}refresh(){this.isReact&&this.clearTemplate(),super.refresh(),this.isReact&&this.renderReactTemplates()}preRender(){const e=U(this.element,"."+Ui);this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],f(e)||(e.parentElement.classList.add(J0),this.isNested=!0);const t=G.info.name,i="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";Ue(this.element,{width:fe(this.width),height:fe(this.height)}),this.setCssClass(this.element,this.cssClass,!0),Te(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,i,!0),this.updatePopAnimationConfig()}render(){this.btnCls=this.createElement("span",{className:ew+" "+Vu,attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:OP(),this.renderContainer(),this.wireEvents(),this.initRender=!1}renderContainer(){const e=this.element;if(this.items.forEach((t,i)=>{f(t.id)&&!f(t.setProperties)&&t.setProperties({id:"tabitem_"+i.toString()},!0)}),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:Ui})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:Sa})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add(RA);const t=e.querySelector("."+Sa);t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!f(J("."+Sa,this.element))&&!f(J("."+Ui,this.element))){if(this.renderHeader(),this.tbItems=J("."+Sa+" ."+No,this.element),f(this.tbItems)||Ts(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),Xe("."+qi,this.element).length>0){this.tbItems=J("."+Sa+" ."+No,this.element),this.bdrLine=this.createElement("div",{className:qa+" "+yn+" "+FA});const t=J("."+this.scrCntClass,this.tbItems);f(t)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):t.insertBefore(this.bdrLine,t.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}if(!f(this.tbItem))for(let t=0;t<this.items.length;t++)this.tbItem[t].setAttribute("data-id",this.items[t].id);this.setRTL(this.enableRtl)}}serverItemsChanged(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!f(this.cntEle)){const e=[].slice.call(this.cntEle.children),t=Ui+this.tabId+"_"+this.selectedItem;e.forEach(i=>{i.classList.contains(ts)&&i.id!==t&&i.classList.remove(ts),i.id===t&&i.classList.add(ts)}),this.prevIndex=this.selectedItem,this.triggerAnimation(wn+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0}headerReady(){if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),f(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=J("."+Sa+" ."+No,this.element),f(this.tbItems)||Ts(this.tbItems,{selector:".e-tab-wrap"}),Xe("."+qi,this.element).length>0){this.bdrLine=J("."+qa+"."+FA,this.element);const e=J("."+this.scrCntClass,this.tbItems);f(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)}if(this.cntEle=J(".e-tab > ."+Ui,this.element),f(this.cntEle)||(this.touchModule=new mn(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){const e=this.setActiveContent();this.triggerAnimation(e,!1)}this.initRender=!1,this.renderComplete()}setActiveContent(){const e=wn+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return f(t)||t.classList.add(ts),e}renderHeader(){const e=this.headerPlacement;let t=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(Sa)&&this.setProperties({headerPlacement:"Bottom"},!0);const i=this.hdrEle.children.length,s=[];for(let n=0;n<i;n++)s.push(this.hdrEle.children.item(n).innerHTML);if(i>0){for(;this.hdrEle.firstElementChild;)oe(this.hdrEle.firstElementChild);const n=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(n),s.forEach((a,o)=>{this.lastIndex=o;const h={className:wn,id:wn+this.tabId+"_"+o,attrs:{role:"tab","aria-controls":Ui+this.tabId+"_"+o,"aria-selected":"false"}},d=this.createElement("span",{className:Bb,innerHTML:a,attrs:{role:"presentation"}}).outerHTML,m=this.createElement("div",{className:tw,innerHTML:d+this.btnCls.outerHTML}).outerHTML,v=this.createElement("div",{className:Po,innerHTML:m,attrs:{tabIndex:"-1"}});n.appendChild(this.createElement("div",h)),Xe("."+wn,n)[o].appendChild(v)})}}else t=this.parseObject(this.items,0);this.tbObj=new Da({width:"Left"===e||"Right"===e?"auto":"100%",height:"Left"===e||"Right"===e?"100%":"auto",overflowMode:this.overflowMode,items:0!==t.length?t:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),Te(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)}renderContent(){this.cntEle=J("."+Ui,this.element);const e=Xe("."+qi,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";const t=this.cntEle.children;for(let i=0;i<e.length;i++)t.length-1>=i&&(L([t.item(i)],wn),Te(t.item(i),{role:"tabpanel","aria-labelledby":wn+this.tabId+"_"+i}),t.item(i).id=Ui+this.tabId+"_"+i)}}reRenderItems(){this.renderContainer(),f(this.cntEle)||(this.touchModule=new mn(this.cntEle,{swipe:this.swipeHandler.bind(this)}))}parseObject(e,t){const i=Xe(".e-tab-header ."+qi,this.element).length,s=[];let n;const a=[];return e.forEach((o,h)=>{const d=f(o.header)||f(o.header.iconPosition)?"":o.header.iconPosition,m=f(o.header)||f(o.header.iconCss)?"":o.header.iconCss;if(f(o.headerTemplate)&&(f(o.header)||f(o.header.text)||0===o.header.text.length&&""===m))return void a.push(h);let C,v=o.headerTemplate||o.header.text;if("string"==typeof v&&this.enableHtmlSanitizer&&(v=nn.sanitize(v)),this.isReplace&&!f(this.tbId)&&""!==this.tbId){const Be=this.tbId.indexOf("_");C=parseInt(this.tbId.substring(Be+1),10),this.tbId=""}else C=t+h;this.lastIndex=0===i?h:this.isReplace?C:this.isAdd?i+h:this.lastIndex+1;const S=o.disabled?" "+Bd+" "+iw:"",k=!1===o.visible?" "+yn:"";n=this.createElement("div",{className:Bb,attrs:{role:"presentation"}});const O=v instanceof Object?v.outerHTML:v,N=!f(O)&&""!==O;let q;f(v.tagName)?this.headerTextCompile(n,v,h):n.appendChild(v);const z=this.createElement("span",{className:ew+" "+PA+" "+Hb+"-"+d+" "+m}),Z=this.createElement("div",{className:tw});Z.appendChild(n),""!==v&&void 0!==v&&""!==m?("left"===d||"top"===d?Z.insertBefore(z,Z.firstElementChild):Z.appendChild(z),q=n,this.isIconAlone=!1):(q=""===m?n:z,q===z&&(oe(n),Z.appendChild(z),this.isIconAlone=!0));const Ce=o.disabled?{}:{tabIndex:"-1"};Z.appendChild(this.btnCls.cloneNode(!0));const ce=this.createElement("div",{className:Po,attrs:Ce});ce.appendChild(Z),this.itemIndexArray===[]?this.itemIndexArray.push(wn+this.tabId+"_"+this.lastIndex):this.itemIndexArray.splice(t+h,0,wn+this.tabId+"_"+this.lastIndex);const Se={htmlAttributes:{id:wn+this.tabId+"_"+this.lastIndex,role:"tab","aria-selected":"false"},template:ce};Se.cssClass=(void 0!==o.cssClass?o.cssClass:" ")+" "+S+" "+k+" "+(""!==m?"e-i"+d:"")+" "+(N?"":Hb),("top"===d||"bottom"===d)&&this.element.classList.add("e-vertical-icon"),s.push(Se),h++}),this.isAdd||a.forEach(o=>{this.items.splice(o,1)}),this.isIconAlone?this.element.classList.add(n1):this.element.classList.remove(n1),s}removeActiveClass(){const e=this.getTabHeader();if(e){const t=Xe("."+qi+"."+ts,e);[].slice.call(t).forEach(i=>i.classList.remove(ts))}}checkPopupOverflow(e){this.tbPop=J("."+r1,this.element);const t=J(".e-hor-nav",this.element),i=J("."+No,this.element),s=i.lastChild;let n=!1;return(!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>i.offsetLeft||!this.enableRtl&&t.offsetLeft<i.offsetWidth)||this.isVertical()&&t.offsetTop<s.offsetTop+s.offsetHeight)&&(n=!0),n&&(e.classList.add(jd),this.tbPop.insertBefore(e,Xe("."+jd,this.tbPop)[0])),!0}popupHandler(e){const t=e.querySelector(".e-ripple-element");f(t)||(t.outerHTML="",e.querySelector("."+Po).classList.remove("e-ripple")),this.tbItem=Xe("."+No+" ."+qi,this.hdrEle);const i=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove(jd),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(i)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),Xe("."+qi,this.tbItems).length-1}updateOrientationAttribute(){Te(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})}setCloseButton(e){const t=J("."+Sa,this.element);!0===e?t.classList.add(Xr):t.classList.remove(Xr),this.tbObj.refreshOverflow(),this.refreshActElePosition()}prevCtnAnimation(e,t){let i;return this.enableRtl||this.element.classList.contains(LA),i=this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null,i}triggerPrevAnimation(e,t){const i=this.prevCtnAnimation(t,this.selectedItem);f(i)?e.classList.remove(ts):(i.begin=()=>{Ue(e,{position:"absolute"}),e.classList.add(VA),e.classList.add("e-view")},i.end=()=>{e.style.display="none",e.classList.remove(ts),e.classList.remove(VA),e.classList.remove("e-view"),Ue(e,{display:"",position:""}),0===e.childNodes.length&&!this.isTemplate&&oe(e)},new Gi(i).animate(e))}triggerAnimation(e,t){const i=this.prevIndex;let s;[].slice.call(this.element.querySelector("."+Ui).children).forEach(m=>{m.id===this.prevActiveEle&&(s=m)});const a=this.tbItem[i],o=this.getTrgContent(this.cntEle,this.extIndex(e));if(f(s)&&!f(a)){const m=this.extIndex(a.id);s=this.getTrgContent(this.cntEle,m)}if(f(o)||(this.prevActiveEle=o.id),this.initRender||!1===t||this.animation==={}||f(this.animation))return void(s&&s!==o&&s.classList.remove(ts));const h=J("."+Ui,this.element);let d;if(this.prevIndex>this.selectedItem&&!this.isPopup){const m=this.animation.previous.effect;d={name:"None"===m?"":"SlideLeftIn"!==m?m:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){const m=this.animation.next.effect;d={name:"None"===m?"":"SlideRightIn"!==m?m:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}d.progress=()=>{h.classList.add(VA),this.setActiveBorder()},d.end=()=>{h.classList.remove(VA),o.classList.add(ts)},!this.initRender&&!f(s)&&this.triggerPrevAnimation(s,i),this.isPopup=!1,""===d.name?o.classList.add(ts):new Gi(d).animate(o)}keyPressed(e){const t=U(e,"."+Sa+" ."+qi),i=this.getEleIndex(t);!f(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():!f(t)&&!1===t.classList.contains(ts)&&(this.select(i),f(this.popEle)||this.popObj.hide(this.hide))}getTabHeader(){if(f(this.element))return;const e=[].slice.call(this.element.children).filter(t=>t.classList.contains(Sa));if(e.length>0)return e[0];{const t=[].slice.call(this.element.children).filter(i=>!i.classList.contains("blazor-template"))[0];return t?[].slice.call(t.children).filter(i=>i.classList.contains(Sa))[0]:void 0}}getEleIndex(e){return Array.prototype.indexOf.call(Xe("."+qi,this.getTabHeader()),e)}extIndex(e){return e.replace(wn+this.tabId+"_","")}expTemplateContent(){this.templateEle.forEach(e=>{f(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")})}templateCompile(e,t,i){const s=this.createElement("div");this.compileElement(s,t,"content",i),0!==s.childNodes.length&&e.appendChild(s),this.isReact&&this.renderReactTemplates()}compileElement(e,t,i,s){let n,a;"string"==typeof t?(t=t.trim(),e.innerHTML=nn.sanitize(t)):n=us(t),f(n)||(a=n({},this,i)),!f(n)&&a.length>0&&[].slice.call(a).forEach(o=>{e.appendChild(o)})}headerTextCompile(e,t,i){this.compileElement(e,t,"headerTemplate",i)}getContent(e,t,i,s){let n;if("string"==typeof t||f(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=nn.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){const a=document.querySelector(t);n=a.outerHTML.trim(),"clone"===i?e.appendChild(a.cloneNode(!0)):(e.appendChild(a),a.style.display="")}else this.templateCompile(e,t,s);else this.templateCompile(e,t,s);else e.appendChild(t);f(n)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())}getTrgContent(e,t){let i;return i=this.element.classList.contains(J0)?J("."+J0+"> ."+Ui+" > #"+Ui+this.tabId+"_"+t,this.element):this.findEle(e.children,Ui+this.tabId+"_"+t),i}findEle(e,t){let i;for(let s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i}isVertical(){const e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e}addVerticalClass(){if(this.isVertical()){const e="Left"===this.headerPlacement?NN:HA;L([this.hdrEle],[nw,e]),this.element.classList.contains(J0)?L([this.hdrEle],[sw,e]):L([this.element],[sw,e])}"Bottom"===this.headerPlacement&&L([this.hdrEle],[BA])}updatePopAnimationConfig(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}}changeOrientation(e){this.setOrientation(e,this.hdrEle);const t=this.hdrEle.querySelector("."+ts),i=!!this.hdrEle.classList.contains(nw);H([this.element],[sw]),H([this.hdrEle],[nw,NN,HA]),i!==this.isVertical()&&(this.changeToolbarOrientation(),!f(t)&&t.classList.contains(jd)&&this.popupHandler(t)),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}focusItem(){const e=J(" #"+wn+this.tabId+"_"+this.selectedItem,this.hdrEle);f(e)||e.firstElementChild.focus()}changeToolbarOrientation(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()}setOrientation(e,t){const i=Array.prototype.indexOf.call(this.element.children,t),s=Array.prototype.indexOf.call(this.element.children,this.element.querySelector("."+Ui));"Bottom"===e&&s>i?this.element.appendChild(t):(H([t],[BA]),this.element.insertBefore(t,J("."+Ui,this.element)))}setCssClass(e,t,i){if(""===t)return;const s=t.split(" ");for(let n=0;n<s.length;n++)i?e.classList.add(s[n]):e.classList.remove(s[n])}setContentHeight(e){if(this.element.classList.contains(Zg)&&H([this.element],[Zg]),f(this.cntEle))return;const t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||Ue(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)L([this.element],[Zg]),Ue(this.element,{height:"100%"}),Ue(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate){const i=Xe("."+Ui+" > ."+wn,this.element);for(let s=0;s<i.length;s++)i[s].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i[s])),i[s].style.removeProperty("display"),i[s].style.removeProperty("visibility")}else{this.cntEle=J("."+Ui,this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:Ui+this.tabId+"_0",className:wn+" "+ts,attrs:{role:"tabpanel","aria-labelledby":wn+this.tabId+"_0"}}));const i=this.cntEle.children.item(0);for(let s=0;s<this.items.length;s++)for(this.getContent(i,this.items[s].content,"clone",s),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i));i.firstChild;)i.removeChild(i.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(i,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&i.classList.remove(ts)}Ue(this.cntEle,{height:this.maxHeight+"px"})}else Ue(this.cntEle,{height:"auto"})}getHeight(e){const t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}setActiveBorder(){const e=this.getTabHeader(),t=J("."+qi+"."+ts,e);if(null===t)return;const i=U(t,"."+xh);if(this.element!==i)return;this.tbItems=J("."+No,e);const s=J("."+qa,e),n=J("."+No+" ."+this.scrCntClass,e);if(this.isVertical())Ue(s,{left:"",right:""}),0!==(f(n)?this.tbItems.offsetHeight:n.offsetHeight)?Ue(s,{top:t.offsetTop+"px",height:t.offsetHeight+"px"}):Ue(s,{top:0,height:0});else{"MultiRow"===this.overflowMode?Ue(J("."+qa,this.element),{top:t.offsetHeight+t.offsetTop+"px",height:""}):Ue(s,{top:"",height:""});let a=f(n)?this.tbItems.offsetWidth:n.offsetWidth;Ue(s,0!==a?{left:t.offsetLeft+"px",right:a-(t.offsetLeft+t.offsetWidth)+"px"}:{left:"auto",right:"auto"})}f(this.bdrLine)||this.bdrLine.classList.remove(yn)}setActive(e,t=!1){this.tbItem=Xe("."+qi,this.getTabHeader());const i=this.tbItem[e];if(e<0||isNaN(e)||0===this.tbItem.length)return;if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),i.classList.contains(ts))return void this.setActiveBorder();if(!this.isTemplate){const a=this.tbItem[this.prevIndex];f(a)||a.removeAttribute("aria-controls"),Te(i,{"aria-controls":Ui+this.tabId+"_"+e})}const s=i.id;this.removeActiveClass(),i.classList.add(ts),this.tbItem[this.prevIndex].setAttribute("aria-selected","false"),i.setAttribute("aria-selected","true");const n=Number(this.extIndex(s));if(f(this.prevActiveEle)&&(this.prevActiveEle=Ui+this.tabId+"_"+n),Te(this.element,{"aria-activedescendant":s}),this.isTemplate){if(J("."+Ui,this.element).children.length>0){const a=this.findEle(J("."+Ui,this.element).children,Ui+this.tabId+"_"+n);f(a)||a.classList.add(ts),this.triggerAnimation(s,this.enableAnimation)}}else{this.cntEle=J(".e-tab > ."+Ui,this.element);const a=this.getTrgContent(this.cntEle,this.extIndex(s));if(f(a)){this.cntEle.appendChild(this.createElement("div",{id:Ui+this.tabId+"_"+this.extIndex(s),className:wn+" "+ts,attrs:{role:"tabpanel","aria-labelledby":wn+this.tabId+"_"+this.extIndex(s)}}));const o=this.getTrgContent(this.cntEle,this.extIndex(s)),h=Array.prototype.indexOf.call(this.itemIndexArray,s);this.getContent(o,this.items[h].content,"render",h)}else a.classList.add(ts);this.triggerAnimation(s,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(i),!this.initRender&&!t){i.firstElementChild.focus();const a={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:i,selectedIndex:e,selectedContent:J("#"+Ui+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed};this.trigger("selected",a)}}contentReady(){const e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)}setItems(e){this.isReplace=!0,this.tbItems=J("."+No,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1}setRTL(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,LA,e),this.refreshActiveBorder()}refreshActiveBorder(){f(this.bdrLine)||this.bdrLine.classList.add(yn),this.setActiveBorder()}showPopup(e){const t=J(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){const i=t&&t.ej2_instances[0];i.position.X="Left"===this.headerPlacement?"left":"right",i.dataBind(),i.show(e)}}bindDraggable(){this.allowDragAndDrop&&this.element.querySelector("."+Sa).querySelectorAll("."+qi).forEach(i=>{this.initializeDrag(i)})}wireEvents(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),A.add(this.element,"mouseover",this.hoverHandler,this),A.add(this.element,"keydown",this.spaceKeyDown,this),f(this.cntEle)||(this.touchModule=new mn(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new rt(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new rt(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})}unWireEvents(){f(this.keyModule)||this.keyModule.destroy(),f(this.tabKeyModule)||this.tabKeyModule.destroy(),!f(this.cntEle)&&!f(this.touchModule)&&this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),A.remove(this.element,"mouseover",this.hoverHandler),A.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove(LA),this.element.classList.remove(_A)}clickHandler(e){this.element.classList.remove(_A);const t=e.originalEvent.target,i=U(t,"."+qi),s=this.getEleIndex(i);t.classList.contains(Vu)?this.removeTab(s):this.isVertical()&&U(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,!f(i)&&(s!==this.selectedItem||s!==this.prevIndex)&&this.select(s,e.originalEvent))}swipeHandler(e){if(!(e.velocity<3&&f(e.originalEvent.changedTouches))){if(e.originalEvent&&this.isNested&&e.originalEvent.stopPropagation(),this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(let t=this.selectedItem-1;t>=0;t--)if(!this.tbItem[t].classList.contains(yn)){this.select(t);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==Xe("."+qi,this.element).length-1)for(let t=this.selectedItem+1;t<this.tbItem.length;t++)if(!this.tbItem[t].classList.contains(yn)){this.select(t);break}this.isSwipeed=!1}}spaceKeyDown(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(f(U(e.target,"."+Sa))||e.preventDefault())}keyHandler(e){if(this.element.classList.contains(Bd))return;this.element.classList.add(_A);const t=e.target,i=this.getTabHeader(),s=J("."+ts,i);this.popEle=J("."+r1,i),f(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);const n=U(document.activeElement,"."+qi),a=U(t,"."+qi);switch(e.action){case"space":case"enter":if(t.parentElement.classList.contains(Bd))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains(Po)&&!1===U(t,"."+qi).classList.contains(ts)&&t.setAttribute("tabindex","-1"),this.popObj&&sn(this.popObj.element)&&this.popObj.hide(this.hide),s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":f(n)||this.refreshItemVisibility(n);break;case"openPopup":e.preventDefault(),!f(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!f(a)){const o=a.nextSibling;!f(o)&&o.classList.contains(qi)&&o.firstElementChild.focus(),this.removeTab(this.getEleIndex(a))}this.setActiveBorder()}}refreshActElePosition(){const e=J("."+qi+"."+jd+"."+ts,this.element);f(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()}refreshItemVisibility(e){const t=J("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!f(t)){const i=J(".e-hscroll-bar",this.tbItems),s=i.scrollLeft,n=s+i.offsetWidth,a=e.offsetLeft,o=e.offsetWidth,h=e.offsetLeft+e.offsetWidth;s<a&&n<h?i.scrollLeft=s+(o-(n-a)):s>a&&n>h&&(i.scrollLeft=s-(o-(h-s)))}}hoverHandler(e){const t=e.target;!f(t.classList)&&t.classList.contains(Vu)&&t.setAttribute("title",new Gs("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))}evalOnPropertyChangeItems(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,f(this.tbObj))this.reRenderItems();else{this.isRect&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];const i=J(".e-tab > ."+Ui,this.element);for(;i.firstElementChild;)oe(i.firstElementChild);this.select(this.selectedItem)}else{const i=Object.keys(e.items);for(let s=0;s<i.length;s++){const n=parseInt(Object.keys(e.items)[s],10),a=Object.keys(e.items[n]);for(let o=0;o<a.length;o++){const h=Object(t.items[n])[a[o]],d=Object(e.items[n])[a[o]],m=this.element.querySelectorAll("."+qi)[n];let v;if(m&&!f(m.id)&&""!==m.id){const S=m.id.lastIndexOf("_");v=parseInt(m.id.substring(S+1),10)}else v=n;const C=J("."+No+" #"+wn+this.tabId+"_"+v,this.element),w=J("."+Ui+" #"+Ui+this.tabId+"_"+v,this.element);if("header"===a[o]||"headerTemplate"===a[o]){const S=f(this.items[n].header)||f(this.items[n].header.iconCss)?"":this.items[n].header.iconCss;if(""===(this.items[n].headerTemplate||this.items[n].header.text)&&""===S)this.removeTab(n);else{this.tbId=m.id;const O=[];O.push(this.items[n]),this.items.splice(n,1),this.itemIndexArray.splice(n,1),this.tbObj.items.splice(n,1);const N=C.classList.contains(yn);oe(C),this.isReplace=!0,this.addTab(O,n),N&&this.hideTab(n),this.isReplace=!1}}if("content"===a[o]&&!f(w))if("string"!=typeof d&&!f(d.innerHTML)||"."!==d[0]&&"#"!==d[0]||!d.length)""===d&&"#"===h[0]?(document.body.appendChild(this.element.querySelector(h)).style.display="none",w.innerHTML=d):this.isReact?(w.innerHTML="",this.templateCompile(w,d,n)):"function"!=typeof d&&(w.innerHTML=d);else{const k=document.querySelector(d);w.appendChild(k),k.style.display=""}"cssClass"===a[o]&&(f(C)||(C.classList.remove(h),C.classList.add(d)),f(w)||(w.classList.remove(h),w.classList.add(d))),"disabled"===a[o]&&this.enableTab(n,!0!==d),"visible"===a[o]&&this.hideTab(n,!0!==d)}}}}initializeDrag(e){this.dragArea=f(this.dragArea)?"#"+this.element.id+" ."+Sa:this.dragArea;let t=new ms(e,{dragArea:this.dragArea,dragTarget:"."+qi,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:i=>{let n,a,s=this.getEleIndex(this.dragItem),o={draggedItem:this.dragItem,event:i.event,target:i.target,droppedItem:i.target.closest("."+qi),clonedElement:this.cloneElement,index:s};if(f(i.target.closest("."+xh))||i.target.closest("."+xh).isEqualNode(this.element)||this.dragArea==="."+Sa){if(i.target.closest(this.dragArea)||"Popup"===this.overflowMode?(document.body.style.cursor="",this.dragItem.querySelector("."+Po).style.visibility="hidden",this.cloneElement.classList.contains(yn)&&H([this.cloneElement],yn)):(document.body.style.cursor="not-allowed",L([this.cloneElement],yn),this.dragItem.classList.contains(yn)&&H([this.dragItem],yn),this.dragItem.querySelector("."+Po).style.visibility="visible"),"Scrollable"===this.overflowMode&&!f(this.element.querySelector(".e-hscroll"))){let d=this.element.querySelector(".e-scroll-right-nav"),m=this.element.querySelector(".e-scroll-left-nav"),v=this.element.querySelector(".e-hscroll-bar");!f(d)&&Math.abs(d.offsetWidth/2+d.offsetLeft)>this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&(v.scrollLeft-=10),!f(m)&&Math.abs(m.offsetLeft+m.offsetWidth-this.cloneElement.offsetLeft)>m.offsetWidth/2&&(v.scrollLeft+=10)}this.cloneElement.style.pointerEvents="none",a=U(i.target,"."+qi+".e-draggable");let h=0;"Scrollable"===this.overflowMode&&!f(this.element.querySelector(".e-hscroll"))&&(h=this.element.querySelector(".e-hscroll-content").offsetWidth),null!=a&&!a.isSameNode(this.dragItem)&&a.closest("."+xh).isSameNode(this.dragItem.closest("."+xh))&&(n=this.getEleIndex(a),n<s&&Math.abs(a.offsetLeft+a.offsetWidth-this.cloneElement.offsetLeft)>a.offsetWidth/2&&this.dragAction(a,s,n),n>s&&Math.abs(a.offsetWidth/2)+a.offsetLeft-h<this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&this.dragAction(a,s,n)),this.droppedIndex=this.getEleIndex(this.dragItem),this.trigger("dragging",o)}else this.trigger("dragging",o)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(t)}helper(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),L([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+Sa).classList.contains(Xr)&&L([this.cloneElement],Xr),H([this.cloneElement.querySelector("."+Po)],"e-ripple"),f(this.cloneElement.querySelector(".e-ripple-element"))||nt(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement}itemDragStart(e){this.draggingItems=this.items.map(i=>i),this.dragItem=e.element;let t={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",t,i=>{i.cancel?oe(this.cloneElement):(this.removeActiveClass(),L([this.tbItems.querySelector("."+qa)],yn),this.dragItem.querySelector("."+Po).style.visibility="hidden")})}dragAction(e,t,i){if(this.items.length>0){let s=this.draggingItems[t];this.draggingItems.splice(t,1),this.draggingItems.splice(i,0,s)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),t>i)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){let s=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),s.insertBefore(e.parentElement.lastChild,s.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{let s=e.parentElement.lastChild;if(e.isSameNode(s)){let n=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(s,n.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)}t<i&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(e,this.dragItem):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))}itemDragStop(e){oe(this.cloneElement),this.dragItem.querySelector("."+Po).style.visibility="visible",document.body.style.cursor="",this.trigger("dragged",{draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1},i=>{i.cancel?this.refresh():this.items.length>0&&this.draggingItems.length>0?(this.items=this.draggingItems,this.selectedItem=this.droppedIndex,this.refresh()):(this.dragItem.querySelector("."+Po).style.visibility="",H([this.tbItems.querySelector("."+qa)],yn),this.select(this.droppedIndex))})}enableTab(e,t){const i=Xe("."+qi,this.element)[e];f(i)||(!0===t?(i.classList.remove(Bd,iw),i.firstElementChild.setAttribute("tabindex","-1")):(i.classList.add(Bd,iw),i.firstElementChild.removeAttribute("tabindex"),i.classList.contains(ts)&&this.select(e+1)),f(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),i.setAttribute("aria-disabled",!0===t?"false":"true"))}addTab(e,t){const i={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",i,s=>{s.cancel||this.addingTabContent(e,t)}),this.isReact&&this.renderReactTemplates()}addingTabContent(e,t){let i=0;if(this.hdrEle=J("."+Sa,this.element),f(this.hdrEle))this.items=e,this.reRenderItems();else{const s=Xe(".e-tab-header ."+qi,this.element).length;if(0!==s&&(i=this.lastIndex+1),f(t)&&(t=s-1),s<t||t<0||isNaN(t))return;0===s&&!f(this.hdrEle)&&(this.hdrEle.style.display=""),f(this.bdrLine)||this.bdrLine.classList.add(yn),this.tbItems=J("."+No,this.getTabHeader()),this.isAdd=!0;const n=this.parseObject(e,t);this.isAdd=!1;let o,a=0;e.forEach((h,d)=>{if(o=h.headerTemplate||h.header.text,f(h.headerTemplate||h.header)||f(o)||0===o.length&&f(h.header.iconCss)||(this.items.splice(t+a,0,h),a++),this.isTemplate&&!f(h.header)&&!f(h.header.text)){const m=i+d,v=this.createElement("div",{id:Ui+this.tabId+"_"+m,className:wn,attrs:{role:"tabpanel","aria-labelledby":wn+"_"+m}});this.cntEle.insertBefore(v,this.cntEle.children[t+d]);const C=this.getTrgContent(this.cntEle,m.toString());this.getContent(C,h.content,"render",t)}}),this.tbObj.addItems(n,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder(),this.bindDraggable()}}removeTab(e){const t=Xe("."+qi,this.element)[e];f(t)||this.trigger("removing",{removedItem:t,removedIndex:e,cancel:!1},s=>{if(!s.cancel){this.tbObj.removeItems(e),this.allowDragAndDrop&&e!==Array.prototype.indexOf.call(this.itemIndexArray,t.id)&&(e=Array.prototype.indexOf.call(this.itemIndexArray,t.id)),this.items.splice(e,1),this.itemIndexArray.splice(e,1),this.refreshActiveBorder();const n=J("#"+Ui+this.tabId+"_"+this.extIndex(t.id),J("."+Ui,this.element));f(n)||oe(n),this.trigger("removed",s),t.classList.contains(ts)&&(e=e>Xe("."+qi+":not(."+jd+")",this.element).length-1?e-1:e,this.enableAnimation=!1,this.selectedItem=e,this.select(e)),0===Xe("."+qi,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}})}hideTab(e,t){let i;const s=Xe("."+qi,this.element)[e];if(!f(s)){if(f(t)&&(t=!0),this.bdrLine.classList.add(yn),!0===t)if(s.classList.add(yn),i=Xe("."+qi+":not(."+yn+")",this.tbItems),0!==i.length&&s.classList.contains(ts)){if(0!==e)for(let n=e-1;n>=0;n--){if(!this.tbItem[n].classList.contains(yn)){this.select(n);break}if(0===n)for(let a=e+1;a<this.tbItem.length;a++)if(!this.tbItem[a].classList.contains(yn)){this.select(a);break}}else for(let n=e+1;n<this.tbItem.length;n++)if(!this.tbItem[n].classList.contains(yn)){this.select(n);break}}else 0===i.length&&this.element.classList.add(yn);else this.element.classList.remove(yn),i=Xe("."+qi+":not(."+yn+")",this.tbItems),s.classList.remove(yn),0===i.length&&this.select(e);this.setActiveBorder(),s.setAttribute("aria-hidden",""+t),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}}select(e,t){const i=this.getTabHeader();this.tbItems=J("."+No,i),this.tbItem=Xe("."+qi,i),this.content=J("."+Ui,this.element),this.prevItem=this.tbItem[this.prevIndex],f(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);const s=this.tbItem[e];f(s)?this.selectedID="0":this.selectingID=this.extIndex(s.id),!f(this.prevItem)&&!this.prevItem.classList.contains(Bd)&&this.prevItem.children.item(0).setAttribute("tabindex","-1");const n={event:t,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:f(this.content)?null:J("#"+Ui+this.tabId+"_"+this.selectedID,this.content),selectingItem:s,selectingIndex:e,selectingContent:f(this.content)?null:J("#"+Ui+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,cancel:!1};this.initRender?this.selectingContent(e):this.trigger("selecting",n,a=>{a.cancel||this.selectingContent(e)})}selectingContent(e){if("number"==typeof e){if(!f(this.tbItem[e])&&(this.tbItem[e].classList.contains(Bd)||this.tbItem[e].classList.contains(yn)))for(let t=e+1;t<this.items.length;t++){if(!1===this.items[t].disabled&&!0===this.items[t].visible){e=t;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains(jd)){if(this.setActive(this.popupHandler(this.tbItem[e])),!f(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=Xe("."+No+" ."+qi,this.hdrEle);let t=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,t)}}else this.setActive(e);else this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))}getItemIndex(e){let t;for(let i=0;i<this.tbItem.length;i++)if(e===this.tbItem[i].getAttribute("data-id")){t=i;break}return t}disable(e){this.setCssClass(this.element,Bd,e),this.element.setAttribute("aria-disabled",""+e)}getPersistData(){return this.addOnPersist(["selectedItem","actEleId"])}getModuleName(){return"tab"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"width":Ue(this.element,{width:fe(e.width)});break;case"height":Ue(this.element,{height:fe(e.height)}),this.setContentHeight(!1);break;case"cssClass":""===t.cssClass||f(t.cssClass)||this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.selectedItem=t.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach(s=>{s.dragArea=this.dragArea}),this.refresh())}}refreshActiveTab(){if(this.isReact&&this.clearTemplate(),this.isTemplate){const e=this.element.querySelector("."+No),t=this.element.querySelector("."+qi+"."+ts),i=t.id,s=i.indexOf("_"),n=parseInt(i.substring(s+1),10),a=t.innerText,o=this.element.querySelector("."+Ui).querySelector("."+ts).children[0],h=o.innerHTML;oe(t),oe(o);const d={className:qi+" "+RA+" "+ts,id:wn+this.tabId+"_"+n,attrs:{role:"tab","aria-controls":Ui+this.tabId+"_"+n,"aria-disabled":"false","aria-selected":"true"}},m=this.createElement("span",{className:Bb,innerHTML:a,attrs:{role:"presentation"}}).outerHTML,v=this.createElement("div",{className:tw,innerHTML:m+this.btnCls.outerHTML}).outerHTML,C=this.createElement("div",{className:Po,innerHTML:v,attrs:{tabIndex:"-1"}});e.insertBefore(this.createElement("div",d),e.children[n+1]),this.element.querySelector("."+qi+"."+ts).appendChild(C);const w=this.createElement("div",{innerHTML:h});this.element.querySelector("."+Ui).querySelector("."+ts).appendChild(w)}else if(this.element.querySelector("."+qi+"."+ts)){oe(this.element.querySelector("."+qi+"."+ts).children[0]),oe(this.element.querySelector("."+Ui).querySelector("."+ts).children[0]);const e=this.items[this.selectedItem],t=f(e.header)||f(e.header.iconPosition)?"":e.header.iconPosition,i=f(e.header)||f(e.header.iconCss)?"":e.header.iconCss,s=e.headerTemplate||e.header.text,n=this.createElement("div",{className:Bb,attrs:{role:"presentation"}});let a;f(s.tagName)?this.headerTextCompile(n,s,this.selectedItem):n.appendChild(s);const o=this.createElement("span",{className:ew+" "+PA+" "+Hb+"-"+t+" "+i}),h=this.createElement("div",{className:tw});h.appendChild(n),""!==s&&void 0!==s&&""!==i?("left"===t||"top"===t?h.insertBefore(o,h.firstElementChild):h.appendChild(o),a=n,this.isIconAlone=!1):(a=""===i?n:o,a===o&&(oe(n),h.appendChild(o),this.isIconAlone=!0));const d=e.disabled?{}:{tabIndex:"-1"};h.appendChild(this.btnCls.cloneNode(!0));const m=this.createElement("div",{className:Po,attrs:d});m.appendChild(h),("top"===t||"bottom"===t)&&this.element.classList.add("e-vertical-icon"),this.element.querySelector("."+qi+"."+ts).appendChild(m);const v=this.createElement("div");let w,C=e.content;if("string"==typeof C||f(C.innerHTML))if("string"==typeof C&&this.enableHtmlSanitizer&&(C=nn.sanitize(C)),"."===C[0]||"#"===C[0])if(document.querySelectorAll(C).length){const S=document.querySelector(C);w=S.outerHTML.trim(),v.appendChild(S),S.style.display=""}else this.compileElement(v,C,"content",this.selectedItem);else this.compileElement(v,C,"content",this.selectedItem);else v.appendChild(C);f(w)||-1===this.templateEle.indexOf(C.toString())&&this.templateEle.push(C.toString()),this.element.querySelector(".e-item."+ts).appendChild(v)}this.isReact&&this.renderReactTemplates()}};Ri([Va([],Fu)],Fs.prototype,"items",void 0),Ri([T("100%")],Fs.prototype,"width",void 0),Ri([T("auto")],Fs.prototype,"height",void 0),Ri([T("")],Fs.prototype,"cssClass",void 0),Ri([T(0)],Fs.prototype,"selectedItem",void 0),Ri([T("Top")],Fs.prototype,"headerPlacement",void 0),Ri([T("Content")],Fs.prototype,"heightAdjustMode",void 0),Ri([T("Scrollable")],Fs.prototype,"overflowMode",void 0),Ri([T("Dynamic")],Fs.prototype,"loadOn",void 0),Ri([T(!1)],Fs.prototype,"enablePersistence",void 0),Ri([T(!1)],Fs.prototype,"enableHtmlSanitizer",void 0),Ri([T(!1)],Fs.prototype,"showCloseButton",void 0),Ri([T()],Fs.prototype,"scrollStep",void 0),Ri([T()],Fs.prototype,"dragArea",void 0),Ri([T(!1)],Fs.prototype,"allowDragAndDrop",void 0),Ri([Ht({},rw)],Fs.prototype,"animation",void 0),Ri([$()],Fs.prototype,"created",void 0),Ri([$()],Fs.prototype,"adding",void 0),Ri([$()],Fs.prototype,"added",void 0),Ri([$()],Fs.prototype,"selecting",void 0),Ri([$()],Fs.prototype,"selected",void 0),Ri([$()],Fs.prototype,"removing",void 0),Ri([$()],Fs.prototype,"removed",void 0),Ri([$()],Fs.prototype,"onDragStart",void 0),Ri([$()],Fs.prototype,"dragging",void 0),Ri([$()],Fs.prototype,"dragged",void 0),Ri([$()],Fs.prototype,"destroyed",void 0),Fs=Ri([oi],Fs);var aw,St=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Ql="e-treeview",jA="e-control",$n="e-icon-collapsible",xs="e-icon-expandable",jt="e-list-item",Hu="e-list-text",Vi="e-list-parent",Kl="e-hover",lo="e-active",WA="e-icons-spinner",Ih="e-process",Gn="e-icons",Dr="e-text-content",Wb="e-input",UA="e-input-group",Wd="e-tree-input",Rf="e-editing",ow="e-interaction",l1="e-droppable",Lf="e-dragging",Ub="e-sibling",lw="e-drop-in",cw="e-drop-next",qb="e-drop-out",zb="e-no-drop",Mh="e-fullrow",Ud="e-selected",hw="e-expanded",h1="e-node-collapsed",u1="e-disable",ua="e-check",Vo="e-stop",Fo="e-checkbox-wrapper",Oh="e-frame",qA="e-ripple",_f="e-node-focus",zA="e-list-img",YA="e-animation-active",za="e-disabled",Pf={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""};class Ta extends hi{}St([T("child")],Ta.prototype,"child",void 0),St([T([])],Ta.prototype,"dataSource",void 0),St([T("expanded")],Ta.prototype,"expanded",void 0),St([T("hasChildren")],Ta.prototype,"hasChildren",void 0),St([T("htmlAttributes")],Ta.prototype,"htmlAttributes",void 0),St([T("iconCss")],Ta.prototype,"iconCss",void 0),St([T("id")],Ta.prototype,"id",void 0),St([T("imageUrl")],Ta.prototype,"imageUrl",void 0),St([T("isChecked")],Ta.prototype,"isChecked",void 0),St([T("parentID")],Ta.prototype,"parentID",void 0),St([T(null)],Ta.prototype,"query",void 0),St([T("selected")],Ta.prototype,"selected",void 0),St([T(null)],Ta.prototype,"tableName",void 0),St([T("text")],Ta.prototype,"text",void 0),St([T("tooltip")],Ta.prototype,"tooltip",void 0),St([T("navigateUrl")],Ta.prototype,"navigateUrl",void 0);class Yb extends hi{}St([T("SlideDown")],Yb.prototype,"effect",void 0),St([T(400)],Yb.prototype,"duration",void 0),St([T("linear")],Yb.prototype,"easing",void 0);class $A extends hi{}St([Ht({effect:"SlideUp",duration:400,easing:"linear"},Yb)],$A.prototype,"collapse",void 0),St([Ht({effect:"SlideDown",duration:400,easing:"linear"},Yb)],$A.prototype,"expand",void 0);let si=aw=class extends hs{constructor(e,t){super(e,t),this.isRefreshed=!1,this.preventExpand=!1,this.checkedElement=[],this.disableNode=[],this.validArr=[],this.validNodes=[],this.expandChildren=[],this.isFieldChange=!1,this.changeDataSource=!1,this.hasTemplate=!1,this.mouseDownStatus=!1}getModuleName(){return"treeview"}preRender(){this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:xs,ariaAttributes:Pf,expandIconPosition:"Left",itemCreated:e=>{this.beforeNodeCreate(e)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new Gi({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),f(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),f(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),f(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0}getPersistData(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])}render(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()}initialize(){this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)}setDisabledMode(){this.disabled?this.element.classList.add(za):this.element.classList.remove(za)}setEnableRtl(){(this.enableRtl?L:H)([this.element],"e-rtl")}setRipple(){this.rippleFn=Ts(this.element,{selector:"."+Mh+",."+Dr,ignore:"."+Dr+" > ."+Gn+",."+UA+",."+Wb+", ."+Fo}),this.rippleIconFn=Ts(this.element,{selector:"."+Dr+" > ."+Gn,isCenterRipple:!0})}setFullRow(e){(e?L:H)([this.element],"e-fullrow-wrap")}setMultiSelect(e){const t=J("."+Vi,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")}templateComplier(e){if(e){this.hasTemplate=!0,this.element.classList.add(ow);try{if(document.querySelectorAll(e).length)return us(document.querySelector(e).innerHTML.trim())}catch(t){return us(e)}}this.element.classList.remove(ow)}setDataBinding(e){this.treeList.push("false"),this.fields.dataSource instanceof ot?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(t=>{this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource instanceof ot&&this.isOffline&&(this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),this.renderItems(!0),0===this.treeList.length&&!this.isLoaded&&this.finalize())}).catch(t=>{this.trigger("actionFailure",{error:t})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(t=>{this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),e&&(this.changeDataSource=!0),this.renderItems(!0),this.changeDataSource=!1,0===this.treeList.length&&!this.isLoaded&&this.finalize()}).catch(t=>{this.trigger("actionFailure",{error:t})})):(this.treeList.pop(),f(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0===this.treeList.length&&!this.isLoaded&&this.finalize()}getQuery(e,t=null){let s,i=[];if(e.query)s=e.query.clone();else{s=new kt;let n=this.getActualProperties(e);for(let a of Object.keys(n))"dataSource"!==a&&"tableName"!==a&&"child"!==a&&e[a]&&"url"!==a&&-1===i.indexOf(e[a])&&i.push(e[a]);s.select(i),n.hasOwnProperty("tableName")&&s.from(e.tableName)}return Ti.addSorting(this.sortOrder,e.text,s),!f(t)&&!f(e.parentID)&&s.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),s}getType(){return!!this.treeData[0]&&"number"==typeof X(this.fields.id,this.treeData[0])}setRootData(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);let e=this.getChildNodes(this.treeData,void 0,!0);this.rootData=f(e)?[]:e}else this.rootData=this.treeData}renderItems(e){this.listBaseOption.ariaAttributes.level=1;let t=this.getSortedData(this.rootData);this.ulElement=Ti.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);let i=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand){let n=0;for(;n<i.length;)this.renderChildNodes(i[n],!0,null,!0),n++}(1===Xe("."+Vi,this.element).length&&i&&0!==i.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()}updateCheckedStateFromDS(e){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){let t=this.fields,i=new ot(this.treeData).executeLocal((new kt).where(t.isChecked,"equal",!0,!1));for(let s=0;s<i.length;s++){let n=i[s][this.fields.id]?i[s][this.fields.id].toString():null;if(i[s][this.fields.parentID]&&i[s][this.fields.parentID].toString(),-1===this.checkedNodes.indexOf(n)&&!this.isLoaded&&this.checkedNodes.push(n),i[s][this.fields.hasChildren]){let o=i[s][this.fields.id],h=new ot(this.treeData).executeLocal((new kt).where(t.parentID,"equal",o,!1));for(let d=0;d<h.length;d++){let m=h[d][this.fields.id]?h[d][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(m)&&this.autoCheck&&this.checkedNodes.push(m)}}}for(let s=0;s<this.checkedNodes.length;s++){let n=this.fields,a=new ot(this.treeData).executeLocal((new kt).where(n.id,"equal",this.checkedNodes[s],!0));if(a[0]&&this.autoCheck&&(this.getCheckedNodeDetails(n,a),this.checkIndeterminateState(a[0])),a.length>0){let h=a[0][this.fields.id]?a[0][this.fields.id].toString():null;this.checkedNodes.indexOf(h)>-1&&-1===this.validNodes.indexOf(h)&&this.validNodes.push(h)}let o=new ot(this.treeData).executeLocal((new kt).where(n.parentID,"equal",this.checkedNodes[s],!0));for(let h=0;h<o.length;h++){let d=o[h][this.fields.id]?o[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(d)&&this.autoCheck&&this.checkedNodes.push(d),this.checkedNodes.indexOf(d)>-1&&-1===this.validNodes.indexOf(d)&&this.validNodes.push(d)}}}else if(2===this.dataType||this.fields.dataSource instanceof ot&&this.isOffline)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"";this.treeData[t][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i),this.checkedNodes.indexOf(i)>-1&&-1===this.validNodes.indexOf(i)&&this.validNodes.push(i);let s=X(this.fields.child.toString(),this.treeData[t]);s&&this.updateChildCheckState(s,this.treeData[t])}this.setProperties({checkedNodes:this.validNodes},!0)}}getCheckedNodeDetails(e,t){let i=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,s=0,n=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),a=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(n||a)a&&(J("."+ua,a)||this.changeState(a,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.push(i);let h=this.getChildNodes(this.treeData,i);for(let m=0;m<h.length;m++){let v=h[m][this.fields.id]?h[m][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(v)&&s++,s===h.length&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}let d=new ot(this.treeData).executeLocal((new kt).where(e.id,"equal",i,!0));this.getCheckedNodeDetails(e,d)}}updateParentCheckState(){let t,e=Xe("."+Vo,this.element);for(let i=0;i<e.length;i++){let s=U(e[i],"."+jt),n=s.getAttribute("data-uid").toString();t=1===this.dataType?new ot(this.treeData).executeLocal((new kt).where(this.fields.parentID,"equal",n,!0)):this.getChildNodes(this.treeData,n);let a=0;if(t){for(let o=0;o<t.length;o++){let h=t[o][this.fields.id].toString();-1!==this.checkedNodes.indexOf(h)&&a++}if(a===t.length){let o=s.getAttribute("data-uid");-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),this.changeState(s,"check",null,!0,!0)}else 0===a&&0===this.checkedNodes.length&&this.changeState(s,"uncheck",null,!0,!0)}}}checkIndeterminateState(e){let t;t=this.element.querySelector(1===this.dataType?'[data-uid="'+e[this.fields.parentID]+'"]':'[data-uid="'+e[this.fields.id]+'"]'),t?"true"!==t.querySelector("."+Fo).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}updateChildCheckState(e,t){let i=0,s=t[this.fields.id]?t[this.fields.id].toString():"";for(let n=0;n<e.length;n++){let a=e[n][this.fields.id]?e[n][this.fields.id].toString():"";e[n][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(a)&&this.autoCheck&&this.checkedNodes.push(a),-1!==this.checkedNodes.indexOf(a)&&this.autoCheck&&i++,this.checkedNodes.indexOf(a)>-1&&-1===this.validNodes.indexOf(a)&&this.validNodes.push(a);let o=X(this.fields.child.toString(),e[n]);o&&(this.parentCheckData.push(t),this.updateChildCheckState(o,e[n])),i===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}if(0!==i&&this.autoCheck){this.checkIndeterminateState(t);for(let n=0;n<this.parentCheckData.length;n++)t!==this.parentCheckData[n]&&this.parentCheckData[n]&&this.checkIndeterminateState(this.parentCheckData[n])}this.parentCheckData=[]}beforeNodeCreate(e){if(this.showCheckBox){let s=OE(this.createElement,!0,{cssClass:this.touchClass});s.setAttribute("role","checkbox");let n=J("div."+Gn,e.item),a=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(s,e.item.childNodes[0].childNodes[f(n)?0:1]);let o=X(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(a)>-1?(J("."+Oh,s).classList.add(ua),s.setAttribute("aria-checked","true"),this.addCheck(e.item)):f(o)||"true"!==o.toString()?s.setAttribute("aria-checked","false"):(J("."+Oh,s).classList.add(ua),s.setAttribute("aria-checked","true"),this.addCheck(e.item));let h=J("."+Oh,s);A.add(h,"mousedown",this.frameMouseHandler,this),A.add(h,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(Ud)&&e.item.setAttribute("aria-selected","false");let t=e.fields;if(this.addActionClass(e,t.selected,Ud),this.addActionClass(e,t.expanded,hw),!f(this.nodeTemplateFn)){let s=e.item.querySelector("."+Hu),n=e.item.getAttribute("data-uid");s.innerHTML="",this.renderNodeTemplate(e.curData,s,n)}this.isRefreshed||this.trigger("drawNode",{node:e.item,nodeData:e.curData,text:e.text})}frameMouseHandler(e){Jp(e,J(".e-ripple-container",e.target.parentElement))}addActionClass(e,t,i){let n=X(t,e.curData);!f(n)&&"false"!==n.toString()&&e.item.classList.add(i)}getDataType(e,t){if(this.fields.dataSource instanceof ot){for(let i=0;i<e.length;i++)if(this.isOffline){if("string"==typeof t.child&&f(X(t.child,e[i]))&&!f(X(t.parentID,e[i])))return 1}else if("string"==typeof t.child&&f(X(t.child,e[i])))return 1;return 2}for(let i=0,s=e.length;i<s;i++){if("string"==typeof t.child&&!f(X(t.child,e[i])))return 2;if(!f(X(t.parentID,e[i]))||!f(X(t.hasChildren,e[i])))return 1}return 1}getGroupedData(e,t){let i=(new kt).group(t),s=Ti.getDataSource(e,i),n=[];for(let a=0;a<s.length;a++)n.push(s[a].items);return n}getSortedData(e){return e&&"None"!==this.sortOrder&&(e=Ti.getDataSource(e,Ti.addSorting(this.sortOrder,this.fields.text))),e}finalizeNode(e){let t=Xe("."+zA,e);for(let n=0;n<t.length;n++)t[n].setAttribute("alt",zA);if(this.isLoaded){let n=Xe("."+Ud,e);for(let a=0;a<n.length;a++){this.selectNode(n[a],null);break}H(n,Ud)}let i=Xe("."+jt+":not(."+hw+")",e);for(let n=0;n<i.length;n++){let a=J("div."+Gn,i[n]);a&&a.classList.contains(xs)&&this.disableExpandAttr(i[n])}let s=Xe("."+hw,e);if(!this.isInitalExpand)for(let n=0;n<s.length;n++)this.renderChildNodes(s[n]);H(s,hw),this.updateList(),this.isLoaded&&this.updateCheckedProp()}updateCheckedProp(){if(this.showCheckBox){let e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}}ensureIndeterminate(){if(this.autoCheck){let t,e=Xe("li",this.element);for(let i=0;i<e.length;i++)e[i].classList.contains(jt)&&(t=J("."+Vi,e[i]),t?this.ensureParentCheckState(e[i]):this.ensureChildCheckState(e[i]))}else{let e=Xe("."+Vo,this.element);for(let t=0;t<e.length;t++)e[t].classList.remove(Vo)}}ensureParentCheckState(e){if(!f(e)){if(e.classList.contains(Ql))return;let t=e;e.classList.contains(jt)&&(t=J("."+Vi,e));let i=Xe("."+ua,t),s=Xe("."+Vo,t),n=Xe("."+jt,t),a=e.getElementsByClassName(Fo)[0];n.length===i.length?this.changeState(a,"check",null,!0,!0):i.length>0||s.length>0?this.changeState(a,"indeterminate",null,!0,!0):0===i.length&&this.changeState(a,"uncheck",null,!0,!0);let o=U(e,"."+Vi);if(!f(o)){let h=U(o,"."+jt);this.ensureParentCheckState(h)}}}ensureChildCheckState(e,t){if(!f(e)){let s,i=J("."+Vi,e);if(!f(i)){s=Xe("."+Fo,i);let d,n=e.getElementsByClassName(Oh)[0].classList.contains(ua),a=e.getElementsByClassName(Oh)[0].classList.contains(Vo),o=i.querySelectorAll("li");i.parentElement.getAttribute("aria-expanded");for(let m=0;m<s.length;m++){let v=o[m].getAttribute("data-uid");if(f(this.currentLoadData)||f(X(this.fields.isChecked,this.currentLoadData[m]))){let C=s[m].getElementsByClassName(Oh)[0].classList.contains(ua);n||C&&!this.isLoaded||-1!==this.checkedNodes.indexOf(v)&&this.isLoaded&&(a||n)?d="check":o[m].classList.contains("e-has-child")&&!pt(this.parentNodeCheck)&&this.autoCheck&&(n||a)&&-1!==this.parentNodeCheck.indexOf(v)||1===this.dataType&&!pt(this.parentNodeCheck)&&this.autoCheck&&(n||a)&&-1!==this.parentNodeCheck.indexOf(v)?(d="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(v),1)):d="uncheck"}else d=X(this.fields.isChecked,this.currentLoadData[m])?"check":"uncheck",-1!==this.ele&&(d=n?"check":"uncheck"),"uncheck"===d&&!pt(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(v)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(v),1),d="indeterminate");this.changeState(s[m],d,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}}doCheckBoxAction(e,t){if(Xe("."+jt,this.element),f(e)){let s=Xe("."+Fo,this.element);if(this.loadOnDemand)for(let n=0;n<s.length;n++)this.updateFieldChecked(s[n],t),this.changeState(s[n],t?"check":"uncheck",null,null,null,t);else for(let n=0;n<s.length;n++)this.updateFieldChecked(s[n],t),this.changeState(s[n],t?"check":"uncheck")}else for(let s=e.length;s>=0;s--){let n;if(n=this.getElement(1===e.length?e[s-1]:e[s]),f(n)){let o;if(o=e[s-e.length]?e[s-e.length].toString():e[s]?e[s].toString():null,""!==o&&t&&o)this.setValidCheckedNode(o),this.dynamicCheckState(o,t);else if(-1!==this.checkedNodes.indexOf(o)&&""!==o&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(o),1);let h=this.getChildNodes(this.treeData,o);if(h){for(let d=0;d<h.length;d++){let m=h[d][this.fields.id]?h[d][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(m)){this.checkedNodes.splice(this.checkedNodes.indexOf(m),1);let v=this.element.querySelector('[data-uid="'+m+'"]');v&&this.changeState(v,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(o)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1)}o&&this.dynamicCheckState(o,t),this.updateField(this.treeData,this.fields,o,"isChecked",null)}continue}let a=J("."+Vi+" ."+Fo,n);this.validateCheckNode(a,!t,n,null)}if(e)for(let s=0;s<e.length;s++){let n=e[s]?e[s].toString():"";t||this.updateField(this.treeData,this.fields,n,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()}updateFieldChecked(e,t){let i=U(e,"."+jt),s=i.getAttribute("data-uid");"true"===this.getNodeData(i).isChecked&&!t&&this.updateField(this.treeData,this.fields,s,"isChecked",null)}dynamicCheckState(e,t){if(1===this.dataType){let i=0,s=new ot(this.treeData).executeLocal((new kt).where(this.fields.id,"equal",e,!0));if(s[0]){let n=s[0][this.fields.id]?s[0][this.fields.id].toString():null,a=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,o=this.element.querySelector('[data-uid="'+a+'"]'),m=(o&&J("."+Vo,o),o&&J("."+ua,o),this.element.querySelector('[data-uid="'+n+'"]')),v=this.getChildNodes(this.treeData,a);if(v)for(let C=0;C<v.length;C++){let w=v[C][this.fields.id]?v[C][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(w)&&i++}-1!==this.checkedNodes.indexOf(e)&&o&&n===e&&this.autoCheck?this.changeState(o,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&m&&n===e&&!t?this.changeState(m,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&m&&n===e&&t?this.changeState(m,"check",null):-1===this.checkedNodes.indexOf(e)&&!m&&o&&n===e&&this.autoCheck&&0!==i?this.changeState(o,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!m&&o&&n===e&&this.autoCheck&&0===i?this.changeState(o,"uncheck",null):!m&&!o&&n===e&&this.autoCheck&&this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof ot&&this.isOffline){let i,s,n;for(let a=0;a<this.treeData.length;a++){i=this.treeData[a][this.fields.id]?this.treeData[a][this.fields.id].toString():"",s=this.element.querySelector('[data-uid="'+i+'"]'),n=s?J("."+ua,s):null,-1===this.checkedNodes.indexOf(i)&&s&&n&&!t&&this.changeState(s,"uncheck",null);let o=X(this.fields.child.toString(),this.treeData[a]);o&&this.updateChildIndeterminate(o,i,e,t,i)}}}updateIndeterminate(e,t){let n,i=this.getTreeData(e),s=0;1===this.dataType&&(n=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);let a=this.getChildNodes(this.treeData,n);if(a)for(let h=0;h<a.length;h++){let d=a[h][this.fields.id]?a[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(d)&&s++}let o=this.element.querySelector('[data-uid="'+n+'"]');o&&t||!t&&o&&-1===this.parentNodeCheck.indexOf(n)&&0!==s?this.changeState(o,"indeterminate",null):!t&&o&&-1===this.parentNodeCheck.indexOf(n)&&0===s?this.changeState(o,"uncheck",null):o||(t||-1!==this.checkedNodes.indexOf(n)||-1===this.parentNodeCheck.indexOf(n)?(t&&-1===this.checkedNodes.indexOf(n)&&-1===this.parentNodeCheck.indexOf(n)||!t&&-1!==this.checkedNodes.indexOf(n)&&-1===this.parentNodeCheck.indexOf(n)&&0!==s)&&this.parentNodeCheck.push(n):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n),1),this.updateIndeterminate(n,t),-1!==this.checkedNodes.indexOf(n)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(n),1))}updateChildIndeterminate(e,t,i,s,n){let a=0;for(let o=0;o<e.length;o++){let h=e[o][this.fields.id]?e[o][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(h)&&a++;let d=this.element.querySelector('[data-uid="'+t+'"]'),m=d?J("."+Vo,d):null,v=d?J("."+ua,d):null,C=this.element.querySelector('[data-uid="'+h+'"]'),w=C?J("."+ua,C):null;if(-1!==this.checkedNodes.indexOf(i)&&d&&h===i&&this.autoCheck)this.changeState(d,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(i)||!d||C||h!==i||s){if(-1===this.checkedNodes.indexOf(i)&&C&&h===i&&!s)this.changeState(C,"uncheck",null);else if(-1===this.checkedNodes.indexOf(i)&&m&&h===i&&this.autoCheck&&0===a&&!s)m.classList.remove(Vo);else if(-1===this.checkedNodes.indexOf(i)&&!C&&v&&h===i&&0===a)this.changeState(d,"uncheck",null);else if(-1===this.checkedNodes.indexOf(h)&&C&&w&&0===a)this.changeState(C,"uncheck",null);else if(!C&&!d&&h===i||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){let k=this.element.querySelector('[data-uid="'+n+'"]');s&&0!==a?this.changeState(k,"indeterminate",null):s&&a===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):!s&&0===a&&-1!==this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.changeState(d,this.autoCheck?"uncheck":0!==a?"indeterminate":"uncheck",null);let S=X(this.fields.child.toString(),e[o]);S&&this.updateChildIndeterminate(S,h,i,s,n)}}changeState(e,t,i,s,n,a){let o,h=U(e,"."+jt);e===h&&(e=J("."+Fo,h)),s?this.nodeCheckAction(e,t,h,o,i,s,n,a):(this.checkActionNodes=[],o=this.getCheckEvent(h,t,i),this.trigger("nodeChecking",o,d=>{d.cancel||this.nodeCheckAction(e,t,h,d,i,s,n,a)}))}nodeCheckAction(e,t,i,s,n,a,o,h){let d,m=e.getElementsByClassName(Oh)[0];if("check"!==t||m.classList.contains(ua)?"uncheck"===t&&(m.classList.contains(ua)||m.classList.contains(Vo))?(H([m],[ua,Vo]),this.removeCheck(i),d="false"):"indeterminate"===t&&this.autoCheck&&(m.classList.remove(ua),m.classList.add(Vo),this.removeCheck(i),d="mixed"):(m.classList.remove(Vo),m.classList.add(ua),this.addCheck(i),d="true"),d="check"===t?"true":"uncheck"===t?"false":d,f(d)||e.setAttribute("aria-checked",d),o){let v=[].concat([],this.checkActionNodes);s=this.getCheckEvent(i,t,n),pt(a)&&(s.data=v)}void 0!==h&&this.ensureStateChange(i,h),a||f(d)||(e.setAttribute("aria-checked",d),s.data[0].checked=d,this.trigger("nodeChecked",s),this.checkActionNodes=[])}addCheck(e){let t=e.getAttribute("data-uid");!f(t)&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t)}removeCheck(e){let t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)}getCheckEvent(e,t,i){this.checkActionNodes.push(this.getNodeData(e));let s=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!f(i),node:e,data:s}}finalize(){let e=J("."+Vi,this.element);if(!f(e)){e.setAttribute("role",Pf.treeRole),this.setMultiSelect(this.allowMultiSelection);let t=J("."+jt,this.element);t&&(L([t],_f),this.updateIdAttr(null,t)),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}}doExpandAction(){let e=this.expandedNodes;if(this.isInitalExpand&&e.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof ot)this.expandGivenNodes(e);else{for(let t=0;t<e.length;t++){let i=J('[data-uid="'+e[t]+'"]',this.element);if(f(i))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{let s=J("."+xs,J("."+Dr,i));f(s)||this.expandAction(i,s,null)}}this.afterFinalized()}else this.afterFinalized()}expandGivenNodes(e){let t=this;this.expandCallback(e[this.index],()=>{t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})}expandCallback(e,t){let i=J('[data-uid="'+e+'"]',this.element);if(f(i))t();else{let s=J("."+xs,J("."+Dr,i));f(s)?t():this.expandAction(i,s,null,!1,t)}}afterFinalized(){this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0}doSelectionAction(){let e=Xe("."+Ud,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(let i=0;i<t.length;i++){let s=J('[data-uid="'+t[i]+'"]',this.element);if(s&&!s.classList.contains("e-active")?this.selectNode(s,null,!0):this.selectedNodes.push(t[i]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);H(e,Ud)}selectGivenNodes(e){for(let t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);}clickHandler(e){let t=e.originalEvent.target;if(A.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){let i=t.classList,s=U(t,"."+jt);if(!s)return;if(3!==e.originalEvent.which){let n=J(".e-ripple-element",s),a=J("."+Gn,s);if(this.removeHover(),this.setFocusElement(s),this.showCheckBox&&!s.classList.contains("e-disable")){let o=U(t,"."+Fo);if(!f(o)){let h=J("."+Oh,o);return this.validateCheckNode(o,h.classList.contains(ua),s,e.originalEvent),void this.triggerClickEvent(e.originalEvent,s)}}i.contains(xs)?this.expandAction(s,t,e):i.contains($n)?this.collapseNode(s,t,e):n&&a?a.classList.contains(qA)&&a.classList.contains(xs)?this.expandAction(s,a,e):a.classList.contains(qA)&&a.classList.contains($n)?this.collapseNode(s,a,e):!i.contains(Vi)&&!i.contains(jt)&&this.toggleSelect(s,e.originalEvent,!1):!i.contains(Vi)&&!i.contains(jt)&&this.toggleSelect(s,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,s)}}nodeCheckedEvent(e,t,i){U(e,"."+jt);let n=this.getCheckEvent(e,t?"uncheck":"check",i);n.data=n.data.splice(0,n.data.length-1),this.trigger("nodeChecked",n)}triggerClickEvent(e,t){this.trigger("nodeClicked",{event:e,node:t})}expandNode(e,t,i){if(this.renderReactTemplates(),t.classList.contains(WA)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==i||!0===i&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){H([t],xs),L([t],$n);let s=0,n=0,a=this,o=J("."+Vi,e),h=e;this.setHeight(h,o);let d=J("."+jt+"."+lo,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(o,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:m=>{h.style.overflow="hidden",!f(d)&&d instanceof HTMLElement&&d.classList.add(YA),s=h.offsetHeight,n=J("."+Dr,e).offsetHeight},progress:m=>{m.element.style.display="block",a.animateHeight(m,s,n)},end:m=>{m.element.style.display="block",!f(d)&&d instanceof HTMLElement&&d.classList.remove(YA),this.expandedNode(h,o,t)}}):this.expandedNode(h,o,t)}}else J("."+Vi,e).style.display="none",this.fields.dataSource instanceof ot&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")}expandedNode(e,t,i){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",H([i],Ih),this.addExpand(e),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))}addExpand(e){e.setAttribute("aria-expanded","true"),H([e],h1);let t=e.getAttribute("data-uid");!f(t)&&-1===this.expandedNodes.indexOf(t)&&this.expandedNodes.push(t)}collapseNode(e,t,i){if(t.classList.contains(Ih))return;let s;L([t],Ih),this.isLoaded?(s=this.getExpandEvent(e,i),this.trigger("nodeCollapsing",s,n=>{n.cancel?H([t],Ih):this.nodeCollapseAction(e,t,n)})):this.nodeCollapseAction(e,t,s)}nodeCollapseAction(e,t,i){H([t],$n),L([t],xs);let s=0,n=0,a=this,o=J("."+Vi,e),h=e,d=J("."+jt+"."+lo,e);this.isAnimate?this.aniObj.animate(o,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:m=>{h.style.overflow="hidden",!f(d)&&d instanceof HTMLElement&&d.classList.add(YA),s=J("."+Dr,e).offsetHeight,n=h.offsetHeight},progress:m=>{a.animateHeight(m,s,n)},end:m=>{m.element.style.display="none",!f(d)&&d instanceof HTMLElement&&d.classList.remove(YA),this.collapsedNode(h,o,t,i)}}):this.collapsedNode(h,o,t,i)}collapsedNode(e,t,i,s){t.style.display="none",e.style.overflow="",e.style.height="",H([i],Ih),this.removeExpand(e),this.isLoaded&&(s=this.getExpandEvent(e,null),this.trigger("nodeCollapsed",s))}removeExpand(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);let i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)}disableExpandAttr(e){e.setAttribute("aria-expanded","false"),L([e],h1)}setHeight(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""}animateHeight(e,t,i){e.element.parentElement.style.height=(e.duration-e.timeStamp)/e.duration*(i-t)+t+"px"}renderChildNodes(e,t,i,s){let a,n=J("div."+Gn,e);if(!f(n))if(this.showSpinner(n),this.fields.dataSource instanceof ot){let o=this.parents(e,"."+Vi).length,h=this.getChildFields(this.fields,o,1);if(f(h)||f(h.dataSource))return oe(n),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof ot&&this.isOffline?(this.treeList.pop(),a=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(a,h,n,e,t,i,s)):h.dataSource.executeQuery(this.getQuery(h,e.getAttribute("data-uid"))).then(d=>{this.treeList.pop(),a=d.result,1===this.dataType&&(this.dataType=2),this.loadChild(a,h,n,e,t,i,s)}).catch(d=>{this.trigger("actionFailure",{error:d})})}else{if(a=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(a),f(a)||0===a.length)return oe(n),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(Ti.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(e,n,s),this.setSelectionForChildNodes(a),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(a),this.renderSubChild(e,t,s)}}loadChild(e,t,i,s,n,a,o){if(this.currentLoadData=e,f(e)||0===e.length)oe(i),this.removeExpand(s,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof ot&&!this.isOffline){let h=s.getAttribute("data-uid");At("child",e,this.getNodeObject(h))}this.listBaseOption.ariaAttributes.level=parseFloat(s.getAttribute("aria-level"))+1,s.appendChild(Ti.createList(this.createElement,e,this.listBaseOption)),this.expandNode(s,i,o),this.setSelectionForChildNodes(e),this.ensureCheckNode(s),this.finalizeNode(s),this.disableTreeNodes(e),this.renderSubChild(s,n,o)}a&&a(),0===this.treeList.length&&!this.isLoaded&&this.finalize()}disableTreeNodes(e){let t=0;for(;t<e.length;){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}}setSelectionForChildNodes(e){let t;for(t=0;t<e.length;t++){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}}ensureCheckNode(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null}getFields(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)}getChildFields(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)}getChildMapper(e){return"string"==typeof e.child||f(e.child)?e:e.child}getChildNodes(e,t,i=!1){let s;if(f(e))return s;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child)for(let n=0,a=e.length;n<a;n++){let o=X(this.fields.id,e[n]);if(o&&o.toString()===t)return X(this.fields.child,e[n]);if(!f(X(this.fields.child,e[n]))&&(s=this.getChildNodes(X(this.fields.child,e[n]),t),void 0!==s))break}return s}getChildGroup(e,t,i){let s;if(f(e))return s;for(let n=0,a=e.length;n<a;n++){if(f(e[n][0])||f(X(this.fields.parentID,e[n][0])))return i?e[n]:[];if(X(this.fields.parentID,e[n][0]).toString()===t)return e[n]}return s}renderSubChild(e,t,i){if(t){let s=Xe("."+xs,e);for(let n=0,a=s.length;n<a;n++){let o=s[n];if(e.querySelector(".e-icons")!==s[n]){let h=U(o,"."+jt);this.expandArgs=this.getExpandEvent(h,null),!0!==i&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(h,t,null,i)}}}}toggleSelect(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))}isActive(e){return!!e.classList.contains(lo)}selectNode(e,t,i){if(f(e)||!this.allowMultiSelection&&this.isActive(e)&&!f(t))return void this.setFocusElement(e);let s;this.isLoaded?(s=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",s,n=>{n.cancel||this.nodeSelectAction(e,t,n,i)})):this.nodeSelectAction(e,t,s,i)}nodeSelectAction(e,t,i,s){if((!this.allowMultiSelection||!s&&(!t||t&&!t.ctrlKey))&&this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);let n=this.liList.indexOf(this.startNode),a=this.liList.indexOf(e);if(n>a){let o=n;n=a,a=o}for(let o=n;o<=a;o++){let h=this.liList[o];sn(h)&&!h.classList.contains("e-disable")&&this.addSelect(h)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i))}unselectNode(e,t){let i;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,s=>{s.cancel||this.nodeUnselectAction(e,s)})):this.nodeUnselectAction(e,i)}nodeUnselectAction(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))}setFocusElement(e){if(!f(e)){let t=this.getFocusedNode();t&&H([t],_f),L([e],_f),this.updateIdAttr(t,e)}}addSelect(e){e.setAttribute("aria-selected","true"),L([e],lo);let t=e.getAttribute("data-uid");!f(t)&&-1===this.selectedNodes.indexOf(t)&&this.selectedNodes.push(t)}removeSelect(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),H([e],lo);let t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)}removeSelectAll(){let e=this.element.querySelectorAll("."+lo);for(let t of e)this.allowMultiSelection?t.setAttribute("aria-selected","false"):t.removeAttribute("aria-selected");H(e,lo),this.setProperties({selectedNodes:[]},!0)}getSelectEvent(e,t,i){let s=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!f(i),node:e,nodeData:s}}setExpandOnType(){this.expandOnType="Auto"===this.expandOn?G.isDevice?"Click":"DblClick":this.expandOn}expandHandler(e){let t=e.originalEvent.target;!t||t.classList.contains(Wb)||t.classList.contains(Ql)||t.classList.contains(Vi)||t.classList.contains(jt)||t.classList.contains(Gn)||this.showCheckBox&&U(t,"."+Fo)||this.expandCollapseAction(U(t,"."+jt),e)}expandCollapseAction(e,t){let i=J("div."+Gn,e);if(i&&!i.classList.contains(Ih)){let s=i.classList;s.contains(xs)?this.expandAction(e,i,t):s.contains($n)&&this.collapseNode(e,i,t)}}expandAction(e,t,i,s,n){t.classList.contains(Ih)||(L([t],Ih),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,i),this.trigger("nodeExpanding",this.expandArgs,a=>{a.cancel?H([t],Ih):this.nodeExpandAction(e,t,s,n)})):this.nodeExpandAction(e,t,s,n))}nodeExpandAction(e,t,i,s){let n=J("."+Vi,e);if(n&&"UL"===n.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,i,s);let a=Xe("."+jt,e);for(let o=0;o<a.length;o++){let h=this.getId(a[o]);if(-1!==this.expandChildren.indexOf(h)&&void 0!==this.expandChildren){let d=J("."+xs,J("."+Dr,a[o]));f(d)||this.expandAction(a[o],d,null),this.expandChildren.splice(this.expandChildren.indexOf(h),1)}}}}keyActionHandler(e){let t=e.target,i=this.getFocusedNode();if(t&&t.classList.contains(Wb)){let n=t;"enter"===e.action?(n.blur(),this.element.focus(),L([i],Kl)):"escape"===e.action&&(n.value=this.oldText,n.blur(),this.element.focus(),L([i],Kl))}else e.preventDefault(),this.trigger("keyPress",{cancel:!1,event:e,node:i},n=>{if(!n.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(i,e);break;case"f2":this.allowEditing&&!i.classList.contains("e-disable")&&this.createTextbox(i,e);break;case"ctrlA":if(this.allowMultiSelection){let a=Xe("."+jt+":not(."+lo+")",this.element);this.selectGivenNodes(a)}}})}navigateToFocus(e){let t=this.getFocusedNode().querySelector("."+Dr),i=t.getBoundingClientRect(),s=this.getScrollParent(this.element);if(!f(s)){let a=s.getBoundingClientRect();i.bottom>a.bottom?s.scrollTop+=i.bottom-a.bottom:i.top<a.top&&(s.scrollTop-=a.top-i.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)}isVisibleInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}getScrollParent(e){return f(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)}shiftKeySelect(e,t){if(this.allowMultiSelection){let i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)}checkNode(e){let t=this.getFocusedNode(),i=J("."+Fo,t),s=J(" ."+Oh,i).classList.contains(ua);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(i,s,t,e)}validateCheckNode(e,t,i,s){let n=U(e,"."+jt);this.checkActionNodes=[];let a=t?"false":"true";f(a)||e.setAttribute("aria-checked",a);let o=this.getCheckEvent(n,t?"uncheck":"check",s);this.trigger("nodeChecking",o,h=>{h.cancel||this.nodeCheckingAction(e,t,i,h,s)})}nodeCheckingAction(e,t,i,s,n){if(-1===this.checkedElement.indexOf(i.getAttribute("data-uid"))&&(this.checkedElement.push(i.getAttribute("data-uid")),this.autoCheck)){let a=this.getChildNodes(this.treeData,i.getAttribute("data-uid"));null!==a?this.allCheckNode(a,this.checkedElement,null,null,!1):a=null}if(this.changeState(e,t?"uncheck":"check",n,!0),this.autoCheck){let a;this.ensureChildCheckState(i),this.ensureParentCheckState(U(U(i,"."+Vi),"."+jt)),"check"===s.action?a=!0:"uncheck"===s.action&&(a=!1),this.ensureStateChange(i,a)}this.nodeCheckedEvent(e,t,n)}ensureStateChange(e,t){let i=J("."+Vi,e),s=e.getAttribute("data-uid"),n=this.fields;if(1===this.dataType&&this.autoCheck){let a=new ot(this.treeData).executeLocal((new kt).where(n.parentID,"equal",s,!0));for(let o=0;o<a.length;o++){let h=a[o][this.fields.id]?a[o][this.fields.id].toString():null,d=a[o][this.fields.isChecked]?a[o][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(h)){this.checkedNodes.push(h);let m=this.getChildNodes(this.treeData,h);this.getChildItems(m,t),-1!==this.parentNodeCheck.indexOf(h)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1)}else if(-1===this.checkedNodes.indexOf(s)&&null===i&&-1!==this.checkedNodes.indexOf(h)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(h),1),"true"===d&&this.updateField(this.treeData,this.fields,h,"isChecked",null),-1===this.checkedNodes.indexOf(s)&&null===i||-1!==this.parentNodeCheck.indexOf(h)){let m=this.getChildNodes(this.treeData,h);this.getChildItems(m,t),-1!==this.parentNodeCheck.indexOf(h)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1)}}else{let m=this.getChildNodes(this.treeData,h);this.getChildItems(m,t)}}}else if(1!==this.dataType||this.autoCheck){let a=this.getChildNodes(this.treeData,s);a&&this.childStateChange(a,s,i,t)}else if(t)for(let a=0;a<this.treeData.length;a++){let o=this.treeData[a][this.fields.id]?this.treeData[a][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o)}else{let a=new ot(this.treeData).executeLocal((new kt).where(n.isChecked,"equal",!0,!1));for(let o=0;o<a.length;o++){let h=a[o][this.fields.id]?a[o][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(h)&&this.checkedNodes.splice(this.checkedNodes.indexOf(h),1),this.updateField(this.treeData,this.fields,h,"isChecked",null)}this.checkedNodes=[]}}getChildItems(e,t){for(let i=0;i<e.length;i++){let s=e[i][this.fields.id]?e[i][this.fields.id].toString():null,n=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1!==this.checkedNodes.indexOf(s)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(s),1),-1===this.checkedNodes.indexOf(s)&&t&&this.checkedNodes.push(s),"true"===n&&!t&&this.updateField(this.treeData,this.fields,s,"isChecked",null);let a=this.getChildNodes(this.treeData,s);a.length>0&&this.getChildItems(a,t)}}childStateChange(e,t,i,s){for(let n=0;n<e.length;n++){let a=e[n][this.fields.id]?e[n][this.fields.id].toString():"",o=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(a)?(this.checkedNodes.push(a),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)):-1===this.checkedNodes.indexOf(t)&&-1!==this.checkedNodes.indexOf(a)&&!s&&(this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),"true"===o&&this.updateField(this.treeData,this.fields,a,"isChecked",null)):this.autoCheck||(s?-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a):(-1!==this.checkedNodes.indexOf(a)&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),this.updateField(this.treeData,this.fields,a,"isChecked",null),this.checkedNodes=[]));let h=this.getChildNodes([e[n]],a);h&&this.childStateChange(h,t,i,s)}}allCheckNode(e,t,i,s,n){if(e)for(let a=0;a<e.length;a++){let o=X(this.fields.id,e[a]),h=this.element.querySelector('[data-uid="'+o+'"]');!1!==n&&-1===this.checkedElement.indexOf(o.toString())&&(null===h&&!f(e[a][this.fields.isChecked])&&-1===t.indexOf(o.toString())||0===s||2===i)&&(!1!==e[a][this.fields.isChecked]||2===i?t.push(o.toString()):s=null,s=!1!==e[a][this.fields.isChecked]||2===i?0:null),-1===t.indexOf(o.toString())&&f(i)&&t.push(o.toString());let d=X(this.fields.child.toString(),e[a]);if(!0===X(this.fields.hasChildren,e[a])||d){let v,m=X(this.fields.id,e[a]);v=1===this.dataType?this.getChildNodes(this.treeData,m.toString()):d,v&&(f(n)?this.allCheckNode(v,t,i,s):this.allCheckNode(v,t,i,s,n),s=null)}s=null}}openNode(e,t){let i=this.getFocusedNode(),s=J("div."+Gn,i);if(e){if(!s)return;s.classList.contains(xs)?this.expandAction(i,s,t):this.focusNextNode(i,!0)}else if(s&&s.classList.contains($n))this.collapseNode(i,s,t);else{let n=U(U(i,"."+Vi),"."+jt);if(!n)return;n.classList.contains("e-disable")||(this.setFocus(i,n),this.navigateToFocus(!0))}}navigateNode(e){let t=this.getFocusedNode();this.focusNextNode(t,e)}navigateRootNode(e){let t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))}getFocusedNode(){let e,t=J("."+jt+"."+_f,this.element);return f(t)&&(e=J("."+jt,this.element)),f(t)?f(e)?this.element.firstElementChild:e:t}focusNextNode(e,t){let i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){let s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")||null==i.nextSibling&&s.classList.contains(Dr)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}}getNextNode(e){let i,t=this.liList.indexOf(e);do{if(t++,i=this.liList[t],f(i))return e}while(!sn(i));return i}getPrevNode(e){let i,t=this.liList.indexOf(e);do{if(t--,i=this.liList[t],f(i))return e}while(!sn(i));return i}getRootNode(){let t,e=0;do{t=this.liList[e],e++}while(!sn(t));return t}getEndNode(){let t,e=this.liList.length-1;do{t=this.liList[e],e--}while(!sn(t));return t}setFocus(e,t){H([e],[Kl,_f]),t.classList.contains("e-disable")||(L([t],[Kl,_f]),this.updateIdAttr(e,t))}updateIdAttr(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")}focusIn(){this.mouseDownStatus||L([this.getFocusedNode()],Kl),this.mouseDownStatus=!1}focusOut(){H([this.getFocusedNode()],Kl)}onMouseOver(e){let t=e.target,i=t.classList,s=U(t,"."+jt);!s||i.contains(Vi)||i.contains(jt)?this.removeHover():s&&!s.classList.contains("e-disable")&&this.setHover(s)}setHover(e){e.classList.contains(Kl)||(this.removeHover(),L([e],Kl))}onMouseLeave(e){this.removeHover()}removeHover(){let e=Xe("."+Kl,this.element);e&&e.length&&H(e,Kl)}getNodeData(e,t){if(!f(e)&&e.classList.contains(jt)&&!f(U(e,"."+jA))&&U(e,"."+jA).classList.contains(Ql)){let i=e.getAttribute("data-uid"),s=this.getText(e,t),n=U(e.parentNode,"."+jt),a=n?n.getAttribute("data-uid"):null,o=e.classList.contains(lo),h="true"===e.getAttribute("aria-expanded"),d=null!==e.getAttribute("aria-expanded")||null!=(J("."+xs,e)||J("."+$n,e)),m=null;return this.showCheckBox&&(m=J("."+Fo,e).getAttribute("aria-checked")),{id:i,text:s,parentID:a,selected:o,expanded:h,isChecked:m,hasChildren:d}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}}getText(e,t){if(t){let i=this.getNodeObject(e.getAttribute("data-uid")),s=parseFloat(e.getAttribute("aria-level"));return X(this.getFields(this.fields,s,1).text,i)}return J("."+Hu,e).textContent}getExpandEvent(e,t){let i=this.getNodeData(e);return{cancel:!1,isInteracted:!f(t),node:e,nodeData:i,event:t}}renderNodeTemplate(e,t,i){let s=this.nodeTemplateFn(e,this,"nodeTemplate"+i,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t);s&&(s=Array.prototype.slice.call(s),Ge(s,t))}destroyTemplate(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])}reRenderNodes(){this.updateListProp(this.fields),G.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",f(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)}setCssClass(e,t){!f(e)&&""!==e&&H([this.element],e.split(" ")),!f(t)&&""!==t&&L([this.element],t.split(" "))}editingHandler(e){let t=e.target;if(!(!t||t.classList.contains(Ql)||t.classList.contains(Vi)||t.classList.contains(jt)||t.classList.contains(Gn)||t.classList.contains(Wb)||t.classList.contains(UA))){let i=U(t,"."+jt);this.createTextbox(i,e)}}createTextbox(e,t){let i=J("."+Wd,this.element);i&&i.blur();let s=J("."+Hu,e);this.updateOldText(e);let n=this.createElement("input",{className:Wd,attrs:{value:this.oldText}}),a=this.getEditEvent(e,null,n.outerHTML);this.trigger("nodeEditing",a,o=>{if(!o.cancel){let d="width:"+(s.offsetWidth+5)+"px";L([e],Rf),f(this.nodeTemplateFn)||this.destroyTemplate(e),s.innerHTML=a.innerHtml;let m=J("."+Wd,s);this.inputObj=me.createInput({element:m,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",d),m.focus(),m.setSelectionRange(0,m.value.length),this.wireInputEvents(m)}})}updateOldText(e){let t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);let i=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,i,1),this.oldText=X(this.editFields.text,this.editData)}inputFocusOut(e){if(!J("."+Wd,this.element))return;let t=e.target,i=t.value,s=U(t,"."+Hu),n=U(t,"."+jt);oe(this.inputObj.container),this.fields.dataSource instanceof ot&&!this.isOffline?this.crudOperation("update",null,n,i,null,null,!0):this.appendNewText(n,s,i,!0)}appendNewText(e,t,i,s){let n=this.getEditEvent(e,i,null);this.trigger("nodeEdited",n,a=>{this.updateText(e,t,i=a.cancel?a.oldText:a.newText,s),a.oldText!==i&&this.triggerEvent()})}updateText(e,t,i,s){let n=At(this.editFields.text,i,this.editData);if(f(this.nodeTemplateFn))t.innerText=i;else{t.innerText="";let a=e.getAttribute("data-uid");this.renderNodeTemplate(n,t,a),this.renderReactTemplates()}s&&(H([e],Rf),t.focus())}getElement(e){return f(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?vd(e):null}getId(e){return f(e)?null:"string"==typeof e?e:"object"==typeof e?vd(e).getAttribute("data-uid"):null}getEditEvent(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}}getNodeObject(e){let t;if(f(e))return t;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(let i=0,s=this.treeData.length;i<s;i++){let n=X(this.fields.id,this.treeData[i]);if(!f(this.treeData[i])&&!f(n)&&n.toString()===e)return this.treeData[i]}return t}getChildNodeObject(e,t,i){let s;if(f(e))return s;for(let n=0,a=e.length;n<a;n++){let o=X(t.id,e[n]);if(e[n]&&o&&o.toString()===i)return e[n];if("string"!=typeof t.child||f(X(t.child,e[n]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[n]))&&(s=this.getChildNodeObject(X("child",e[n]),this.getChildMapper(t),i),void 0!==s))break}else{let h=X(t.child,e[n]);if(s=this.getChildNodeObject(h,this.getChildMapper(t),i),void 0!==s)break}}return s}setDragAndDrop(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()}initializeDrag(){let e,t=this;this.dragObj=new ms(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+Dr,helper:i=>{this.dragTarget=i.sender.target;let s=U(this.dragTarget,"."+Ql),n=U(this.dragTarget,"."+Dr);if(this.dragLi=U(this.dragTarget,"."+jt),this.fullRowSelect&&!n&&this.dragTarget.classList.contains(Mh)&&(n=this.dragTarget.nextElementSibling),!this.dragTarget||!i.element.isSameNode(s)||!n||this.dragTarget.classList.contains(Ql)||this.dragTarget.classList.contains(Vi)||this.dragTarget.classList.contains(jt)||this.dragLi.classList.contains("e-disable"))return!1;let a=n.cloneNode(!0);if(f(J("div."+Gn,a))){let d=t.createElement("div",{className:Gn+" "+xs});a.insertBefore(d,a.children[0])}e=t.createElement("div",{className:"e-drag-item "+Ql+" "+this.cssClass+" "+(this.enableRtl?"e-rtl":"")}),e.appendChild(a);let h=this.selectedNodes.length;if(h>1&&this.allowMultiSelection&&this.dragLi.classList.contains(lo)){let d=t.createElement("span",{className:"e-drop-count",innerHTML:""+h});e.appendChild(d)}return document.body.appendChild(e),document.body.style.cursor="",this.dragData=this.getNodeData(this.dragLi),e},dragStart:i=>{L([this.element],Lf);let n,s=U(i.target,".e-list-item");s&&(n=parseInt(s.getAttribute("aria-level"),10));let a=this.getDragEvent(i.event,this,null,i.target,null,e,n);a.draggedNode.classList.contains(Rf)?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.trigger("nodeDragStart",a,o=>{o.cancel?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.dragStartAction=!0})},drag:i=>{this.dragObj.setProperties({cursorAt:{top:!f(i.event.targetTouches)||G.isDevice?60:-20}}),this.dragAction(i,e)},dragStop:i=>{H([this.element],Lf),this.removeVirtualEle();let s=i.target,a=U(s,"."+l1);(!s||!a)&&(oe(i.helper),document.body.style.cursor="");let h,o=U(s,".e-list-item");o&&(h=parseInt(o.getAttribute("aria-level"),10));let d=this.getDragEvent(i.event,this,s,s,null,i.helper,h);d.preventTargetExpand=!1,this.trigger("nodeDragStop",d,m=>{this.dragParent=m.draggedParentNode,this.preventExpand=m.preventTargetExpand,m.cancel&&(i.helper.parentNode&&oe(i.helper),document.body.style.cursor=""),this.dragStartAction=!1})}}),this.dropObj=new hu(this.element,{out:i=>{!f(i)&&!i.target.classList.contains(Ub)&&(document.body.style.cursor="not-allowed")},over:i=>{document.body.style.cursor=""},drop:i=>{this.dropAction(i)}})}dragCancelAction(e){oe(e),H([this.element],Lf),this.dragStartAction=!1}dragAction(e,t){let i=U(e.target,"."+l1),s=U(e.target,"."+Dr),n=J("div."+Gn,t);H([n],[lw,cw,qb,zb]),this.removeVirtualEle(),document.body.style.cursor="";let a=e.target.classList;if(this.fullRowSelect&&!s&&!f(a)&&a.contains(Mh)&&(s=e.target.nextElementSibling),i){let m=U(e.target,"."+jt),v=U(e.target,"."+Fo),C=U(e.target,"."+$n),w=U(e.target,"."+xs);if(!i.classList.contains(Ql)||s&&!m.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,m))if(this.hasTemplate&&m){let S=J(this.fullRowSelect?"."+Mh:"."+Dr,m);e&&!w&&!C&&e.event.offsetY<7&&!v||w&&e.event.offsetY<5||C&&e.event.offsetX<3?this.appendIndicator(m,n,this.fullRowSelect?1:0):e&&!w&&!C&&!v&&S&&e.event.offsetY>S.offsetHeight-10||w&&e.event.offsetY>19||C&&e.event.offsetX>19?this.appendIndicator(m,n,this.fullRowSelect?2:1):L([n],lw)}else m&&e&&!w&&!C&&e.event.offsetY<7&&!v||w&&e.event.offsetY<5||C&&e.event.offsetX<3?this.appendIndicator(m,n,this.fullRowSelect?1:0):m&&e&&!w&&!C&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!v||w&&e.event.offsetY>19||C&&e.event.offsetX>19?this.appendIndicator(m,n,this.fullRowSelect?2:1):L([n],lw);else"LI"!==e.target.nodeName||m.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,m)?e.target.classList.contains(Ub)?L([n],cw):L([n],qb):(L([n],cw),this.renderVirtualEle(e))}else L([n],zb),document.body.style.cursor="not-allowed";let h,o=U(e.target,".e-list-item");o&&(h=parseInt(o.getAttribute("aria-level"),10));let d=this.getDragEvent(e.event,this,e.target,e.target,null,t,h);d.dropIndicator&&H([n],d.dropIndicator),this.trigger("nodeDragging",d),d.dropIndicator&&L([n],d.dropIndicator)}appendIndicator(e,t,i){L([t],cw);let s=this.createElement("div",{className:Ub});e.insertBefore(s,e.children[i])}dropAction(e){let s,n,o,t=e.event.offsetY,i=e.target,a=!1;o=e.dragData.draggable;for(let h=0;h<o.ej2_instances.length;h++)if(o.ej2_instances[h]instanceof aw){s=o.ej2_instances[h];break}if(s&&s.dragTarget){let d=U(s.dragTarget,"."+jt),m=U(i,"."+jt);if(null==m&&i.classList.contains(Ql)&&(m=i.firstElementChild),oe(e.droppedElement),document.body.style.cursor="",!m||m.isSameNode(d)||this.isDescendant(d,m))return void(this.fields.dataSource instanceof ot||(this.preventExpand=!1));if(s.allowMultiSelection&&d.classList.contains(lo)){let v=Xe("."+lo,s.element);if(e.target.offsetHeight<=33&&t>e.target.offsetHeight-10&&t>6)for(let C=v.length-1;C>=0;C--)m.isSameNode(v[C])||this.isDescendant(v[C],m)||this.appendNode(i,v[C],m,e,s,t);else for(let C=0;C<v.length;C++)m.isSameNode(v[C])||this.isDescendant(v[C],m)||this.appendNode(i,v[C],m,e,s,t)}else this.appendNode(i,d,m,e,s,t);n=parseInt(d.getAttribute("aria-level"),10),a=!0}this.fields.dataSource instanceof ot||(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,s,i,e.target,e.dragData.draggedElement,null,n,a)),s.element.id!==this.element.id&&s.triggerEvent(),this.triggerEvent()}appendNode(e,t,i,s,n,a){let o=U(e,"."+Fo),h=U(s.target,"."+$n),d=U(s.target,"."+xs);t.classList.contains("e-disable")||o||!(d&&s.event.offsetY<5||h&&s.event.offsetX<3||d&&s.event.offsetY>19||h&&s.event.offsetX>19||!d&&!h)?this.dropAsChildNode(t,i,n,null,s,a,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,n):e.firstElementChild&&e.classList.contains(Ql)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,s,n):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,i,s,n):this.dropAsChildNode(t,i,n,null,s,a)}dropAsSiblingNode(e,t,i,s){let h,n=U(t,"."+Vi),a=U(e,"."+Vi),o=U(a,"."+jt);if(i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-2?h=!1:i.event.offsetY<2?h=!0:(i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible"))&&(i.event.offsetY<5||i.event.offsetX<3?h=!0:(i.event.offsetY>15||i.event.offsetX>17)&&(h=!1)),i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible")){let d=i.target.closest("li");n.insertBefore(e,h?d:d.nextElementSibling)}else n.insertBefore(e,h?i.target:i.target.nextElementSibling);this.moveData(e,t,n,h,s),this.updateElement(a,o),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())}dropAsChildNode(e,t,i,s,n,a,o){let v,h=U(e,"."+Vi),d=U(h,"."+jt),m=U(t,"."+Vi);if(n&&n.target&&(v=J(this.fullRowSelect?"."+Mh:"."+Dr,t)),n&&a<7&&!o)m.insertBefore(e,t),this.moveData(e,t,m,!0,i);else if(n&&n.target.offsetHeight>0&&a>n.target.offsetHeight-10&&!o&&!this.hasTemplate)m.insertBefore(e,t.nextElementSibling),this.moveData(e,t,m,!1,i);else if(this.hasTemplate&&v&&a>v.offsetHeight-10&&!o)m.insertBefore(e,t.nextElementSibling),this.moveData(e,t,m,!1,i);else{let C=this.expandParent(t),w=C.childNodes[s];C.insertBefore(e,w),this.moveData(e,w,C,!0,i)}this.updateElement(h,d),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())}moveData(e,t,i,s,n){let a=U(i,"."+jt),o=this.getId(e),h=n.updateChildField(n.treeData,n.fields,o,null,null,!0),d=this.getId(t),m=this.getDataPos(this.treeData,this.fields,d),v=this.getId(a);if(1===this.dataType){this.updateField(this.treeData,this.fields,v,"hasChildren",!0);let C=f(m)?this.treeData.length:s?m:m+1;if(f(v)&&!this.hasPid)delete h[0][this.fields.parentID];else{let w=this.isNumberTypeId?parseFloat(v):v;At(this.fields.parentID,w,h[0])}if(this.treeData.splice(C,0,h[0]),n.element.id!==this.element.id){let w=n.removeChildNodes(o);C++;for(let S=0,k=w.length;S<k;S++)this.treeData.splice(C,0,w[S]),C++;n.groupedData=n.getGroupedData(n.treeData,n.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,v,h,s?m:m+1)}expandParent(e){let t=J("div."+Gn,e);t&&t.classList.contains(xs)&&!0!==this.preventExpand&&this.expandAction(e,t,null);let i=J("."+Vi,e);if(!0===this.preventExpand&&!i&&t&&this.renderChildNodes(e),i=J("."+Vi,e),!f(i)&&!0===this.preventExpand&&(i.style.display="none"),!f(i)&&!1===this.preventExpand&&(i.style.display="block"),f(i)&&!0===this.preventExpand){f(t)&&Ti.generateIcon(this.createElement,e,xs,this.listBaseOption);let s=J("div."+Gn,e);s&&s.classList.add("e-icon-expandable"),i=Ti.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),s?H([s],$n):Ti.generateIcon(this.createElement,e,xs,this.listBaseOption),e.setAttribute("aria-expanded","false"),i.style.display="none"}if(f(i)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),f(t)&&Ti.generateIcon(this.createElement,e,$n,this.listBaseOption);let s=J("div."+Gn,e);s||(Ti.generateIcon(this.createElement,e,$n,this.listBaseOption),s=J("div."+Gn,e)),H([s],xs),i=Ti.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return i}updateElement(e,t){if(t&&0===e.childElementCount){let i=J("div."+Gn,t);oe(e),oe(i);let s=this.getId(t);this.updateField(this.treeData,this.fields,s,"hasChildren",!1),this.removeExpand(t,!0)}}updateAriaLevel(e){let t=this.parents(e,"."+Vi).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(J("."+Vi,e),t+1)}updateChildAriaLevel(e,t){if(!f(e)){let i=e.childNodes;for(let s=0,n=i.length;s<n;s++){let a=i[s];a.setAttribute("aria-level",""+t),this.updateChildAriaLevel(J("."+Vi,a),t+1)}}}renderVirtualEle(e){let t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);let i=this.createElement("div",{className:Ub});e.target.insertBefore(i,e.target.children[this.fullRowSelect?t?1:2:t?0:1])}removeVirtualEle(){let e=J("."+Ub);e&&oe(e)}destroyDrag(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())}getDragEvent(e,t,i,s,n,a,o,h){let d=i?U(i,"."+jt):null,m=d?this.getNodeData(d):null,v=t?t.dragLi:n,C=t?t.dragData:null,w=i?this.parents(i,"."+jt):null,S=t.dragLi.parentElement,k=t.dragLi?U(S,"."+jt):null,O=null,N=null,q=[cw,lw,qb,zb],z=null,Z=!0===h?v:d,Ce=Z?U(Z,".e-list-parent"):null,ce=0,Fe=null;if(k=t.dragLi&&null===k?U(S,"."+Ql):k,k=!0===h?this.dragParent:k,a)for(;ce<4;){if(J("."+Gn,a).classList.contains(q[ce])){z=q[ce];break}ce++}if(Ce){let Se=0;for(ce=0;ce<Ce.childElementCount;ce++){if(Se=!0!==h&&Ce.children[ce]===v&&d!==v?++Se:Se,!0!==h&&Ce.children[ce].classList.contains("e-hover")){N=e.offsetY>=23?ce+1:ce;break}if(Ce.children[ce]===Z){N=ce;break}}N=0!==Se?--N:N,Fe="e-drop-in"==z?"Inside":e.offsetY<7?"Before":"After"}if(i&&(O=0===w.length?null:i.classList.contains(jt)?w[0]:w[1]),d===v&&(O=d),i&&s.offsetHeight<=33&&e.offsetY<s.offsetHeight-10&&e.offsetY>6&&(O=d,!0!==h)){o=++o;let Se=O?J(".e-list-parent",O):null;if(N=Se?Se.children.length:0,!(this.fields.dataSource instanceof ot)&&null===Se&&O){let Be=O.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,O.getAttribute("data-uid").toString()):null;N=Be?Be.length:0}}return{cancel:!1,clonedNode:a,event:e,draggedNode:v,draggedNodeData:C,droppedNode:d,droppedNodeData:m,dropIndex:N,dropLevel:o,draggedParentNode:k,dropTarget:O,dropIndicator:z,target:s,position:Fe}}addFullRow(e){let t=this.liList.length;if(e)for(let i=0;i<t;i++)this.createFullRow(this.liList[i]);else for(let i=0;i<t;i++)oe(J("."+Mh,this.liList[i]))}createFullRow(e){let t=this.createElement("div",{className:Mh});e.insertBefore(t,e.childNodes[0])}addMultiSelect(e){if(e){let t=Xe("."+jt+':not([aria-selected="true"])',this.element);for(let i of t)i.setAttribute("aria-selected","false")}else{let t=Xe("."+jt+'[aria-selected="false"]',this.element);for(let i of t)i.removeAttribute("aria-selected")}}collapseByLevel(e,t,i){if(t>0&&!f(e)){let s=this.getVisibleNodes(i,e.childNodes);for(let n=0,a=s.length;n<a;n++){let o=s[n],h=J("."+$n,J("."+Dr,o));f(h)||this.collapseNode(o,h,null),this.collapseByLevel(J("."+Vi,o),t-1,i)}}}collapseAllNodes(e){let t=this.getVisibleNodes(e,Xe("."+$n,this.element));for(let i=0,s=t.length;i<s;i++){let n=t[i],a=U(n,"."+jt);this.collapseNode(a,n,null)}}expandByLevel(e,t,i){if(t>0&&!f(e)){let s=this.getVisibleNodes(i,e.childNodes);for(let n=0,a=s.length;n<a;n++){let o=s[n],h=J("."+xs,J("."+Dr,o));f(h)||this.expandAction(o,h,null),this.expandByLevel(J("."+Vi,o),t-1,i)}}}expandAllNodes(e){let t=this.getVisibleNodes(e,Xe("."+xs,this.element));for(let i=0,s=t.length;i<s;i++){let n=t[i],a=U(n,"."+jt);this.expandAction(a,n,null,!0)}}getVisibleNodes(e,t){let i=Array.prototype.slice.call(t);if(e)for(let s=0;s<i.length;s++)sn(i[s])||(i.splice(s,1),s--);return i}removeNode(e){let t=U(e,"."+Vi),i=U(t,"."+jt);f(this.nodeTemplateFn)||this.destroyTemplate(e),oe(e),this.updateElement(t,i),this.removeData(e)}updateInstance(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()}updateList(){this.liList=Array.prototype.slice.call(Xe("."+jt,this.element))}updateSelectedNodes(){this.setProperties({selectedNodes:[]},!0);let e=Xe("."+lo,this.element);this.selectGivenNodes(e)}updateExpandedNodes(){this.setProperties({expandedNodes:[]},!0);let e=Xe('[aria-expanded="true"]',this.element);for(let t=0,i=e.length;t<i;t++)this.addExpand(e[t])}removeData(e){if(1===this.dataType){let t=new ot(this.treeData),i=this.getId(e),s={},n=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=n,t.remove(this.fields.id,s),this.removeChildNodes(i)}else{let t=this.getId(e);this.updateChildField(this.treeData,this.fields,t,null,null,!0)}}removeChildNodes(e){let t=this.getChildGroup(this.groupedData,e,!1),i=[];if(t)for(let s=0,n=t.length;s<n;s++){let a=new ot(this.treeData),o=X(this.fields.id,t[s]).toString(),h={},d=this.isNumberTypeId?parseFloat(o):o;h[this.fields.id]=d;let m=a.remove(this.fields.id,h);i.push(m[0]),this.removeChildNodes(o)}return i}doGivenAction(e,t,i){for(let s=0,n=e.length;s<n;s++){let a=this.getElement(e[s]);if(f(a))continue;let o=J("."+t,J("."+Dr,a));f(o)||(i?this.expandAction(a,o,null):this.collapseNode(a,o,null))}}addGivenNodes(e,t,i,s,n){if(0===e.length)return;let a=this.getSortedData(e),o=t?parseFloat(t.getAttribute("aria-level"))+1:1;s&&this.updateMapper(o);let d,h=Ti.createListItemFromJson(this.createElement,a,this.listBaseOption,o);d=n||(t?this.expandParent(t):J("."+Vi,this.element));let m=d.childNodes[i];for(let C=0;C<h.length;C++)d.insertBefore(h[C],m);let v=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,v,"hasChildren",!0);let C=this.getId(m),w=f(C)?this.treeData.length:this.getDataPos(this.treeData,this.fields,C);for(let S=0;S<e.length;S++){if(!f(v)){let k=this.isNumberTypeId?parseFloat(v):v;At(this.fields.parentID,k,e[S])}this.treeData.splice(w,0,e[S]),w++}}else this.addChildData(this.treeData,this.fields,v,e,i);this.finalizeNode(d)}updateMapper(e){let t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)}updateListProp(e){let t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"}getDataPos(e,t,i){let s=null;for(let n=0,a=e.length;n<a;n++){let o=X(t.id,e[n]);if(e[n]&&o&&o.toString()===i)return n;if("string"!=typeof t.child||f(X(t.child,e[n]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[n]))){let h=X("child",e[n]);if(s=this.getDataPos(h,this.getChildMapper(t),i),null!==s)break}}else{let h=X(t.child,e[n]);if(s=this.getDataPos(h,this.getChildMapper(t),i),null!==s)break}}return s}addChildData(e,t,i,s,n){let a;if(f(i)){n=f(n)?e.length:n;for(let o=0,h=s.length;o<h;o++)e.splice(n,0,s[o]),n++;return a}for(let o=0,h=e.length;o<h;o++){let d=X(t.id,e[o]);if(e[o]&&d&&d.toString()===i){if("string"==typeof t.child&&e[o].hasOwnProperty(t.child)&&null!==e[o][t.child]||this.fields.dataSource instanceof ot&&e[o].hasOwnProperty("child")){let v=X("string"==typeof t.child?t.child:"child",e[o]);f(v)&&(v=[]),n=f(n)?v.length:n;for(let C=0,w=s.length;C<w;C++)v.splice(n,0,s[C]),n++}else e[o]["string"==typeof t.child?t.child:"child"]=s;return!0}if("string"!=typeof t.child||f(X(t.child,e[o]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[o]))){let m=X("child",e[o]);if(a=this.addChildData(m,this.getChildMapper(t),i,s,n),void 0!==a)break}}else{let m=X(t.child,e[o]);if(a=this.addChildData(m,this.getChildMapper(t),i,s,n),void 0!==a)break}}return a}doDisableAction(e){let t=this.nodeType(e),i=this.checkValidId(t);this.validArr=[];for(let s=0,n=i.length;s<n;s++){let a=i[s][this.fields.id].toString();a&&-1===this.disableNode.indexOf(a)&&this.disableNode.push(a);let o=this.getElement(a);o&&(o.setAttribute("aria-disabled","true"),L([o],u1))}}doEnableAction(e){let t=this.nodeType(e);for(let i=0,s=t.length;i<s;i++){let n=this.getElement(t[i]),a=t[i];a&&-1!==this.disableNode.indexOf(a)&&this.disableNode.splice(this.disableNode.indexOf(a),1),n&&(n.removeAttribute("aria-disabled"),H([n],u1))}}nodeType(e){let t=[];for(let i=0,s=e.length;i<s;i++){let n;"string"==typeof e[i]?n=e[i]?e[i].toString():null:"object"==typeof e[i]&&(n=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(n)&&t.push(n)}return t}checkValidId(e){if(1===this.dataType)this.validArr=this.treeData.filter(t=>-1!==e.indexOf(t[this.fields.id]?t[this.fields.id].toString():null));else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():null;-1!==e.indexOf(i)&&this.validArr.push(this.treeData[t]);let s=X(this.fields.child.toString(),this.treeData[t]);s&&this.filterNestedChild(s,e)}return this.validArr}filterNestedChild(e,t){for(let i=0;i<e.length;i++){let s=e[i][this.fields.id]?e[i][this.fields.id].toString():null;-1!==t.indexOf(s)&&this.validArr.push(e[i]);let n=X(this.fields.child.toString(),e[i]);n&&this.filterNestedChild(n,t)}}setTouchClass(){let e=U(this.element,".e-bigger");this.touchClass=f(e)?"":"e-small"}updatePersistProp(){this.removeField(this.treeData,this.fields,["selected","expanded"]);let e=this.selectedNodes;for(let i=0,s=e.length;i<s;i++)this.updateField(this.treeData,this.fields,e[i],"selected",!0);let t=this.expandedNodes;for(let i=0,s=t.length;i<s;i++)this.updateField(this.treeData,this.fields,t[i],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);let i=this.checkedNodes;for(let s=0,n=i.length;s<n;s++)this.updateField(this.treeData,this.fields,i[s],"isChecked",!0)}}removeField(e,t,i){if(!f(e)&&!f(t))for(let s=0,n=e.length;s<n;s++){for(let a=0;a<i.length;a++){let o=this.getMapperProp(t,i[a]);f(e[s][o])||delete e[s][o]}"string"!=typeof t.child||f(X(t.child,e[s]))?this.fields.dataSource instanceof ot&&!f(X("child",e[s]))&&this.removeField(X("child",e[s]),this.getChildMapper(t),i):this.removeField(X(t.child,e[s]),this.getChildMapper(t),i)}}getMapperProp(e,t){switch(t){case"selected":return f(e.selected)?"selected":e.selected;case"expanded":return f(e.expanded)?"expanded":e.expanded;case"isChecked":return f(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return f(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}}updateField(e,t,i,s,n){if(!f(i))if(1===this.dataType){let a=this.isNumberTypeId?parseFloat(i):i,o=new ot(this.treeData).executeLocal((new kt).where(t.id,"equal",a,!1));At(this.getMapperProp(t,s),n,o[0])}else this.updateChildField(e,t,i,s,n)}updateChildField(e,t,i,s,n,a){let o;if(f(e))return o;for(let h=0,d=e.length;h<d;h++){let m=X(t.id,e[h]);if(e[h]&&m&&m.toString()===i)return a?o=e.splice(h,1):(At(this.getMapperProp(t,s),n,e[h]),o=[]),o;if("string"!=typeof t.child||f(X(t.child,e[h]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[h]))){let v=X("child",e[h]);if(o=this.updateChildField(v,this.getChildMapper(t),i,s,n,a),void 0!==o)break}}else{let v=X(t.child,e[h]);if(o=this.updateChildField(v,this.getChildMapper(t),i,s,n,a),void 0!==o)break}}return o}triggerEvent(){this.renderReactTemplates(),this.trigger("dataSourceChanged",{data:this.treeData})}wireInputEvents(e){A.add(e,"blur",this.inputFocusOut,this)}wireEditingEvents(e){if(e&&!this.disabled){let t=this;this.touchEditObj=new mn(this.element,{tap:i=>{this.isDoubleTapped(i)&&2===i.tapCount&&(i.originalEvent.preventDefault(),t.editingHandler(i.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()}wireClickEvent(e){if(e){let t=this;this.touchClickObj=new mn(this.element,{tap:i=>{t.clickHandler(i)}})}else this.touchClickObj&&this.touchClickObj.destroy()}wireExpandOnEvent(e){if(e){let t=this;this.touchExpandObj=new mn(this.element,{tap:i=>{("Click"===this.expandOnType||"DblClick"===this.expandOnType&&this.isDoubleTapped(i)&&2===i.tapCount)&&3!==i.originalEvent.which&&t.expandHandler(i)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()}mouseDownHandler(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&A.add(this.element,"contextmenu",this.preventContextMenu,this)}preventContextMenu(e){e.preventDefault()}wireEvents(){A.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),A.add(this.element,"focus",this.focusIn,this),A.add(this.element,"blur",this.focusOut,this),A.add(this.element,"mouseover",this.onMouseOver,this),A.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new rt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){A.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),A.remove(this.element,"focus",this.focusIn),A.remove(this.element,"blur",this.focusOut),A.remove(this.element,"mouseover",this.onMouseOver),A.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()}parents(e,t){let i=[],s=e.parentNode;for(;!f(s);)Qp(s,t)&&i.push(s),s=s.parentNode;return i}isDoubleTapped(e){let i,t=e.originalEvent.target;return t&&e.tapCount&&(1===e.tapCount?this.firstTap=U(t,"."+jt):2===e.tapCount&&(i=U(t,"."+jt))),this.firstTap===i}isDescendant(e,t){let i=t.parentNode;for(;!f(i);){if(i===e)return!0;i=i.parentNode}return!1}showSpinner(e){L([e],WA),wc({target:e,width:G.isDevice?16:14},this.createElement),so(e)}hideSpinner(e){no(e),e.innerHTML="",H([e],WA)}setCheckedNodes(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)}setValidCheckedNode(e){if(1===this.dataType){let t=this.fields,i=new ot(this.treeData).executeLocal((new kt).where(t.id,"equal",e,!0));if(i[0]&&(this.setChildCheckState(i,e,i[0]),this.autoCheck)){let s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,n=this.getChildNodes(this.treeData,s),a=0;for(let o=0;o<n.length;o++){let h=n[o][this.fields.id].toString();-1!==this.checkedNodes.indexOf(h)&&a++}a===n.length&&-1===this.checkedNodes.indexOf(s)&&s&&this.checkedNodes.push(s)}}else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){if((this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}let s=X(this.fields.child.toString(),this.treeData[t]);s&&this.setChildCheckState(s,e,this.treeData[t])}}setChildCheckState(e,t,i){let s,n=0;if(1===this.dataType){i&&(s=i[this.fields.id]?i[this.fields.id].toString():null);for(let a=0;a<e.length;a++){let o=e[a][this.fields.id]?e[a][this.fields.id].toString():null;i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),o===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let h=this.getChildNodes(this.treeData,o);h&&this.setChildCheckState(h,t,i)}}else{i&&(s=i[this.fields.id]?i[this.fields.id].toString():"");for(let a=0;a<e.length;a++){let o=e[a][this.fields.id]?e[a][this.fields.id].toString():"";i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),o===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let h=X(this.fields.child.toString(),e[a]);h&&this.setChildCheckState(h,t,e[a]),-1!==this.checkedNodes.indexOf(o)&&this.autoCheck&&n++,n===e.length&&-1===this.checkedNodes.indexOf(s)&&this.autoCheck&&this.checkedNodes.push(s)}}}setIndeterminate(e){for(let t=0;t<e.length;t++)this.setValidCheckedNode(e[t])}updatePosition(e,t,i,s){if(1===this.dataType){let n=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(n,1,t),i){this.removeChildNodes(e);for(let a=0;a<s.length;a++)this.treeData.splice(n,0,s[a]),n++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)}updateChildPosition(e,t,i,s,n){let a;for(let o=0,h=e.length;o<h;o++){let d=X(t.id,e[o]);if(e[o]&&d&&d.toString()===i)return e[o]=s[0],!0;if("string"!=typeof t.child||f(X(t.child,e[o]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[o]))){let m=X("child",e[o]);if(a=this.updateChildPosition(m,this.getChildMapper(t),i,s,n),void 0!==a)break}}else{let m=X(t.child,e[o]);if(a=this.updateChildPosition(m,this.getChildMapper(t),i,s,n),void 0!==a)break}}return a}dynamicState(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())}crudOperation(e,t,i,s,n,a,o){let C,h=this.fields.dataSource,d=[],m=this.getQuery(this.fields),v=this.fields.id,w={addedRecords:[],deletedRecords:[],changedRecords:[]},S=[];t?S=this.nodeType(t):i&&("string"==typeof i?S[0]=i.toString():"object"==typeof i&&(S[0]=i.getAttribute("data-uid").toString()));for(let k=0,O=S.length;k<O;k++){if(f(this.getElement(S[k])))continue;let q=this.getNodeObject(S[k]);d.push(q)}switch(e){case"delete":1==t.length?C=h.remove(v,d[0],m.fromTable,m):(w.deletedRecords=d,C=h.saveChanges(w,v,m.fromTable,m)),C.then(k=>this.deleteSuccess(S)).catch(k=>this.dmFailure(k));break;case"update":d[0][this.fields.text]=s,C=h.update(v,d[0],m.fromTable,m),C.then(k=>this.editSucess(i,s,o)).catch(k=>this.dmFailure(k,i,o));break;case"insert":if(1==n.length)C=h.insert(n[0],m.fromTable,m);else{let k=[];for(let O=0,N=n.length;O<N;O++)k.push(n[O]);w.addedRecords=k,C=h.saveChanges(w,v,m.fromTable,m)}C.then(k=>{let O=this.getElement(i);this.addSuccess(n,O,a),this.preventExpand=!1}).catch(k=>this.dmFailure(k))}}deleteSuccess(e){for(let t=0,i=e.length;t<i;t++){let s=this.getElement(e[t]);f(s)||this.removeNode(s)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}editSucess(e,t,i){let s=this.getElement(e),n=J("."+Hu,s);this.appendNewText(s,n,t,i)}addSuccess(e,t,i){let s,n=t?t.querySelector("."+Gn):null,a=this;t&&n&&n.classList.contains(xs)&&null===t.querySelector("."+Vi)?a.renderChildNodes(t,null,()=>{s=t.querySelector("."+Vi),a.addGivenNodes(e,t,i,!0,s),a.triggerEvent()}):(this.addGivenNodes(e,t,i,!0),this.triggerEvent())}dmFailure(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})}updatePreviousText(e,t){let i=this.getElement(e),s=J("."+Hu,i);this.updateText(i,s,this.oldText,t)}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){let s=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(s,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:f(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){let s=this.element.querySelectorAll("li"),n=0;for(;n<s.length;)"true"!==s[n].getAttribute("aria-expanded")&&this.renderChildNodes(s[n],!0,null,!0),n++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}destroy(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),super.destroy()}addNodes(e,t,i,s){if(f(e))return;e=JSON.parse(JSON.stringify(e));let n=this.getElement(t);if(this.preventExpand=s,this.fields.dataSource instanceof ot)this.isOffline?this.addSuccess(e,n,i):this.crudOperation("insert",null,t,null,e,i,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,n,i);else{if(n)this.addGivenNodes(e,n,i);else{e=this.getSortedData(e);for(let a=0;a<e.length;a++){let o=X(this.fields.parentID,e[a]);n=o&&this.getElement(o.toString()),this.addGivenNodes([e[a]],n,i)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&n&&this.ensureParentCheckState(n),this.fields.dataSource instanceof ot||(this.preventExpand=!1,this.triggerEvent())}beginEdit(e){let t=this.getElement(e);f(t)||this.disabled||this.createTextbox(t,null)}checkAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)}collapseAll(e,t,i){f(e)?t>0?this.collapseByLevel(J("."+Vi,this.element),t,i):this.collapseAllNodes(i):this.doGivenAction(e,$n,!1)}disableNodes(e){f(e)||this.doDisableAction(e)}enableNodes(e){f(e)||this.doEnableAction(e)}ensureVisible(e){let t=this.getElement(e);if(f(t))return;let i=this.parents(t,"."+jt);this.expandAll(i),setTimeout(()=>{t.scrollIntoView(!0)},450)}expandAll(e,t,i){f(e)?t>0?this.expandByLevel(J("."+Vi,this.element),t,i):this.expandAllNodes(i):this.doGivenAction(e,xs,!0)}getAllCheckedNodes(){return this.checkedNodes}getDisabledNodes(){return this.disableNode}getNode(e){let t=this.getElement(e);return this.getNodeData(t,!0)}getTreeData(e){let t=this.getId(e);if(this.updatePersistProp(),f(t))return this.treeData;{let i=this.getNodeObject(t);return f(i)?[]:[i]}}moveNodes(e,t,i,s){let n=this.getElement(t);if(!f(n)){for(let a=0;a<e.length;a++){let o=this.getElement(e[a]);f(o)||n.isSameNode(o)||this.isDescendant(o,n)||(this.preventExpand=s,this.dropAsChildNode(o,n,this,i))}this.fields.dataSource instanceof ot||(this.preventExpand=!1),this.triggerEvent()}}refreshNode(e,t){if(f(e)||f(t))return;let i,s=!1;1==this.dataType&&t.length>1?s=!0:2==this.dataType&&1===t.length&&(f(X(this.fields.child.toString(),t[0]))||(s=!0));let a,o,n=this.getElement(e);if(i=n?n.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(i),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&s){for(let C=0;C<t.length;C++)if(f(t[C][this.fields.parentID])){o=t[C],t.splice(C,1);break}a=ae({},this.refreshData,o)}else a=ae({},this.refreshData,t[0]);if(f(n))return void this.updatePosition(i,a,s,t);this.isRefreshed=!0;let h=parseFloat(n.getAttribute("aria-level")),d=Ti.createListItemFromJson(this.createElement,[a],this.listBaseOption,h),m=J("."+Vi,n),v=X(this.fields.child.toString(),a);if(s&&m||s&&!f(v)){let C=n.parentElement,w=Array.prototype.indexOf.call(C.childNodes,n);nt(n),C.insertBefore(d[0],C.childNodes[w]),this.updatePosition(i,a,s,t),s&&m&&this.expandAll([i])}else{let C=J("."+Dr,n),w=J("."+Dr,d[0]),S=J("div."+Gn,C),k=J("div."+Gn,w);S&&k&&(k.classList.contains(xs)&&S.classList.contains($n)?(H([k],xs),L([k],$n)):k.classList.contains($n)&&S.classList.contains(xs)?(H([k],$n),L([k],xs)):S.classList.contains("interaction")&&L([k],"interaction")),nt(C);let O=J("."+Mh,n);O.parentNode.insertBefore(w,O.nextSibling),this.updatePosition(i,a,s,t)}if(n=this.getElement(e),a[this.fields.tooltip]&&n.setAttribute("title",a[this.fields.tooltip]),a.hasOwnProperty(this.fields.htmlAttributes)&&a[this.fields.htmlAttributes]){let C={};So(C,a[this.fields.htmlAttributes]),C.class?(L([n],C.class.split(" ")),delete C.class):Te(n,C)}-1!==this.selectedNodes.indexOf(i)&&(n.setAttribute("aria-selected","true"),L([n],lo)),this.isRefreshed=!1,this.triggerEvent()}removeNodes(e){f(e)||(this.fields.dataSource instanceof ot&&!this.isOffline?this.crudOperation("delete",e):this.deleteSuccess(e))}updateNode(e,t){if(f(e)||f(t)||!this.allowEditing)return;let i=this.getElement(e);if(f(i))return;let s=J("."+Hu,i);this.updateOldText(i);let n=this.getEditEvent(i,null,null);this.trigger("nodeEditing",n,a=>{a.cancel||(this.fields.dataSource instanceof ot&&!this.isOffline?this.crudOperation("update",null,e,t,null,null,!1):this.appendNewText(i,s,t,!1))})}uncheckAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)}};St([T(!1)],si.prototype,"allowDragAndDrop",void 0),St([T(!1)],si.prototype,"allowEditing",void 0),St([T(!1)],si.prototype,"allowMultiSelection",void 0),St([Ht({},$A)],si.prototype,"animation",void 0),St([T()],si.prototype,"checkedNodes",void 0),St([T("")],si.prototype,"cssClass",void 0),St([T(!1)],si.prototype,"disabled",void 0),St([T(null)],si.prototype,"dragArea",void 0),St([T(!1)],si.prototype,"enableHtmlSanitizer",void 0),St([T(!1)],si.prototype,"enablePersistence",void 0),St([T()],si.prototype,"expandedNodes",void 0),St([T("Auto")],si.prototype,"expandOn",void 0),St([Ht({},Ta)],si.prototype,"fields",void 0),St([T(!0)],si.prototype,"fullRowSelect",void 0),St([T(!0)],si.prototype,"loadOnDemand",void 0),St([T()],si.prototype,"locale",void 0),St([T()],si.prototype,"nodeTemplate",void 0),St([T()],si.prototype,"selectedNodes",void 0),St([T("None")],si.prototype,"sortOrder",void 0),St([T(!1)],si.prototype,"showCheckBox",void 0),St([T(!0)],si.prototype,"autoCheck",void 0),St([T(!1)],si.prototype,"fullRowNavigable",void 0),St([$()],si.prototype,"actionFailure",void 0),St([$()],si.prototype,"created",void 0),St([$()],si.prototype,"dataBound",void 0),St([$()],si.prototype,"dataSourceChanged",void 0),St([$()],si.prototype,"drawNode",void 0),St([$()],si.prototype,"destroyed",void 0),St([$()],si.prototype,"keyPress",void 0),St([$()],si.prototype,"nodeChecked",void 0),St([$()],si.prototype,"nodeChecking",void 0),St([$()],si.prototype,"nodeClicked",void 0),St([$()],si.prototype,"nodeCollapsed",void 0),St([$()],si.prototype,"nodeCollapsing",void 0),St([$()],si.prototype,"nodeDragging",void 0),St([$()],si.prototype,"nodeDragStart",void 0),St([$()],si.prototype,"nodeDragStop",void 0),St([$()],si.prototype,"nodeDropped",void 0),St([$()],si.prototype,"nodeEdited",void 0),St([$()],si.prototype,"nodeEditing",void 0),St([$()],si.prototype,"nodeExpanded",void 0),St([$()],si.prototype,"nodeExpanding",void 0),St([$()],si.prototype,"nodeSelected",void 0),St([$()],si.prototype,"nodeSelecting",void 0),si=aw=St([oi],si);var Qn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const uw="e-sidebar",Xl="e-close",pl="e-open",$b="e-transition",QA="e-backdrop",Nf="e-right",Gb="e-left",Vf="e-over",Ff="e-push",ev="e-slide",Hf="e-visibility",pw="e-disable-animation",Qb="e-sidebar-context",fw="e-sidebar-absolute";let Pn=class extends hs{constructor(e,t){super(e,t)}preRender(){this.setWidth()}render(){this.initialize(),this.wireEvents(),this.renderComplete()}initialize(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?this.show():this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),G.isDevice&&(this.windowWidth=window.innerWidth)}setEnableRTL(){(this.enableRtl?L:H)([this.element],"e-rtl")}setTarget(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),L([this.element],fw),L([this.target],Qb),this.targetEle=this.getTargetElement())}getTargetElement(){let e=this.element.nextElementSibling;for(;!f(e)&&e.classList.contains(uw);)e=e.nextElementSibling;return e}setCloseOnDocumentClick(){this.closeOnDocumentClick?A.add(document,"mousedown touchstart",this.documentclickHandler,this):A.remove(document,"mousedown touchstart",this.documentclickHandler)}setWidth(){this.enableDock&&"Left"===this.position||this.enableDock&&"Right"===this.position?Ue(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||Ue(this.element,{width:this.setDimension(this.width)})}setDimension(e){return"number"==typeof e?fe(e):"string"==typeof e?e.match(/px|%|em/)?e:fe(e):"100%"}setZindex(){Ue(this.element,{"z-index":""+this.zIndex})}addClass(){"EJS-SIDEBAR"===this.element.tagName&&L([this.element],"e-sidebar-display");const e=document.querySelector(".e-main-content");f(e||this.targetEle)||L([e||this.targetEle],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",!this.enableDock&&"Auto"!==this.type&&L([this.element],[Hf]),H([this.element],[pl,Xl,Nf,Gb,ev,Ff,Vf]),this.element.classList.add(uw),L([this.element],"Right"===this.position?Nf:Gb),this.enableDock&&L([this.element],"e-dock"),this.element.setAttribute("tabindex",this.tabIndex),"Auto"!==this.type||G.isDevice?this.isOpen||L([this.element],Xl):this.show()}checkType(e){"Push"===this.type||"Over"===this.type||"Slide"===this.type?!this.element.classList.contains(Xl)&&!e&&this.hide():this.type="Auto"}transitionEnd(e){this.setDock(),f(e)||this.triggerChange(),A.remove(this.element,"transitionend",this.transitionEnd)}destroyBackDrop(){const e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e?H([e],QA):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}hide(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!f(e),event:e||null};this.trigger("close",t,i=>{if(!i.cancel){if(this.element.classList.contains(Xl))return;this.element.classList.contains(pl)&&!this.animate&&this.triggerChange(),L([this.element],Xl),H([this.element],pl),Ue(this.element,{width:fe(this.enableDock?this.dockSize:this.width)}),this.setType(this.type);const s=document.querySelector(".e-main-content")||this.targetEle;!this.enableDock&&s&&(s.style.transform="translateX(0px)",s.style["Left"===this.position?"marginLeft":"marginRight"]="0px"),this.destroyBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.remove("e-sidebar-overflow"),this.setProperties({isOpen:!1},!0),this.enableDock&&setTimeout(()=>this.setTimeOut(),50),A.add(this.element,"transitionend",this.transitionEnd,this)}})}setTimeOut(){const e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;!this.element.classList.contains(pl)||!e||"Over"===this.type&&this.enableDock?this.element.classList.contains(Xl)&&e&&("Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.dockSize?t:this.dockSize):e.style.marginRight=this.setDimension("auto"===this.dockSize?t:this.dockSize)):"Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.width?t:this.width):e.style.marginRight=this.setDimension("auto"===this.width?t:this.width)}show(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!f(e),event:e||null};this.trigger("open",t,i=>{if(!i.cancel){if(H([this.element],Hf),this.element.classList.contains(pl))return;this.element.classList.contains(Xl)&&!this.animate&&this.triggerChange(),L([this.element],[pl,$b]),Ue(this.element,{transform:""}),H([this.element],Xl),Ue(this.element,{width:fe(this.width)}),this.setType(this.type),this.createBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.add("e-sidebar-overflow"),this.setProperties({isOpen:!0},!0),A.add(this.element,"transitionend",this.transitionEnd,this)}})}setAnimation(){this.animate?H([this.element],pw):L([this.element],pw)}triggerChange(){this.trigger("change",{name:"change",element:this.element})}setDock(){this.enableDock&&"Left"===this.position&&!this.getState()?Ue(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&Ue(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(Xl)&&this.enableDock&&Ue(this.element,{width:this.setDimension(this.dockSize)})}createBackDrop(){this.target&&this.showBackdrop&&this.getState()?L([document.querySelector(".e-main-content")||this.targetEle],QA):this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className="e-sidebar-overlay",this.modal.style.display="block",document.body.appendChild(this.modal))}getPersistData(){return this.addOnPersist(["type","position","isOpen"])}getModuleName(){return"sidebar"}toggle(){this.element.classList.contains(pl)?this.hide():this.show()}getState(){return!!this.element.classList.contains(pl)}setMediaQuery(){if(this.mediaQuery){let e=!1;e="string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches,e&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}}resize(){"Auto"===this.type&&L([this.element],G.isDevice?Vf:Ff),this.setMediaQuery(),G.isDevice&&(this.windowWidth=window.innerWidth)}documentclickHandler(e){U(e.target,".e-control."+uw)||this.hide(e)}enableGestureHandler(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection||this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()}setEnableGestures(){this.enableGestures?(this.mainContentEle=new mn(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new mn(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())}wireEvents(){this.setEnableGestures(),A.add(window,"resize",this.resize,this)}unWireEvents(){A.remove(window,"resize",this.resize),A.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()}onPropertyChanged(e,t){const i=document.querySelector(".e-main-content")||this.targetEle,s=this.isServerRendered;for(const n of Object.keys(e))switch(n){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),H([this.element],[Hf]),this.addClass(),L([this.element],"Auto"===this.type?G.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),i&&(i.style["Left"===this.position?"marginRight":"marginLeft"]="0px"),"Right"===this.position?(H([this.element],Gb),L([this.element],Nf)):(H([this.element],Nf),L([this.element],Gb)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),f(this.target)&&(H([this.element],fw),H([t.target],Qb),Ue(i,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,super.refresh(),this.isServerRendered=s;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}}setType(e){const t=this.element.getBoundingClientRect().width;this.setZindex();const i=document.querySelector(".e-main-content")||this.targetEle;i&&(i.style.transform="translateX(0px)",!G.isDevice&&"Auto"!==this.type&&("Over"!==this.type||!this.enableDock)&&(i.style["Left"===this.position?"marginLeft":"marginRight"]="0px"));const s=t+"px",n="Left"===this.position?t:-t;switch(H([this.element],[Ff,Vf,ev]),e){case"Push":L([this.element],[Ff]),i&&(this.enableDock||this.element.classList.contains(pl))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s);break;case"Slide":L([this.element],[ev]),i&&(this.enableDock||this.element.classList.contains(pl))&&(i.style.transform="translateX("+n+"px)");break;case"Over":L([this.element],[Vf]),this.enableDock&&(this.element.classList.contains(Xl)||this.isOpen)&&i&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":L([this.element],[$b]),G.isDevice?i&&this.enableDock&&!this.getState()?(i.style["Left"===this.position?"marginLeft":"marginRight"]=s,L([this.element],Ff)):L([this.element],Vf):(L([this.element],Ff),i&&(this.enableDock||this.element.classList.contains(pl))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s)),this.createBackDrop()}}destroy(){super.destroy(),this.target&&H([this.target],Qb),this.destroyBackDrop(),this.element&&(H([this.element],[pl,Xl,Ff,ev,Vf,Gb,Nf,$b]),H([this.element],fw),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",f(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;const e=document.querySelector(".e-main-content")||this.targetEle;f(e)||(e.style.margin="",e.style.transform=""),this.unWireEvents()}};Qn([T("auto")],Pn.prototype,"dockSize",void 0),Qn([T(null)],Pn.prototype,"mediaQuery",void 0),Qn([T(!1)],Pn.prototype,"enableDock",void 0),Qn([T("en-US")],Pn.prototype,"locale",void 0),Qn([T(!1)],Pn.prototype,"enablePersistence",void 0),Qn([T(!0)],Pn.prototype,"enableGestures",void 0),Qn([T(!1)],Pn.prototype,"isOpen",void 0),Qn([T(!1)],Pn.prototype,"enableRtl",void 0),Qn([T(!0)],Pn.prototype,"animate",void 0),Qn([T("auto")],Pn.prototype,"height",void 0),Qn([T(!1)],Pn.prototype,"closeOnDocumentClick",void 0),Qn([T("Left")],Pn.prototype,"position",void 0),Qn([T(null)],Pn.prototype,"target",void 0),Qn([T(!1)],Pn.prototype,"showBackdrop",void 0),Qn([T("Auto")],Pn.prototype,"type",void 0),Qn([T("auto")],Pn.prototype,"width",void 0),Qn([T(1e3)],Pn.prototype,"zIndex",void 0),Qn([$()],Pn.prototype,"created",void 0),Qn([$()],Pn.prototype,"close",void 0),Qn([$()],Pn.prototype,"open",void 0),Qn([$()],Pn.prototype,"change",void 0),Qn([$()],Pn.prototype,"destroyed",void 0),Pn=Qn([oi],Pn);var Sr=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Bf="e-icon-right",jf="e-breadcrumb-text",KA="e-breadcrumb-icon";class Kb extends hi{}Sr([T("")],Kb.prototype,"text",void 0),Sr([T("")],Kb.prototype,"url",void 0),Sr([T(null)],Kb.prototype,"iconCss",void 0);let da=class extends hs{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize(),this.renderItems(this.items),this.wireEvents()}initialize(){this._maxItems=this.maxItems,this.element.setAttribute("aria-label","breadcrumb"),this.cssClass&&L([this.element],this.cssClass.split(" ")),this.enableRtl&&this.element.classList.add("e-rtl"),this.setWidth(),this.initItems(),this.initPvtProps()}initPvtProps(){"Default"===this.overflowMode&&this._maxItems>0&&(this.startIndex=this.items.length-(this._maxItems-1),this.endIndex=this.items.length-1)}setWidth(){this.width&&(this.element.style.width=this.width)}initItems(){if(!this.items.length){let e,t;const i=[];if(this.url){const s=new URL(this.url);e=s.origin+"/",t=s.href.split(e)[1].split("/")}else e=window.location.origin+"/",t=window.location.href.split(e)[1].split("/");i.push({iconCss:"e-icons e-home",url:e});for(let s=0;s<t.length;s++)t[s]&&(i.push({text:t[s],url:e+t[s]}),e+=t[s]+"/");this.setProperties({items:i},!0)}}renderItems(e){let t,i;const s=this.element.classList.contains(Bf),n=e.length;if(n){let a,o,h=0;const d=2*n-1,m=this.createElement("ol"),v=this.hasField(e,"iconCss"),C=this.element.classList.contains("e-disabled"),w="Collapsed"===this.overflowMode&&this._maxItems>0&&n>this.maxItems&&!this.isExpanded,S="Default"===this.overflowMode&&this._maxItems>0,k={moduleName:this.getModuleName(),showIcon:v,itemNavigable:!0,itemCreated:O=>{const N=O.curData.isLastItem;N&&O.item.children.length&&!this.itemTemplate&&(delete O.curData.isLastItem,O.item.innerHTML=this.createElement("span",{className:jf,innerHTML:O.item.children[0].innerHTML}).outerHTML),O.curData.iconCss&&!O.curData.text&&!this.itemTemplate&&O.item.classList.add("e-icon-item"),S&&O.item.setAttribute("item-index",h.toString()),O.item.querySelector("."+jf)&&(A.add(O.item.querySelector("."+jf),"focus",()=>{O.item.classList.add("e-focus")},this),A.add(O.item.querySelector("."+jf),"focusout",()=>{O.item.classList.remove("e-focus")},this));const q={item:ae({},O.curData.properties?O.curData.properties:O.curData),element:O.item};this.trigger("beforeItemRender",q);const z=C||q.element.classList.contains("e-disabled"),Z=s||q.element.classList.contains(Bf);Z&&O.curData.iconCss&&!this.itemTemplate&&O.item.querySelector(".e-anchor-wrap").append(O.item.querySelector("."+KA)),z&&O.item.setAttribute("aria-disabled","true"),O.curData.isEmptyUrl&&(O.item.children[0].removeAttribute("href"),(!N||N&&this.enableActiveItemNavigation)&&!z&&(O.item.children[0].setAttribute("tabindex","0"),A.add(O.item.children[0],"keydown",this.keyDownHandler,this))),this.itemTemplate||this.beforeItemRenderChanges(O.curData,q.item,O.item,Z)}};for(let O=0;O<d;O%2&&h++,O++)if(a=this.activeItem&&this.activeItem===e[h].url,!(w&&O>1&&O<d-2)&&(!S||!(h<this.startIndex||h>this.endIndex)||O%2&&h===this.startIndex-1||0===h)){if(O%2?(k.template=this.separatorTemplate?this.separatorTemplate:"/",k.itemClass="e-breadcrumb-separator",i=!1,t=[{previousItem:t.pop(),nextItem:e[h]}]):(k.itemClass="",this.itemTemplate?(k.template=this.itemTemplate,i=!1):i=!0,t=[ae({},e[h].properties?e[h].properties:e[h])],!t[0].url&&!this.itemTemplate&&(t=[ae({},t[0],{isEmptyUrl:!0,url:"#"})]),o=S&&h===this.endIndex,((O===d-1||o)&&!this.itemTemplate||a)&&!this.enableActiveItemNavigation&&(t[0].isLastItem=!0)),Ge(Ti.createList(this.createElement,t,k,i,this).childNodes,m),w&&1===O){const N=this.createElement("li",{className:"e-icons e-breadcrumb-collapsed",attrs:{tabindex:"0"}});A.add(N,"keyup",this.expandHandler,this),m.append(N)}if(a||o)break}this.isReact&&this.renderReactTemplates(),this.element.append(m),this.calculateMaxItems()}}calculateMaxItems(){if(!this._maxItems&&("Default"===this.overflowMode||"Collapsed"===this.overflowMode)){const e=this.element.offsetWidth;let t=this.element.children[0].children[0].offsetWidth;const i=[].slice.call(this.element.children[0].children).reverse();for(let s=0;s<i.length;s++){if(t>e)return this._maxItems=Math.ceil((s-1)/2)+1,this.initPvtProps(),this.reRenderItems();t+=i[s].offsetWidth}}}hasField(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}beforeItemRenderChanges(e,t,i,s){const n=i.querySelector(".e-anchor-wrap");if(t.text!==e.text&&n.childNodes.forEach(a=>{a.nodeType===Node.TEXT_NODE&&(a.textContent=t.text)}),t.iconCss!==e.iconCss){const a=i.querySelector("."+KA);if(a)t.iconCss?(H([a],e.iconCss.split(" ")),L([a],t.iconCss.split(" "))):a.remove();else if(t.iconCss){const o=this.createElement("span",{className:KA+" "+t.iconCss});s?Ge([o],n):n.insertBefore(o,n.childNodes[0])}}if(t.url!==e.url&&this.enableNavigation){const a=i.querySelector("a."+jf);a&&(t.url?a.setAttribute("href",t.url):a.removeAttribute("href"))}}reRenderItems(){this.element.innerHTML="",this.renderItems(this.items)}clickHandler(e){const t=U(e.target,".e-breadcrumb-item");if(t&&(U(e.target,"."+jf)||this.itemTemplate)){let i=[].slice.call(t.parentElement.children).indexOf(t);i=Math.floor(i/2),"Default"===this.overflowMode&&this._maxItems>0&&0!==this.endIndex&&(i=parseInt(t.getAttribute("item-index"),10),this.startIndex>1&&(this.startIndex-=this.endIndex-i),this.endIndex=i,this.reRenderItems()),this.trigger("itemClick",{element:t,item:this.items[i],event:e}),this.items[i].url&&(this.activeItem=this.items[i].url,this.dataBind())}this.enableNavigation||e.preventDefault(),e.target.classList.contains("e-breadcrumb-collapsed")&&(this.isExpanded=!0,this.reRenderItems())}resize(){this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems()}expandHandler(e){"Enter"===e.key&&(this.isExpanded=!0,this.reRenderItems())}keyDownHandler(e){"Enter"===e.key&&this.clickHandler(e)}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"activeItem":case"items":case"enableActiveItemNavigation":this.reRenderItems();break;case"overflowMode":case"maxItems":this.initPvtProps(),this.reRenderItems();break;case"url":this.initItems(),this.reRenderItems();break;case"width":this.setWidth(),this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems();break;case"cssClass":t.cssClass&&H([this.element],t.cssClass.split(" ")),e.cssClass&&L([this.element],e.cssClass.split(" ")),(t.cssClass&&t.cssClass.indexOf(Bf)>-1&&!(e.cssClass&&e.cssClass.indexOf(Bf)>-1)||!(t.cssClass&&t.cssClass.indexOf(Bf)>-1)&&e.cssClass&&e.cssClass.indexOf(Bf)>-1)&&this.reRenderItems();break;case"enableRtl":this.element.classList.toggle("e-rtl")}}wireEvents(){A.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this))}unWireEvents(){A.remove(this.element,"click",this.clickHandler),window.removeEventListener("resize",this.resize.bind(this))}getPersistData(){return this.addOnPersist(["activeItem"])}getModuleName(){return"breadcrumb"}destroy(){this.unWireEvents(),this.element.innerHTML="",this.cssClass&&H([this.element],this.cssClass.split(" "))}};Sr([T("")],da.prototype,"url",void 0),Sr([Va([],Kb)],da.prototype,"items",void 0),Sr([T("")],da.prototype,"activeItem",void 0),Sr([T(0)],da.prototype,"maxItems",void 0),Sr([T("Default")],da.prototype,"overflowMode",void 0),Sr([T("")],da.prototype,"cssClass",void 0),Sr([T("")],da.prototype,"width",void 0),Sr([T(null)],da.prototype,"itemTemplate",void 0),Sr([T("/")],da.prototype,"separatorTemplate",void 0),Sr([T(!0)],da.prototype,"enableNavigation",void 0),Sr([T(!1)],da.prototype,"enableActiveItemNavigation",void 0),Sr([T("")],da.prototype,"locale",void 0),Sr([$()],da.prototype,"beforeItemRender",void 0),Sr([$()],da.prototype,"itemClick",void 0),Sr([$()],da.prototype,"created",void 0),da=Sr([oi],da);var Dn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const xc="e-other-month",mw="e-other-year",Xb="e-calendar",XA="e-device",JA="e-year",ex="e-month",tx="e-decade",ix="e-icons",Kn="e-disabled",Wf="e-overlay",sx="e-week-number",Ho="e-selected",Aa="e-focused-date",nx="e-month-hide",E1="e-today",Zb="e-zoomin",T1="e-calendar-day-header-lg",rx=864e5;let qN=(()=>{let r=class extends hs{constructor(t,i){super(t,i),this.effect="",this.isPopupClicked=!1,this.isDateSelected=!0,this.isTodayClicked=!1,this.preventChange=!1,this.isAngular=!1}render(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Ns(this.locale),(f(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(Xb),this.enableRtl&&this.element.classList.add("e-rtl"),G.isDevice&&this.element.classList.add(XA),Te(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Xb),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),G.isDevice&&this.calendarElement.classList.add(XA),Te(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}rangeValidation(t,i){f(t)&&this.setProperties({min:new Date(1900,0,1)},!0),f(i)&&this.setProperties({max:new Date(2099,11,31)},!0)}getDefaultKeyConfig(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}validateDate(t){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!f(t)&&this.min<=this.max&&t>=this.min&&t<=this.max&&(this.currentDate=new Date(this.checkValue(t)))}setOverlayIndex(t,i,s,n){if(n&&!f(i)&&!f(s)&&!f(t)){const a=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;s.style.zIndex=(a-1).toString(),t.style.zIndex=a.toString()}}minMaxUpdate(t){+this.min<=+this.max?H([this.element],Wf):(this.setProperties({min:this.min},!0),L([this.element],Wf)),this.min=f(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=f(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&t&&+t<=+this.max&&+t>=+this.min?this.currentDate=new Date(this.checkValue(t)):+this.min<=+this.max&&!t&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}createHeader(){this.headerElement=this.createElement("div",{className:"e-header"});const n=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),Ts(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Te(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),Ts(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Te(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),Te(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+ix})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+ix})),n.appendChild(this.previousIcon),n.appendChild(this.nextIcon),this.headerElement.appendChild(n),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}createContent(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}getCultureValues(){const t=[];let i;const s="days.stand-alone."+this.dayHeaderFormat.toLowerCase();i="en"===this.locale||"en-US"===this.locale?X(s,Ca()):this.getCultureObjects(Ps,""+this.locale);for(const n of Object.keys(i))t.push(X(n,i));return t}toCapitalize(t){return!f(t)&&t.length?t[0].toUpperCase()+t.slice(1):t}createContentHeader(){"calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content .e-week-header")[0])||oe(this.element.querySelectorAll(".e-content .e-week-header")[0]):f(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||oe(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);let i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?L([this.element],""+sx):L([this.calendarElement],""+sx));const s=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(let n=0;n<=6;n++)i+='<th  class="">'+this.toCapitalize(s[n])+"</th>";i="<tr>"+i+"</tr>",this.tableHeadElement.innerHTML=i,this.table.appendChild(this.tableHeadElement)}createContentBody(){switch("calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content tbody")[0])||oe(this.element.querySelectorAll(".e-content tbody")[0]):f(this.calendarElement.querySelectorAll(".e-content tbody")[0])||oe(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}updateFooter(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}createContentFooter(){if(this.showTodayButton){const t=new Date(+this.min),i=new Date(+this.max),s={today:"Today"};this.globalize=new Ns(this.locale),this.l10=new Gs(this.getModuleName(),s,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),Ts(this.todayElement),this.updateFooter(),L([this.todayElement],["e-btn",E1,"e-flat","e-primary","e-css"]),(!(+new Date(t.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&L([this.todayElement],Kn),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(Kn)||A.add(this.todayElement,"click",this.todayButtonClick,this)}}wireEvents(t,i,s,n){A.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new rt(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new rt(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}dateWireEvents(t,i,s,n){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=ae(this.defaultKeyConfigs,s),this.serverModuleName=n}todayButtonClick(t,i,s){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),s):this.navigateTo("Month",new Date(this.checkValue(i)),s))}resetCalendar(){this.calendarElement&&oe(this.calendarElement),this.tableBodyElement&&oe(this.tableBodyElement),this.table&&oe(this.table),this.tableHeadElement&&oe(this.tableHeadElement),this.nextIcon&&oe(this.nextIcon),this.previousIcon&&oe(this.previousIcon),this.footer&&oe(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null}keyActionHandle(t,i,s){const n=this.tableBodyElement.querySelector("tr td.e-focused-date");let a;a=s?f(n)||+i!==parseInt(n.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):n:this.tableBodyElement.querySelector("tr td.e-selected");let o=this.getViewNumber(this.currentView());const h=this.getViewNumber(this.depth),d=o===h&&this.getViewNumber(this.start)>=h;switch(this.effect="",t.action){case"moveLeft":this.keyboardNavigate(-1,o,t,this.max,this.min),t.preventDefault();break;case"moveRight":this.keyboardNavigate(1,o,t,this.max,this.min),t.preventDefault();break;case"moveUp":this.keyboardNavigate(0===o?-7:-4,o,t,this.max,this.min),t.preventDefault();break;case"moveDown":this.keyboardNavigate(0===o?7:4,o,t,this.max,this.min),t.preventDefault();break;case"select":if(t.target===this.todayElement)this.todayButtonClick(t,i);else{const m=f(n)?a:n;if(!f(m)&&!m.classList.contains(Kn))if(d){const v=new Date(parseInt(""+m.id,0));this.selectDate(t,v,m)}else this.contentClick(null,--o,m,i)}break;case"controlUp":this.title(),t.preventDefault();break;case"controlDown":(!f(n)||!f(a)&&!d)&&this.contentClick(null,--o,n||a,i),t.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),oe(this.tableBodyElement),0===o?this.renderMonths(t):1===o?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,o),oe(this.tableBodyElement),0===o?this.renderMonths(t):1===o?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),t.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),t.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}keyboardNavigate(t,i,s,n,a){const o=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(oe(this.tableBodyElement),this.renderDecades(s)):this.currentDate=o;break;case 1:this.addMonths(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(oe(this.tableBodyElement),this.renderYears(s)):this.currentDate=o;break;case 0:this.addDay(this.currentDate,t,s,n,a),this.isMinMaxRange(this.currentDate)?(oe(this.tableBodyElement),this.renderMonths(s)):this.currentDate=o}}preRender(t){this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=i=>{this.triggerNavigate(i)}}minMaxDate(t){const i=new Date(new Date(+t).setHours(0,0,0,0)),s=new Date(new Date(+this.min).setHours(0,0,0,0)),n=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+s||+i==+n)&&(+t<+this.min&&(t=new Date(+this.min)),+t>+this.max&&(t=new Date(+this.max))),t}renderMonths(t,i,s){const n=this.weekNumber?8:7;let a;a="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,i,null,null,s):this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(a,n,ex,t,i):this.islamicModule.islamicRenderTemplate(a,n,ex,t,i)}renderDays(t,i,s,n,a){const o=[],d=a?new Date(+t):this.getDate(new Date,this.timezone);let v,m=new Date(this.checkValue(t));const C=m.getMonth();this.titleUpdate(t,"days");const w=m;for(m=new Date(w.getFullYear(),w.getMonth(),0,w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds());m.getDay()!==this.firstDayOfWeek;)this.setStartDate(m,-1*rx);for(let S=0;S<42;++S){const k=this.createElement("td",{className:"e-cell"}),O=this.createElement("span");if(S%7==0&&this.weekNumber){const ht="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,Ie=new Date(m.getFullYear(),m.getMonth(),m.getDate()+ht);O.textContent=""+this.getWeek(Ie),k.appendChild(O),L([k],""+sx),o.push(k)}v=new Date(+m),m=this.minMaxDate(m);const N={type:"dateTime",skeleton:"full"},q=this.globalize.parseDate(this.globalize.formatDate(m,N),N),z=this.dayCell(m),Z=this.globalize.formatDate(m,{type:"date",skeleton:"full"}),Ce=this.createElement("span");Ce.textContent=this.globalize.formatDate(m,{format:"d",type:"date",skeleton:"yMd"});const ce=this.min>m||this.max<m;ce?(L([z],Kn),L([z],Wf)):Ce.setAttribute("title",""+Z),C!==m.getMonth()&&L([z],xc),(0===m.getDay()||6===m.getDay())&&L([z],"e-weekend"),z.appendChild(Ce),this.renderDayCellArgs={date:m,isDisabled:!1,element:z,isOutOfRange:ce};const Fe=this.renderDayCellArgs;if(this.renderDayCellEvent(Fe),Fe.isDisabled){const ht=new Date(this.checkValue(i)),Ie=new Date(this.checkValue(Fe.date));if(s){if(!f(n)&&n.length>0)for(let Pe=0;Pe<n.length;Pe++)+new Date(this.globalize.formatDate(Fe.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(n[Pe],{type:"date",skeleton:"yMd"}))&&(n.splice(Pe,1),Pe=-1)}else ht&&+ht==+Ie&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!z.classList.contains(Ho)&&(L([z],Kn),L([z],Wf),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));const Se=z.classList.contains(xc),Be=z.classList.contains(Kn);if(Be||A.add(z,"click",this.clickHandler,this),!s||f(n)||Be)!Be&&this.getDateVal(m,i)&&L([z],Ho);else{for(let ht=0;ht<n.length;ht++){const Pe={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(m,Pe)===this.globalize.formatDate(n[ht],Pe)&&this.getDateVal(m,n[ht])||this.getDateVal(m,i)?L([z],Ho):this.updateFocus(Se,Be,m,z,t)}n.length<=0&&this.updateFocus(Se,Be,m,z,t)}this.updateFocus(Se,Be,m,z,t),q.getFullYear()===d.getFullYear()&&q.getMonth()===d.getMonth()&&q.getDate()===d.getDate()&&L([z],E1),o.push(this.renderDayCellArgs.element),m=new Date(+v),this.addDay(m,1,null,this.max,this.min)}return o}updateFocus(t,i,s,n,a){a.getDate()!==s.getDate()||t||i?(a>=this.max&&parseInt(n.id,0)===+this.max&&!t&&!i&&L([n],Aa),a<=this.min&&parseInt(n.id,0)===+this.min&&!t&&!i&&L([n],Aa)):L([n],Aa)}renderYears(t,i){this.removeTableHeadElement();const n=[],a=f(i),o=new Date(this.checkValue(this.currentDate)),h=o.getMonth(),d=o.getFullYear(),m=o,v=m.getFullYear(),C=new Date(this.checkValue(this.min)).getFullYear(),w=new Date(this.checkValue(this.min)).getMonth(),S=new Date(this.checkValue(this.max)).getFullYear(),k=new Date(this.checkValue(this.max)).getMonth();m.setMonth(0),this.titleUpdate(this.currentDate,"months"),m.setDate(1);for(let O=0;O<12;++O){const N=this.dayCell(m),q=this.createElement("span"),z=i&&i.getMonth()===m.getMonth(),Z=i&&i.getFullYear()===d&&z;q.textContent=this.toCapitalize(this.globalize.formatDate(m,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(v<C||O<w&&v===C)||this.max&&(v>S||O>k&&v>=S)?L([N],Kn):!a&&Z?L([N],Ho):m.getMonth()===h&&this.currentDate.getMonth()===h&&L([N],Aa),m.setDate(1),m.setMonth(m.getMonth()+1),N.classList.contains(Kn)||A.add(N,"click",this.clickHandler,this),N.appendChild(q),n.push(N)}this.renderTemplate(n,4,JA,t,i)}renderDecades(t,i){this.removeTableHeadElement();const a=[],o=new Date(this.checkValue(this.currentDate));o.setMonth(0),o.setDate(1);const h=o.getFullYear(),d=new Date(o.setFullYear(h-h%10)),m=new Date(o.setFullYear(h-h%10+9)),v=d.getFullYear(),C=m.getFullYear(),w=this.globalize.formatDate(d,{format:null,type:"dateTime",skeleton:"y"}),S=this.globalize.formatDate(m,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=w+" - "+S;const O=new Date(h-h%10-1,0,1).getFullYear();for(let N=0;N<12;++N){const q=O+N;o.setFullYear(q);const z=this.dayCell(o);Te(z,{role:"gridcell"});const Z=this.createElement("span");Z.textContent=this.globalize.formatDate(o,{format:null,type:"dateTime",skeleton:"y"}),q<v||q>C?(L([z],mw),!f(i)&&o.getFullYear()===i.getFullYear()&&L([z],Ho),(q<new Date(this.checkValue(this.min)).getFullYear()||q>new Date(this.checkValue(this.max)).getFullYear())&&L([z],Kn)):q<new Date(this.checkValue(this.min)).getFullYear()||q>new Date(this.checkValue(this.max)).getFullYear()?L([z],Kn):f(i)||o.getFullYear()!==i.getFullYear()?o.getFullYear()===this.currentDate.getFullYear()&&!z.classList.contains(Kn)&&L([z],Aa):L([z],Ho),z.classList.contains(Kn)||A.add(z,"click",this.clickHandler,this),z.appendChild(Z),a.push(z)}this.renderTemplate(a,4,"e-decade",t,i)}dayCell(t){const s={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},o={className:"e-cell",attrs:{id:""+$i(""+this.globalize.parseDate(this.globalize.formatDate(t,s),s).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",o)}firstDay(t){const i="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+xc):this.tableBodyElement.querySelectorAll("td:not(."+mw);if(i.length)for(let s=0;s<i.length;s++)if(!i[s].classList.contains(Kn)){t=new Date(parseInt(i[s].id,0));break}return t}lastDay(t,i){const s=new Date(t.getFullYear(),t.getMonth()+1,0);if(2!==i){const n=Math.abs(s.getTimezoneOffset()-this.firstDay(t).getTimezoneOffset());return n&&s.setHours(this.firstDay(t).getHours()+n/60),this.findLastDay(s)}return this.findLastDay(this.firstDay(s))}checkDateValue(t){return!f(t)&&t instanceof Date&&!isNaN(+t)?t:null}findLastDay(t){const i="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+mw):this.tableBodyElement.querySelectorAll("td:not(."+xc);if(i.length)for(let s=i.length-1;s>=0;s--)if(!i[s].classList.contains(Kn)){t=new Date(parseInt(i[s].id,0));break}return t}removeTableHeadElement(){"calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content table thead")[0])||oe(this.tableHeadElement):f(this.calendarElement.querySelectorAll(".e-content table thead")[0])||oe(this.tableHeadElement)}renderTemplate(t,i,s,n,a){const o=this.getViewNumber(this.currentView());let h;this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),H([this.contentElement,this.headerElement],[ex,tx,JA]),L([this.contentElement,this.headerElement],[s]);let C=i,w=0;for(let S=0;S<t.length/i;++S){for(h=this.createElement("tr",{attrs:{role:"row"}}),w=0+w;w<C;w++)!t[w].classList.contains("e-week-number")&&!f(t[w].children[0])&&(L([t[w].children[0]],["e-day"]),Ts(t[w].children[0],{duration:600,isCenterRipple:!0})),h.appendChild(t[w]),this.weekNumber&&7===w&&t[7].classList.contains(xc)&&L([h],nx),!this.weekNumber&&6===w&&t[6].classList.contains(xc)&&L([h],nx),this.weekNumber?41===w&&t[41].classList.contains(xc)&&L([h],nx):35===w&&t[35].classList.contains(xc)&&L([h],nx);C+=i,w+=0,this.tableBodyElement.appendChild(h)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(o!==this.getViewNumber(this.currentView())||0===o&&o!==this.getViewNumber(this.currentView()))&&this.navigateHandler(n),this.setAriaActiveDescendant()}clickHandler(t,i){this.clickEventEmitter(t);const s=t.currentTarget,n=this.getViewNumber(this.currentView());s.classList.contains(xc)?this.contentClick(t,0,null,i):n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===n?this.contentClick(t,1,null,i):s.classList.contains(xc)||0!==n?this.contentClick(t,0,s,i):this.selectDate(t,this.getIdValue(t,null),null),"calendar"===this.getModuleName()&&this.table.focus()}clickEventEmitter(t){t.preventDefault()}contentClick(t,i,s,n){const a=this.getViewNumber(this.currentView()),o=this.getIdValue(t,s);switch(i){case 0:a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(oe(this.tableBodyElement),this.currentDate=o,this.effect=Zb,this.renderMonths(t)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(o.getMonth()),o.getMonth()>0&&this.currentDate.getMonth()!==o.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(o.getFullYear())):this.currentDate=o,this.effect=Zb,oe(this.tableBodyElement),this.renderMonths(t));break;case 1:if(a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(t,o,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(o.getFullYear());else{const h=this.islamicModule.getIslamicDate(o);this.currentDate=this.islamicModule.toGregorian(h.year,h.month,1)}this.effect=Zb,oe(this.tableBodyElement),this.renderYears(t)}}}switchView(t,i,s,n){switch(t){case 0:oe(this.tableBodyElement),this.renderMonths(i,null,n),s&&!f(this.tableBodyElement.querySelectorAll("."+Aa)[0])&&this.tableBodyElement.querySelectorAll("."+Aa)[0].classList.remove(Aa);break;case 1:oe(this.tableBodyElement),this.renderYears(i);break;case 2:oe(this.tableBodyElement),this.renderDecades(i)}}getModuleName(){return"calendar"}requiredModules(){const t=[];return this&&t.push({args:[this],member:"islamic"}),t}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i,s,n){this.effect="";for(const a of Object.keys(t))switch(a){case"enableRtl":t.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===a?{min:this.checkDateValue(new Date(this.checkValue(t.min)))}:{max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&oe(this.tableBodyElement),this.minMaxUpdate(),s&&this.validateValues(s,n),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(oe(this.todayElement),oe(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(H([this.todayElement],Kn),oe(this.todayElement),oe(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new Ns(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":t.showTodayButton?this.createContentFooter():!f(this.todayElement)&&!f(this.footer)&&(oe(this.todayElement),oe(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:t.showTodayButton},!0)}}validateValues(t,i){if(t&&!f(i)&&i.length>0){const s=this.copyValues(i);for(let n=0;n<s.length;n++){const o="Gregorian"===this.calendarMode?"gregorian":"islamic";let h;h=this.globalize.formatDate(s[n],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});const v=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:o}),S=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:o});(+new Date(h)<+new Date(v)||+new Date(h)>+new Date(S))&&(s.splice(n,1),n=-1)}this.setProperties({values:s},!0)}}setValueUpdate(){f(this.tableBodyElement)||(oe(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}copyValues(t){const i=[];if(!f(t)&&t.length>0)for(let s=0;s<t.length;s++)i.push(new Date(+t[s]));return i}titleUpdate(t,i){const s=new Ns(this.locale);let n,a;const o="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(n=s.formatDate(t,{type:"dateTime",skeleton:"yMMMM",calendar:o}),a=s.formatDate(t,{format:null,type:"dateTime",skeleton:"y",calendar:o})):(n=s.formatDate(t,{type:"dateTime",format:"MMMM y",calendar:o}),a=s.formatDate(t,{type:"dateTime",format:"y",calendar:o})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(n);break;case"months":this.headerTitleElement.textContent=a}}setActiveDescendant(){let t;const i=this.tableBodyElement.querySelector("tr td.e-focused-date"),s=this.tableBodyElement.querySelector("tr td.e-selected"),n="Gregorian"===this.calendarMode?"gregorian":"islamic";let a;const o=this.currentView();return a=this.globalize.formatDate(this.currentDate,"Month"===o?{type:"date",skeleton:"full",calendar:n}:"Year"===o?"islamic"!==n?{type:"date",skeleton:"yMMMM",calendar:n}:{type:"date",skeleton:"GyMMM",calendar:n}:{format:null,type:"date",skeleton:"y",calendar:n}),(s||i)&&(f(s)||s.setAttribute("aria-selected","true"),(i||s).setAttribute("aria-label",a),t=(i||s).getAttribute("id")),t}iconHandler(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}destroy(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&H([this.element],[Xb]),"calendar"===this.getModuleName()&&this.element&&(A.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&A.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),f(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),super.destroy()}title(t){let i=this.getViewNumber(this.currentView());this.effect=Zb,this.switchView(++i,t)}getViewNumber(t){return"Month"===t?0:"Year"===t?1:2}navigateTitle(t){t.preventDefault(),this.title(t),"calendar"===this.getModuleName()&&this.table.focus()}previous(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(t)}}navigatePrevious(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}next(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(t)}}navigateNext(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}navigateTo(t,i,s){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(t)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(t))&&(t=this.depth),this.switchView(this.getViewNumber(t),null,null,s)}currentView(){return this.contentElement.classList.contains(JA)?"Year":this.contentElement.classList.contains(tx)?"Decade":"Month"}getDateVal(t,i){return!f(i)&&t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()}getCultureObjects(t,i){const s=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),n=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return X("Gregorian"===this.calendarMode?"main."+this.locale+s:"main."+this.locale+n,t)}getWeek(t){const i=new Date(this.checkValue(t)).valueOf(),s=new Date(t.getFullYear(),0,1).valueOf();return Math.ceil((i-s+rx)/rx/7)}setStartDate(t,i){const s=t.getTimezoneOffset(),n=new Date(t.getTime()+i),a=n.getTimezoneOffset()-s;t.setTime(n.getTime()+6e4*a)}addMonths(t,i){if("Gregorian"===this.calendarMode){const s=t.getDate();t.setDate(1),t.setMonth(t.getMonth()+i),t.setDate(Math.min(s,this.getMaxDays(t)))}else{const s=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(s.year,s.month+i,1)}}addYears(t,i){if("Gregorian"===this.calendarMode){const s=t.getDate();t.setDate(1),t.setFullYear(t.getFullYear()+i),t.setDate(Math.min(s,this.getMaxDays(t)))}else{const s=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(s.year+i,s.month,1)}}getIdValue(t,i){let s;s=t?t.currentTarget:i;const a={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},o=this.globalize.formatDate(new Date(parseInt(""+s.getAttribute("id"),0)),a),h=this.globalize.parseDate(o,a),d=h.valueOf()-h.valueOf()%1e3;return new Date(d)}adjustLongHeaderSize(){H([this.element],T1),"Wide"===this.dayHeaderFormat&&L(["calendar"===this.getModuleName()?this.element:this.calendarElement],T1)}selectDate(t,i,s,n,a){const o=s||t.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,i.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,i);else{if(n&&!this.checkPresentDate(i,a)){const d=this.copyValues(a);!f(a)&&d.length>0?(d.push(new Date(this.checkValue(i))),this.setProperties({values:d},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}let h=U(o,"."+Xb);if(f(h)&&(h=this.tableBodyElement),!n&&!f(h.querySelector("."+Ho))&&H([h.querySelector("."+Ho)],Ho),!n&&!f(h.querySelector("."+Aa))&&H([h.querySelector("."+Aa)],Aa),n){const d=this.copyValues(a),m=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td"));for(let v=0;v<m.length;v++){const C=h.querySelectorAll("td."+Aa)[0],w=h.querySelectorAll("td."+Ho)[0];m[v]===C&&H([m[v]],Aa),m[v]===w&&!this.checkPresentDate(new Date(parseInt(w.getAttribute("id").split("_")[0],10)),a)&&H([m[v]],Ho)}if(o.classList.contains(Ho)){H([o],Ho);for(let v=0;v<d.length;v++){const w={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(i,w)===this.globalize.formatDate(d[v],w)){const O=d.indexOf(d[v]);d.splice(O,1),L([o],Aa)}}this.setProperties({values:d},!0)}else L([o],Ho)}else L([o],Ho);this.isDateSelected=!0}checkPresentDate(t,i){let s=!1;if(!f(i))for(let n=0;n<i.length;n++){const a="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(t,{format:null,type:"date",skeleton:"short",calendar:a})===this.globalize.formatDate(i[n],{format:null,type:"date",skeleton:"short",calendar:a})&&(s=!0)}return s}setAriaActiveDescendant(){Te(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}previousIconHandler(t){t?(A.remove(this.previousIcon,"click",this.navigatePreviousHandler),L([this.previousIcon],""+Kn),L([this.previousIcon],""+Wf),this.previousIcon.setAttribute("aria-disabled","true")):(A.add(this.previousIcon,"click",this.navigatePreviousHandler),H([this.previousIcon],""+Kn),H([this.previousIcon],""+Wf),this.previousIcon.setAttribute("aria-disabled","false"))}renderDayCellEvent(t){ae(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)}navigatedEvent(t){ae(this.navigatedArgs,{name:"navigated",event:t}),this.trigger("navigated",this.navigatedArgs)}triggerNavigate(t){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(t)}nextIconHandler(t){t?(A.remove(this.nextIcon,"click",this.navigateNextHandler),L([this.nextIcon],Kn),L([this.nextIcon],Wf),this.nextIcon.setAttribute("aria-disabled","true")):(A.add(this.nextIcon,"click",this.navigateNextHandler),H([this.nextIcon],Kn),H([this.nextIcon],Wf),this.nextIcon.setAttribute("aria-disabled","false"))}compare(t,i,s){let a,o,n=i.getFullYear();return a=n,o=0,s&&(n-=n%s,a=n-n%s+s-1),t.getFullYear()>a?o=1:t.getFullYear()<n&&(o=-1),o}isMinMaxRange(t){return+t>=+this.min&&+t<=+this.max}isMonthYearRange(t){if("Gregorian"===this.calendarMode)return t.getMonth()>=this.min.getMonth()&&t.getFullYear()>=this.min.getFullYear()&&t.getMonth()<=this.max.getMonth()&&t.getFullYear()<=this.max.getFullYear();{const i=this.islamicModule.getIslamicDate(t);return i.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}}compareYear(t,i){return this.compare(t,i,0)}compareDecade(t,i){return this.compare(t,i,10)}shiftArray(t,i){return t.slice(i).concat(t.slice(0,i))}addDay(t,i,s,n,a){let o=i;const h=new Date(+t);if(!f(this.tableBodyElement)&&!f(s)){for(;this.findNextTD(new Date(+t),o,n,a);)o+=i;const d=new Date(h.setDate(h.getDate()+o));o=+d>+n||+d<+a?o===i?i-i:i:o}t.setDate(t.getDate()+o)}findNextTD(t,i,s,n){const a=new Date(t.setDate(t.getDate()+i));let o=[],h=!1;if((!f(a)&&a.getMonth())===(!f(this.currentDate)&&this.currentDate.getMonth())){let d;d="Gregorian"===this.calendarMode?this.renderDays(a):this.islamicModule.islamicRenderDays(this.currentDate,a),o=d.filter(m=>m.classList.contains(Kn))}else o=this.tableBodyElement.querySelectorAll("td."+Kn);if(+a<=+s&&+a>=+n&&o.length)for(let d=0;d<o.length&&(h=+a==+new Date(parseInt(o[d].id,0)),!h);d++);return h}getMaxDays(t){let i;const s=new Date(this.checkValue(t));i=28;const n=s.getMonth();for(;s.getMonth()===n;)++i,s.setDate(i);return i-1}setDateDecade(t,i){t.setFullYear(i),this.setProperties({value:new Date(this.checkValue(t))},!0)}setDateYear(t,i){t.setFullYear(i.getFullYear(),i.getMonth(),t.getDate()),i.getMonth()!==t.getMonth()&&(t.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(t))},!0)}compareMonth(t,i){let s;return s=t.getFullYear()>i.getFullYear()?1:t.getFullYear()<i.getFullYear()?-1:t.getMonth()===i.getMonth()?0:t.getMonth()>i.getMonth()?1:-1,s}checkValue(t){return t instanceof Date?t.toUTCString():""+t}checkView(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}getDate(t,i){return i&&(t=new Date(t.toLocaleString("en-US",{timeZone:i}))),t}};return Dn([T(new Date(1900,0,1))],r.prototype,"min",void 0),Dn([T(!0)],r.prototype,"enabled",void 0),Dn([T(null)],r.prototype,"cssClass",void 0),Dn([T(new Date(2099,11,31))],r.prototype,"max",void 0),Dn([T(null)],r.prototype,"firstDayOfWeek",void 0),Dn([T("Gregorian")],r.prototype,"calendarMode",void 0),Dn([T("Month")],r.prototype,"start",void 0),Dn([T("Month")],r.prototype,"depth",void 0),Dn([T(!1)],r.prototype,"weekNumber",void 0),Dn([T("FirstDay")],r.prototype,"weekRule",void 0),Dn([T(!0)],r.prototype,"showTodayButton",void 0),Dn([T("Short")],r.prototype,"dayHeaderFormat",void 0),Dn([T(!1)],r.prototype,"enablePersistence",void 0),Dn([T(null)],r.prototype,"keyConfigs",void 0),Dn([T(null)],r.prototype,"serverTimezoneOffset",void 0),Dn([$()],r.prototype,"created",void 0),Dn([$()],r.prototype,"destroyed",void 0),Dn([$()],r.prototype,"navigated",void 0),Dn([$()],r.prototype,"renderDayCell",void 0),r=Dn([oi],r),r})(),A1=(()=>{let r=class extends qN{constructor(t,i){super(t,i)}render(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&zp("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!f(this.values)&&this.values.length>0){const t=[],i=[];for(let s=0;s<this.values.length;s++)-1===t.indexOf(+this.values[s])&&(t.push(+this.values[s]),i.push(this.values[s]));this.setProperties({values:i},!0);for(let s=0;s<this.values.length;s++)if(!this.checkDateValue(this.values[s]))if("string"==typeof this.values[s]&&this.checkDateValue(new Date(this.checkValue(this.values[s])))){const n=new Date(this.checkValue(this.values[s]));this.values.splice(s,1),this.values.splice(s,0,n)}else this.values.splice(s,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),super.render(),"calendar"===this.getModuleName()){const t=U(this.element,"form");t&&A.add(t,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()}setEnable(t){t?H([this.element],Kn):L([this.element],Kn)}setClass(t,i){f(i)||(i=i.replace(/\s+/g," ").trim()),f(t)||(t=t.replace(/\s+/g," ").trim()),!f(i)&&""!==i&&H([this.element],i.split(" ")),f(t)||L([this.element],t.split(" "))}isDayLightSaving(){const t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,t)}setTimeZone(t){if(!f(this.serverTimezoneOffset)&&this.value){let n=t+(new Date).getTimezoneOffset()/60;n=this.isDayLightSaving()?n--:n,this.value=new Date(this.value.getTime()+60*n*60*1e3)}}formResetHandler(){this.setProperties({value:null},!0)}validateDate(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),super.validateDate(this.value),!f(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)}minMaxUpdate(){"calendar"===this.getModuleName()&&(!f(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!f(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||f(this.value)?super.minMaxUpdate(this.value):!f(this.value)&&this.value<this.min&&this.min<=this.max?super.minMaxUpdate(this.min):!f(this.value)&&this.value>this.max&&this.min<=this.max&&super.minMaxUpdate(this.max)}generateTodayVal(t){let i=new Date;return f(this.timezone)||(i=super.getDate(i,this.timezone)),t&&f(this.timezone)?(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i}todayButtonClick(t){if(this.showTodayButton){const i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=t,this.isMultiSelection){const s=this.copyValues(this.values);super.checkPresentDate(i,this.values)||(s.push(i),this.setProperties({values:s}))}super.todayButtonClick(t,new Date(+this.value))}}keyActionHandle(t){super.keyActionHandle(t,this.value,this.isMultiSelection)}preRender(){this.changeHandler=t=>{this.triggerChange(t)},this.checkView(),super.preRender(this.value)}createContent(){this.previousDate=this.value,this.previousDateTime=this.value,super.createContent()}minMaxDate(t){return super.minMaxDate(t)}renderMonths(t,i,s){super.renderMonths(t,this.value,s)}renderDays(t,i,s,n,a){const o=super.renderDays(t,this.value,this.isMultiSelection,this.values,a);return this.isMultiSelection&&super.validateValues(this.isMultiSelection,this.values),o}renderYears(t){"Gregorian"===this.calendarMode?super.renderYears(t,this.value):this.islamicModule.islamicRenderYears(t,this.value)}renderDecades(t){"Gregorian"===this.calendarMode?super.renderDecades(t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)}renderTemplate(t,i,s,n){"Gregorian"===this.calendarMode?super.renderTemplate(t,i,s,n,this.value):this.islamicModule.islamicRenderTemplate(t,i,s,n,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}clickHandler(t){const i=t.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(xc))if(this.isMultiSelection){const n=this.copyValues(this.values);n.push(this.getIdValue(t,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(t,null)},!0);const s=this.currentView();super.clickHandler(t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!f(this.tableBodyElement.querySelectorAll("."+Aa)[0])&&"Year"===s&&this.tableBodyElement.querySelectorAll("."+Aa)[0].classList.remove(Aa)}switchView(t,i,s,n){super.switchView(t,i,this.isMultiSelection,n)}getModuleName(){return super.getModuleName(),"calendar"}getPersistData(){return super.getPersistData(),this.addOnPersist(["value","values"])}onPropertyChanged(t,i){this.effect="",this.rangeValidation(this.min,this.max);for(const s of Object.keys(t))switch(s){case"value":this.isDateSelected&&("string"==typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof t.values||"number"==typeof t.values)this.setProperties({values:null},!0);else{const n=this.copyValues(this.values);for(let a=0;a<n.length;a++){const o=n[a];this.checkDateValue(o)&&!super.checkPresentDate(o,n)&&n.push(o)}this.setProperties({values:n},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(t.cssClass,i.cssClass);break;default:super.onPropertyChanged(t,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}destroy(){if(super.destroy(),"calendar"===this.getModuleName()){const t=U(this.element,"form");t&&A.remove(t,"reset",this.formResetHandler.bind(this))}}navigateTo(t,i,s){this.minMaxUpdate(),super.navigateTo(t,i,s)}currentView(){return super.currentView()}addDate(t){if("string"!=typeof t&&"number"!=typeof t){let i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const s=t;for(let n=0;n<s.length;n++)this.checkDateValue(s[n])&&!super.checkPresentDate(s[n],i)&&(!f(i)&&i.length>0?i.push(s[n]):i=[new Date(+s[n])])}else this.checkDateValue(t)&&!super.checkPresentDate(t,i)&&(!f(i)&&i.length>0?i.push(t):i=[new Date(+t)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}removeDate(t){if("string"!=typeof t&&"number"!=typeof t&&!f(this.values)&&this.values.length>0){const i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const s=t;for(let n=0;n<s.length;n++)for(let a=0;a<i.length;a++)+i[a]==+s[n]&&i.splice(a,1)}else for(let s=0;s<i.length;s++)+i[s]==+t&&i.splice(s,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}setTodayDate(t){const i=new Date(+t);this.setProperties({value:i},!0),super.todayButtonClick(null,i,!0)}update(){this.validateDate(),this.minMaxUpdate(),super.setValueUpdate()}selectDate(t,i,s){super.selectDate(t,i,s,this.isMultiSelection,this.values),this.isMultiSelection&&!f(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)}changeEvent(t){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))}triggerChange(t){!f(this.todayButtonEvent)&&this.isTodayClicked&&(t=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=t||null,this.changedArgs.isInteracted=!f(t),f(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?!f(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(t),this.previousValues=this.values.length):this.changeEvent(t)}};return Dn([T(null)],r.prototype,"value",void 0),Dn([T(null)],r.prototype,"values",void 0),Dn([T(!1)],r.prototype,"isMultiSelection",void 0),Dn([$()],r.prototype,"change",void 0),r=Dn([oi],r),r})();var zs=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const eC="e-datepicker",ox="e-popup-wrapper",lx="e-input-focus",cx="e-error",bw="e-active",YN="e-date-overflow",Cw="e-selected",Ew="e-non-edit",ux=["title","class","style"];let Es=class extends A1{constructor(e,t){super(e,t),this.previousElementValue="",this.isDateIconClicked=!1,this.isAltKeyPressed=!1,this.isInteracted=!0,this.invalidValueString=null,this.checkPreviousValue=null,this.maskedDateValue="",this.isAngular=!1,this.preventChange=!1,this.isIconClicked=!1,this.isDynamicValueChanged=!1,this.moduleName=this.getModuleName(),this.datepickerOptions=e}render(){this.initialize(),this.bindEvents(),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)}setTimeZone(e){if(!f(this.serverTimezoneOffset)&&this.value){let s=e+(new Date).getTimezoneOffset()/60;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+60*s*60*1e3),this.updateInput()}}isDayLightSaving(){const e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)}setAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Te(this.inputElement,{readonly:""}),this.updateIconState()}updateIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&H([this.inputWrapper.container],[Ew]):""===this.inputElement.value?H([this.inputWrapper.container],[Ew]):L([this.inputWrapper.container],[Ew])}initialize(){this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.checkInvalidValue(this.value),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&this.updateInputValue(this.maskedDateValue),this.previousElementValue=this.inputElement.value,this.previousDate=f(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value}createInput(){const e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){const s={placeholder:this.placeholder};this.globalize=new Ns(this.locale),this.l10n=new Gs("datepicker",s,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=me.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:!this.enableMask,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),Te(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),me.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),L([this.inputWrapper.container],"e-date-wrapper")}updateInput(e=!1){let t;if(this.value&&!this.isCalendar()&&!e&&this.disabledDates(),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(super.validateDate(),this.minMaxUpdates(),super.minMaxUpdate()),!f(this.value)){const i=this.value;let s;const n=f(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?s=this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.formatDate(this.value,t)),+i<=+this.max&&+i>=+this.min)this.updateInputValue(s);else{const a=+i>=+this.max||!+this.value||!+this.value||+i<=+this.min;!this.strictMode&&a&&this.updateInputValue(s)}}f(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&f(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()}minMaxUpdates(){!f(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!f(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})}checkStringValue(e){let t=null,i=null,s=null;if("datetimepicker"===this.getModuleName()){const n=new Ns(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:n.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:n.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,i)),f(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,s))),t}checkInvalidValue(e){if(!(e instanceof Date||f(e))){let t=null,i=e;"number"==typeof e&&(i=e.toString());let s=null,n=null;if("datetimepicker"===this.getModuleName()){const o=new Ns(this.locale);"Gregorian"===this.calendarMode?(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},n={format:o.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n={format:o.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};let a=!1;if("string"!=typeof i)i=null,a=!0;else if("string"==typeof i&&(i=i.trim()),t=this.checkStringValue(i),!t){let o=null,h=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,h=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(i)&&!h.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?a=!0:t=new Date(i)}a?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}}bindInputEvent(){(!f(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?A.add(this.inputElement,"input",this.inputHandler,this):A.remove(this.inputElement,"input",this.inputHandler))}bindEvents(){A.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),A.add(this.inputElement,"mouseup",this.mouseUpHandler,this),A.add(this.inputElement,"focus",this.inputFocusHandler,this),A.add(this.inputElement,"blur",this.inputBlurHandler,this),this.enableMask&&A.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),A.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&A.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new rt(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}keydownHandler(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}))}}unBindEvents(){A.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),A.remove(this.inputElement,"mouseup",this.mouseUpHandler),A.remove(this.inputElement,"focus",this.inputFocusHandler),A.remove(this.inputElement,"blur",this.inputBlurHandler),A.remove(this.inputElement,"change",this.inputChangeHandler),this.enableMask&&A.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&A.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&A.remove(this.formElement,"reset",this.resetFormHandler)}resetFormHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}}restoreValue(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=f(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})}inputChangeHandler(e){!this.enabled||e.stopPropagation()}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(e){!this.enabled||(e.preventDefault(),this.clear(e))}mouseUpHandler(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"})}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")}updateInputValue(e){me.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}dateIconHandler(e){!this.enabled||(this.isIconClicked=!0,G.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),L([this.inputWrapper.container],[lx]),L(this.inputWrapper.buttons,bw))),this.isIconClicked=!1)}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(!f(this.htmlAttributes[e])&&ux.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);f(t)?t=this.htmlAttributes[e]:";"===t.charAt(t.length-1)?t+=this.htmlAttributes[e]:t=t+";"+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))ux.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),me.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&me.setCssClass(e,[this.popupWrapper],t)}calendarKeyActionHandle(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}}inputFocusHandler(){if(!this.enabled)return;this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length);const e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}inputHandler(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}inputBlurHandler(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&f(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new rt(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)}documentHandler(e){!f(this.popupObj)&&(this.inputWrapper.container.contains(e.target)||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();const t=e.target;U(t,".e-datepicker.e-popup-wrapper")||U(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")?U(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!f(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&U(t,".e-content")&&U(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())||U(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+super.generateTodayVal(this.value))&&this.hide(e):(this.hide(e),this.focusOut())}inputKeyActionHandle(e){const t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":let i=this.inputElement.selectionStart,s=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){let n=this.inputElement.value.length;(0==i&&s==n||s!==n&&"tab"==e.action||0!==i&&"shiftTab"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),i=this.inputElement.selectionStart,s=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=i,this.inputElement.selectionEnd=s),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}}defaultAction(e){this.previousDate=!f(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(super.keyActionHandle(e),this.isCalendar()&&Te(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))}popupUpdate(){if((f(this.value)&&!f(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+Cw).length>0&&H(this.popupObj.element.querySelectorAll("."+Cw),[Cw]),!f(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){const e=new Date(this.checkValue(this.value));super.navigateTo("Month",e)}}strictModeUpdate(){let e,t,i,s;e="datetimepicker"===this.getModuleName()?f(this.formatString)?this.dateTimeFormat:this.formatString:f(this.formatString)?this.formatString:this.formatString.replace("dd","d"),f(e)||e.split("M").length-1<3&&(e=e.replace("MM","M")),"datetimepicker"===this.getModuleName()?i="Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=t),"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?s=this.globalize.parseDate(this.inputElement.value,i):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.parseDate(this.inputElement.value,t)):(s=this.globalize.parseDate(this.inputElement.value,i),s=!f(s)&&isNaN(+s)?null:s,!f(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&s.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&s&&s.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&s?(this.updateInputValue(this.globalize.formatDate(s,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0),this.strictMode&&!s&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),f(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))}createCalendar(){this.popupWrapper=this.createElement("div",{className:eC+" "+ox}),f(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),G.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=eC+" e-date-modal",document.body.className+=" "+YN,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new Wn(this.popupWrapper,{content:this.calendarElement,relateTo:G.isDevice?document.body:this.inputWrapper.container,position:G.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:G.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:()=>{"datetimepicker"!==this.getModuleName()&&document.activeElement!==this.inputElement&&(this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.calendarElement.children[1].firstElementChild.focus(),this.calendarKeyboardModules=new rt(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}),this.calendarKeyboardModules=new rt(this.inputWrapper.container.children[this.index],{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}))},close:()=>{this.isDateIconClicked&&this.inputWrapper.container.children[this.index].focus(),this.value&&this.disabledDates(),this.popupObj&&this.popupObj.destroy(),this.resetCalendar(),oe(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.preventArgs=null,this.calendarKeyboardModules=null,this.setAriaAttributes()},targetExitViewport:()=>{G.isDevice||this.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()}setAriaDisabled(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)}modelHeader(){let e;const t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),s=this.createElement("div"),n=this.createElement("span",{className:"e-model-day"}),a=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},i.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},n.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},a.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(i),s.appendChild(n),s.appendChild(a),t.appendChild(s),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)}changeTrigger(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!f(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)}navigatedEvent(){this.trigger("navigated",this.navigatedArgs)}changeEvent(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}selectCalendar(e){let t,i,s;i="datetimepicker"===this.getModuleName()&&f(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(s="Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,s)):(s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,s)),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),f(t)||(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))}isCalendar(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+ox))}setWidth(e){this.inputWrapper.container.style.width="number"==typeof e?fe(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:fe(this.width):"100%"}show(e,t){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){let s,i=!0;f(this.value)||+this.value>=+this.min&&+this.value<=+this.max?s=this.value||null:(s=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(super.render(),this.setProperties({value:s||null},!0),this.previousDate=s,this.createCalendar()),G.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:()=>{i=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:G.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,a=>{if(this.preventArgs=a,i&&!this.preventArgs.cancel){L(this.inputWrapper.buttons,bw),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement);this.popupObj.show(new Gi({name:"FadeIn",duration:G.isDevice?0:300}),1e3===this.zIndex?this.element:null),super.setOverlayIndex(this.mobilePopupWrapper,this.popupObj.element,this.modal,G.isDevice),this.setAriaAttributes()}else this.popupObj.destroy(),this.popupWrapper=this.popupObj=null;!f(this.inputElement)&&""===this.inputElement.value&&!f(this.tableBodyElement)&&this.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(L([this.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),H(this.tableBodyElement.querySelectorAll("td.e-selected"),Cw)),A.add(document,"mousedown touchstart",this.documentHandler,this)})}}hide(e){if(f(this.popupWrapper))G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{let t=!0;this.preventArgs={preventDefault:()=>{t=!1},popup:this.popupObj,event:e||null,cancel:!1},H(this.inputWrapper.buttons,bw),H([document.body],YN);const i=this.preventArgs;this.isCalendar()?this.trigger("close",i,s=>{this.closeEventCallback(t,s)}):this.closeEventCallback(t,i)}}closeEventCallback(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),H(this.inputWrapper.buttons,bw)),this.setAriaAttributes(),G.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),G.isDevice&&(f(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),A.remove(document,"mousedown touchstart",this.documentHandler),G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}focusIn(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),L([this.inputWrapper.container],[lx]))}focusOut(){document.activeElement===this.inputElement&&(H([this.inputWrapper.container],[lx]),this.inputElement.blur())}currentView(){let e;return this.calendarElement&&(e=super.currentView()),e}navigateTo(e,t){this.calendarElement&&super.navigateTo(e,t)}destroy(){this.unBindEvents(),super.destroy(),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&super.destroy(),this.inputElement&&(me.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),f(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),A.remove(this.inputElement,"blur",this.inputBlurHandler),A.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&oe(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),H([this.inputElement],["e-input"])),H([this.element],[eC]),oe(this.inputWrapper.container)),this.formElement&&A.remove(this.formElement,"reset",this.resetFormHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))}preRender(){this.inputElementCopy=this.element.cloneNode(!0),H([this.inputElementCopy],[eC,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=U(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=$i("ej2-datetimepicker"),null!==this.ngTag&&Te(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=$i("ej2-datepicker"),null!==this.ngTag&&Te(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender()}getDefaultKeyConfig(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let n=0;n<s.length;n++){if(f(e.getAttribute(s[n])))continue;const a=e.getAttribute(s[n]);t.setAttribute(s[n],a),e.removeAttribute(s[n])}}checkFormat(){const e=new Ns(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||f(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{const t=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:t,type:"dateTime"}):e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null}checkHtmlAttributes(e){this.globalize=new Ns(this.locale),this.checkFormat(),this.checkView();const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];let i;i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){const n=!("disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s));this.setProperties({enabled:n},!e)}break;case"readonly":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){const n="readonly"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:n},!e)}break;case"placeholder":(f(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"value":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){const n=this.inputElement.getAttribute(s);this.setProperties(At(s,this.globalize.parseDate(n,i),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){const n=this.inputElement.getAttribute(s);this.setProperties(At(s,this.globalize.parseDate(n),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){const n=this.inputElement.getAttribute(s);this.setProperties(At(s,this.globalize.parseDate(n),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}getModuleName(){return"datepicker"}disabledDates(){let e,t;const i=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),s=this.previousDate;this.minMaxUpdates(),super.render(),this.previousDate=s;const a='*[id^="/id"]'.replace("/id",""+(i&&+i));let o;this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+i)&&this.setProperties({value:i},!0),f(this.calendarElement.querySelectorAll(a)[0])||this.calendarElement.querySelectorAll(a)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?(t=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),o=t):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},o=this.globalize.formatDate(i,e)),this.popupObj||(this.updateInputValue(o),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})))}setAriaAttributes(){this.isCalendar()?(me.addAttributes({"aria-expanded":"true"},this.inputElement),Te(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(me.addAttributes({"aria-expanded":"false"},this.inputElement),Te(this.inputElement,{"aria-activedescendant":"null"}))}errorClass(){const e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!f(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&f(this.value)||t?(L([this.inputWrapper.container],cx),Te(this.inputElement,{"aria-invalid":"true"})):(H([this.inputWrapper.container],cx),Te(this.inputElement,{"aria-invalid":"false"}))}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,f(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":me.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":me.setReadonly(this.readonly,this.inputElement);break;case"enabled":me.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),me.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":me.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&super.onPropertyChanged(e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":me.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,me.removeFloating(this.inputWrapper),me.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}};zs([T(null)],Es.prototype,"width",void 0),zs([T(null)],Es.prototype,"value",void 0),zs([T(null)],Es.prototype,"cssClass",void 0),zs([T(!1)],Es.prototype,"strictMode",void 0),zs([T(null)],Es.prototype,"format",void 0),zs([T(!0)],Es.prototype,"enabled",void 0),zs([T({})],Es.prototype,"htmlAttributes",void 0),zs([T(null)],Es.prototype,"values",void 0),zs([T(!1)],Es.prototype,"isMultiSelection",void 0),zs([T(!0)],Es.prototype,"showClearButton",void 0),zs([T(!0)],Es.prototype,"allowEdit",void 0),zs([T(null)],Es.prototype,"keyConfigs",void 0),zs([T(!1)],Es.prototype,"enablePersistence",void 0),zs([T(1e3)],Es.prototype,"zIndex",void 0),zs([T(!1)],Es.prototype,"readonly",void 0),zs([T(null)],Es.prototype,"placeholder",void 0),zs([T("Never")],Es.prototype,"floatLabelType",void 0),zs([T(null)],Es.prototype,"serverTimezoneOffset",void 0),zs([T(!1)],Es.prototype,"openOnFocus",void 0),zs([T(!1)],Es.prototype,"enableMask",void 0),zs([T({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],Es.prototype,"maskPlaceholder",void 0),zs([$()],Es.prototype,"open",void 0),zs([$()],Es.prototype,"cleared",void 0),zs([$()],Es.prototype,"close",void 0),zs([$()],Es.prototype,"blur",void 0),zs([$()],Es.prototype,"focus",void 0),zs([$()],Es.prototype,"created",void 0),zs([$()],Es.prototype,"destroyed",void 0),Es=zs([oi],Es);var gi=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Bo="e-input-group",sC="e-popup",Tr="e-left-calendar",pa="e-right-calendar",sv="e-daterangepicker",ww="e-error",Is="e-active",Zr="e-start-date",co="e-end-date",px="e-start-btn",Bu="e-input-focus",Vr="e-range-hover",nv="e-other-month",fx="e-start-label",nC="e-end-label",as="e-disabled",Zl="e-selected",Nn="e-calendar",Dw="e-next",mx="e-prev",xa="e-header",ju="e-title",gx="e-icon-container",Sw="e-date-range-container",rv="e-presets",Tw="e-today",qf="e-focused-date",av="e-content",ov="e-day-span",Wu="e-week-number",_h="e-date-disabled",Ia="e-icon-disabled",B1="e-device",Ya="e-overlay",Ph="e-list-item",ho="e-hover",U1="e-range-overflow",Ar="e-non-edit",bx="e-daterange-hidden",Cx=["title","class","style"];class lv extends hi{}gi([T()],lv.prototype,"label",void 0),gi([T()],lv.prototype,"start",void 0),gi([T()],lv.prototype,"end",void 0);let vi=class extends qN{constructor(e,t){super(e,t),this.isCustomRange=!1,this.isCustomWindow=!1,this.presetsItem=[],this.liCollections=[],this.previousEleValue="",this.isKeyPopup=!1,this.dateDisabled=!1,this.isRangeIconClicked=!1,this.isMaxDaysClicked=!1,this.disabledDays=[],this.preventBlur=!1,this.preventFocus=!1,this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.dateRangeOptions=e}render(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}preRender(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),H([this.cloneElement],[sv,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=$i("ej2-datetimepicker"),null!==this.angularTag&&Te(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){const e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender(),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=U(this.element,"form")}updateValue(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):f(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())}initProperty(){this.globalize=new Ns(this.locale),this.checkFormat(),this.checkView(),(f(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()}checkFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||f(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null}initialize(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),So(this.defaultKeyConfigs,{shiftTab:"shift+tab"});const e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new Gs("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()}setDataAttribute(e){let t={};if(e)t=this.htmlAttributes;else for(let i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(const i of Object.keys(t))0===i.indexOf("data")&&(this.firstHiddenChild.setAttribute(i,t[i]),this.secondHiddenChild.setAttribute(i,t[i]))}setRangeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Te(this.inputElement,{readonly:""}),this.updateClearIconState()}updateClearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&H([this.inputWrapper.container],[Ar]):""===this.inputElement.value?H([this.inputWrapper.container],[Ar]):L([this.inputWrapper.container],[Ar])}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let n=0;n<s.length;n++){if(f(e.getAttribute(s[n])))continue;const a=e.getAttribute(s[n]);t.setAttribute(s[n],a),e.removeAttribute(s[n])}}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(Cx.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))Cx.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),me.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&me.setCssClass(e,[this.popupWrapper],t)}processPresets(){this.presetsItem=[];let e=0;if(!pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(const s of this.presets){const n=s.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push("string"==typeof s.end?{id:n,text:s.label,end:new Date(this.checkValue(s.end)),start:new Date(this.checkValue(s.start))}:{id:n,text:s.label,start:s.start,end:s.end})}const t=f(this.startValue)?null:new Date(+this.startValue),i=f(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:t,end:i}),!f(this.startValue)&&!f(this.endValue)&&(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}}bindEvents(){A.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),A.add(this.inputElement,"focus",this.inputFocusHandler,this),A.add(this.inputElement,"blur",this.inputBlurHandler,this),A.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=ae(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new rt(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1}unBindEvents(){A.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),A.remove(this.inputElement,"blur",this.inputBlurHandler),A.remove(this.inputElement,"focus",this.inputFocusHandler),A.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&A.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||f(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1}updateHiddenInput(){if(this.firstHiddenChild&&this.secondHiddenChild){const e={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}}inputChangeHandler(e){!this.enabled||(e.stopPropagation(),this.updateHiddenInput())}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}resetHandler(e){if(!this.enabled)return;this.valueType=this.value,e.preventDefault(),this.clear();const t={event:e};this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e)}restoreValue(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()}formResetHandler(e){if(this.enabled&&this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){let t=this.inputElement.getAttribute("value");f(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(f(this.value)||f(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),t="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(me.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}}clear(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),me.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),f(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()}rangeIconHandler(e){!this.enabled||(this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||f(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),L([this.inputWrapper.container],[Bu])))}checkHtmlAttributes(e){this.globalize=new Ns(this.locale);const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],i={format:this.formatString,type:"date",skeleton:"yMd"};for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){const n="disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({enabled:!n},!e)}break;case"readonly":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){const n="readonly"===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s);this.setProperties({readonly:n},!e)}break;case"placeholder":(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"value":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){const n=this.inputElement.getAttribute(s);this.setProperties(At(s,n,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"min":if(f(this.min)||+this.min==+new Date(1900,0,1)||e){const n=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(At(s,n,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"max":if(f(this.max)||+this.max==+new Date(2099,11,31)||e){const n=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(At(s,n,{}),!e)}break;case"startDate":if(f(this.startDate)){const n=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.startValue=n,this.setValue()}break;case"endDate":if(f(this.endDate)){const n=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.endValue=n,this.setValue()}break;case"minDays":f(this.minDays)&&this.setProperties(At(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"maxDays":f(this.maxDays)&&this.setProperties(At(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}createPopup(){for(let t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(let t=0;t<=this.presetsItem.length-2;t++){const i=this.presetsItem[t].start,s=this.presetsItem[t].end;this.startValue&&this.endValue&&+new Date(i.setHours(0,0,0,0))==+new Date(this.startValue.setHours(0,0,0,0))&&+new Date(s.setHours(0,0,0,0))==+new Date(this.endValue.setHours(0,0,0,0))&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=Q("div",{id:this.element.id+"_popup",className:sv+" "+sC}),this.adjustLongHeaderWidth();const e=!this.isCustomRange||this.isMobile;!pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&e?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())}renderControl(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),!f(this.endValue)&&!f(this.startValue)&&this.disabledDateRender(),this.updateHeader()}clearCalendarEvents(){A.clearEvents(this.leftCalPrevIcon),A.clearEvents(this.leftCalNextIcon),A.clearEvents(this.rightCalPrevIcon),A.clearEvents(this.rightCalNextIcon)}updateNavIcons(){super.iconHandler()}calendarIconEvent(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(as)&&A.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(as)&&A.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(as)&&A.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(as)&&A.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)}bindCalendarEvents(){this.isMobile?(this.deviceCalendarEvent(),A.add(this.startButton.element,"click",this.deviceHeaderClick,this),A.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+pa+" ."+xa+" ."+ju),this.headerTitleElement=this.popupObj.element.querySelector("."+Tr+" ."+xa+" ."+ju),this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new rt(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new rt(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}calendarIconRipple(){Ts(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ts(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Ts(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ts(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})}deviceCalendarEvent(){A.clearEvents(this.nextIcon),A.clearEvents(this.previousIcon),Ts(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ts(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(as)&&A.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(as)&&A.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)}deviceNavNext(e){const t=U(e.target,"."+Nn);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()}deviceNavPrevious(e){const t=U(e.target,"."+Nn);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()}updateDeviceCalendar(e){e&&(this.previousIcon=e.querySelector("."+mx),this.nextIcon=e.querySelector("."+Dw),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+av),this.tableBodyElement=J("."+av+" tbody",e),this.table=e.querySelector("."+av).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+xa+" ."+ju),this.headerElement=e.querySelector("."+xa))}deviceHeaderClick(e){if(e.currentTarget.classList.contains(px)&&!f(this.startValue)){this.endButton.element.classList.remove(Is),this.startButton.element.classList.add(Is);const i=this.popupObj.element.querySelector("."+Nn);this.updateDeviceCalendar(i),f(this.calendarElement.querySelector("."+Zr+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),nt(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!f(this.startValue)&&!f(this.endValue)){this.startButton.element.classList.remove(Is),this.endButton.element.classList.add(Is);const i=this.popupObj.element.querySelector("."+Nn);this.updateDeviceCalendar(i),f(this.calendarElement.querySelector("."+co+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),nt(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Nn)),this.selectableDates()}}inputFocusHandler(){this.enabled&&(this.preventBlur=!1,this.preventFocus||this.trigger("focus",{model:this}),this.updateClearIconState(),this.updateHiddenInput(),this.openOnFocus&&!this.preventFocus?(this.preventFocus=!0,this.show()):this.preventFocus=!0)}inputBlurHandler(e){if(this.enabled){if(!this.preventBlur){const t=this.inputElement.value;if(f(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!f(t)&&""!==t.trim()){const i=t.split(" "+this.separator+" ");if(i.length>1){this.invalidValueString=null;const s={format:this.formatString,type:"date",skeleton:"yMd"},n=this.globalize.parseDate(i[0].trim(),s),a=this.globalize.parseDate(i[1].trim(),s);if(!(f(n)||isNaN(+n)||f(a)||isNaN(+a))){const o=this.startValue;this.startValue=n;const h=this.endValue;return this.endValue=a,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=o,this.endValue=h))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(!f(t)&&""===t.trim()&&(this.startValue=null,this.endValue=null),me.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(f(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}}clearRange(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null}errorClass(){const e=this.inputElement.value.trim();(f(this.endValue)&&f(this.startValue)&&""!==e||!f(this.startValue)&&+this.startValue<+this.min||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(L([this.inputWrapper.container],ww),Te(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(H([this.inputWrapper.container],ww),Te(this.inputElement,{"aria-invalid":"false"}))}keyCalendarUpdate(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t}navInCalendar(e,t,i,s,n){const a=this.getViewNumber(this.currentView());let o;const h=this.min;let d;switch(d=f(this.maxDays)||!this.isMaxDaysClicked||f(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":o=new Date(+this.currentDate),this.addDay(o,1,e,d,h),t&&+o==+s&&(n=this.keyCalendarUpdate(!1,n)),this.keyboardNavigate(1,a,e,d,h),this.keyNavigation(n,e);break;case"moveLeft":o=new Date(+this.currentDate),this.addDay(o,-1,e,d,h),t||+o==+i&&(n=this.keyCalendarUpdate(!0,n)),this.keyboardNavigate(-1,a,e,d,h),this.keyNavigation(n,e);break;case"moveUp":0===a?(o=new Date(+this.currentDate),this.addDay(o,-7,e,d,h),+o<=+i&&!t&&(n=this.keyCalendarUpdate(!0,n)),this.keyboardNavigate(-7,a,e,d,h)):this.keyboardNavigate(-4,a,e,this.max,this.min),this.keyNavigation(n,e);break;case"moveDown":0===a?(o=new Date(+this.currentDate),this.addDay(o,7,e,d,h),t&&+o>=+s&&(n=this.keyCalendarUpdate(!1,n)),this.keyboardNavigate(7,a,e,d,h)):this.keyboardNavigate(4,a,e,this.max,this.min),this.keyNavigation(n,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),nt(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),this.keyNavigation(n,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,a),nt(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),this.keyNavigation(n,e)}}keyInputHandler(e,t){let i,s=this.getViewNumber(this.currentView());const n=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),a=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0);let o=U(e.target,"."+pa);o=f(o)?this.leftCalendar:o;const h=o.classList.contains(Tr);this.updateCalendarElement(o);const d=this.tableBodyElement.querySelector("tr td.e-selected"),m=o.querySelector("tr td."+qf),v=o.querySelector("tr td."+Zr),C=o.querySelector("tr td."+co),w=this.getViewNumber(this.depth),S=s===w&&this.getViewNumber(this.start)>=w,k=U(e.target,"."+Tr),O=U(e.target,"."+pa),N=U(e.target,"."+rv);switch(f(m)?f(C)||this.dateDisabled?f(v)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),L([this.inputWrapper.container],[Bu]));break;case"select":if(S){const q=f(m)?v:m;!f(q)&&!q.classList.contains(as)&&this.selectRange(null,q)}else(!f(d)&&!S||!f(m))&&(f(this.value)||(t=this.calendarElement.classList.contains(Tr)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,m||d,t));e.preventDefault();break;case"controlHome":{const q=new Date(this.currentDate.getFullYear(),0,1);!h&&+q<+a&&(o=this.keyCalendarUpdate(!0,o)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(o,e)}break;case"altRightArrow":f(k)?f(O)?f(N)||this.cancelButton.element.focus():f(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":f(k)?f(O)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(Tr),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":(!f(d)||!f(m))&&!S&&(f(this.value)||(t=this.calendarElement.classList.contains(Tr)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,d||m,t)),e.preventDefault();break;case"controlEnd":{const q=new Date(this.currentDate.getFullYear(),11,31);h&&+q>+n&&(o=this.keyCalendarUpdate(!1,o)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(o,e)}break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!h&&+i<=+a&&(o=this.keyCalendarUpdate(!0,o)),this.addMonths(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(o,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),h&&+i>=+n&&(o=this.keyCalendarUpdate(!1,o)),this.addMonths(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(o,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!h&&+i<=+a&&(o=this.keyCalendarUpdate(!0,o)),this.addYears(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(o,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),h&&+i>=+n&&(o=this.keyCalendarUpdate(!1,o)),this.addYears(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(o,e);break;case"shiftTab":f(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,h,a,n,o),this.checkMinMaxDays()}this.presetHeight()}keyNavigation(e,t){this.bindCalendarCellEvents(e),e.classList.contains(Tr)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()}inputHandler(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||f(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}}bindCalendarCellEvents(e){let t;t=e?e.querySelectorAll("."+Nn+" td"):this.popupObj.element.querySelectorAll("."+Nn+" td");for(const i of t)A.clearEvents(i),!i.classList.contains(as)&&!i.classList.contains(_h)&&!i.classList.contains(Wu)&&(this.isMobile||A.add(i,"mouseover",this.hoverSelection,this),A.add(i,"mousedown",this.selectRange,this))}removeFocusedDate(){const e=!f(this.startValue)||!f(this.endValue),t=this.popupObj.element.querySelectorAll("."+Nn+" ."+qf);for(const i of t){const s=new Date,n=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains(Tw)||i.classList.contains(Tw)&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(s,n)&&!this.isSameYear(s,n)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(s,n)||e))&&(i.classList.remove(qf),!i.classList.contains(Zr)&&!i.classList.contains(co)&&i.removeAttribute("aria-label"))}}hoverSelection(e,t){const s=this.getIdValue(null,t||e.currentTarget);if(!f(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&f(this.endValue)&&f(this.startValue)||!f(this.startValue)&&f(this.endValue))){const n=this.popupObj.element.querySelectorAll("."+Nn+" td");for(const a of n){const o=!a.classList.contains(as)||a.classList.contains(_h);if(!a.classList.contains(Wu)&&o){const h=this.getIdValue(null,a),d=new Date(+this.startValue);new Date(+h).setHours(0,0,0,0)>=d.setHours(0,0,0,0)&&+h<=+s?L([a],Vr):H([a],[Vr])}}}}isSameStartEnd(e,t){let i=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(i=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(i=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(i=!0),i}updateRange(e){if(!f(this.startValue))for(const t of e){const i=t.querySelectorAll("."+Nn+" td");for(const s of i)if(!s.classList.contains(Wu)&&!s.classList.contains(as)){const n=this.getIdValue(null,s),a=this.getIdValue(null,s);if(f(this.endValue)?H([s],[Vr]):this.currentView()===this.depth&&+a.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+a.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&L([s],Vr),s.classList.contains(Zl)&&s.classList.contains(co)&&+a!=+this.endValue&&(H([s],[Zl]),H([s],[co])),s.classList.contains(Vr)&&+a>+this.endValue&&H([s],[Vr]),!s.classList.contains(nv)){const o=new Date(+this.startValue);let h=new Date(+n);this.currentView()===this.depth&&+h.setHours(0,0,0,0)==+o.setHours(0,0,0,0)&&+h.setHours(0,0,0,0)>=+o.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(L([s],[Zr,Zl]),this.addSelectedAttributes(s,this.startValue,!0));const d=new Date(+this.endValue);"Year"===this.currentView()?h=new Date(h.getFullYear(),h.getMonth()+1,0):"Decade"===this.currentView()&&(h=new Date(h.getFullYear(),11,31)),this.currentView()===this.depth&&!f(this.endValue)&&+h.setHours(0,0,0,0)==+d.setHours(0,0,0,0)&&+h.setHours(0,0,0,0)<=+d.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(L([s],[co,Zl]),this.addSelectedAttributes(s,this.startValue,!1)),+n==+this.startValue&&!f(this.endValue)&&+n==+this.endValue&&this.addSelectedAttributes(s,this.endValue,!1,!0)}}}}checkMinMaxDays(){(!f(this.minDays)&&this.minDays>0||!f(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+Nn)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+Tr)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+pa))))}rangeArgs(e){let t,i;const s=f(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),n=f(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return f(this.endValue)||f(this.startValue)?(t="",i=0):(t=s+" "+this.separator+" "+n,i=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:i,event:e||null,element:this.element,isInteracted:!f(e),text:t}}otherMonthSelect(e,t,i){const s=+this.getIdValue(null,e),n='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+s),a=this.popupObj&&this.popupObj.element.querySelector(n);f(a)||(t?(L([a],[Zr,Zl]),this.addSelectedAttributes(a,this.startValue,!0)):(L([a],[co,Zl]),this.addSelectedAttributes(a,this.endValue,!0)),i&&this.addSelectedAttributes(e,this.endValue,!1,!0))}selectRange(e,t){let i,s;e&&e.preventDefault();const n=f(e)?this.getIdValue(null,t):this.getIdValue(e,null),a=n.getFullYear(),o=n.getMonth(),h=new Date(a,o,1),d=new Date(a,o+1,0),m=new Date(a,0,1),v=new Date(a,11,31);f(this.endValue)||f(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(Is)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(Is))&&this.removeSelection();const C=t||e.currentTarget;if(f(this.startValue))f(this.previousStartValue)||(n.setHours(this.previousStartValue.getHours()),n.setMinutes(this.previousStartValue.getMinutes()),n.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?h:m,this.endValue=null,this.setValue(),L([C],Zr),this.addSelectedAttributes(C,this.startValue,!0),C.classList.contains(nv)&&this.otherMonthSelect(C,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(Is),this.startButton.element.classList.remove(Is),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+n==+this.startValue||+n>+this.startValue){if(+n==+this.startValue&&!f(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),f(this.previousEndValue)||(n.setHours(this.previousEndValue.getHours()),n.setMinutes(this.previousEndValue.getMinutes()),n.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?d:v,this.setValue();let w=this.popupObj.element.querySelectorAll("."+co);if(this.isMobile){this.startButton.element.classList.remove(Is),this.endButton.element.classList.add(Is);for(const S of w)S.removeAttribute("aria-label"),S.classList.contains(Zr)?(this.addSelectedAttributes(S,this.startValue,!0),H([S],[co])):(S.setAttribute("aria-selected","false"),H([S],[co,Zl]))}L([C],co),+this.endValue==+this.startValue?this.addSelectedAttributes(C,this.endValue,!1,!0):this.addSelectedAttributes(C,this.endValue,!1),C.classList.contains(nv)&&(+this.endValue==+this.startValue?this.otherMonthSelect(C,!1,!0):this.otherMonthSelect(C,!1)),w=this.popupObj.element.querySelectorAll("."+co);for(const S of w)S.classList.contains(Zr)&&H([S],[Vr]);this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+n<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?h:m,this.setValue(),this.removeSelectedAttributes(),H(this.popupObj.element.querySelectorAll("."+Zr),[Zr,Zl]),L([C],Zr),this.addSelectedAttributes(C,this.startValue,!0),C.classList.contains(nv)&&this.otherMonthSelect(C,!0),this.checkMinMaxDays());e&&(i=U(e.target,"."+Tr)),f(i)?(e&&(s=e&&U(e.target,"."+pa)),f(s)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),L([C],Zl),this.updateHeader(),this.removeFocusedDate()}selectableDates(){if(!f(this.startValue)){const e=this.calendarElement.querySelectorAll("."+Nn+" td");let t=!1;if(this.currentView()===this.depth){for(const i of e){if(!i.classList.contains(Zr)&&!i.classList.contains(Wu)&&!i.classList.contains(as)){if(+this.getIdValue(null,i)<+this.startValue){L([i],[_h,as,Ya]),A.clearEvents(i);continue}break}if(i.classList.contains(Zr)&&!i.classList.contains(nv)){t=!0;break}}t&&(this.previousIcon.classList.contains(as)||L([this.previousIcon],[Ia,as,Ya]))}else{for(const i of e){const s=this.startValue.getMonth(),n=this.startValue.getFullYear(),a=this.getIdValue(null,i);if(this.startButton.element.classList.contains(Is)||!("Year"===this.currentView()&&a.getMonth()<s&&a.getFullYear()<=n||"Decade"===this.currentView()&&a.getMonth()<=s&&a.getFullYear()<n))break;L([i],[as])}e[0].classList.contains(as)?this.previousIconHandler(!0):e[e.length-1].classList.contains(as)&&this.nextIconHandler(!0)}}}updateMinMaxDays(e){if(!f(this.startValue)&&f(this.endValue)||this.isMobile&&this.endButton.element.classList.contains(Is)){if(!f(this.minDays)&&this.minDays>0||!f(this.maxDays)&&this.maxDays>0){const t=this.removeTimeValueFromDate(this.startValue);let i=new Date(new Date(+t).setDate(t.getDate()+(this.minDays-1))),s=new Date(new Date(+t).setDate(t.getDate()+(this.maxDays-1)));i=!f(this.minDays)&&this.minDays>0?i:null,s=!f(this.maxDays)&&this.maxDays>0?s:null,"Year"===this.currentView()?(i=f(i)?null:new Date(i.getFullYear(),i.getMonth(),0),s=f(s)?null:new Date(s.getFullYear(),s.getMonth(),1)):"Decade"===this.currentView()&&(i=f(i)?null:new Date(i.getFullYear()-1,11,1),s=f(s)?null:new Date(s.getFullYear(),0,1));const n=e.querySelectorAll("."+Nn+" td");let a;for(const o of n)if(!o.classList.contains(Zr)&&!o.classList.contains(Wu)){let h=this.getIdValue(null,o);if(h=this.removeTimeValueFromDate(h),!f(i)&&+h==+i&&o.classList.contains(as)&&i.setDate(i.getDate()+1),!o.classList.contains(as)){if(+h<=+t)continue;!f(i)&&+h<+i&&(L([o],[_h,as,Ya]),A.clearEvents(o)),!f(s)&&+h>+s&&(L([o],[_h,as,Ya]),this.isMaxDaysClicked=!0,A.clearEvents(o),f(a)&&!o.classList.contains(nv)&&(a=o))}}if(!f(a))if(this.isMobile)this.nextIcon.classList.contains(as)||L([this.nextIcon],[Ia,as,Ya]);else{let o=U(a,"."+pa);o=f(o)?this.leftCalendar:o,o.classList.contains(Tr)?(this.rightCalNextIcon.classList.contains(as)||L([this.rightCalNextIcon],[Ia,as,Ya]),this.leftCalNextIcon.classList.contains(as)||L([this.leftCalNextIcon],[Ia,as,Ya]),this.rightCalPrevIcon.classList.contains(as)||L([this.rightCalPrevIcon],[Ia,as,Ya])):this.rightCalNextIcon.classList.contains(as)||L([this.rightCalNextIcon],[Ia,as,Ya])}}}else this.isMaxDaysClicked=!1}removeTimeValueFromDate(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}removeClassDisabled(){const e=this.popupObj.element.querySelectorAll("."+Nn+" td."+_h);for(const t of e)t.classList.contains(_h)&&(H([t],[_h,as,Ya]),A.add(t,"click",this.selectRange,this),this.isMobile||A.add(t,"mouseover",this.hoverSelection,this));this.isMobile?(this.nextIcon.classList.contains(Ia)&&H([this.nextIcon],[Ia,as,Ya]),this.previousIcon.classList.contains(Ia)&&H([this.previousIcon],[Ia,as,Ya])):(this.rightCalNextIcon.classList.contains(Ia)&&H([this.rightCalNextIcon],[Ia,as,Ya]),this.rightCalPrevIcon.classList.contains(Ia)&&H([this.rightCalPrevIcon],[Ia,as,Ya]),this.leftCalNextIcon.classList.contains(Ia)&&H([this.leftCalNextIcon],[Ia,as,Ya]))}updateHeader(){const e={type:"date",skeleton:"yMMMd"};if(f(this.endValue)||f(this.startValue))this.popupObj.element.querySelector("."+ov).textContent=this.l10n.getConstant("selectedDays");else{let t=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;f(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+ov).textContent=t.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=f(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,e),this.endButton.element.textContent=f(this.endValue)||f(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,e)):(f(this.endValue)||f(this.startValue)?this.popupObj.element.querySelector("."+nC).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+nC).textContent=this.globalize.formatDate(this.endValue,e),f(this.startValue)?this.popupObj.element.querySelector("."+fx).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+fx).textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!f(this.startValue)&&+this.startValue<+this.min||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+ov).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+ov).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+fx).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+nC).textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")}removeSelection(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll("."+Zl).length>0&&H(this.popupObj.element.querySelectorAll("."+Zl),[Zr,co,Zl]),this.popupObj.element.querySelectorAll("."+qf).length>0&&H(this.popupObj.element.querySelectorAll("."+qf),qf),this.popupObj.element.querySelectorAll("."+Vr).length>0&&H(this.popupObj.element.querySelectorAll("."+Vr),[Vr]))}addSelectedAttributes(e,t,i,s){if(e){const n=this.globalize.formatDate(t,{type:"date",skeleton:"full"});!f(s)&&s?e.setAttribute("aria-label","The current start and end date is "+n):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+n),e.setAttribute("aria-selected","true")}}removeSelectedAttributes(){if(this.popupObj){const e=this.popupObj.element.querySelectorAll("."+Zr);for(const i of e)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label");const t=this.popupObj.element.querySelectorAll("."+co);for(const i of t)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}}updateCalendarElement(e){e.classList.contains(Tr)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+av),this.tableBodyElement=J("."+av+" tbody",e),this.table=e.querySelector("."+av).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+xa+" ."+ju),this.headerElement=e.querySelector("."+xa)}navPrevMonth(e){e.preventDefault();let t=U(e.target,"."+Tr);t=f(t)?U(e.target,"."+pa):t,this.updateCalendarElement(t),this.navigatePrevious(e),!f(this.startValue)&&f(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}deviceNavigation(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+Nn)]),this.endButton.element.classList.contains(Is)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+Nn)),this.endButton.element.classList.contains(Is)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}updateControl(e){e.classList.contains(pa)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])}navNextMonth(e){e.preventDefault();let t=U(e.target,"."+Tr);t=f(t)?U(e.target,"."+pa):t,this.updateCalendarElement(t),this.navigateNext(e),!f(this.startValue)&&f(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}isPopupOpen(){return!(f(this.popupObj)||!this.popupObj.element.classList.contains(sC))}createRangeHeader(){const e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){const t=this.createElement("button",{className:"e-end-btn"}),i=this.createElement("button",{className:px});this.startButton=new ll({content:this.l10n.getConstant("startLabel")},i),this.endButton=new ll({content:this.l10n.getConstant("endLabel")},t),e.appendChild(i),e.appendChild(t)}else{const t=this.createElement("a",{className:fx}),i=this.createElement("a",{className:nC}),s=this.createElement("span",{className:"e-change-icon e-icons"});Te(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),Te(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(t),e.appendChild(s),e.appendChild(i),t.textContent=this.l10n.getConstant("startLabel"),i.textContent=this.l10n.getConstant("endLabel")}return e}disableInput(){this.strictMode?!f(this.previousStartValue)&&!f(this.previousEndValue)&&(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),me.setEnabled(this.enabled,this.inputElement),this.bindEvents()}validateMinMax(){this.min=f(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=f(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(!f(this.minDays)&&!f(this.maxDays)&&this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!f(this.minDays)&&this.minDays<0&&(this.minDays=null),!f(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()}validateRangeStrict(){f(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),f(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()}validateRange(){this.validateMinMaxDays()}validateMinMaxDays(){if(!f(this.startValue)&&!f(this.endValue)){const e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;if(!f(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){const t=new Date(+this.startValue);t.setDate(t.getDate()+(this.minDays-1)),+t>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=t,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();!f(this.maxDays)&&this.maxDays>0&&!(e<=this.maxDays)&&(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}}renderCalendar(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Nn),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Te(this.calendarElement,{role:"calendar"}),super.createHeader(),super.createContent()}isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}isSameYear(e,t){return e.getFullYear()===t.getFullYear()}isSameDecade(e,t){const i=e.getFullYear(),s=t.getFullYear();return i-i%10==s-s%10}startMonthCurrentDate(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}selectNextMonth(){if(f(this.endValue)||f(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!f(this.startValue)&&+this.startValue<+this.min||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);const e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}}selectNextYear(){if(f(this.endValue)||f(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);const e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))}selectNextDecade(){if(f(this.endValue)||f(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){const e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))}selectStartMonth(){f(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!f(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&+this.startValue<+this.min||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()}createCalendar(){const e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){f(this.startValue)||(this.currentDate=new Date(+this.startValue)),super.validateDate(),super.minMaxUpdate(),super.render();const t=this.calendarElement.querySelector("."+Nn+" ."+mx),i=this.calendarElement.querySelector("."+Nn+" ."+Dw);nt(this.calendarElement.querySelector("."+Nn+" ."+gx)),this.calendarElement.querySelector("."+Nn+" ."+xa).appendChild(i),this.calendarElement.querySelector("."+Nn+" ."+xa).appendChild(t),Mi([t],this.calendarElement.querySelector("."+Nn+" ."+xa)),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+Nn+" ."+xa+" ."+ju)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(Tr),this.leftCalPrevIcon=this.calendarElement.querySelector("."+Tr+" ."+mx),this.leftCalNextIcon=this.calendarElement.querySelector("."+Tr+" ."+Dw),this.leftTitle=this.calendarElement.querySelector("."+Tr+" ."+ju),nt(this.calendarElement.querySelector("."+Tr+" ."+gx)),this.calendarElement.querySelector("."+Tr+" ."+xa).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+Tr+" ."+xa).appendChild(this.leftCalPrevIcon),Mi([this.leftCalPrevIcon],this.calendarElement.querySelector("."+Tr+" ."+xa)),this.leftCalendar=this.calendarElement;const t=this.createElement("div",{className:"e-left-container"}),i=this.createElement("div",{className:"e-right-container"});t.appendChild(this.leftCalendar),e.appendChild(t),this.isMobile||A.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),L([this.calendarElement],pa),this.rightCalendar=this.calendarElement,H([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),H([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+pa+" ."+mx),this.rightCalNextIcon=this.calendarElement.querySelector("."+pa+" ."+Dw),this.rightTitle=this.calendarElement.querySelector("."+pa+" ."+ju),nt(this.calendarElement.querySelector("."+pa+" ."+gx)),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector("."+pa+" ."+xa).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+pa+" ."+xa).appendChild(this.rightCalPrevIcon),Mi([this.rightCalPrevIcon],this.calendarElement.querySelector("."+pa+" ."+xa)),i.appendChild(this.rightCalendar),e.appendChild(i),this.isMobile||A.add(this.rightTitle,"click",this.rightNavTitle,this)}return e}leftNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))}calendarNavigation(e,t){this.table=t.querySelector("table"),this.headerTitleElement=t.querySelector(".e-title"),this.tableBodyElement=t.querySelector("tbody"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.updateCalendarElement(t),super.navigateTitle(e),this.updateNavIcons()}rightNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))}clickEventEmitter(e){this.isMobile||(U(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))}currentView(){return super.currentView()}getCalendarView(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"}navigatedEvent(e){if(this.trigger("navigated",this.navigatedArgs),!f(this.popupObj)){let t;const i=this.getCalendarView(this.currentView());this.isMobile?i===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||i!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):(t=this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar,t!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&f(this.controlDown)?(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!f(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&f(this.endValue)&&("Month"===i&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===i&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?super.navigateTo.call(this,i,new Date(+this.startValue)):super.navigateTo.call(this,i,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),super.navigateTo.call(this,i,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}}createControl(){const e=this.createElement("div",{className:Sw}),t=this.createElement("div",{className:"e-range-header"}),i=this.createRangeHeader();t.appendChild(i);const s=this.createElement("div",{className:ov});Te(s,{"aria-label":"Selected Days"}),s.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(s);const n=this.createElement("div",{className:"e-separator"}),a=this.createCalendar();e.appendChild(t),e.appendChild(n),e.appendChild(a);const o=this.createElement("div",{className:"e-footer"}),h=this.createElement("button",{className:"e-cancel e-flat e-css"}),d=this.createElement("button");L([d],["e-apply","e-flat","e-primary","e-css"]),o.appendChild(d),o.appendChild(h);const m=!f(this.startValue)&&!f(this.endValue);this.cancelButton=new ll({content:this.l10n.getConstant("cancelText")},h),this.applyButton=new ll({content:this.l10n.getConstant("applyText"),disabled:!m},d),A.add(d,"click",this.applyFunction,this),A.add(h,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),L([e],"e-range-border"),L([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector("."+rv).style.height=this.popupWrapper.querySelector("."+Sw).getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(o),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()}cancelFunction(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),L([this.inputWrapper.container],[Bu])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)}deviceHeaderUpdate(){f(this.startValue)&&f(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(Is)):f(this.startValue)||this.startButton.element.classList.add(Is)}applyFunction(e){let t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),L([this.inputWrapper.container],[Bu])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),f(this.startValue)||f(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,me.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),!U(e.target,"."+Bo)&&!t&&this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=ae(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new rt(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))}onMouseClick(e,t){if("touchstart"===e.type)return;const s=U(t||e.target,"."+Ph),n=s&&s.classList.contains(Is);s&&s.classList.contains(Ph)&&this.setListSelection(s,e),this.preventFocus=!0,this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,s&&s.classList.contains(Ph)&&"custom_range"===s.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():!n&&"keydown"===e.type&&this.inputElement.focus())}onMouseOver(e){const t=U(e.target,"."+Ph);t&&t.classList.contains(Ph)&&!t.classList.contains(ho)&&L([t],ho)}onMouseLeave(e){const t=U(e.target,"."+ho);f(t)||H([t],ho)}setListSelection(e,t){if(e&&(!e.classList.contains(Is)||this.isMobile&&e.classList.contains(Is))){if(this.isMobile&&e.classList.contains(Is))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),L([e],Is),e.setAttribute("aria-selected","true");const i=this.presetsItem[this.activeIndex];"custom_range"===i.id?this.renderCustomPopup():this.applyPresetRange(i,t)}}removeListSelection(){const e=this.presetElement.querySelector("."+Is);f(e)||(H([e],Is),e.removeAttribute("aria-selected"))}setValue(){this.modelValue=[this.startValue,this.endValue]}applyPresetRange(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())}showPopup(e,t){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()}renderCustomPopup(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:sv+" "+sC}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()}listRippleEffect(){for(const e of this.liCollections)Ts(e)}createPresets(){if(!pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:rv,attrs:{tabindex:"0"}});const e=Ti.createList(this.createElement,this.presetsItem,null,!0);Te(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);const t=this.presetElement.querySelector("#custom_range");f(t)||(t.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Ph),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!f(this.activeIndex)&&this.activeIndex>-1&&L([this.liCollections[this.activeIndex]],Is)}}wireListEvents(){A.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(A.add(this.presetElement,"mouseover",this.onMouseOver,this),A.add(this.presetElement,"mouseout",this.onMouseLeave,this))}unWireListEvents(){f(this.presetElement)||(A.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(A.remove(this.presetElement,"mouseover",this.onMouseOver),A.remove(this.presetElement,"mouseout",this.onMouseLeave)))}renderPopup(){this.popupWrapper.classList.add("e-control");const e=this.popupWrapper.getBoundingClientRect().width;!f(this.cssClass)&&""!==this.cssClass.trim()&&(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new Wn(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:f(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:()=>{Te(this.inputElement,{"aria-expanded":"true"}),L([this.inputWrapper.buttons[0]],Is),this.isMobile||(this.cancelButton&&(this.btnKeyboardModule=new rt(this.cancelButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),this.btnKeyboardModule=new rt(this.applyButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),f(this.leftCalendar)||this.isRangeIconClicked||this.calendarFocus(),f(this.presetElement)||(this.keyInputConfigs=ae(this.keyInputConfigs,this.keyConfigs),this.presetKeyboardModule=new rt(this.presetElement,{eventName:"keydown",keyAction:this.presetKeyActionHandler.bind(this),keyConfigs:this.keyInputConfigs}),this.presetKeyboardModule=new rt(this.presetElement,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),f(this.leftCalendar)?(this.preventBlur=!0,this.presetElement.focus()):this.presetElement.setAttribute("tabindex","-1")),this.popupKeyBoardHandler()),this.isMobile&&!G.isDevice&&A.add(document,"keydown",this.popupCloseHandler,this)},close:()=>{Te(this.inputElement,{"aria-expanded":"false"}),H([this.inputWrapper.buttons[0]],Is),this.isRangeIconClicked&&this.inputWrapper.container.children[1].focus(),pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.unWireListEvents(),f(this.popupObj)||(f(this.popupObj.element.parentElement)||oe(this.popupObj.element),this.popupObj.destroy(),this.popupObj=null),this.isMobile&&!G.isDevice&&A.remove(document,"keydown",this.popupCloseHandler)},targetExitViewport:()=>{G.isDevice||this.hide()}}),this.isMobile&&(this.popupObj.element.classList.add(B1),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(L([this.modal],[B1,sv,"e-range-modal"]),document.body.className+=" "+U1,this.modal.style.display="block"),A.add(document,"mousedown touchstart",this.documentHandler,this)}popupCloseHandler(e){switch(e.keyCode){case 27:this.hide(e)}}calendarFocus(){const e=this.popupObj&&this.popupObj.element.querySelector("."+Zr);if(e){let t=U(e,"."+pa);t=f(t)?this.leftCalendar:t,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,t.children[1].firstElementChild.focus()),L([e],qf)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())}presetHeight(){const e=this.popupObj&&this.popupObj.element.querySelector("."+rv),t=this.popupObj&&this.popupObj.element.querySelector("."+Sw);!f(e)&&!f(t)&&(e.style.height=t.getBoundingClientRect().height+"px")}presetKeyActionHandler(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":{const t=this.getHoverLI(),i=this.getActiveLI();if(!f(this.leftCalendar)&&!f(i)&&(f(t)||!f(i)&&i===t)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),i.classList.remove(ho),void e.preventDefault();(!f(t)||!f(i))&&this.onMouseClick(e,t||i),e.preventDefault()}break;case"tab":if(this.leftCalendar){const t=this.getHoverLI();f(t)||t.classList.remove(ho)}else this.hide(e),e.preventDefault()}}listMoveDown(e){const t=this.getHoverLI(),i=this.getActiveLI();if(f(t))if(f(i))L([this.liCollections[0]],ho);else{const s=i.nextElementSibling;!f(s)&&s.classList.contains(Ph)&&L([s],ho)}else{const s=t.nextElementSibling;!f(s)&&s.classList.contains(Ph)&&(H([t],ho),L([s],ho))}}listMoveUp(e){const t=this.getHoverLI(),i=this.getActiveLI();if(f(t)){if(!f(i)){const s=i.previousElementSibling;!f(s)&&s.classList.contains(Ph)&&L([s],ho)}}else{const s=t.previousElementSibling;!f(s)&&s.classList.contains(Ph)&&(H([t],ho),L([s],ho))}}getHoverLI(){return this.presetElement.querySelector("."+ho)}getActiveLI(){return this.presetElement.querySelector("."+Is)}popupKeyBoardHandler(){this.popupKeyboardModule=new rt(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=ae(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new rt(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})}setScrollPosition(){const e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector("."+ho),i=this.presetElement.querySelector("."+Is),s=f(t)?i:t;if(!f(s)){const n=s.nextElementSibling,a=n?n.offsetTop:s.offsetTop,o=s.getBoundingClientRect().height;this.presetElement.scrollTop=a+s.offsetTop>e?n?a-(e/2+o/2):a:0}}popupKeyActionHandle(e){const t=U(e.target,"."+rv);switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":f(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":f(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():f(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}}documentHandler(e){if(f(this.popupObj))return;const t=e.target;(!this.inputWrapper.container.contains(t)||!f(this.popupObj)&&!U(t,'[id="'+this.popupWrapper.id+'"]'))&&"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),(f(this.targetElement)||!f(this.targetElement)&&t!==this.targetElement)&&!U(t,'[id="'+this.popupWrapper.id+'"]')&&U(t,"."+Bo)!==this.inputWrapper.container&&(!U(t,".e-daterangepicker.e-popup")||t.classList.contains("e-day"))&&(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}createInput(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=me.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),Te(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),me.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),!f(this.placeholder)&&""!==this.placeholder.trim()&&me.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),L([this.inputWrapper.container],"e-date-range-wrapper"),f(this.inputElement.getAttribute("name"))&&Te(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate}setEleWidth(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?fe(this.width):"100%"}adjustLongHeaderWidth(){"Wide"===this.dayHeaderFormat&&L([this.popupWrapper],"e-daterange-day-header-lg")}refreshControl(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();const e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),!f(this.endValue)&&!f(this.startValue)&&!e&&this.disabledDateRender(),this.errorClass(),this.previousStartValue=f(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=f(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)}updateInput(){if(!f(this.endValue)&&!f(this.startValue)){const e={format:this.formatString,type:"date",skeleton:"yMd"},t=this.globalize.formatDate(this.startValue,e),i=this.globalize.formatDate(this.endValue,e);me.setValue(t+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&f(this.value)&&this.invalidValueString&&me.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)}checkInvalidRange(e){if(!f(e)){let i,s,t=!1,n=null,a=null,o=null,h=!1,d=!1,m=!1;if("string"==typeof e){const v=e.split(" "+this.separator+" ");2===v.length?(n=v[0],a=v[1]):(t=!0,o=e)}else e.length>0?(i=e[0],s=e[1]):(i=e.start,s=e.end),i instanceof Date||"object"==typeof i?i instanceof Date?h=!0:f(i)||(m=!0):n=this.getstringvalue(i),s instanceof Date||"object"==typeof s?s instanceof Date?d=!0:f(s)||(m=!0):a=this.getstringvalue(s);(f(n)&&!h&&!f(a)||!f(n)&&!d&&f(a))&&(t=!0),m&&(n=a=o=null,t=!0),n&&(t=t||this.checkInvalidValue(n)),a&&(t=t||this.checkInvalidValue(a)),t&&(h&&!m&&(n=i.toLocaleDateString()),d&&!m&&(a=s.toLocaleDateString()),f(n)||f(a)?f(n)?f(a)||(o=a):o=n:o=n+" "+this.separator+" "+a,this.invalidValueString=o,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}}getstringvalue(e){let t=null;return f(e)||"number"!=typeof e?!f(e)&&"string"==typeof e&&(t=""+e):t=e.toString(),t}checkInvalidValue(e){const t=e;let i=!1,s=null;if(s={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof t)i=!0;else{const n=new Ns(this.locale);if(!this.checkDateValue(n.parseDate(t,s))){let a=null,o=null;a=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!a.test(t)&&!o.test(t)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(this.checkValue(t))))&&(i=!0)}}return i}isDateDisabled(e){if(f(e))return!1;const t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};const i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled}disabledDateRender(){this.disabledDays=[],this.disabledDayCnt=null;const e=new Date(+this.startValue);let t=0;for(;+e<=+this.endValue;){this.virtualRenderCellArgs={date:e,isDisabled:!1};const i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startValue&&+e<+this.endValue&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t}virtualRenderCellEvent(e){ae(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}disabledDates(){let e=!1,t=!1;return!f(this.endValue)&&!f(this.startValue)&&(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t}setModelValue(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?((+this.startDate!=+this.value[0]||+this.endDate!=+this.value[1])&&this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()}dispatchEvent(e,t){const i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i),this.firstHiddenChild.dispatchEvent(i)}changeTrigger(e){(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)}navigateTo(e,t){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?super.navigateTo.call(this,e,t):(t<this.min?t=new Date(+this.min):t>=this.max&&(t=new Date(+this.max)),"Month"===e&&this.isSameMonth(t,this.max)?t=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(t,this.max)?t=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(t,this.max)&&(t=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=t,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),t="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=t,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}}navigate(e,t,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",super.navigateTo.call(this,i,t)}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&(L([this.inputWrapper.container],[Bu]),this.inputElement.focus())}focusOut(){const e=this.preventBlur;document.activeElement===this.inputElement&&(H([this.inputWrapper.container],[Bu]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)}destroy(){this.unBindEvents(),this.hide(null);const e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(H([this.inputElement],[sv]),A.remove(this.inputElement,"blur",this.inputBlurHandler),me.removeAttributes(e,this.inputElement),f(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),f(this.inputWrapper)||(A.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),oe(this.inputWrapper.container))),!f(this.inputKeyboardModule)&&!this.isMobile&&this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),super.destroy(),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler),!f(this.firstHiddenChild)&&!f(this.secondHiddenChild)&&(oe(this.firstHiddenChild),oe(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))}getModuleName(){return"daterangepicker"}getPersistData(){return this.addOnPersist(["startDate","endDate","value"])}getSelectedRange(){let e;return f(this.startValue)||f(this.endValue)?e=0:(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,this.disabledDateRender(),f(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}}show(e,t){this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||G.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:t||null,appendTo:this.isMobile||G.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs,s=>{if(this.openEventArgs=s,!this.openEventArgs.cancel){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(e,t);const n=!this.isCustomRange||this.isMobile&&this.isCustomRange;!pt(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&n&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!f(this.startDate)&&f(this.endDate)&&(this.endButton.element.classList.add(Is),this.startButton.element.classList.remove(Is),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),super.setOverlayIndex(this.mobileRangePopupWrap,this.popupObj.element,this.modal,this.isMobile||G.isDevice)}}))}hide(e){this.popupObj?(f(this.previousEndValue)&&f(this.previousStartValue)?this.clearRange():(f(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),f(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},this.trigger("close",this.closeEventArgs,i=>{this.closeEventArgs=i,this.closeEventArgs.cancel?H([this.inputWrapper.buttons[0]],Is):(this.isMobile&&!f(this.startButton)&&!f(this.endButton)&&(A.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),A.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick)),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),L([this.inputWrapper.container],[Bu]))),this.isMobile||(!f(this.leftKeyboardModule)&&!f(this.rightKeyboardModule)&&(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),f(this.presetElement)||this.presetKeyboardModule.destroy(),f(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,H([document.body],U1),A.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),(this.isMobile||G.isDevice)&&(f(this.mobileRangePopupWrap)||(this.mobileRangePopupWrap.remove(),this.mobileRangePopupWrap=null)),this.isKeyPopup=this.dateDisabled=!1),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))}setLocale(){this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),me.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()}refreshChange(){this.checkView(),this.refreshControl(),this.changeTrigger()}setDate(){me.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()}enableInput(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),me.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())}clearModelvalue(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&t.value.length>0?this.setProperties({value:null},!0):(t.value&&t.value.start||t.value&&!t.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()}createHiddenInput(){f(this.firstHiddenChild)&&f(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),f(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),Te(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:bx}),Te(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:bx});const e={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)}setMinMaxDays(){this.isPopupOpen()&&(this.removeClassDisabled(),this.checkMinMaxDays(),this.isMobile&&this.selectableDates(),!this.strictMode&&f(this.startValue)&&f(this.endValue)?this.removeSelection():this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader())}onPropertyChanged(e,t){const i={format:this.formatString,type:"date",skeleton:"yMd"};for(const s of Object.keys(e))switch(["maxDays","minDays","value"].indexOf(s)<0&&this.hide(null),s){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":me.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":me.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),me.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),me.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),me.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":me.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,i)),+this.initStartDate!=+e.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(e.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,i)),+this.initEndDate!=+e.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(e.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,t);else{const a=e.value.split(" "+this.separator+" ");this.value=[new Date(a[0]),new Date(a[1])],this.updateValue(),this.setDate()}else!f(e.value)&&e.value.length>0||!f(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?(1===e.value.length||e.value.start||null===e.value[1]||null===e.value.start)&&this.clearModelvalue(e,t):(+this.initStartDate!=+e.value[0]||+this.initEndDate!=+e.value[1]||+this.initStartDate!=+(e.value.start||+this.initEndDate!=+e.value.start))&&((1===e.value.length||e.value.start)&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(f(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t));if(this.isPopupOpen()){if(f(this.startValue)&&f(this.endValue))return this.removeSelection(),void(this.isMobile&&this.deviceHeaderUpdate());this.isMobile?(this.navigate(this.deviceCalendar,this.startValue,this.currentView()),this.deviceHeaderUpdate()):(this.navigate(this.leftCalendar,this.startValue,this.currentView()),this.updateControl(this.leftCalendar),this.navigate(this.rightCalendar,this.endValue,this.currentView()),this.updateControl(this.rightCalendar)),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader(),this.applyButton.disabled=this.applyButton.element.disabled=!1}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,me.removeFloating(this.inputWrapper),me.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}};gi([T(null)],vi.prototype,"value",void 0),gi([T(!1)],vi.prototype,"enablePersistence",void 0),gi([T(new Date(1900,0,1))],vi.prototype,"min",void 0),gi([T(new Date(2099,11,31))],vi.prototype,"max",void 0),gi([T(null)],vi.prototype,"locale",void 0),gi([T(null)],vi.prototype,"firstDayOfWeek",void 0),gi([T(!1)],vi.prototype,"weekNumber",void 0),gi([T("Gregorian")],vi.prototype,"calendarMode",void 0),gi([T(!1)],vi.prototype,"openOnFocus",void 0),gi([$()],vi.prototype,"created",void 0),gi([$()],vi.prototype,"destroyed",void 0),gi([$()],vi.prototype,"change",void 0),gi([$()],vi.prototype,"cleared",void 0),gi([$()],vi.prototype,"navigated",void 0),gi([$()],vi.prototype,"renderDayCell",void 0),gi([T(null)],vi.prototype,"startDate",void 0),gi([T(null)],vi.prototype,"endDate",void 0),gi([Va([{}],lv)],vi.prototype,"presets",void 0),gi([T("")],vi.prototype,"width",void 0),gi([T(1e3)],vi.prototype,"zIndex",void 0),gi([T(!0)],vi.prototype,"showClearButton",void 0),gi([T(!0)],vi.prototype,"showTodayButton",void 0),gi([T("Month")],vi.prototype,"start",void 0),gi([T("Month")],vi.prototype,"depth",void 0),gi([T("")],vi.prototype,"cssClass",void 0),gi([T("-")],vi.prototype,"separator",void 0),gi([T(null)],vi.prototype,"minDays",void 0),gi([T(null)],vi.prototype,"maxDays",void 0),gi([T(!1)],vi.prototype,"strictMode",void 0),gi([T(null)],vi.prototype,"keyConfigs",void 0),gi([T(null)],vi.prototype,"format",void 0),gi([T(!0)],vi.prototype,"enabled",void 0),gi([T(!1)],vi.prototype,"readonly",void 0),gi([T(!0)],vi.prototype,"allowEdit",void 0),gi([T("Never")],vi.prototype,"floatLabelType",void 0),gi([T(null)],vi.prototype,"placeholder",void 0),gi([T({})],vi.prototype,"htmlAttributes",void 0),gi([$()],vi.prototype,"open",void 0),gi([$()],vi.prototype,"close",void 0),gi([$()],vi.prototype,"select",void 0),gi([$()],vi.prototype,"focus",void 0),gi([$()],vi.prototype,"blur",void 0),vi=gi([oi],vi);var Ki=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const qd="e-error",Aw=(new Date).getDate(),xw=(new Date).getMonth(),G1=(new Date).getFullYear(),zf="e-timepicker",Sn="e-active",Dx="e-hover",Sx="e-navigation",Ic="e-disabled",cv="e-input-focus",Uu="e-list-item",rV="e-time-overflow",kw="e-non-edit",Tx=["title","class","style"];var Mw;(Mw||(Mw={})).createListItems=function(t,i,s,n,a,o){let h;const d=6e4*o,m=[],v=[];h=+i.setMilliseconds(0);const C=+s.setMilliseconds(0);for(;C>=h;)v.push(h),m.push(n.formatDate(new Date(h),{format:a,type:"time"})),h+=d;return{collection:v,list:Ti.createList(t,m,null,!0)}};class Yf extends hi{}Ki([T("day")],Yf.prototype,"day",void 0),Ki([T("month")],Yf.prototype,"month",void 0),Ki([T("year")],Yf.prototype,"year",void 0),Ki([T("day of the week")],Yf.prototype,"dayOfTheWeek",void 0),Ki([T("hour")],Yf.prototype,"hour",void 0),Ki([T("minute")],Yf.prototype,"minute",void 0),Ki([T("second")],Yf.prototype,"second",void 0);let ws=class extends hs{constructor(e,t){super(e,t),this.liCollections=[],this.timeCollections=[],this.disableItemCollection=[],this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.maskedDateValue="",this.moduleName=this.getModuleName(),this.timeOptions=e}preRender(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),H([this.cloneElement],[zf,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=U(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}}render(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),this.renderComplete()}setTimeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Te(this.inputElement,{readonly:""}),this.clearIconState()}clearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&H([this.inputWrapper.container],[kw]):""===this.inputElement.value?H([this.inputWrapper.container],[kw]):L([this.inputWrapper.container],[kw])}validateDisable(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,!isNaN(+this.value)&&null!==this.value&&(this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax)))}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let n=0;n<s.length;n++){if(f(e.getAttribute(s[n])))continue;const a=e.getAttribute(s[n]);t.setAttribute(s[n],a),e.removeAttribute(s[n])}}initialize(){this.globalize=new Ns(this.locale),this.defaultCulture=new Ns("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new Gs("timepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,f(this.element.getAttribute("id"))?(this.element.id=$i("ej2_timepicker"),null!==this.angularTag&&Te(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),f(this.inputElement.getAttribute("name"))&&Te(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})}checkTimeFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:f(this.format.skeleton)||""===this.format.skeleton?this.globalize.getDatePattern({type:"time",skeleton:"short"}):this.globalize.getDatePattern({type:"time",skeleton:this.format.skeleton}):null}checkDateValue(e){return!f(e)&&e instanceof Date&&!isNaN(+e)?e:null}createInputElement(){let e=this.cssClass,t=!this.enableMask;!f(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=me.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),Te(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||me.addAttributes({style:this.inputStyle},this.inputElement),L([this.inputWrapper.container],"e-time-wrapper")}getCldrDateTimeFormat(){let t;const i=new Ns(this.locale).getDatePattern({skeleton:"yMd"});return t=this.isNullOrEmpty(this.formatString)?i+" "+this.cldrFormat("time"):this.formatString,t}checkInvalidValue(e){let t=!1;if("object"!=typeof e&&!f(e)){let i=e;"string"==typeof i&&(i=i.trim());let s=null,n=null;if("number"==typeof e?i=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||(s=this.setCurrentDate(this.getDateObject(e)),f(s)&&(s=this.checkDateValue(this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"})),f(s)&&(s=this.checkDateValue(this.globalize.parseDate(i,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))))),n=this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"}),s=!f(n)&&n instanceof Date&&!isNaN(+n)?n:null,f(s)&&i.replace(/\s/g,"").length){let a=null,o=null;a=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!a.test(i)&&!o.test(i)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+i))?t=!0:s=new Date(""+i)}t?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:s},!0),this.initValue=this.value)}}requiredModules(){const e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}cldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?X("timeFormats.short",Ca()):this.getCultureTimeObject(Ps,""+this.locale),t}destroy(){this.hide(),this.unBindEvents(),this.inputElement&&(me.removeAttributes({"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),f(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),f(this.cloneElement.getAttribute("disabled"))&&me.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&oe(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],f(this.rippleFn)||this.rippleFn(),super.destroy(),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))}popupCreation(){this.popupWrapper=this.createElement("div",{className:zf+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),f(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!f(this.step)&&this.step>0&&(this.generateList(),Ge([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),oe(this.popupWrapper)}getPopupHeight(){const e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t}generateList(){this.createListItems(),this.wireListEvents(),this.rippleFn=Ts(this.listWrapper,{duration:300,selector:"."+Uu}),this.liCollections=this.listWrapper.querySelectorAll("."+Uu)}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new Wn(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:G.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:G.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:G.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:()=>{this.popupWrapper.style.visibility="visible",L([this.inputWrapper.buttons[0]],Sn)},close:()=>{H([this.inputWrapper.buttons[0]],Sn),this.unWireListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),nt(this.popupObj.element),this.popupObj.destroy(),this.popupWrapper.innerHTML="",this.listWrapper=this.popupWrapper=this.listTag=void 0},targetExitViewport:()=>{G.isDevice||this.hide()}}),G.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"}getFormattedValue(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){const s=i?this.initValue.getDate():Aw,n=i?this.initValue.getMonth():xw,a=i?this.initValue.getFullYear():G1;return new Date(a,n,s,t.getHours(),t.getMinutes(),t.getSeconds())}}return null}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(Tx.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))Tx.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),me.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&me.setCssClass(e,[this.popupWrapper],t)}removeErrorClass(){H([this.inputWrapper.container],qd),Te(this.inputElement,{"aria-invalid":"false"})}checkErrorState(e){const t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(L([this.inputWrapper.container],qd),Te(this.inputElement,{"aria-invalid":"true"}))}validateInterval(){!f(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()}disableTimeIcon(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()}disableElement(e){L(e,Ic)}enableElement(e){H(e,Ic)}selectInputText(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)}setCursorToEnd(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)}getMeridianText(){let e;return e="en"===this.locale||"en-US"===this.locale?X("dayPeriods.format.wide",Ca()):X("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",Ps),e}getCursorSelection(){const e=this.inputElement;let t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}}getActiveElement(){return f(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+Sn)}isNullOrEmpty(e){return!!(f(e)||"string"==typeof e&&""===e.trim())}setWidth(e){return"number"==typeof e?fe(e):"string"==typeof e?e.match(/px|%|em/)?e:fe(e):"100%"}setPopupWidth(e){return(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}setScrollPosition(){const e=this.selectedElement;f(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,n=e.getBoundingClientRect().height;this.popupWrapper.scrollTop=s+e.offsetTop>t?i?s-(t/2+n/2):s:0}setScrollTo(){let e;if(f(this.popupWrapper))this.popupWrapper.scrollTop=0;else{const t=this.popupWrapper.querySelectorAll("."+Uu);if(t.length){const i=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((s-i)/(6e4*this.step))]}}f(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)}getText(){return f(this.checkDateValue(this.value))?"":this.getValue(this.value)}getValue(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}cldrDateFormat(){let e;return e="en"===this.locale||"en-US"===this.locale?X("dateFormats.short",Ca()):this.getCultureDateObject(Ps,""+this.locale),e}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?X("timeFormats.short",Ca()):this.getCultureTimeObject(Ps,""+this.locale):this.formatString,e}dateToNumeric(){let e;return e="en"===this.locale||"en-US"===this.locale?X("timeFormats.medium",Ca()):X("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",Ps),e}getExactDateTime(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})}setValue(e){const t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)}compareFormatChange(e){return f(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)}updatePlaceHolder(){me.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)}updateInputValue(e){me.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")}popupHandler(e){!this.enabled||(G.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))}mouseDownHandler(){!this.enabled||this.readonly||(this.inputElement.setSelectionRange(0,0),A.add(this.inputElement,"mouseup",this.mouseUpHandler,this))}mouseUpHandler(e){if(!this.readonly){if(e.preventDefault(),this.enableMask)return e.preventDefault(),void this.notify("setMaskSelection",{module:"MaskedDateTime"});{A.remove(this.inputElement,"mouseup",this.mouseUpHandler);const t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}}}focusSelection(){const e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");const i=this.getCursorSelection();let s=0,n=0,a=!1;if(this.isTextSelected)s=i.start,n=i.end,this.isTextSelected=!1;else for(let o=0;o<t.length;o++)if(e.test(t[o])||(n=o,a=!0),a){if(i.start>=s&&i.end<=n){n=n,this.isTextSelected=!0;break}s=o+1,a=!1}return{start:s,end:n}}inputHandler(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.enableMask&&!this.readonly&&!this.isPopupOpen()&&(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e})),(!this.enableMask||this.isPopupOpen())&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":!this.isPopupOpen()&&this.enableMask&&!this.readonly&&((0==this.inputElement.selectionStart&&this.inputElement.selectionEnd==this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"==e.action||0!==this.inputElement.selectionStart&&"shiftTab"==e.action||"left"==e.action||"right"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break;default:this.isNavigate=!1}}onMouseClick(e){const i=this.selectedElement=U(e.target,"."+Uu);this.setSelection(i,e),i&&i.classList.contains(Uu)&&this.hide()}closePopup(e,t){if(this.isPopupOpen()&&this.popupWrapper){const i={popup:this.popupObj,event:t||null,cancel:!1,name:"open"};H([document.body],rV),this.trigger("close",i,s=>{s.cancel||(this.popupObj.hide(new Gi({name:"FadeOut",duration:50,delay:e||0})),H([this.inputWrapper.container],["e-icon-anim"]),Te(this.inputElement,{"aria-expanded":"false"}),A.remove(document,"mousedown touchstart",this.documentClickHandler)),G.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),G.isDevice&&(f(this.mobileTimePopupWrap)||(this.mobileTimePopupWrap.remove(),this.mobileTimePopupWrap=null)),G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")})}else G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}disposeServerPopup(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")}checkValueChange(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){const i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||f(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)}onMouseOver(e){const t=U(e.target,"."+Uu);this.setHover(t,Dx)}setHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),L([e],t),t===Sx&&e.setAttribute("aria-selected","true"))}setSelection(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),L([this.selectedElement],Sn),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))}onMouseLeave(){this.removeHover(Dx)}scrollHandler(){"timepicker"===this.getModuleName()&&G.isDevice||this.hide()}setMinMax(e,t){f(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),f(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))}validateMinMax(e,t,i){const s=e instanceof Date?e:this.getDateObject(e);return f(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e}valueIsDisable(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;const t=e instanceof Date?this.objToString(e):e;for(let i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0}validateState(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;{const t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),s=this.setCurrentDate(this.getDateObject(this.initMin));if(f(this.checkDateValue(t))){if(+i<+s||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+s)return!1}}return!0}strictOperation(e,t,i,s){const n=this.createDateObj(this.getFormattedValue(t)),a=this.createDateObj(this.getFormattedValue(e)),o=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+a>+n)return this.disableTimeIcon(),this.initValue=this.getDateObject(n),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+a>=+o)return this.getDateObject(a);if(+o>=+n||+a==+n)return this.getDateObject(n)}else if(+a>+n&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i}bindEvents(){A.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),A.add(this.inputElement,"blur",this.inputBlurHandler,this),A.add(this.inputElement,"focus",this.inputFocusHandler,this),A.add(this.inputElement,"change",this.inputChangeHandler,this),A.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&A.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&A.add(this.formElement,"reset",this.formResetHandler,this),G.isDevice||(this.keyConfigure=ae(this.keyConfigure,this.keyConfigs),this.inputEvent=new rt(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&A.add(this.inputElement,"mousedown",this.mouseDownHandler,this))}keydownHandler(e){switch(e.code){case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&this.notify("keyDownHandler",{module:"MaskedDateTime",e})}}formResetHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}}inputChangeHandler(e){!this.enabled||e.stopPropagation()}inputEventHandler(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}unBindEvents(){this.inputWrapper&&A.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),A.remove(this.inputElement,"blur",this.inputBlurHandler),A.remove(this.inputElement,"focus",this.inputFocusHandler),A.remove(this.inputElement,"change",this.inputChangeHandler),A.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),A.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!f(this.inputWrapper.clearButton)&&A.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&A.remove(this.formElement,"reset",this.formResetHandler)}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&A.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)}raiseClearedEvent(e){this.trigger("cleared",{event:e})}clearHandler(e){!this.enabled||(e.preventDefault(),f(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)}setZIndex(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];let i;for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.timeOptions)||void 0===this.timeOptions.enabled||e){const n=!("disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s));this.setProperties({enabled:n},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(s);break;case"readonly":if(f(this.timeOptions)||void 0===this.timeOptions.readonly||e){const n="readonly"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:n},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(s));break;case"step":this.step=parseInt(this.inputElement.getAttribute(s),10);break;case"placeholder":(f(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"min":(f(this.timeOptions)||void 0===this.timeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||this.setProperties({min:i},!e));break;case"max":(f(this.timeOptions)||void 0===this.timeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||this.setProperties({max:i},!e));break;case"value":(f(this.timeOptions)||void 0===this.timeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||(this.initValue=i,this.updateInput(!1,this.initValue),this.setProperties({value:i},!e)))}}setCurrentDate(e){return f(this.checkDateValue(e))?null:new Date(G1,xw,Aw,e.getHours(),e.getMinutes(),e.getSeconds())}getTextFormat(){let e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0){const t=this.cldrTimeFormat().split(" ");for(let i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}}return e}updateValue(e,t){let i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){const s=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(s),this.enableMask&&(s||this.updateInputValue(this.maskedDateValue),f(i)&&e!=this.maskedDateValue&&this.createMask(),f(i)&&e==this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(t,"string"!=typeof e)}previousState(e){const t=this.getDateObject(e);for(let i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue}resetState(){this.removeSelection(),me.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)}objToString(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}checkValue(e){if(!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null}validateValue(e,t){let i;const s=this.validateMinMax(t,this.min,this.max),n=this.createDateObj(s);if(this.getFormattedValue(n)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=f(n)?null:n,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=n),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&f(i)){const a=s.trim().length>0?s:"";this.updateInputValue(a),this.enableMask&&(a||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(i),this.enableMask&&(""==i&&this.updateInputValue(this.maskedDateValue),f(i)&&t!=this.maskedDateValue&&this.createMask(),f(i)&&t==this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return i}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}findNextElement(e){const t=this.inputElement.value,i=f(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let s=null;const n=this.liCollections.length,a=this.timeCollections;if(f(this.checkDateValue(i))&&f(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){const o=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("end"===e.action){const o=this.validLiElement(a.length-1,!0);s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("down"===e.action)for(let o=0;o<n;o++){if(+i<this.timeCollections[o]){const h=this.validLiElement(o);s=+this.createDateObj(new Date(this.timeCollections[h])),this.activeIndex=h;break}if(o===n-1){const h=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[h])),this.activeIndex=h;break}}else for(let o=n-1;o>=0;o--){if(+i>this.timeCollections[o]){const h=this.validLiElement(o,!0);s=+this.createDateObj(new Date(this.timeCollections[h])),this.activeIndex=h;break}if(0===o){const h=this.validLiElement(n-1);s=+this.createDateObj(new Date(this.timeCollections[h])),this.activeIndex=h;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(f(s)?null:new Date(s))}}selectNextItem(e){const t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.elementValue(new Date(this.timeCollections[t]))}elementValue(e){f(this.checkDateValue(e))||this.checkValue(e)}validLiElement(e,t){let i=null;const s=f(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+Uu);let n=!0;if(s.length)if(t)for(let a=e;a>=0;a--){if(!s[a].classList.contains(Ic)){i=a;break}0===a&&n&&(e=a=s.length,n=!1)}else for(let a=e;a<=s.length-1;a++){if(!s[a].classList.contains(Ic)){i=a;break}a===s.length-1&&n&&(e=a=-1,n=!1)}return i}keyHandler(e){if(f(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(Ic))return;const t=this.timeCollections.length;if(f(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(f(this.value)&&f(this.activeIndex)){const i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))}else this.findNextElement(e);else this.findNextElement(e);else{let i;if(e.keyCode>=37&&e.keyCode<=40){let s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=s=this.validLiElement(this.activeIndex,!(40===e.keyCode||39===e.keyCode)),i=f(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else if("home"===e.action){const s=this.validLiElement(0);this.activeIndex=s,i=this.timeCollections[s]}else if("end"===e.action){const s=this.validLiElement(t-1,!0);this.activeIndex=s,i=this.timeCollections[s]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,Sx),this.setActiveDescendant(),this.selectInputText(),this.isPopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setScrollPosition()}getCultureTimeObject(e,t){return X("main."+t+".dates.calendars.gregorian.timeFormats.short",e)}getCultureDateObject(e,t){return X("main."+t+".dates.calendars.gregorian.dateFormats.short",e)}wireListEvents(){A.add(this.listWrapper,"click",this.onMouseClick,this),G.isDevice||(A.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireListEvents(){this.listWrapper&&(A.remove(this.listWrapper,"click",this.onMouseClick),G.isDevice||(A.remove(this.listWrapper,"mouseover",this.onMouseOver),A.remove(this.listWrapper,"mouseout",this.onMouseLeave)))}valueProcess(e,t){const i=f(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))}changeEvent(e){this.addSelection(),this.updateInput(!0,this.initValue);const t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!f(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)}updateInput(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,("number"!=typeof t||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+t)&&(this.setProperties({value:t},!0),this.enableMask&&this.createMask()),!this.strictMode&&f(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()}setActiveDescendant(){f(this.selectedElement)?Te(this.inputElement,{"aria-activedescendant":"null"}):Te(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}removeSelection(){if(this.removeHover(Dx),!f(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+Sn);e.length&&(H(e,Sn),e[0].removeAttribute("aria-selected"))}}removeHover(e){const t=this.getHoverItem(e);t&&t.length&&(H(t,e),e===Sx&&t[0].removeAttribute("aria-selected"))}getHoverItem(e){let t;return f(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t}setActiveClass(){if(!f(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+Uu);if(e.length)for(let t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}}addSelection(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),f(this.selectedElement)||(L([this.selectedElement],Sn),this.selectedElement.setAttribute("aria-selected","true"))}isValidLI(e){return e&&e.classList.contains(Uu)&&!e.classList.contains(Ic)}createDateObj(e){let i=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),s=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(i=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),s=isNaN(+new Date(i+" "+e))?null:new Date(new Date(i+" "+e).setMilliseconds(0)),f(s)&&(s=this.timeParse(i,e))):s=this.timeParse(i,e):e instanceof Date&&(s=e),s}timeParse(e,t){let i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=f(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=f(i)?i:new Date(i.setMilliseconds(0)),i}createListItems(){let e;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});const t=6e4*this.step,i=[];this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0);const s=+this.getDateObject(this.initMax).setMilliseconds(0);for(;s>=e;)this.timeCollections.push(e),i.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=t;this.listTag=Ti.createList(this.createElement,i,{itemCreated:a=>{const o={element:a.item,text:a.text,value:this.getDateObject(a.text),isDisabled:!1};this.trigger("itemRender",o,h=>{h.isDisabled&&h.element.classList.add(Ic),h.element.classList.contains(Ic)&&this.disableItemCollection.push(h.element.getAttribute("data-value"))})}},!0),Te(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Ge([this.listTag],this.listWrapper)}documentClickHandler(e){const t=e.target;!f(this.popupObj)&&(this.inputWrapper.container.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),U(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(G.isDevice||(this.isPreventBlur=(G.isIE||"edge"===G.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())}setEnableRtl(){me.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){me.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(H([this.inputWrapper.container],Ic),Te(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),L([this.inputWrapper.container],Ic),Te(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)}getProperty(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)}inputBlurHandler(e){this.enabled&&(this.isPreventBlur&&this.isPopupOpen()?this.inputElement.focus():(this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),H([this.inputWrapper.container],[cv]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)))}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),H([this.inputWrapper.container],[cv]),this.trigger("blur",{model:this}))}isPopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+zf))}inputFocusHandler(){if(!this.enabled)return;const e={model:this};!this.readonly&&!G.isDevice&&!this.enableMask&&this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()}hide(){this.closePopup(100,null),this.clearIconState()}show(e){this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),G.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=zf+" e-time-modal",document.body.className+=" "+rV,document.body.appendChild(this.modal)),G.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:G.isDevice?this.mobileTimePopupWrap:document.body},this.trigger("open",this.openPopupEventArgs,i=>{if(this.openPopupEventArgs=i,this.openPopupEventArgs.cancel||this.inputWrapper.buttons[0].classList.contains(Ic))this.popupObj.destroy(),this.popupWrapper=this.listTag=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],this.popupObj=null;else{this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.popupAlignment(this.openPopupEventArgs),this.setScrollPosition(),G.isDevice||this.inputElement.focus();const s={name:"FadeIn",duration:50};this.popupObj.refreshPosition(this.anchor),this.popupObj.show(new Gi(s),1e3===this.zIndex?this.element:null),this.setActiveDescendant(),Te(this.inputElement,{"aria-expanded":"true"}),L([this.inputWrapper.container],cv),A.add(document,"mousedown touchstart",this.documentClickHandler,this),this.setOverlayIndex(this.mobileTimePopupWrap,this.popupObj.element,this.modal,G.isDevice)}}))}setOverlayIndex(e,t,i,s){if(s&&!f(t)&&!f(i)&&!f(e)){const n=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(n-1).toString(),e.style.zIndex=n.toString()}}formatValues(e){let t;return"number"==typeof e?t=fe(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:fe(e)),t}popupAlignment(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),(!isNaN(parseFloat(e.popup.position.X))||!isNaN(parseFloat(e.popup.position.Y)))&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),G.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}}getPersistData(){return this.addOnPersist(["value"])}getModuleName(){return"timepicker"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"placeholder":me.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":me.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,i);break;case"showClearButton":me.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":Ue(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,me.removeFloating(this.inputWrapper),me.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}checkInValue(e){return e instanceof Date?e.toUTCString():""+e}};Ki([T(null)],ws.prototype,"width",void 0),Ki([T(null)],ws.prototype,"cssClass",void 0),Ki([T(!1)],ws.prototype,"strictMode",void 0),Ki([T(null)],ws.prototype,"keyConfigs",void 0),Ki([T(null)],ws.prototype,"format",void 0),Ki([T(!0)],ws.prototype,"enabled",void 0),Ki([T(!1)],ws.prototype,"readonly",void 0),Ki([T({})],ws.prototype,"htmlAttributes",void 0),Ki([T("Never")],ws.prototype,"floatLabelType",void 0),Ki([T(null)],ws.prototype,"placeholder",void 0),Ki([T(1e3)],ws.prototype,"zIndex",void 0),Ki([T(!1)],ws.prototype,"enablePersistence",void 0),Ki([T(!0)],ws.prototype,"showClearButton",void 0),Ki([T(30)],ws.prototype,"step",void 0),Ki([T(null)],ws.prototype,"scrollTo",void 0),Ki([T(null)],ws.prototype,"value",void 0),Ki([T(null)],ws.prototype,"min",void 0),Ki([T(null)],ws.prototype,"max",void 0),Ki([T(!0)],ws.prototype,"allowEdit",void 0),Ki([T(!1)],ws.prototype,"openOnFocus",void 0),Ki([T(!1)],ws.prototype,"enableMask",void 0),Ki([T({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],ws.prototype,"maskPlaceholder",void 0),Ki([$()],ws.prototype,"change",void 0),Ki([$()],ws.prototype,"created",void 0),Ki([$()],ws.prototype,"destroyed",void 0),Ki([$()],ws.prototype,"open",void 0),Ki([$()],ws.prototype,"itemRender",void 0),Ki([$()],ws.prototype,"close",void 0),Ki([$()],ws.prototype,"cleared",void 0),Ki([$()],ws.prototype,"blur",void 0),Ki([$()],ws.prototype,"focus",void 0),ws=Ki([oi],ws);var os=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const cV=(new Date).getDate(),hV=(new Date).getMonth(),uV=(new Date).getFullYear(),dV=(new Date).getHours(),pV=(new Date).getMinutes(),fV=(new Date).getSeconds(),kc=(new Date).getMilliseconds(),aC="e-datetimepicker",Z1="e-datetimepopup-wrapper",J1="e-popup",oC="e-input-focus",tR="e-icon-anim",$f="e-disabled",Ax="e-error",zd="e-active",xx="e-hover",Yd="e-list-item",sR="e-time-overflow";let is=class extends Es{constructor(e,t){super(e,t),this.valueWithMinutes=null,this.scrollInvoked=!1,this.moduleName=this.getModuleName(),this.dateTimeOptions=e}focusHandler(){!this.enabled||L([this.inputWrapper.container],oC)}focusIn(){super.focusIn()}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),H([this.inputWrapper.container],[oC]))}blurHandler(e){if(!this.enabled)return;if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();H([this.inputWrapper.container],oC);const t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}destroy(){this.popupObject&&this.popupObject.element.classList.contains(J1)&&(this.popupObject.destroy(),oe(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],f(this.rippleFn)||this.rippleFn()),this.inputElement&&(me.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&oe(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),super.destroy()}render(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,super.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new Gs("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),super.render(),this.createInputElement(),super.updateHtmlAttributeToWrapper(),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&me.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()}setValue(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){const e=this.validateMinMaxRange(this.initValue);me.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else f(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,super.updateInput()}validateMinMaxRange(e){let t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t}checkValidState(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()}checkErrorState(){this.isValidState?H([this.inputWrapper.container],Ax):L([this.inputWrapper.container],Ax),Te(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})}validateValue(e){let t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t}disablePopupButton(e){e?(L([this.inputWrapper.buttons[0],this.timeIcon],$f),this.hide()):H([this.inputWrapper.buttons[0],this.timeIcon],$f)}getFormattedValue(e){let t;return f(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))}isDateObject(e){return!f(e)&&!isNaN(+e)}createInputElement(){H([this.inputElement],"e-datepicker"),H([this.inputWrapper.container],"e-date-wrapper"),L([this.inputWrapper.container],"e-datetime-wrapper"),L([this.inputElement],aC),this.renderTimeIcon()}renderTimeIcon(){this.timeIcon=me.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)}bindInputEvents(){A.add(this.timeIcon,"mousedown",this.timeHandler,this),A.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),A.add(this.inputElement,"blur",this.blurHandler,this),A.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=ae(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new rt(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})}unBindInputEvents(){A.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),A.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(A.remove(this.inputElement,"blur",this.blurHandler),A.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?X("timeFormats.short",Ca()):this.getCultureTimeObject(Ps,""+this.locale):this.timeFormat,e}cldrDateTimeFormat(){let e;const i=new Ns(this.locale).getDatePattern({skeleton:"yMd"});return e=this.isNullOrEmpty(this.formatString)?i+" "+this.getCldrFormat("time"):this.formatString,e}getCldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?X("timeFormats.short",Ca()):this.getCultureTimeObject(Ps,""+this.locale),t}isNullOrEmpty(e){return!!(f(e)||"string"==typeof e&&""===e.trim())}getCultureTimeObject(e,t){return X("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)}timeHandler(e){!this.enabled||(this.isIconClicked=!0,G.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&super.hide(e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),L([this.inputWrapper.container],[oC]))),this.isIconClicked=!1)}dateHandler(e){!this.enabled||(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),f(this.popupWrapper)||this.popupCreation("date",e)))}show(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),super.show(),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))}toggle(e){this.isDatePopupOpen()?(super.hide(e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),super.show(null,e),this.popupCreation("date",null)):this.show(null,e)}listCreation(){let e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});const t=f(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=Q("div",{className:"e-content",attrs:{tabindex:"0"}});const i=this.startTime(t),s=this.endTime(t),n=Mw.createListItems(this.createElement,i,s,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=n.collection,this.listTag=n.list,Te(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Ge([n.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=Ts(this.listWrapper,{duration:300,selector:"."+Yd}),this.liCollections=this.listWrapper.querySelectorAll("."+Yd)}popupCreation(e,t){G.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(L([this.popupWrapper],Z1),Te(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=Q("div",{className:aC+" "+J1,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),f(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!f(this.step)&&this.step>0&&(this.listCreation(),Ge([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))}openPopup(e){this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,i=>{if(this.preventArgs=i,!this.preventArgs.cancel&&!this.readonly){this.popupObject.show(new Gi({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),L([this.inputWrapper.container],[tR]),Te(this.inputElement,{"aria-expanded":"true"}),A.add(document,"mousedown touchstart",this.documentClickHandler,this)}})}documentClickHandler(e){const t=e.target;!f(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),U(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(G.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(G.isIE||"edge"===G.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())}isTimePopupOpen(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+aC))}isDatePopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+Z1))}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),G.isDevice&&(this.timeModal=Q("div"),this.timeModal.className=aC+" e-time-modal",document.body.className+=" "+sR,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new Wn(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:G.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:G.isDevice?document.body:this.inputWrapper.container,position:G.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:()=>{this.dateTimeWrapper.style.visibility="visible",L([this.timeIcon],zd),G.isDevice||(this.timekeyConfigure=ae(this.timekeyConfigure,this.keyConfigs),this.inputEvent=new rt(this.inputWrapper.container,{keyAction:this.timeKeyActionHandle.bind(this),keyConfigs:this.timekeyConfigure,eventName:"keydown"}))},close:()=>{H([this.timeIcon],zd),this.unWireTimeListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),nt(this.popupObject.element),this.popupObject.destroy(),this.dateTimeWrapper.innerHTML="",this.listWrapper=this.dateTimeWrapper=void 0,this.inputEvent&&this.inputEvent.destroy()},targetExitViewport:()=>{G.isDevice||this.hide()}}),this.popupObject.element.style.maxHeight="250px"}setDimension(e){return"number"==typeof e?fe(e):"string"==typeof e?e:"100%"}setPopupWidth(){let e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}wireTimeListEvents(){A.add(this.listWrapper,"click",this.onMouseClick,this),G.isDevice||(A.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireTimeListEvents(){this.listWrapper&&(A.remove(this.listWrapper,"click",this.onMouseClick),A.remove(document,"mousedown touchstart",this.documentClickHandler),G.isDevice||(A.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))}onMouseOver(e){const t=U(e.target,"."+Yd);this.setTimeHover(t,xx)}onMouseLeave(){this.removeTimeHover(xx)}setTimeHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),L([e],t))}getPopupHeight(){const e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t}changeEvent(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(super.changeEvent(e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))}updateValue(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!f(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)}setTimeScrollPosition(){const e=this.selectedElement;f(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,n=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=s+e.offsetTop>t?i?s-(t/2+n/2):s:0}setScrollTo(){let e;const t=this.dateTimeWrapper.querySelectorAll("."+Yd);if(t.length>=0){this.scrollInvoked=!0;const i=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((s-i)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;f(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)}setInputValue(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{const t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));me.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()}getFullDateTime(){let e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}combineDateTime(e){if(this.isDateObject(e)){const t=this.previousDate.getDate(),i=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),n=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return new Date(s,i,t,n,a,o)}return this.previousDate}onMouseClick(e){const i=this.selectedElement=U(e.target,"."+Yd);i&&i.classList.contains(Yd)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)}setSelection(e,t){if(this.isValidLI(e)&&!e.classList.contains(zd)){this.selectedElement=e;const i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),L([this.selectedElement],zd),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}}setTimeActiveClass(){const e=f(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!f(e)){const t=e.querySelectorAll("."+Yd);if(t.length)for(let i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}}setTimeActiveDescendant(){f(this.selectedElement)?Te(this.inputElement,{"aria-activedescendant":"null"}):Te(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}addTimeSelection(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),f(this.selectedElement)||(L([this.selectedElement],zd),this.selectedElement.setAttribute("aria-selected","true"))}removeTimeSelection(){if(this.removeTimeHover(xx),!f(this.dateTimeWrapper)){const e=this.dateTimeWrapper.querySelectorAll("."+zd);e.length&&(H(e,zd),e[0].removeAttribute("aria-selected"))}}removeTimeHover(e){const t=this.getTimeHoverItem(e);t&&t.length&&H(t,e)}getTimeHoverItem(e){const t=f(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;let i;return f(t)||(i=t.querySelectorAll("."+e)),i}isValidLI(e){return e&&e.classList.contains(Yd)&&!e.classList.contains($f)}calculateStartEnd(e,t,i){const s=e.getDate(),n=e.getMonth(),a=e.getFullYear(),o=e.getHours(),h=e.getMinutes(),d=e.getSeconds(),m=e.getMilliseconds();return t?"starttime"===i?new Date(a,n,s,0,0,0):new Date(a,n,s,23,59,59):new Date(a,n,s,o,h,d,m)}startTime(e){let t,i;const s=this.min,n=null===e?new Date:e;return+n.getDate()==+s.getDate()&&+n.getMonth()==+s.getMonth()&&+n.getFullYear()==+s.getFullYear()||+new Date(n.getFullYear(),n.getMonth(),n.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.min):+n<+this.max&&+n>+this.min?(i=!0,t=n):+n>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")}endTime(e){let t,i;const s=this.max,n=null===e?new Date:e;return+n.getDate()==+s.getDate()&&+n.getMonth()==+s.getMonth()&&+n.getFullYear()==+s.getFullYear()||+new Date(n.getUTCFullYear(),n.getMonth(),n.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.max):+n<+this.max&&+n>+this.min?(i=!0,t=n):+n<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")}hide(e){if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};const t=this.preventArgs;f(this.popupObj)?this.trigger("close",t,i=>{this.dateTimeCloseEventCallback(e,i)}):this.dateTimeCloseEventCallback(e,t)}else G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}dateTimeCloseEventCallback(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?super.hide(e):this.isTimePopupOpen()&&(this.closePopup(e),H([document.body],sR),G.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),G.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}closePopup(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new Gi({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(tR),Te(this.inputElement,{"aria-expanded":"false"}),A.remove(document,"mousedown touchstart",this.documentClickHandler))}preRender(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),super.preRender(),H([this.inputElementCopy],[aC])}getProperty(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];let i;for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(s));break;case"step":this.step=parseInt(this.inputElement.getAttribute(s),10);break;case"readonly":if(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){const n="disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:n},!e)}break;case"placeholder":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"min":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({min:i},!e));break;case"disabled":if(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){const n=!("disabled"===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s));this.setProperties({enabled:n},!e)}break;case"value":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({value:i},!e));break;case"max":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({max:i},!e))}}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e}maskedDateModule(){return{args:[this],member:"MaskedDateTime"}}getTimeActiveElement(){return f(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+zd)}createDateObj(e){return e instanceof Date?e:null}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=this.valueWithMinutes,s=!f(i);if(this.checkDateValue(t)){const n=s?i.getDate():cV,a=s?i.getMonth():hV,o=s?i.getFullYear():uV,h=s?i.getHours():dV,d=s?i.getMinutes():pV,m=s?i.getSeconds():fV,v=s?i.getMilliseconds():kc;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(o,a,n,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):new Date(o,a,n,h,d,m,v)}}return null}findNextTimeElement(e){const t=this.inputElement.value,i=f(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let s=null;const n=this.liCollections.length;if(!f(this.activeIndex)||!f(this.checkDateValue(i))){if("home"===e.action)s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(let a=0;a<n;a++)if(+i<this.timeCollections[a]){s=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}}else for(let a=n-1;a>=0;a--)if(+i>this.timeCollections[a]){s=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(f(s)?null:new Date(s))}}setTimeValue(e,t){let i,s;const n=this.validateMinMaxRange(t),a=this.createDateObj(n);return this.getFormattedValue(a)!==(f(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=f(a)?null:a,s=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),s=new Date(+this.valueWithMinutes)),i=this.globalize.formatDate(s,"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&f(s),me.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),s}timeElementValue(e){if(!f(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null}timeKeyHandler(e){if(f(this.step)||this.step<=0)return;const t=this.timeCollections.length;if(f(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(f(this.value)&&f(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{let i;if(e.keyCode>=37&&e.keyCode<=40){let s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,i=f(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}timeKeyActionHandle(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),L([this.inputWrapper.container],oC),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}}inputKeyAction(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),me.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,i),this.updateInput();break;case"enableRtl":me.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":f(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),f(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),me.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&me.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),me.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),super.updateInput();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||me.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":me.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":me.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":me.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,me.removeFloating(this.inputWrapper),me.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),me.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",me.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}getModuleName(){return"datetimepicker"}restoreValue(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=f(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)}};os([T(null)],is.prototype,"timeFormat",void 0),os([T(30)],is.prototype,"step",void 0),os([T(null)],is.prototype,"scrollTo",void 0),os([T(1e3)],is.prototype,"zIndex",void 0),os([T(null)],is.prototype,"value",void 0),os([T(null)],is.prototype,"keyConfigs",void 0),os([T({})],is.prototype,"htmlAttributes",void 0),os([T(!1)],is.prototype,"enablePersistence",void 0),os([T(!0)],is.prototype,"allowEdit",void 0),os([T(!1)],is.prototype,"isMultiSelection",void 0),os([T(null)],is.prototype,"values",void 0),os([T(!0)],is.prototype,"showClearButton",void 0),os([T(null)],is.prototype,"placeholder",void 0),os([T(!1)],is.prototype,"strictMode",void 0),os([T(null)],is.prototype,"serverTimezoneOffset",void 0),os([T(new Date(1900,0,1))],is.prototype,"min",void 0),os([T(new Date(2099,11,31))],is.prototype,"max",void 0),os([T(null)],is.prototype,"firstDayOfWeek",void 0),os([T("Gregorian")],is.prototype,"calendarMode",void 0),os([T("Month")],is.prototype,"start",void 0),os([T("Month")],is.prototype,"depth",void 0),os([T(!1)],is.prototype,"weekNumber",void 0),os([T(!0)],is.prototype,"showTodayButton",void 0),os([T("Short")],is.prototype,"dayHeaderFormat",void 0),os([T(!1)],is.prototype,"openOnFocus",void 0),os([T(!1)],is.prototype,"enableMask",void 0),os([T({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],is.prototype,"maskPlaceholder",void 0),os([$()],is.prototype,"open",void 0),os([$()],is.prototype,"close",void 0),os([$()],is.prototype,"cleared",void 0),os([$()],is.prototype,"blur",void 0),os([$()],is.prototype,"focus",void 0),os([$()],is.prototype,"created",void 0),os([$()],is.prototype,"destroyed",void 0),is=os([oi],is);let Mc="",lC="",Oc=[],Gf="";function $d(r,e,t,i){const s=e;i=null==i||i;const n={item:null,index:null};if(r&&r.length){const a=r.length,o=i?r.toLocaleLowerCase():r;for(let h=0,d=s;h<d.length;h++){const m=d[h],v=(i?m.textContent.toLocaleLowerCase():m.textContent).replace(/^\s+|\s+$/g,"");if("Equal"===t&&v===o||"StartsWith"===t&&v.substr(0,a)===o)return n.item=m,n.index=h,{item:m,index:h}}return n}return n}function _w(r,e,t,i){if(""!==e){const s=t?"gim":"gm";e=/^[a-zA-Z0-9- ]*$/.test(e)?e:e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),oR(r,new RegExp("StartsWith"===i?"^("+e+")":"EndsWith"===i?"("+e+")$":"("+e+")",s))}}function oR(r,e){for(let t=0;r.childNodes&&t<r.childNodes.length;t++){if(3===r.childNodes[t].nodeType&&""!==r.childNodes[t].textContent.trim()){const i=r.childNodes[t].nodeValue.trim().replace(e,'<span class="e-highlight">$1</span>');r.childNodes[t].nodeValue="",r.innerHTML=r.innerHTML.trim()+i;break}oR(r.childNodes[t],e)}}function lR(r){const e=r.querySelectorAll(".e-highlight");for(let t=e.length-1;t>=0;t--){const i=e[t].parentNode,s=document.createTextNode(e[t].textContent);i.replaceChild(s,e[t])}}var Xs=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let Mx=(()=>{class r extends hi{}return Xs([T()],r.prototype,"text",void 0),Xs([T()],r.prototype,"value",void 0),Xs([T()],r.prototype,"iconCss",void 0),Xs([T()],r.prototype,"groupBy",void 0),Xs([T()],r.prototype,"htmlAttributes",void 0),r})();const Ve_root="e-dropdownbase",Ve_focus="e-item-focus",Ve_li="e-list-item",Ve_group="e-list-group-item";let hC=(()=>{let r=class extends hs{constructor(t,i){super(t,i),this.preventChange=!1,this.isAngular=!1,this.isPreventChange=!1,this.isDynamicDataChange=!1}getPropObject(t,i,s){const n=new Object,a=new Object;n[t]=i[t],a[t]=s[t];const h=new Object;return h.newProperty=n,h.oldProperty=a,h}getValueByText(t,i,s){let n=null;return f(this.listData)||(n=this.checkValueCase(t,!!i,s)),n}checkValueCase(t,i,s,n){let a=null;n&&(a=t);const o=this.listData,h=this.fields,d=this.typeOfData(o).typeof;if("string"===d||"number"===d||"boolean"===d)for(const m of o)f(m)||(s?a=this.checkingAccent(String(m),t,i):i?this.checkIgnoreCase(String(m),t)&&(a=this.getItemValue(String(m),t,i)):this.checkNonIgnoreCase(String(m),t)&&(a=this.getItemValue(String(m),t,i,n)));else if(i)o.filter(m=>{!f(X(h.value,m))&&this.checkIgnoreCase(X(h.text,m).toString(),t)&&(a=X(h.value,m))});else if(n){let m=null;m=a,o.filter(v=>{const C=X(h.value,v);!f(C)&&!f(a)&&C.toString()===m.toString()&&(a=X(h.text,v))})}else o.filter(m=>{this.checkNonIgnoreCase(X(h.text,m),t)&&(a=X(h.value,m))});return a}checkingAccent(t,i,s){const n=_e.ignoreDiacritics(String(t)),a=_e.ignoreDiacritics(i.toString());let o=null;return s?this.checkIgnoreCase(n,a)&&(o=this.getItemValue(String(t),i,s)):this.checkNonIgnoreCase(String(t),i)&&(o=this.getItemValue(String(t),i,s)),o}checkIgnoreCase(t,i){return String(t).toLowerCase()===i.toString().toLowerCase()}checkNonIgnoreCase(t,i){return String(t)===i.toString()}getItemValue(t,i,s,n){let a=null;const h=this.typeOfData(this.listData).typeof;return a=n?t.toString():s?"string"===h?String(t):this.getFormattedValue(String(t)):"string"===h?i:this.getFormattedValue(i),a}templateCompiler(t){let i=!1;if(t)try{i=!!Xe(t,document).length}catch(s){i=!1}return i}l10nUpdate(t){const i="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){const s=t?this.actionFailureTemplate:this.noRecordsTemplate;let n;const a=t?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="",n=this.templateCompiler(s)?us(J(s,document).innerHTML.trim()):us(s);const d=n({},this,t?"actionFailureTemplate":"noRecordsTemplate",a,this.isStringTemplate,null,i);if(d&&d.length>0)for(let m=0;m<d.length;m++)i.appendChild(d[m]);this.renderReactTemplates()}else{const s={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},n=new Gs(this.getLocaleName(),{},this.locale);this.l10n=""!==n.getConstant("actionFailureTemplate")?n:new Gs("listbox"===this.getModuleName()?"listbox":"dropdowns",s,this.locale);const a=this.l10n.getConstant(t?"actionFailureTemplate":"noRecordsTemplate");if("listbox"===this.getModuleName()){const o=this.createElement("li");o.textContent=a,i.appendChild(o),o.classList.add("e-list-nrt")}else i.innerHTML=a}}getLocaleName(){return"drop-down-base"}getTextByValue(t){return this.checkValueCase(t,!1,!1,!0)}getFormattedValue(t){if(this.listData&&this.listData.length){const i=this.typeOfData(this.listData);if("number"==typeof X(this.fields.value?this.fields.value:"value",i.item)||"number"===i.typeof)return parseFloat(t);if("boolean"==typeof X(this.fields.value?this.fields.value:"value",i.item)||"boolean"===i.typeof)return"true"===t||""+t=="true"}return t}setEnableRtl(){this.list&&this.enableRtlElements.push(this.list),this.enableRtl?L(this.enableRtlElements,"e-rtl"):H(this.enableRtlElements,"e-rtl")}initialize(){if(this.bindEvent=!0,this.actionFailureTemplateId=`${this.element.id}ActionFailureTemplate`,"UL"===this.element.tagName){const t=Ti.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(t,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!f(this.dataSource))?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query)}getPersistData(){return this.addOnPersist([])}setEnabled(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")}updateDataAttribute(t){const i=["class","style","id","type"],s={};for(let n=0;n<this.element.attributes.length;n++)-1===i.indexOf(this.element.attributes[n].name)&&("dropdownlist"!==this.getModuleName()||"readonly"!==this.element.attributes[n].name)&&(s[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name));ae(s,t,s),this.setProperties({htmlAttributes:s},!0)}renderItemsBySelect(){const t=this.element,i={value:"value",text:"text"},s=[],n=t.querySelectorAll("select>optgroup"),a=t.querySelectorAll("select>option");if(this.getJSONfromOption(s,a,i),n.length){for(let o=0;o<n.length;o++){const h=n[o],d={};d[i.text]=h.label,d.isHeader=!0;const m=h.querySelectorAll("option");s.push(d),this.getJSONfromOption(s,m,i)}t.querySelectorAll("select>option")}this.updateFields(i.text,i.value,this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss),this.resetList(s,i)}updateFields(t,i,s,n,a){const o={fields:{text:t,value:i,groupBy:f(s)?this.fields&&this.fields.groupBy:s,htmlAttributes:f(n)?this.fields&&this.fields.htmlAttributes:n,iconCss:f(a)?this.fields&&this.fields.iconCss:a}};this.setProperties(o,!0)}getJSONfromOption(t,i,s){for(const n of i){const a={};a[s.text]=n.innerText,a[s.value]=f(n.getAttribute(s.value))?n.innerText:n.getAttribute(s.value),t.push(a)}}preRender(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=`${this.element.id}ItemTemplate`,this.valueTemplateId=`${this.element.id}ValueTemplate`,this.groupTemplateId=`${this.element.id}GroupTemplate`,this.headerTemplateId=`${this.element.id}HeaderTemplate`,this.footerTemplateId=`${this.element.id}FooterTemplate`,this.noRecordsTemplateId=`${this.element.id}NoRecordsTemplate`}setListData(t,i,s){let n;i=i||this.fields,this.isActive=!0;const a={cancel:!1,data:t,query:s};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionBegin",a,o=>{if(!o.cancel)if(this.showSpinner(),t instanceof ot){if(this.isRequested=!0,this.isDataFetched)return void this.emptyDataRequest(i);o.data.executeQuery(this.getQuery(o.query)).then(h=>{this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionComplete",h,d=>{if(!d.cancel){const m=d.result;0===m.length&&(this.isDataFetched=!0),n=this.renderItems(m,i),this.onActionComplete(n,m,d),this.groupTemplate&&this.renderGroupTemplate(n),this.isRequested=!1,this.bindChildItems(m,n,i,d)}})}).catch(h=>{this.isRequested=!1,this.onActionFailure(h),this.hideSpinner()})}else{const h=new ot(o.data),m={cancel:!1,result:this.getQuery(o.query).executeLocal(h)};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionComplete",m,v=>{v.cancel||(n=this.renderItems(v.result,i),this.onActionComplete(n,v.result),this.groupTemplate&&this.renderGroupTemplate(n),this.bindChildItems(v.result,n,i))})}})}bindChildItems(t,i,s,n){t.length>=100&&"autocomplete"===this.getModuleName()?setTimeout(()=>{Ge(this.remainingItems(this.sortedData,s),i),this.liCollections=this.list.querySelectorAll("."+Ve_li),this.updateListValues(),this.raiseDataBound(t,n)},0):this.raiseDataBound(t,n)}updateListValues(){}findListElement(t,i,s,n){let a=null;if(t){const o=[].slice.call(t.querySelectorAll(i));for(let h=0;h<o.length;h++)if(o[h].getAttribute(s)===n+""){a=o[h];break}}return a}raiseDataBound(t,i){this.hideSpinner(),this.trigger("dataBound",{items:t,e:i})}remainingItems(t,i){const s=new ot(t).executeLocal((new kt).skip(100));if(this.itemTemplate){const a=this.templateListItem(s,i);return[].slice.call(a.childNodes)}const n=this.typeOfData(s).typeof;return"string"===n||"number"===n||"boolean"===n?Ti.createListItemFromArray(this.createElement,s,!0,this.listOption(s,i),this):Ti.createListItemFromJson(this.createElement,s,this.listOption(s,i),1,!0,this)}emptyDataRequest(t){const i=[];this.onActionComplete(this.renderItems(i,t),i),this.isRequested=!1,this.hideSpinner()}showSpinner(){}hideSpinner(){}onActionFailure(t){this.liCollections=[],this.trigger("actionFailure",t),this.l10nUpdate(!0),L([this.list],"e-nodata")}onActionComplete(t,i,s){this.listData=i,this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.list.innerHTML="",this.fixedHeaderElement=f(this.fixedHeaderElement)?this.fixedHeaderElement:null,this.list.appendChild(t),this.liCollections=this.list.querySelectorAll("."+Ve_li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent)}postRender(t,i,s){const n=t.querySelector("."+Ve_li),a=t.querySelector(".e-active");n&&!a&&n.classList.add(Ve_focus),i.length<=0?(this.l10nUpdate(),L([t],"e-nodata")):t.classList.remove("e-nodata")}getQuery(t){return t||(this.query?this.query:new kt)}renderGroupTemplate(t){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector("."+Ve_group)){const i=this.dataSource,s={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},n=t.querySelectorAll("."+Ve_group);if(this.templateCompiler(this.groupTemplate)){const o=J(this.groupTemplate,document).innerHTML.trim();Ti.renderGroupTemplate(o,i,this.fields.properties,n,s,this)}else Ti.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,n,s,this);this.renderReactTemplates()}}createListItems(t,i){t&&i.groupBy||this.element.querySelector("optgroup")?(i.groupBy&&("None"!==this.sortOrder&&(t=this.getSortedDataSource(t)),t=Ti.groupDataSource(t,i.properties,this.sortOrder)),L([this.list],"e-dd-group")):t=this.getSortedDataSource(t);const s=this.listOption(t,i),n=t.length>100?new ot(t).executeLocal((new kt).take(100)):t;return this.sortedData=t,Ti.createList(this.createElement,"autocomplete"===this.getModuleName()?n:t,s,!0,this)}listOption(t,i){const s=!f(i.iconCss),n=f(i.properties)?i:i.properties;return ae({},null!==i.text||null!==i.value?{fields:n,showIcon:s,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},i,!0)}setFloatingHeader(t){f(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains(Ve_group)||(this.fixedHeaderElement.style.display="none"),Mi([this.fixedHeaderElement],this.list),this.setFixedHeader()),!f(this.fixedHeaderElement)&&"0"===this.fixedHeaderElement.style.zIndex&&this.setFixedHeader(),this.scrollStop(t)}scrollStop(t){let i=f(t)?this.list:t.target,s=parseInt(getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),10);const n=Math.round(i.scrollTop/s),a=this.list.querySelectorAll("li:not(.e-hide-listitem)");for(let o=n;o>-1;o--){if(!f(a[o])&&a[o].classList.contains(Ve_group)){this.fixedHeaderElement.innerHTML=a[o].innerHTML,this.fixedHeaderElement.style.top=i.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}}getValidLi(){return this.liCollections[0]}renderItems(t,i){let s;if(this.itemTemplate&&t){let n=t;n&&i.groupBy?("None"!==this.sortOrder&&(n=this.getSortedDataSource(n)),n=Ti.groupDataSource(n,i.properties,this.sortOrder)):n=this.getSortedDataSource(n),this.sortedData=n;const a=n.length>100?new ot(n).executeLocal((new kt).take(100)):n;s=this.templateListItem("autocomplete"===this.getModuleName()?a:n,i)}else s=this.createListItems(t,i);return s}templateListItem(t,i){const s=this.listOption(t,i);if(s.templateID=this.itemTemplateId,s.isStringTemplate=this.isStringTemplate,this.templateCompiler(this.itemTemplate)){const a=J(this.itemTemplate,document).innerHTML.trim();return Ti.renderContentTemplate(this.createElement,a,t,i.properties,s,this)}return Ti.renderContentTemplate(this.createElement,this.itemTemplate,t,i.properties,s,this)}typeOfData(t){for(let s=0;!f(t)&&s<t.length;s++)if(!f(t[s])&&!f("string"==typeof t[s]||"number"==typeof t[s]||"boolean"==typeof t[s]?t[s]:X(this.fields.value?this.fields.value:"value",t[s])))return{typeof:typeof t[s],item:t[s]};return{typeof:null,item:null}}setFixedHeader(){this.list.parentElement.style.display="block";let t=0;this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(t))&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10));const i=this.getValidLi().offsetWidth-t;this.fixedHeaderElement.style.width=i.toString()+"px",Ue(this.fixedHeaderElement,{zIndex:10});const s=this.ulElement.querySelector("."+Ve_group+":not(.e-hide-listitem)");this.fixedHeaderElement.innerHTML=s.innerHTML}getSortedDataSource(t){if(t&&"None"!==this.sortOrder){let i=this.fields.text?this.fields.text:"text";("string"===this.typeOfData(t).typeof||"number"===this.typeOfData(t).typeof||"boolean"===this.typeOfData(t).typeof)&&(i=""),t=Ti.getDataSource(t,Ti.addSorting(this.sortOrder,i))}return t}getIndexByValue(t){let i;const s=this.getItems();for(let n=0;n<s.length;n++)if(!f(t)&&s[n].getAttribute("data-value")===t.toString()){i=n;break}return i}dispatchEvent(t,i){const s=document.createEvent("HTMLEvents");s.initEvent(i,!1,!0),t.dispatchEvent(s)}setFields(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&this.updateFields("text","text")}resetList(t,i,s){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(t instanceof Array?t.length>0:!f(t))&&this.selectData&&this.selectData.length>0&&(t=this.selectData),this.setListData(t,i,s))}updateSelectElementData(t){t&&f(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)}updateSelection(){}renderList(){this.render()}updateDataSource(t){this.resetList(this.dataSource)}setUpdateInitial(t,i){this.isDataFetched=!1;const s={};for(let n=0;t.length>n;n++)i[t[n]]&&"fields"===t[n]?(this.setFields(),s[t[n]]=i[t[n]]):i[t[n]]&&(s[t[n]]=i[t[n]]);Object.keys(s).length>0&&(-1===Object.keys(s).indexOf("dataSource")&&(s.dataSource=this.dataSource),this.updateDataSource(s))}onPropertyChanged(t,i){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],t),this.setUpdateInitial(["sortOrder","itemTemplate"],t);for(const s of Object.keys(t))switch(s){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnabled();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){const n=this.ulElement.querySelector("."+Ve_group);this.fixedHeaderElement.innerHTML=n.innerHTML}break;case"locale":this.list&&!f(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0),this.setZIndex()}}render(t){this.list=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}),this.list.classList.add(Ve_root),this.setFields(),this.rippleFun=Ts(this.list,{duration:300,selector:"."+Ve_li});const s=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!f(s))&&!this.isGroupChecking&&A.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),H([this.element],Ve_root),this.element.style.display="none";const n=this.createElement("div");this.element.parentElement.insertBefore(n,this.element),n.appendChild(this.element),n.appendChild(this.list)}this.setEnableRtl(),this.setEnabled(),t||this.initialize()}getModuleName(){return"dropdownbase"}getItems(){return this.ulElement.querySelectorAll("."+Ve_li)}addItem(t,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&f(i)){let d=[].slice.call(this.listData);d.push(t),d=this.getSortedDataSource(d),this.fields.groupBy&&(d=Ti.groupDataSource(d,this.fields.properties,this.sortOrder)),i=d.indexOf(t)}const s=this.getItems().length,n=this.list.querySelector(".e-active");let a;t=t instanceof Array?t:[t],a=f(i)||i<0||i>s-1?s:i;const o=this.fields;t&&o.groupBy&&(t=Ti.groupDataSource(t,o.properties));const h=[];for(let d=0;d<t.length;d++){const m=t[d],v=m.isHeader,C=this.createElement("li",{className:v?Ve_group:Ve_li,id:"option-add-"+d}),w=m instanceof Object?X(o.text,m):m;if(v&&(C.innerText=w),this.itemTemplate&&!v){const k=us(this.itemTemplate)(m,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,C);k&&Ge(k,C)}else v||C.appendChild(document.createTextNode(w));C.setAttribute("data-value",m instanceof Object?X(o.value,m):m),C.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:C}),h.push(C),this.listData.push(m),"None"===this.sortOrder&&f(i)&&0===a&&(a=null),this.updateActionCompleteData(C,m,a),this.trigger("beforeItemRender",{element:C,item:m})}if(0===s&&f(this.list.querySelector("ul")))this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.list.appendChild(this.ulElement),this.liCollections=h,Ge(h,this.ulElement),this.updateAddItemList(this.list,s);else{"listbox"===this.getModuleName()&&0===s&&(this.ulElement.innerHTML="");const d=[];for(let m=0;m<t.length;m++){const v=this.ulElement.querySelectorAll(".e-list-group-item");for(let w=0;w<v.length;w++)d[w]=v[w].innerText;if(d.indexOf(h[m].innerText)>-1&&o.groupBy){for(let w=0;w<v.length;w++)if(d[w]===h[m].innerText){this.ulElement.insertBefore(h[m+1],"None"===this.sortOrder?v[w+1]:this.ulElement.childNodes[i]),m+=1;break}}else this.liCollections[a]?this.liCollections[a].parentNode.insertBefore(h[m],this.liCollections[a]):this.ulElement.appendChild(h[m]);const C=[].slice.call(this.liCollections);C.splice(a,0,h[m]),this.liCollections=C,a+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}(n||0===i)&&this.updateSelection()}validationAttribute(t,i){const s=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");i.setAttribute("name",s),t.removeAttribute("name");const n=["required","aria-required","form"];for(let a=0;a<n.length;a++){if(!t.getAttribute(n[a]))continue;const o=t.getAttribute(n[a]);i.setAttribute(n[a],o),t.removeAttribute(n[a])}}setZIndex(){}updateActionCompleteData(t,i,s){}updateAddItemList(t,i){}updateDataList(){}getDataByValue(t){if(!f(this.listData)){const i=this.typeOfData(this.listData).typeof;if("string"===i||"number"===i||"boolean"===i){for(const s of this.listData)if(!f(s)&&s===t)return s}else for(const s of this.listData)if(!f(s)&&X(this.fields.value?this.fields.value:"value",s)===t)return s}return null}destroy(){document.body.contains(this.list)&&(A.remove(this.list,"scroll",this.setFloatingHeader),f(this.rippleFun)||this.rippleFun(),oe(this.list)),super.destroy()}};return Xs([Ht({text:null,value:null,iconCss:null,groupBy:null},Mx)],r.prototype,"fields",void 0),Xs([T(!1)],r.prototype,"enablePersistence",void 0),Xs([T(null)],r.prototype,"itemTemplate",void 0),Xs([T(null)],r.prototype,"groupTemplate",void 0),Xs([T("No records found")],r.prototype,"noRecordsTemplate",void 0),Xs([T("Request failed")],r.prototype,"actionFailureTemplate",void 0),Xs([T("None")],r.prototype,"sortOrder",void 0),Xs([T(!0)],r.prototype,"enabled",void 0),Xs([T([])],r.prototype,"dataSource",void 0),Xs([T(null)],r.prototype,"query",void 0),Xs([T("StartsWith")],r.prototype,"filterType",void 0),Xs([T(!0)],r.prototype,"ignoreCase",void 0),Xs([T(1e3)],r.prototype,"zIndex",void 0),Xs([T(!1)],r.prototype,"ignoreAccent",void 0),Xs([T()],r.prototype,"locale",void 0),Xs([$()],r.prototype,"actionBegin",void 0),Xs([$()],r.prototype,"actionComplete",void 0),Xs([$()],r.prototype,"actionFailure",void 0),Xs([$()],r.prototype,"select",void 0),Xs([$()],r.prototype,"dataBound",void 0),Xs([$()],r.prototype,"created",void 0),Xs([$()],r.prototype,"destroyed",void 0),r=Xs([oi],r),r})();var cn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const vt={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:Ve_li,disable:"e-disabled",base:Ve_root,focus:Ve_focus,input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},SV={container:null,buttons:[]};let fs=class extends hC{constructor(e,t){super(e,t),this.isListSearched=!1,this.preventChange=!1,this.isAngular=!1}preRender(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),super.preRender(),this.activeIndex=this.index,this.queryString=""}initializeData(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"}}setZIndex(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}renderList(e){super.render(e),this.unWireListEvents(),this.wireListEvents()}floatLabelChange(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){const e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?On(e,["e-label-top"],["e-label-bottom"]):On(e,["e-label-bottom"],["e-label-top"])}}resetHandler(e){e.preventDefault(),this.clearAll(e)}resetFocusElement(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!f(this.ulElement)){const e=this.ulElement.querySelector("."+vt.li);e&&e.classList.add(vt.focus)}}clearAll(e,t){(f(t)||!f(t)&&(f(t.dataSource)||!(t.dataSource instanceof ot)&&0===t.dataSource.length))&&(this.isActive=!0,this.resetSelection(t));const i=this.getItemData();this.previousValue!==i.value&&this.onChangeEvent(e)}resetSelection(e){this.list&&(f(e)||!f(e.dataSource)&&(e.dataSource instanceof ot||0!==e.dataSource.length)?(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!f(this.actionCompleteData.ulElement)&&!f(this.actionCompleteData.list)&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement()):(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource))),this.hiddenElement.innerHTML="",this.inputElement.value="",this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(oe(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()}setHTMLAttributes(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&L([this.inputWrapper.container],t.split(" "))}else if("disabled"===e&&"disabled"===this.htmlAttributes[e])this.enabled=!1,this.setEnable();else if("readonly"!==e||f(this.htmlAttributes[e]))if("style"===e)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[e]);else{const t=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],i=["name","required"];("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&t.push("tabindex"),i.indexOf(e)>-1||0===e.indexOf("data")?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):t.indexOf(e)>-1?"placeholder"===e?me.setPlaceholder(this.htmlAttributes[e],this.inputElement):this.inputElement.setAttribute(e,this.htmlAttributes[e]):this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}else this.readonly=!0,this.dataBind();("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&this.inputWrapper.container.removeAttribute("tabindex")}getAriaAttributes(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-live":"polite","aria-labelledby":this.hiddenElement.id}}setEnableRtl(){me.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){me.setEnabled(this.enabled,this.inputElement),this.enabled?(H([this.inputWrapper.container],vt.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),L([this.inputWrapper.container],vt.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"drop-down-list"}preventTabIndex(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)}targetElement(){return this.inputWrapper.container}getNgDirective(){return"EJS-DROPDOWNLIST"}getElementByText(e){return this.getElementByValue(this.getValueByText(e))}getElementByValue(e){let t;const i=this.getItems();for(const s of i)if(this.getFormattedValue(s.getAttribute("data-value"))===e){t=s;break}return t}initValue(){this.renderList(),this.dataSource instanceof ot?this.initRemoteRender=!0:this.updateValues()}updateValues(){if(f(this.value))if(this.text&&f(this.value)){const e=this.getElementByText(this.text);if(f(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onBlurHandler(e){if(!this.enabled)return;const t=e.relatedTarget,i=e.target,s=this.isPreventBlur;this.isPreventBlur=!1,!s||this.isDocumentClick||!this.isPopupOpen||f(i)&&(this.isFilterLayout()||!f(t))?this.isDocumentClick||!f(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(vt.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&i.classList.contains(vt.inputFocus))||f(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&i!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}focusOutAction(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()}onFocusOut(){!this.enabled||(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&L([this.inputWrapper.clearButton],vt.clearIconHide),this.trigger("blur"))}onFocus(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()}resetValueHandler(e){const t=U(this.inputElement,"form");if(t&&e.target===t){const i=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=i}}wireEvent(){A.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),A.add(this.inputWrapper.container,"focus",this.focusIn,this),A.add(this.inputWrapper.container,"keypress",this.onSearch,this),this.bindCommonEvent()}bindCommonEvent(){A.add(this.targetElement(),"blur",this.onBlurHandler,this);const e=U(this.inputElement,"form");e&&A.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new rt(this.targetElement(),G.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()}bindClearEvent(){this.showClearButton&&A.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}unBindCommonEvent(){this.targetElement()&&A.remove(this.targetElement(),"blur",this.onBlurHandler);const e=this.inputElement&&U(this.inputElement,"form");e&&A.remove(e,"reset",this.resetValueHandler),G.isDevice||this.keyboardModule.destroy(),this.showClearButton&&A.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)}updateIconState(){this.showClearButton&&(""===this.inputElement.value||this.readonly?L([this.inputWrapper.clearButton],vt.clearIconHide):H([this.inputWrapper.clearButton],vt.clearIconHide))}wireListEvents(){A.add(this.list,"click",this.onMouseClick,this),A.add(this.list,"mouseover",this.onMouseOver,this),A.add(this.list,"mouseout",this.onMouseLeave,this)}onSearch(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))}onServerIncrementalSearch(e){!this.isRequested&&!f(this.list)&&!f(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(e)}onMouseClick(e){const i=U(e.target,"."+Ve_li);this.isValidLI(i)&&(this.setSelection(i,e),G.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100))}onMouseOver(e){const t=U(e.target,"."+Ve_li);this.setHover(t)}setHover(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),L([e],"e-hover"))}onMouseLeave(){this.removeHover()}removeHover(){if(this.list){const e=this.list.querySelectorAll(".e-hover");e&&e.length&&H(e,"e-hover")}}isValidLI(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")}incrementalSearch(e){if(this.liCollections.length>0){const t=function(r,e,t,i,s){let n;if(Mc+=String.fromCharCode(r),setTimeout(()=>{Mc=""},1e3),Mc=Mc.toLowerCase(),Gf===s&&lC===Mc){for(let a=0;a<Oc.length;a++)if(Oc[a].classList.contains("e-active")){n=a;break}return n+=1,Oc[n]?Oc[n]:Oc[0]}{const a=e,o=Mc.length;let h,d,m=t=t?t+1:0;Oc=[];do{m===a.length&&(m=-1),n=-1===m?0:m,d=a[n],h=d.innerText.toLowerCase(),h.substr(0,o)===Mc&&Oc.push(a[n]),m++}while(m!==t);return lC=Mc,Gf=s,Oc[0]}}(e.charCode,this.liCollections,this.activeIndex,0,this.element.id);f(t)||(this.setSelection(t,e),this.setScrollPosition())}}hideSpinner(){f(this.spinnerElement)||(no(this.spinnerElement),H([this.spinnerElement],vt.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)}showSpinner(){f(this.spinnerElement)&&(this.spinnerElement=G.isDevice&&!f(this.filterInputObj)&&this.filterInputObj.buttons[1]||!f(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],L([this.spinnerElement],vt.disableIcon),wc({target:this.spinnerElement,width:G.isDevice?"16px":"14px"},this.createElement),so(this.spinnerElement))}keyActionHandler(e){if(!this.enabled)return;const t="pageUp"===e.action||"pageDown"===e.action,i="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;const n="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||i)||this.isPopupOpen)&&!this.readonly){const a="tab"===e.action||"close"===e.action;if(void 0===this.list&&!this.isRequested&&!a&&"escape"!==e.action&&(this.searchKeyEvent=e,this.renderList()),f(this.list)||!f(this.liCollections)&&n&&0===this.liCollections.length||this.isRequested)return;switch((a&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!n&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup();break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}updateUpDownAction(e){const t=this.list.querySelector("."+vt.focus);if(this.isSelectFocusItem(t))this.setSelection(t,e);else if(!f(this.liCollections)){let i="down"===e.action?this.activeIndex+1:this.activeIndex-1,s=0;"autocomplete"===this.getModuleName()&&(s="down"===e.action&&f(this.activeIndex)?0:this.liCollections.length-1,i=i<0?this.liCollections.length-1:i===this.liCollections.length?0:i);const n=f(this.activeIndex)?this.liCollections[s]:this.liCollections[i];f(n)||this.setSelection(n,e)}e.preventDefault()}updateHomeEndAction(e){if("dropdownlist"===this.getModuleName()){let t=0;if(t="home"===e.action?0:this.getItems().length-1,e.preventDefault(),this.activeIndex===t)return;this.setSelection(this.liCollections[t],e)}}selectCurrentValueOnTab(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}mobileKeyActionHandler(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0===this.list&&!this.isRequested&&(this.searchKeyEvent=e,this.renderList()),f(this.list)||!f(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}}selectCurrentItem(e){if(this.isPopupOpen){const t=this.list.querySelector("."+vt.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(),this.focusDropDown(e)}else this.showPopup()}isSelectFocusItem(e){return!f(e)}getPageCount(){const e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.getBoundingClientRect().height/parseInt(e,10))}pageUpSelection(e,t){this.setSelection(e>=0?this.liCollections[e+1]:this.liCollections[0],t)}pageDownSelection(e,t){const i=this.getItems();this.setSelection(e<=i.length?this.liCollections[e-1]:this.liCollections[i.length-1],t)}unWireEvent(){A.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),A.remove(this.inputWrapper.container,"keypress",this.onSearch),A.remove(this.inputWrapper.container,"focus",this.focusIn),this.unBindCommonEvent()}unWireListEvents(){A.remove(this.list,"click",this.onMouseClick),A.remove(this.list,"mouseover",this.onMouseOver),A.remove(this.list,"mouseout",this.onMouseLeave)}checkSelector(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'}onDocumentClick(e){const t=e.target;if(!f(this.popupObj)&&U(t,this.checkSelector(this.popupObj.element.id))||this.inputWrapper.container.contains(e.target))t!==this.inputElement&&(!this.allowFiltering||t!==this.filterInput)&&("combobox"!==this.getModuleName()||this.allowFiltering||!G.isDevice||t!==this.inputWrapper.buttons[0])&&(this.isPreventBlur=(G.isIE||"edge"===G.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(vt.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;const i=this.isRequested;this.isInteracted=!1,this.hidePopup(e),i||(this.onFocusOut(),this.inputWrapper.container.classList.remove(vt.inputFocus))}}activeStateChange(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(vt.inputFocus))}focusDropDown(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)}dropDownClick(e){if(3===e.which||2===e.button||this.targetElement().classList.contains(vt.disable)||this.inputWrapper.clearButton===e.target)return;const t=e.target;if(t!==this.inputElement&&!(this.allowFiltering&&t===this.filterInput)&&"combobox"!==this.getModuleName()&&e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup());const i=this,s=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(()=>{i.cloneElements(),i.isSecondClick=!0},s)}}cloneElements(){if(this.list){let e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}}updateSelectedItem(e,t,i,s){this.removeSelection(),e.classList.add("e-active"),this.removeHover();const n=this.getFormattedValue(e.getAttribute("data-value")),a=this.getDataByValue(n);if(this.initial||i||f(t))this.selectEventCallback(e,t,i,a,n),s&&this.setSelectOptions(e,t);else{const o=this.detachChanges(a);this.isSelected=!0,this.trigger("select",{e:t,item:e,itemData:o,isInteracted:!!t,cancel:!1},d=>{d.cancel?e.classList.remove("e-active"):(this.selectEventCallback(e,t,i,a,n),s&&this.setSelectOptions(e,t))})}}selectEventCallback(e,t,i,s,n){this.previousItemData=f(this.itemData)?null:this.itemData,this.item=e,this.itemData=s;const a=this.list.querySelector("."+Ve_focus);a&&H([a],Ve_focus),e.setAttribute("aria-selected","true"),this.activeIndex=this.getIndexByValue(n)}activeItem(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))}setValue(e){const t=this.getItemData();me.setValue(null===t.value?null:t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&null!==this.itemData?this.setValueTemplate():!f(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(oe(this.valueTempElement),this.inputElement.style.display="block");let i=vt.clearIcon,n=this.isFiltering()&&this.filterInput&&"combobox"===this.getModuleName()&&this.filterInput.parentElement.querySelector("."+i);return this.isFiltering()&&n&&n.style.removeProperty("visibility"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)}setSelection(e,t){this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active"))?this.updateSelectedItem(e,t,!1,!0):this.setSelectOptions(e,t)}setSelectOptions(e,t){this.list&&this.removeHover(),this.previousSelectedLI=f(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,!this.setValue(t)&&(this.isPopupOpen&&(Te(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null}),this.isFilterLayout()&&this.filterInput&&Te(this.filterInput,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})),(!this.isPopupOpen&&!f(e)||this.isPopupOpen&&!f(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),this.isPopupOpen&&!f(this.selectedLI)&&null!==this.itemData&&(!t||"click"!==t.type)&&this.setScrollPosition(t),"mozilla"!==G.info.name&&(Te(this.inputElement,{"aria-label":this.inputElement.value}),Te(this.targetElement(),{"aria-describedby":this.inputElement.id}),this.targetElement().removeAttribute("aria-live")))}dropdownCompiler(e){let t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(i){t=!1}return t}setValueTemplate(){let e;this.isReact&&this.clearTemplate(["valueTemplate"]),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:vt.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.valueTempElement.innerHTML="",e=this.dropdownCompiler(this.valueTemplate)?us(document.querySelector(this.valueTemplate).innerHTML.trim()):us(this.valueTemplate);const i=e(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);if(i&&i.length>0)for(let s=0;s<i.length;s++)this.valueTempElement.appendChild(i[s]);this.renderReactTemplates()}removeSelection(){if(this.list){const e=this.list.querySelectorAll(".e-active");e.length&&(H(e,"e-active"),e[0].removeAttribute("aria-selected"))}}getItemData(){const e=this.fields;let i,s,t=null;return t=this.itemData,f(t)||(i=X(e.value,t),s=X(e.text,t)),{value:f(t)||pt(i)?t:i,text:f(t)||pt(i)?t:s}}onChangeEvent(e){const t=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:t.text,value:t.value},!0),this.detachChangeEvent(e)}detachChanges(e){let t;return t="string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e,t}detachChangeEvent(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=f(this.text)?"":this.text,!this.initial){const t=this.detachChanges(this.itemData);let i;i="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();const s={e,item:this.item,itemData:t,previousItem:this.previousSelectedLI,previousItemData:i,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s)}(f(this.value)||""===this.value)&&"Always"!==this.floatLabelType&&H([this.inputWrapper.container],"e-valid-input")}setHiddenValue(){if(f(this.value))this.hiddenElement.innerHTML="";else if(this.hiddenElement.querySelector("option")){const e=this.hiddenElement.querySelector("option");e.textContent=this.text,e.setAttribute("value",this.value.toString())}else this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",this.hiddenElement.querySelector("option").setAttribute("value",this.value.toString())}onFilterUp(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"dropdownlist"!==this.getModuleName()&&(this.preventAutoFill=!0,this.searchLists(e),"autocomplete"===this.getModuleName()&&this.hidePopup())),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e)}}onFilterDown(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}}removeFillSelection(){if(this.isInteracted){const e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}}getQuery(e){let t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new kt;const i=""===this.typedString?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;t.where((this.dataSource instanceof ot||"string"!==s)&&"number"!==s&&this.fields.text?this.fields.text:"",i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e?e.clone():this.query?this.query.clone():new kt;return t}getSelectionPoints(){const e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}}searchLists(e){if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+vt.clearIcon)&&(this.filterInput.parentElement.querySelector("."+vt.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering()){const t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(i,s,n)=>{t.cancel||(this.isCustomFilter=!0,this.filteringAction(i,s,n))},baseEventArgs:e,cancel:!1};this.trigger("filtering",t,i=>{!i.cancel&&!this.isCustomFilter&&!i.preventDefaultAction&&this.filteringAction(this.dataSource,null,this.fields)})}}filter(e,t,i){this.isCustomFilter=!0,this.filteringAction(e,t,i)}filteringAction(e,t,i){f(this.filterInput)||(this.beforePopupOpen=!(!this.isPopupOpen&&"combobox"===this.getModuleName()&&""===this.filterInput.value),""!==this.filterInput.value.trim()||this.itemTemplate?(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.resetList(e,i,t)):(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!f(this.actionCompleteData.ulElement)&&!f(this.actionCompleteData.list)&&this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list),this.isTyped=!0,!f(this.itemData)&&"dropdownlist"===this.getModuleName()&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0),this.renderReactTemplates())}setSearchBox(e){if(this.isFiltering()){const t=e.querySelector("."+vt.filterParent)?e.querySelector("."+vt.filterParent):this.createElement("span",{className:vt.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:vt.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);let i=!1;return G.isDevice&&(i=!0),this.filterInputObj=me.createInput({element:this.filterInput,buttons:i?[vt.backIcon,vt.filterBarClearIcon]:[vt.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),f(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?L([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&L([this.filterInputObj.container],"e-filled")),Ge([this.filterInputObj.container],t),Mi([t],e),Te(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":this.selectedLI?this.selectedLI.id:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+vt.clearIcon),!G.isDevice&&this.clearIconElement&&(A.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new rt(this.filterInput,G.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),A.add(this.filterInput,"input",this.onInput,this),A.add(this.filterInput,"keyup",this.onFilterUp,this),A.add(this.filterInput,"keydown",this.onFilterDown,this),A.add(this.filterInput,"blur",this.onBlurHandler,this),A.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return SV}onInput(e){this.isValidKey=!0,G.isDevice&&"mozilla"===G.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))}pasteHandler(e){setTimeout(()=>{this.typedString=this.filterInput.value,this.searchLists(e)})}onActionFailure(e){super.onActionFailure(e),this.beforePopupOpen&&this.renderPopup()}onActionComplete(e,t,i,s){if(this.isNotSearchList)this.isNotSearchList=!1;else if(this.isActive){const n=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(super.onActionComplete(e,t,i),this.updateSelectElementData(this.allowFiltering),this.isRequested&&!f(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!f(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.list.scrollTop=0,f(e)||Te(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender&&(this.initial=!0,this.activeIndex=this.index,this.updateValues(),this.initRemoteRender=!1,this.initial=!1,this.value&&this.dataSource instanceof ot)){const a=f(this.fields.value)?this.fields.text:this.fields.value;t.some(h=>h[a]===this.value)||this.dataSource.executeQuery(this.getQuery(this.query).where(new Ni(a,"equal",this.value))).then(h=>{h.result.length>0&&(this.addItem(h.result,t.length),this.updateValues())})}"autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped&&((!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||f(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof ot||!f(this.dataSource)&&!f(this.dataSource.length)&&0!==this.dataSource.length))&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(()=>{this.updateActionCompleteDataValues(e,t)},0):this.updateActionCompleteDataValues(e,t)),this.addNewItem(t,n),f(this.itemData)||this.focusIndexItem()),this.beforePopupOpen&&this.renderPopup()}}updateActionCompleteDataValues(e,t){this.actionCompleteData={ulElement:e.cloneNode(!0),list:t,isUpdated:!0},f(this.actionData.ulElement)&&f(this.actionData.list)&&(this.actionData=this.actionCompleteData)}addNewItem(e,t){if(!f(this.itemData)&&!f(t)){const i=this.getItemData().value;e.some(n=>("string"==typeof n||"number"==typeof n)&&n===i||X(this.fields.value,n)===i)||this.addItem(this.itemData)}}updateActionCompleteData(e,t,i){"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(()=>{this.actionCompleteDataUpdate(e,t,i)},0):this.actionCompleteDataUpdate(e,t,i))}actionCompleteDataUpdate(e,t,i){null!=i?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[i]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t)}focusIndexItem(){const e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);const t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.removeFocus()}updateSelection(){const e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+Ve_li).classList.add(vt.focus))}removeFocus(){const e=this.list.querySelectorAll("."+vt.focus);e&&e.length&&H(e,vt.focus)}renderPopup(){this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},t=>{if(t.cancel)this.beforePopupOpen=!1;else{const i=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup "+(null!=this.cssClass?this.cssClass:"")}),s=this.setSearchBox(i);if(this.listHeight=fe(this.popupHeight),this.headerTemplate&&this.setHeaderTemplate(i),Ge([this.list],i),this.footerTemplate&&this.setFooterTemplate(i),document.body.appendChild(i),i.style.visibility="hidden","auto"!==this.popupHeight){if(this.searchBoxHeight=0,f(s.container)||(this.searchBoxHeight=s.container.parentElement.getBoundingClientRect().height,this.listHeight=(parseInt(this.listHeight,10)-this.searchBoxHeight).toString()+"px"),this.headerTemplate){this.header=this.header?this.header:i.querySelector(".e-ddl-header");const C=Math.round(this.header.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(C+this.searchBoxHeight)).toString()+"px"}if(this.footerTemplate){this.footer=this.footer?this.footer:i.querySelector(".e-ddl-footer");const C=Math.round(this.footer.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(C+this.searchBoxHeight)).toString()+"px"}this.list.style.maxHeight=(parseInt(this.listHeight,10)-2).toString()+"px",i.style.maxHeight=fe(this.popupHeight)}else i.style.height="auto";let a,n=0;if(!f(this.selectedLI)&&!f(this.activeIndex)&&this.activeIndex>=0?this.setScrollPosition():this.list.scrollTop=0,G.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){n=this.getOffsetValue(i);const C=this.isEmptyList()?this.list:this.liCollections[0];a=-(parseInt(getComputedStyle(C).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))}this.getFocusElement(),this.createPopup(i,n,a),this.checkCollision(i),G.isDevice&&(this.popupObj.element.classList.add(vt.device),("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.isFilterLayout()&&(this.popupObj.element.classList.add(vt.mobileFilter),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),Te(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),L([document.body,this.popupObj.element],vt.popupFullScreen),this.setSearchBoxPosition(),this.backIconElement=s.container.querySelector(".e-back-icon"),this.clearIconElement=s.container.querySelector("."+vt.clearIcon),A.add(this.backIconElement,"click",this.clickOnBackIcon,this),A.add(this.clearIconElement,"click",this.clearText,this))),i.style.visibility="visible",L([i],"e-popup-close");const o=this.popupObj.getScrollableParent(this.inputWrapper.container);for(const C of o)A.add(C,"scroll",this.scrollHandler,this);G.isDevice&&this.isFilterLayout()&&A.add(this.list,"scroll",this.listScroll,this),f(this.list)||(this.unWireListEvents(),this.wireListEvents()),Te(this.targetElement(),{"aria-expanded":"true"}),L([this.isFiltering()?this.filterInput.parentElement:this.inputWrapper.container],[vt.inputFocus]);const d={name:"FadeIn",duration:100};this.beforePopupOpen=!0,this.trigger("open",{popup:this.popupObj,cancel:!1,animation:d},C=>{C.cancel?(this.beforePopupOpen=!1,this.destroyPopup()):(L([this.inputWrapper.container],[vt.iconAnimation]),this.renderReactTemplates(),this.popupObj.show(new Gi(C.animation),1e3===this.zIndex?this.element:null))})}})}checkCollision(e){(!G.isDevice||G.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(Cc(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())}getOffsetValue(e){const t=getComputedStyle(e),i=parseInt(t.borderTopWidth,10),s=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(i+s)}createPopup(e,t,i){this.popupObj=new Wn(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:i,position:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:()=>{this.isDocumentClick||this.focusDropDown(),this.isReact&&this.clearTemplate(["headerTemplate","footerTemplate"]),this.getModuleName(),this.isNotSearchList=!1,this.isDocumentClick=!1,this.destroyPopup(),this.isFiltering()&&this.actionCompleteData.list&&this.actionCompleteData.list[0]&&(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0))},open:()=>{A.add(document,"mousedown",this.onDocumentClick,this),this.isPopupOpen=!0;const s=this.actionCompleteData&&this.actionCompleteData.ulElement&&this.actionCompleteData.ulElement.querySelector("li"),n=this.list.querySelector("ul li");this.isFiltering()&&this.itemTemplate&&this.element.tagName===this.getNgDirective()&&s&&n&&s.textContent!==n.textContent&&"EJS-COMBOBOX"!==this.element.tagName&&this.cloneElements(),this.isFilterLayout()&&(H([this.inputWrapper.container],[vt.inputFocus]),this.isFilterFocus=!0,this.filterInput.focus(),this.inputWrapper.clearButton&&L([this.inputWrapper.clearButton],vt.clearIconHide)),this.activeStateChange()},targetExitViewport:()=>{G.isDevice||this.hidePopup()}})}isEmptyList(){return!f(this.liCollections)&&0===this.liCollections.length}getFocusElement(){}isFilterLayout(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering}scrollHandler(){G.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()}setSearchBoxPosition(){const e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";const t=this.filterInput.parentElement.querySelector("."+vt.clearIcon);oe(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)}setPopupPosition(e){let t;const i=e,s=this.list.querySelector("."+vt.focus)||this.selectedLI,n=this.isEmptyList()?this.list:this.liCollections[0],a=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],o=n.getBoundingClientRect().height,h=this.list.offsetHeight/2,d=f(s)?n.offsetTop:s.offsetTop;if(a.offsetTop-h<d&&!f(this.liCollections)&&this.liCollections.length>0&&!f(s)){const C=this.list.offsetHeight/o,w=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(C-(this.liCollections.length-this.activeIndex))*o-i+w,this.list.scrollTop=s.offsetTop}else d>h?(t=h-o/2,this.list.scrollTop=d-h+o/2):t=d;return t=t+o+i-(o-this.inputWrapper.container.offsetHeight)/2,-t}setWidth(){let e=fe(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),G.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){const t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e}scrollBottom(e){if(!f(this.selectedLI)){const t=this.list.offsetHeight,i=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;let s=this.list.scrollTop+i-t;s=e?s+2*parseInt(getComputedStyle(this.list).paddingTop,10):s;let n=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;n=this.fields.groupBy&&!f(this.fixedHeaderElement)?n-this.fixedHeaderElement.offsetHeight:n,0===this.activeIndex?this.list.scrollTop=0:(i>t||!(n>0&&this.list.offsetHeight>n))&&(this.list.scrollTop=s)}}scrollTop(){if(!f(this.selectedLI)){let e=this.selectedLI.offsetTop-this.list.scrollTop;e=this.fields.groupBy&&!f(this.fixedHeaderElement)?e-this.fixedHeaderElement.offsetHeight:e;const t=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:e<0?this.list.scrollTop=this.list.scrollTop+e:t>0&&this.list.offsetHeight>t||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!f(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}}isEditTextBox(){return!1}isFiltering(){return this.allowFiltering}isPopupButton(){return!0}setScrollPosition(e){if(f(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}}clearText(){this.filterInput.value=this.typedString="",this.searchLists(null)}listScroll(){this.filterInput.blur()}setEleWidth(e){f(e)||("number"==typeof e?this.inputWrapper.container.style.width=fe(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:fe(e)))}closePopup(e){if(this.isTyped=!1,!(this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen))return;A.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;const t=this.popupObj.getScrollableParent(this.inputWrapper.container);for(const a of t)A.remove(a,"scroll",this.scrollHandler);G.isDevice&&this.isFilterLayout()&&(H([document.body,this.popupObj.element],vt.popupFullScreen),A.remove(this.list,"scroll",this.listScroll)),this.isFilterLayout()&&(G.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&A.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(A.remove(this.backIconElement,"click",this.clickOnBackIcon),A.remove(this.clearIconElement,"click",this.clearText)),A.remove(this.filterInput,"input",this.onInput),A.remove(this.filterInput,"keyup",this.onFilterUp),A.remove(this.filterInput,"keydown",this.onFilterDown),A.remove(this.filterInput,"blur",this.onBlurHandler),A.remove(this.filterInput,"paste",this.pasteHandler),this.filterInput=null),Te(this.targetElement(),{"aria-expanded":"false","aria-activedescendant":null}),this.inputWrapper.container.classList.remove(vt.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0}},a=>{if(!f(this.popupObj)&&!f(this.popupObj.element.querySelector(".e-fixed-head"))){const o=this.popupObj.element.querySelector(".e-fixed-head");o.parentNode.removeChild(o),this.fixedHeaderElement=null}a.cancel||("autocomplete"===this.getModuleName()&&this.rippleFun(),this.isPopupOpen?this.popupObj.hide(new Gi(a.animation)):this.destroyPopup())})}destroyPopup(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj.destroy(),oe(this.popupObj.element)}clickOnBackIcon(){this.hidePopup(),this.focusIn()}render(){"INPUT"===this.element.tagName?(this.inputElement=this.element,f(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","textbox"),f(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text")):(this.inputElement=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=me.createInput({element:this.inputElement,buttons:this.isPopupButton()?[vt.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:vt.hiddenElement}}),Mi([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=fe(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");const t=this.element.getAttribute("id")?this.element.getAttribute("id"):$i("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),Te(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),null!==this.value||null!==this.activeIndex||null!==this.text)this.initValue();else if("SELECT"===this.element.tagName&&this.element.options[0]){const i=this.element;this.value=i.options[i.selectedIndex].value,this.text=f(this.value)?null:i.options[i.selectedIndex].textContent,this.initValue()}this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=i=>{i.stopImmediatePropagation()},this.inputElement.onchange=i=>{i.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),f(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}setFooterTemplate(e){let t;this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),L([this.footer],vt.footer)),t=this.dropdownCompiler(this.footerTemplate)?us(J(this.footerTemplate,document).innerHTML.trim()):us(this.footerTemplate);const s=t({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(s&&s.length>0)for(let n=0;n<s.length;n++)this.footer.appendChild(s[n]);Ge([this.footer],e)}setHeaderTemplate(e){let t;this.header?this.header.innerHTML="":(this.header=this.createElement("div"),L([this.header],vt.header)),t=this.dropdownCompiler(this.headerTemplate)?us(J(this.headerTemplate,document).innerHTML.trim()):us(this.headerTemplate);const s=t({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(s&&s.length)for(let a=0;a<s.length;a++)this.header.appendChild(s[a]);const n=e.querySelector("div.e-content");e.insertBefore(this.header,n)}setOldText(e){this.text=e}setOldValue(e){this.value=e}refreshPopup(){!f(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&(!G.isDevice||!this.isFilterLayout())||"autocomplete"===this.getModuleName())&&(H([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())}checkData(e){e.dataSource&&!f(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&e.dataSource instanceof ot)&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;const t=-1!==Object.keys(e).indexOf("value")&&f(e.value),i=-1!==Object.keys(e).indexOf("text")&&f(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||i)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!f(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&e.query&&!f(Object.keys(e.query))&&(this.actionCompleteData="combobox"===this.getModuleName()?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)}updateDataSource(e){(""!==this.inputElement.value||!f(e)&&(f(e.dataSource)||!(e.dataSource instanceof ot)&&0===e.dataSource.length))&&this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&(A.remove(this.list,"scroll",this.setFloatingHeader),A.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!f(e)&&(f(e.dataSource)||!(e.dataSource instanceof ot)&&0===e.dataSource.length))||e.dataSource!==[])&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()}checkCustomValue(){this.itemData=this.getDataByValue(this.value);const e=this.getItemData();this.setProperties({value:e.value,text:e.text})}updateInputFields(){"dropdownlist"===this.getModuleName()&&me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onPropertyChanged(e,t){"dropdownlist"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"query":case"dataSource":break;case"htmlAttributes":this.setHTMLAttributes();break;case"width":this.setEleWidth(e.width);break;case"placeholder":me.setPlaceholder(e.placeholder,this.inputElement);break;case"filterBarPlaceholder":this.filterInput&&me.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"readonly":"dropdownlist"!==this.getModuleName()&&me.setReadonly(e.readonly,this.inputElement),this.setReadOnly();break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnable();break;case"text":if(null===e.text){this.clearAll();break}if(this.list||(this.dataSource instanceof ot&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){const s=this.getElementByText(e.text);this.checkValidLi(s)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.text,t.text,"text"):this.setOldText(t.text)),this.updateInputFields()}break;case"value":if(null===e.value){this.clearAll();break}if(this.notify("beforeValueChange",{newProp:e}),this.list||(this.dataSource instanceof ot&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){const s=this.getElementByValue(e.value);this.checkValidLi(s)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.value,t.value,"value"):this.setOldValue(t.value)),this.updateInputFields(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}break;case"index":if(null===e.index){this.clearAll();break}this.list||(this.dataSource instanceof ot&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender&&this.liCollections&&(this.checkValidLi(this.liCollections[e.index])||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.index,t.index,"index"):this.index=t.index),this.updateInputFields());break;case"footerTemplate":this.popupObj&&this.setFooterTemplate(this.popupObj.element);break;case"headerTemplate":this.popupObj&&this.setHeaderTemplate(this.popupObj.element);break;case"valueTemplate":!f(this.itemData)&&null!=this.valueTemplate&&this.setValueTemplate();break;case"allowFiltering":this.allowFiltering&&(this.actionCompleteData={ulElement:this.ulElement,list:this.listData,isUpdated:!0},this.actionData=this.actionCompleteData,this.updateSelectElementData(this.allowFiltering));break;case"floatLabelType":me.removeFloating(this.inputWrapper),me.addFloating(this.inputElement,e.floatLabelType,this.placeholder,this.createElement);break;case"showClearButton":me.setClearButton(e.showClearButton,this.inputElement,this.inputWrapper,null,this.createElement),this.bindClearEvent();break;default:{const s=this.getPropObject(i,e,t);super.onPropertyChanged(s.newProperty,s.oldProperty)}}}checkValidLi(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)}setSelectionData(e,t,i){let s;this.updateListValues=()=>{"text"===i?(s=this.getElementByText(e),this.checkValidLi(s)||this.setOldText(t)):"value"===i?(s=this.getElementByValue(e),this.checkValidLi(s)||this.setOldValue(t)):"index"===i&&(s=this.liCollections[e],this.checkValidLi(s)||(this.index=t))}}setReadOnly(){this.readonly?L([this.inputWrapper.container],["e-readonly"]):H([this.inputWrapper.container],["e-readonly"])}setCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),me.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&me.setCssClass(e,[this.popupObj.element],t)}getModuleName(){return"dropdownlist"}showPopup(){if(this.enabled){if(this.isFiltering()&&this.dataSource instanceof ot&&this.actionData.list!=this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(f(this.list)||!pt(this.list)&&(this.list.classList.contains("e-nodata")||this.list.querySelectorAll("."+Ve_li).length<=0))&&this.renderList(),this.invokeRenderPopup()}}invokeRenderPopup(){if(G.isDevice&&this.isFilterLayout()){const e=this;window.onpopstate=()=>{e.hidePopup()},history.pushState({},"")}(!f(this.list.children[0])||this.list.classList.contains("e-nodata"))&&this.renderPopup(),Te(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}renderHightSearch(){}hidePopup(e){if(this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,f(this.index))this.resetSelection();else{const s=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||s,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup();const t=this.getItemData(),i=!f(this.selectedLI);this.inputElement&&""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||i&&this.inputElement.value!==t.text)&&(this.isSelectCustom=!1,this.clearAll(e))}focusIn(e){if(!this.enabled||this.targetElement().classList.contains(vt.disable))return;let t=!1;this.preventFocus&&G.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),L([this.inputWrapper.container],[vt.inputFocus]),this.onFocus(e)}focusOut(e){!this.enabled||(this.isTyped=!0,this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),H([this.inputWrapper.container],[vt.inputFocus]))}destroy(){if(this.isActive=!1,function(r){Gf===r&&(Gf="",lC="",Mc="",Oc=[])}(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.unWireEvent(),this.list&&this.unWireListEvents(),!this.element||this.element.classList.contains("e-"+this.getModuleName())){if(this.inputElement){const e=["readonly","aria-disabled","aria-placeholder","placeholder","aria-owns","aria-labelledby","aria-haspopup","aria-expanded","aria-activedescendant","autocomplete","aria-readonly","autocorrect","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"];for(let t=0;t<e.length;t++)this.inputElement.removeAttribute(e[t]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),me.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),oe(this.inputWrapper.container),super.destroy()}}getItems(){return this.list||(this.dataSource instanceof ot&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?super.getItems():[]}getDataByValue(e){return super.getDataByValue(e)}clear(){this.value=null}};cn([T(null)],fs.prototype,"cssClass",void 0),cn([T("100%")],fs.prototype,"width",void 0),cn([T("300px")],fs.prototype,"popupHeight",void 0),cn([T("100%")],fs.prototype,"popupWidth",void 0),cn([T(null)],fs.prototype,"placeholder",void 0),cn([T(null)],fs.prototype,"filterBarPlaceholder",void 0),cn([T({})],fs.prototype,"htmlAttributes",void 0),cn([T(null)],fs.prototype,"query",void 0),cn([T(null)],fs.prototype,"valueTemplate",void 0),cn([T(null)],fs.prototype,"headerTemplate",void 0),cn([T(null)],fs.prototype,"footerTemplate",void 0),cn([T(!1)],fs.prototype,"allowFiltering",void 0),cn([T(!1)],fs.prototype,"readonly",void 0),cn([T(null)],fs.prototype,"text",void 0),cn([T(null)],fs.prototype,"value",void 0),cn([T(null)],fs.prototype,"index",void 0),cn([T("Never")],fs.prototype,"floatLabelType",void 0),cn([T(!1)],fs.prototype,"showClearButton",void 0),cn([$()],fs.prototype,"filtering",void 0),cn([$()],fs.prototype,"change",void 0),cn([$()],fs.prototype,"beforeOpen",void 0),cn([$()],fs.prototype,"open",void 0),cn([$()],fs.prototype,"close",void 0),cn([$()],fs.prototype,"blur",void 0),cn([$()],fs.prototype,"focus",void 0),fs=cn([oi],fs);var Dt=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const dR="e-ddt-hidden",pR="e-input-group-icon e-ddt-icon e-icons",fl="e-show-chip",jo="e-show-clear",Qf="e-show-dd-icon",Fr="e-chip-input",uv="e-input-focus",fR="e-input-group",mR="e-icon-anim",Vw="e-chips",vR="e-chipcontent",Lx="e-chips-close",ys="e-icon-hide",Tn="e-ddt-icon-hide",Kf="e-list-parent",Xf="e-dropdown",yR="e-disabled",Hw="e-selectall-parent",dC="e-hide-selectall",_x="e-all-text",pC="e-frame",fC="e-check",Px="e-checkbox-wrapper",Nx="e-filter-wrap",Gd="e-ddt-icon",Bw="e-ddt-footer",ER="e-ddt-header",dv="e-no-data",Vx="e-remain",Fx="e-overflow",pv="e-show-text",mC="e-total-count",fv="e-wrap-count";class uo extends hi{}Dt([T("child")],uo.prototype,"child",void 0),Dt([T([])],uo.prototype,"dataSource",void 0),Dt([T("expanded")],uo.prototype,"expanded",void 0),Dt([T("hasChildren")],uo.prototype,"hasChildren",void 0),Dt([T("htmlAttributes")],uo.prototype,"htmlAttributes",void 0),Dt([T("iconCss")],uo.prototype,"iconCss",void 0),Dt([T("imageUrl")],uo.prototype,"imageUrl",void 0),Dt([T("parentValue")],uo.prototype,"parentValue",void 0),Dt([T(null)],uo.prototype,"query",void 0),Dt([T("selected")],uo.prototype,"selected",void 0),Dt([T(null)],uo.prototype,"tableName",void 0),Dt([T("text")],uo.prototype,"text",void 0),Dt([T("tooltip")],uo.prototype,"tooltip",void 0),Dt([T("value")],uo.prototype,"value",void 0);class jw extends hi{}Dt([T(!1)],jw.prototype,"autoCheck",void 0),Dt([T("Auto")],jw.prototype,"expandOn",void 0),Dt([T(!1)],jw.prototype,"loadOnDemand",void 0);let ni=class extends hs{constructor(e,t){super(e,t),this.filterTimer=null,this.isFilteredData=!1,this.isFilterRestore=!1,this.selectedData=[],this.filterDelayTime=300,this.isClicked=!1}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"drop-down-tree"}preRender(){this.inputFocus=!1,this.isPopupOpen=!1,this.isFirstRender=!0,this.isInitialized=!1,this.currentText=null,this.currentValue=null,this.oldValue=null,this.removeValue=!1,this.selectedText=[],this.treeItems=[],this.dataValue=null,this.isNodeSelected=!1,this.isDynamicChange=!1,this.clearIconWidth=0,this.headerTemplateId=`${this.element.id}HeaderTemplate`,this.footerTemplateId=`${this.element.id}FooterTemplate`,this.actionFailureTemplateId=`${this.element.id}ActionFailureTemplate`,this.noRecordsTemplateId=`${this.element.id}NoRecordsTemplate`,this.customTemplateId=`${this.element.id}CustomTemplate`,this.keyConfigs={escape:"escape",altUp:"alt+uparrow",altDown:"alt+downarrow",tab:"tab",shiftTab:"shift+tab",end:"end",enter:"enter",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",ctrlA:"ctrl+A"}}render(){const e=J("#"+this.element.id+"_tree",document);e&&oe(J("#"+this.element.id+"_popup",document)||e.parentElement),this.ensureAutoCheck(),"INPUT"===this.element.tagName?(this.inputEle=this.element,f(this.inputEle.getAttribute("role"))&&this.inputEle.setAttribute("role","textbox"),f(this.inputEle.getAttribute("type"))&&this.inputEle.setAttribute("type","text")):(this.inputEle=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.parentElement.insertBefore(this.inputEle,this.element)),this.inputObj=me.createInput({element:this.inputEle,floatLabelType:this.floatLabelType,buttons:this.showDropDownIcon?[pR]:null,properties:{readonly:!0,placeholder:this.placeholder,enabled:this.enabled,cssClass:this.cssClass,enableRtl:this.enableRtl}},this.createElement),this.inputWrapper=this.inputObj.container,this.inputWrapper.classList.contains(fR)||this.inputWrapper.classList.add(fR),this.showDropDownIcon&&this.inputWrapper.classList.add(Qf),this.element.tagName===this.getDirective()&&this.element.appendChild(this.inputWrapper),this.createHiddenElement(),this.createClearIcon(),this.inputWrapper.classList.add("e-ddt"),this.setElementWidth(this.width),this.updateDataAttribute(),this.setHTMLAttributes(),this.setAttributes(),this.popupDiv=this.createElement("div",{className:"e-popup-content",attrs:{tabindex:"0"}}),this.popupDiv.classList.add(Xf),this.tree=this.createElement("div",{id:this.element.id+"_tree"}),this.popupDiv.appendChild(this.tree),document.body.appendChild(this.popupDiv),this.wireTreeEvents(),L([this.popupDiv],Tn),this.renderTree(),this.isRemoteData=this.fields.dataSource instanceof ot,(this.allowMultiSelection||this.showCheckBox)&&("Delimiter"!==this.mode&&this.createChip(),!this.wrapText&&"Custom"!==this.mode&&(this.overFlowWrapper=this.createElement("span",{className:Fx+" "+ys}),this.inputWrapper.insertBefore(this.overFlowWrapper,this.hiddenElement),"Box"!==this.mode&&L([this.overFlowWrapper],pv))),this.isRemoteData||(this.setTreeValue(),this.setTreeText(),this.updateHiddenValue(),this.setSelectedValue(),this.wrapText||this.updateView()),this.wireEvents();const t=J("."+Kf,this.treeObj.element);t&&t.getAttribute("aria-multiselectable")&&t.removeAttribute("aria-multiselectable"),this.oldValue=this.value,this.isInitialized=!0,this.hasTemplate=this.itemTemplate||this.headerTemplate||this.footerTemplate||this.actionFailureTemplate||this.noRecordsTemplate||this.customTemplate,this.renderComplete()}ensureAutoCheck(){this.allowFiltering&&this.treeSettings.autoCheck&&this.setProperties({treeSettings:{autoCheck:!1}},!0)}hideCheckAll(e){const t=f(this.popupEle)?null:this.popupEle.querySelector("."+Hw);f(t)||(e&&!t.classList.contains(dC)?L([t],dC):!e&&t.classList.contains(dC)&&H([t],dC))}renderFilter(){this.filterContainer=this.createElement("div",{id:this.element.id+"_filter_wrap",className:Nx});const e=this.createElement("input",{id:this.element.id+"_filter",attrs:{autocomplete:"off","aria-label":this.filterBarPlaceholder}});this.filterContainer.appendChild(e),Mi([this.filterContainer],this.popupEle),this.filterObj=new Er({value:"",showClearButton:!0,placeholder:this.filterBarPlaceholder,input:this.filterChangeHandler.bind(this)}),this.filterObj.appendTo("#"+this.element.id+"_filter")}filterChangeHandler(e){f(e.value)||(window.clearTimeout(this.filterTimer),this.filterTimer=window.setTimeout(()=>{this.filterHandler(e.value,e.event)},this.filterDelayTime))}filterHandler(e,t){this.isFilteredData||(this.treeData=this.treeObj.getTreeData());const i=this.cloneFields(this.fields);this.trigger("filtering",{cancel:!1,preventDefaultAction:!1,event:t,text:e,fields:i},n=>{if(!n.cancel){let o,a=!1;if(this.isFilteredData=!0,""===e?(this.isFilteredData=!1,this.isFilterRestore=!0,o=this.cloneFields(this.fields)):n.preventDefaultAction?o=n.fields:1===this.treeDataType?o=this.selfReferencefilter(e,n.fields):this.fields.dataSource instanceof ot?a=!0:o=this.nestedFilter(e,n.fields),this.hideCheckAll(this.isFilteredData),a)return;this.treeObj.fields=this.getTreeFields(o),this.treeObj.dataBind()}})}nestedFilter(e,t){const i=[];for(let s=0;s<this.treeData.length;s++){const n=this.nestedChildFilter(e,this.treeData[s]);f(n)||i.push(n)}return t.dataSource=i,t}nestedChildFilter(e,t){const i=t[this.fields.child];if(f(i))return this.isMatchedNode(e,t)?t:null;{const s=[];for(let n=0;n<i.length;n++){const a=this.nestedChildFilter(e,i[n]);f(a)||s.push(a)}return 0!==s.length?(t[this.fields.child]=s,t):(t[this.fields.child]=null,this.isMatchedNode(e,t)?t:null)}}selfReferencefilter(e,t){const i=[],s=[];for(let n=0;n<this.treeData.length;n++)this.isMatchedNode(e,this.treeData[n])&&i.push(this.treeData[n]);for(let n=0;n<i.length;n++)if(-1===s.indexOf(i[n])){s.push(i[n]);let a=i[n][this.fields.parentValue];for(;!f(a);){let o=null;for(let h=0;h<this.treeData.length;h++){const d=this.treeData[h][this.fields.value];if(!f(d)&&d===a){o=this.treeData[h];break}}if(f(o)||-1!==s.indexOf(o))break;s.push(o),a=o[this.fields.parentValue]}}return t.dataSource=s,t}isMatchedNode(e,t){let i=t[this.fields.text];return this.ignoreCase&&(i=i.toLowerCase(),e=e.toLowerCase()),this.ignoreAccent&&(i=_e.ignoreDiacritics(i),e=_e.ignoreDiacritics(e)),"StartsWith"===this.filterType?i.slice(0,e.length)===e:"EndsWith"===this.filterType?i.slice(-e.length)===e:-1!==i.indexOf(e)}wireEvents(){A.add(this.inputWrapper,"mouseup",this.dropDownClick,this),A.add(this.inputWrapper,"focus",this.focusIn,this),A.add(this.inputWrapper,"blur",this.focusOut,this),A.add(this.inputWrapper,"mousemove",this.mouseIn,this),A.add(this.inputWrapper,"mouseout",this.onMouseLeave,this),A.add(this.overAllClear,"mousedown",this.clearAll,this),A.add(window,"resize",this.windowResize,this);const e=U(this.inputWrapper,"form");e&&A.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new rt(this.inputWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}wireTreeEvents(){this.keyboardModule=new rt(this.tree,{keyAction:this.treeAction.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}wireCheckAllWrapperEvents(){this.keyboardModule=new rt(this.checkAllParent,{keyAction:this.checkAllAction.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){A.remove(this.inputWrapper,"mouseup",this.dropDownClick),A.remove(this.inputWrapper,"focus",this.focusIn),A.remove(this.inputWrapper,"blur",this.focusOut),A.remove(this.inputWrapper,"mousemove",this.mouseIn),A.remove(this.inputWrapper,"mouseout",this.onMouseLeave),A.remove(this.overAllClear,"mousedown",this.clearAll),A.remove(window,"resize",this.windowResize);const e=U(this.inputWrapper,"form");e&&A.remove(e,"reset",this.resetValueHandler)}dropDownClick(e){if(this.enabled&&!this.readonly){if(this.isClearButtonClick)return void(this.isClearButtonClick=!1);this.isPopupOpen?this.hidePopup():(this.focusIn(e),this.renderPopup()),this.showOverAllClear()}}mouseIn(){(this.enabled||!this.readonly)&&this.showOverAllClear()}onMouseLeave(){this.inputFocus||(L([this.overAllClear],ys),H([this.inputWrapper],jo))}getDirective(){return"EJS-DROPDOWNTREE"}focusOut(e){if(!this.enabled||this.readonly||!this.inputFocus||(G.isIE||"edge"===G.info.name)&&e.target===this.inputWrapper)return;const t=e.relatedTarget;t!==this.inputEle&&f(t)&&(e.target!==this.inputWrapper||!this.isPopupOpen)&&this.onFocusOut(e)}onFocusOut(e){if(this.inputFocus=!1,this.isPopupOpen&&this.hidePopup(),this.isClearButtonClick&&(this.isClearButtonClick=!1),this.showClearButton&&(this.clearIconWidth=J(".e-clear-icon",this.inputWrapper).offsetWidth,L([this.overAllClear],ys),H([this.inputWrapper],jo)),H([this.inputWrapper],[uv]),this.allowMultiSelection||this.showCheckBox){const t=!!this.value&&!!this.value.length;"Delimiter"!==this.mode&&"Custom"!==this.mode&&this.chipWrapper&&"Default"===this.mode&&(L([this.chipWrapper],ys),H([this.inputWrapper],fl),H([this.inputEle],Fr)),!this.wrapText&&t&&this.updateView()}this.changeOnBlur&&this.triggerChangeEvent(e),this.removeValue=!1,this.oldValue=this.value,this.trigger("blur")}updateView(){!this.showCheckBox&&!this.allowMultiSelection||"Custom"===this.mode||this.inputFocus||("Box"!==this.mode?L([this.inputWrapper,this.overFlowWrapper],pv):L([this.inputWrapper],fl),this.value&&0!==this.value.length&&(this.inputWrapper.contains(this.chipWrapper)&&L([this.chipWrapper],ys),L([this.inputEle],Fr),this.updateOverFlowView(),this.ensurePlaceHolder()))}triggerChangeEvent(e){this.ddtCompareValues(this.oldValue,this.value)&&!this.isChipDelete||this.removeValue||(this.trigger("change",{e,oldValue:this.oldValue,value:this.value,isInteracted:!!e,element:this.element}),this.oldValue=this.value)}ddtCompareValues(e,t){if(null===e||null===t)return(null===e||0===e.length)&&t===e;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}focusIn(e){!this.enabled||this.readonly||this.inputFocus||(this.showOverAllClear(),this.inputFocus=!0,L([this.inputWrapper],[uv]),(this.allowMultiSelection||this.showCheckBox)&&("Delimiter"!==this.mode&&this.inputFocus&&(this.chipWrapper&&this.value&&0!==this.value.length&&(H([this.chipWrapper],ys),L([this.inputEle],Fr)),L([this.inputWrapper],fl),this.popupObj&&this.popupObj.refreshPosition()),!this.wrapText&&"Custom"!==this.mode&&(this.inputWrapper.contains(this.overFlowWrapper)&&L([this.overFlowWrapper],ys),"Delimiter"===this.mode?(H([this.inputWrapper],fl),H([this.inputEle],Fr)):L([this.inputWrapper],fl),H([this.inputWrapper],pv),this.ensurePlaceHolder())),this.trigger("focus",{isInteracted:!!e,event:e}))}treeAction(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(i.cancel)e.stopImmediatePropagation();else switch(e.action){case"escape":case"altUp":this.inputWrapper.focus(),e.preventDefault(),this.isPopupOpen&&this.hidePopup();break;case"tab":case"shiftTab":this.isPopupOpen&&this.hidePopup();break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.showCheckBox||(this.isValueChange=!0,this.keyEventArgs=e);break;case"space":this.isValueChange=!0,this.keyEventArgs=e;break;case"ctrlA":this.allowMultiSelection&&this.selectAll(!0)}})}keyActionHandler(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(!i.cancel)switch(e.action){case"escape":case"altUp":this.isPopupOpen&&this.hidePopup();break;case"shiftTab":case"tab":this.isPopupOpen&&this.hidePopup(),this.inputFocus&&this.onFocusOut();break;case"altDown":this.isPopupOpen||(this.showPopup(),e.preventDefault());break;case"moveDown":this.showSelectAll&&this.showCheckBox&&this.checkAllParent.focus()}})}checkAllAction(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(!i.cancel)switch(e.action){case"space":this.clickHandler(e);break;case"moveDown":this.treeObj.element.focus()}})}windowResize(){this.popupObj&&(this.popupObj.setProperties({width:this.setWidth()}),this.popupObj.refreshPosition())}resetValueHandler(e){const t=U(this.inputWrapper,"form");t&&e.target===t&&(this.isDynamicChange=!0,this.setProperties({value:null},!0),this.resetValue(!0),this.isDynamicChange=!1)}getAriaAttributes(){return{"aria-disabled":this.enabled?"false":"true","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-labelledby":this.hiddenElement.id}}updateOverFlowView(){if(this.overFlowWrapper.classList.remove(mC),H([this.overFlowWrapper],ys),this.value&&this.value.length){let t,i,s,a,o,e="",n=1,h=0;this.overFlowWrapper.innerHTML="";const d={overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"};this.l10n=new Gs(this.getLocaleName(),d,this.locale);const m=this.l10n.getConstant("overflowCountTemplate"),v=this.createElement("span",{className:Vx}),C=us(m),w=us(this.l10n.getConstant("totalCountTemplate"));v.appendChild(C({count:this.value.length},this,"overflowCountTemplate",null,!this.isStringTemplate)[0]),this.overFlowWrapper.appendChild(v);const S=v.offsetWidth;if(nt(v),this.showDropDownIcon&&(h=J("."+Gd,this.inputWrapper).offsetWidth),!f(this.value))if("Box"!==this.mode)for(let k=0;!f(this.value[k]);k++){if(e+=0===k?"":this.delimiterChar+" ",i=this.getOverflowVal(k),e+=i,i=this.overFlowWrapper.innerHTML,this.overFlowWrapper.innerHTML=e,a=this.overFlowWrapper.offsetWidth,t=this.inputWrapper.offsetWidth,a+h+this.clearIconWidth>t){for(void 0!==s&&""!==s&&(i=s,k=n+1),this.overFlowWrapper.innerHTML=i,o=this.value.length-k,a=this.overFlowWrapper.offsetWidth;a+S+h+this.clearIconWidth>=t&&0!==a&&""!==this.overFlowWrapper.innerHTML;){const O=this.overFlowWrapper.innerHTML.split(this.delimiterChar);O.pop(),this.overFlowWrapper.innerHTML=O.join(this.delimiterChar),o++,a=this.overFlowWrapper.offsetWidth}break}a+S+h+this.clearIconWidth<=t?(s=e,n=k):0===k&&(s="",n=-1)}else{L([this.chipWrapper],ys);const k=this.chipWrapper.cloneNode(!0),O=Xe("."+Vw,k);for(let N=0;N<O.length;N++){if(i=this.overFlowWrapper.innerHTML,this.overFlowWrapper.appendChild(O[N]),e=this.overFlowWrapper.innerHTML,a=this.overFlowWrapper.offsetWidth,t=this.inputWrapper.offsetWidth,a+h+this.clearIconWidth>t){for(void 0!==s&&""!==s&&(i=s,N=n+1),this.overFlowWrapper.innerHTML=i,o=this.value.length-N,a=this.overFlowWrapper.offsetWidth;a+S+h+this.clearIconWidth>=t&&0!==a&&""!==this.overFlowWrapper.innerHTML;)this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild),o++,a=this.overFlowWrapper.offsetWidth;break}a+S+h+this.clearIconWidth<=t?(s=e,n=N):0===N&&(s="",n=-1)}}o>0&&this.overFlowWrapper.appendChild(this.updateRemainTemplate(v,o,C,w)),"Box"===this.mode&&!this.overFlowWrapper.classList.contains(mC)&&L([v],fv)}else this.overFlowWrapper.innerHTML="",L([this.overFlowWrapper],ys);this.updateDelimMode()}updateRemainTemplate(e,t,i,s){return this.overFlowWrapper.firstChild&&3===this.overFlowWrapper.firstChild.nodeType&&""===this.overFlowWrapper.firstChild.nodeValue&&this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild),e.innerHTML="",e.appendChild(!this.overFlowWrapper.firstChild||3!==this.overFlowWrapper.firstChild.nodeType&&"Box"!==this.mode?s({count:t},this,"totalCountTemplate",null,!this.isStringTemplate)[0]:i({count:t},this,"overflowCountTemplate",null,!this.isStringTemplate)[0]),!this.overFlowWrapper.firstChild||3!==this.overFlowWrapper.firstChild.nodeType&&"Box"!==this.mode?(L([this.overFlowWrapper],mC),H([this.overFlowWrapper],fv)):H([this.overFlowWrapper],mC),e}getOverflowVal(e){const t=this.getSelectedData(this.value[e]);return X(this.treeSettings.loadOnDemand?this.fields.text:"text",t)}updateDelimMode(){"Box"!==this.mode?J("."+Vx,this.overFlowWrapper)&&!this.overFlowWrapper.classList.contains(mC)?(L([this.overFlowWrapper],fv),L([this.overFlowWrapper],pv)):(this.overFlowWrapper.classList.remove(fv),H([this.overFlowWrapper],fv)):J("."+Vx,this.overFlowWrapper)&&this.overFlowWrapper.classList.remove(fv)}createHiddenElement(){this.hiddenElement=this.createElement("select",this.allowMultiSelection||this.showCheckBox?{attrs:{"aria-hidden":"true",class:dR,tabindex:"-1",multiple:""}}:{attrs:{"aria-hidden":"true",tabindex:"-1",class:dR}}),Mi([this.hiddenElement],this.inputWrapper),this.validationAttribute()}createClearIcon(){this.overAllClear=this.createElement("span",{className:"e-clear-icon e-icons"}),L([this.overAllClear],ys),H([this.inputWrapper],jo),this.showClearButton&&this.inputWrapper.insertBefore(this.overAllClear,this.inputObj.buttons[0])}validationAttribute(){const e=this.inputEle.getAttribute("name")?this.inputEle.getAttribute("name"):this.inputEle.getAttribute("id");this.hiddenElement.setAttribute("name",e),this.inputEle.removeAttribute("name");const t=["required","aria-required","form"];for(let i=0;i<t.length;i++){const s=this.inputEle.getAttribute(t[i]);s&&(this.hiddenElement.setAttribute(t[i],s),this.inputEle.removeAttribute(t[i]))}}createChip(){this.inputWrapper.contains(this.chipWrapper)||(this.chipWrapper=this.createElement("span",{className:"e-chips-wrapper"}),this.chipCollection=this.createElement("span",{className:"e-chips-collection"}),this.chipWrapper.appendChild(this.chipCollection),this.inputWrapper.insertBefore(this.chipWrapper,this.hiddenElement),L([this.inputWrapper],fl),this.getValidMode()&&null!==this.value&&this.value&&0!==this.value.length?L([this.inputEle],Fr):(null===this.value||this.value&&0===this.value.length)&&L([this.chipWrapper],ys))}getValidMode(){return!(!this.allowMultiSelection&&!this.showCheckBox||"Box"!==this.mode&&("Default"!==this.mode||!this.inputFocus))}createSelectAllWrapper(){this.checkAllParent=this.createElement("div",{className:Hw,attrs:{tabindex:"0"}}),this.selectAllSpan=this.createElement("span",{className:_x}),this.selectAllSpan.textContent="";const t=f(U(this.element,".e-bigger"))?"":"e-small";this.checkBoxElement=OE(this.createElement,!0,{cssClass:t}),this.checkBoxElement.setAttribute("role","checkbox"),this.checkAllParent.appendChild(this.checkBoxElement),this.checkAllParent.appendChild(this.selectAllSpan),this.setLocale(),A.add(this.checkAllParent,"mouseup",this.clickHandler,this),this.wireCheckAllWrapperEvents()}clickHandler(e){let t;if(t=e.currentTarget&&e.currentTarget.classList.contains(Hw)?e.currentTarget.firstElementChild.lastElementChild:e.target,this.checkWrapper=U(t,"."+Px),!f(this.checkWrapper)){this.isClicked=!0;const i=J("."+pC,this.checkWrapper);this.changeState(this.checkWrapper,i.classList.contains(fC)?"uncheck":"check",e),this.isClicked=!1}e.preventDefault()}changeState(e,t,i){let s;const n=e.getElementsByClassName(pC)[0];"check"!==t||n.classList.contains(fC)?"uncheck"===t&&n.classList.contains(fC)&&(n.classList.remove(fC),s="false",this.isReverseUpdate||(this.treeObj.uncheckAll(),this.changeOnBlur||this.triggerChangeEvent(i)),this.setLocale(!1)):(n.classList.add(fC),s="true",this.isReverseUpdate||(this.treeObj.checkAll(),this.changeOnBlur||this.triggerChangeEvent(i)),this.setLocale(!0)),this.setMultiSelect(),this.ensurePlaceHolder(),s="check"===t?"true":"false",f(s)||e.setAttribute("aria-checked",s)}setLocale(e){if(this.selectAllSpan)if("Select All"!==this.selectAllText||"Unselect All"!==this.unSelectAllText){const t=e?this.unSelectAllText:this.selectAllText;this.selectAllSpan.textContent="";const i=us(t),s=e?"unSelectAllText":"selectAllText";for(const n of i({},this,s,null,!this.isStringTemplate))this.selectAllSpan.textContent=n.textContent}else this.selectAllSpan.textContent=e?this.unSelectAllText:this.selectAllText}setAttributes(){this.inputEle.setAttribute("tabindex","-1");const e=this.element.getAttribute("id");this.hiddenElement.id=e+"_hidden",this.inputWrapper.setAttribute("tabindex","0"),Te(this.inputWrapper,this.getAriaAttributes())}setHTMLAttributes(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))if("class"===e)this.inputWrapper.classList.add(this.htmlAttributes[e]);else if("disabled"===e&&"disabled"===this.htmlAttributes[e])this.setProperties({enabled:!1},!0),this.setEnable();else if("readonly"!==e||f(this.htmlAttributes[e]))if("style"===e)this.inputWrapper.setAttribute("style",this.htmlAttributes[e]);else{const t=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],i=["name","required"];0===e.indexOf("data")||i.indexOf(e)>-1?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):t.indexOf(e)>-1?"placeholder"===e?me.setPlaceholder(this.htmlAttributes[e],this.inputEle):this.inputEle.setAttribute(e,this.htmlAttributes[e]):this.inputWrapper.setAttribute(e,this.htmlAttributes[e])}else this.setProperties({readonly:!0},!0),this.dataBind()}updateDataAttribute(){const e=this.htmlAttributes,t=["class","style","id","type"],i={};for(let s=0;s<this.element.attributes.length;s++)-1===t.indexOf(this.element.attributes[s].name)&&"readonly"!==this.element.attributes[s].name&&(i[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));ae(i,e,i),this.setProperties({htmlAttributes:i},!0)}showOverAllClear(){!this.enabled||this.readonly||this.overAllClear&&(this.value&&this.value.length&&this.showClearButton?(H([this.overAllClear],ys),L([this.inputWrapper],jo)):(L([this.overAllClear],ys),H([this.inputWrapper],jo)))}setTreeValue(){if(null!==this.value&&0!==this.value.length){let e;if(this.showCheckBox||this.allowMultiSelection){for(let t=0;t<this.value.length;t++)e=this.treeObj.getTreeData(this.value[t])[0],f(e)&&this.value.splice(this.value.indexOf(this.value[t]),1);0!==this.value.length&&this.setValidValue()}else e=this.treeObj.getTreeData(this.value[0])[0],f(e)?this.setProperties({value:this.currentValue},!0):(this.setProperties({text:e[this.fields.text]},!0),this.setValidValue())}}setTreeText(){if((null===this.value||this.isInitialized)&&null!==this.text){let e;const t=[];if(this.showCheckBox||this.allowMultiSelection){const i=this.text.split(this.delimiterChar);for(let s=0;s<i.length;s++)e=this.getItems(i[s]),f(e)||t.push(e[this.fields.value].toString());0!==t.length?(this.oldValue=this.value,this.setProperties({value:t},!0),this.setValidValue()):this.setProperties({text:this.currentText},!0)}else e=this.getItems(this.text),f(e)?this.setProperties({text:this.currentText},!0):(this.oldValue=this.value,this.setProperties({value:[e[this.fields.value].toString()]},!0),this.setValidValue())}}setSelectedValue(){null==this.value&&(this.isInitialized||(this.oldValue=this.value,this.treeObj.selectedNodes.length>0&&!this.showCheckBox?(this.setProperties({value:this.treeObj.selectedNodes},!0),this.allowMultiSelection&&this.updateMode()):this.showCheckBox&&this.treeObj.checkedNodes&&this.treeObj.checkedNodes.length>0&&(this.setProperties({value:this.treeObj.checkedNodes},!0),At("selectedNodes",[],this.treeObj),this.treeObj.dataBind(),this.updateMode()),this.updateSelectedValues(),this.currentText=this.text,this.currentValue=this.value))}setValidValue(){if(this.showCheckBox||this.allowMultiSelection)this.showCheckBox?(this.value.filter(t=>-1===this.treeObj.checkedNodes.indexOf(t)).length>0||this.treeSettings.autoCheck)&&(this.treeObj.checkedNodes=this.value.slice(),this.treeObj.dataBind(),this.setMultiSelect()):(this.treeObj.selectedNodes=this.value.slice(),this.selectedText=[],this.updateSelectedValues()),this.treeObj.dataBind();else{me.setValue(this.text,this.inputEle,this.floatLabelType);const e=this.value[0].toString();this.treeObj.selectedNodes[0]!==e&&At("selectedNodes",[e],this.treeObj)}this.currentText=this.text,this.currentValue=this.value,this.isInitialized&&this.triggerChangeEvent()}getItems(e){let t;if(1===this.treeDataType)for(let i=0;i<this.treeItems.length;i++){const s=X(this.fields.text,this.treeItems[i]);if(!f(this.treeItems[i])&&!f(s)&&s===e){t=this.treeItems[i];break}}else t=this.getNestedItems(this.treeItems,this.fields,e);return t}getNestedItems(e,t,i){let s;for(let n=0,a=e.length;n<a;n++){const o=X(this.fields.text,e[n]);if(e[n]&&o&&o.toString()===i)return e[n];if("string"!=typeof t.child||f(X(t.child,e[n]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[n]))&&(s=this.getNestedItems(X("child",e[n]),this.getChildType(t),i),void 0!==s))break}else{const h=X(t.child,e[n]);if(s=this.getNestedItems(h,this.getChildType(t),i),void 0!==s)break}}return s}getChildType(e){return"string"==typeof e.child||f(e.child)?e:e.child}renderTree(){this.treeObj=new si({fields:this.getTreeFields(this.fields),enableRtl:this.enableRtl,nodeSelected:this.onNodeSelected.bind(this),nodeChecked:this.onNodeChecked.bind(this),nodeChecking:this.beforeCheck.bind(this),actionFailure:this.onActionFailure.bind(this),nodeClicked:this.onNodeClicked.bind(this),dataBound:this.OnDataBound.bind(this),allowMultiSelection:this.allowMultiSelection,showCheckBox:this.showCheckBox,autoCheck:this.treeSettings.autoCheck,sortOrder:this.sortOrder,expandOn:this.treeSettings.expandOn,loadOnDemand:this.treeSettings.loadOnDemand,nodeSelecting:this.onBeforeSelect.bind(this),nodeTemplate:this.itemTemplate}),this.treeObj.appendTo("#"+this.tree.id)}renderPopup(){this.isFilteredData&&(this.filterObj.value="",this.treeObj.fields=this.getTreeFields(this.fields),this.isFilterRestore=!0,this.isFilteredData=!1,this.hideCheckAll(!1));let e=!1;this.trigger("beforeOpen",{cancel:!1},i=>{if(i.cancel?e=!0:(L([this.inputWrapper],[mR]),this.isFirstRender?(this.popupEle=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddt e-popup "+(null!=this.cssClass?this.cssClass:"")}),document.body.appendChild(this.popupEle),this.createPopup(this.popupEle)):this.popupEle=this.popupObj.element),this.isFirstRender&&!e&&(Mi([this.popupDiv],this.popupEle),H([this.popupDiv],Tn),this.allowFiltering&&this.renderFilter(),this.showCheckBox&&this.showSelectAll&&!this.popupDiv.classList.contains(dv)&&(this.createSelectAllWrapper(),this.popupEle.insertBefore(this.checkAllParent,this.popupDiv)),this.headerTemplate&&this.setHeaderTemplate(),this.footerTemplate&&this.setFooterTemplate(),this.isFirstRender=!1,this.hasTemplate&&this.portals&&(this.portals=this.portals.concat(this.treeObj.portals),this.renderReactTemplates())),!e){if(Te(this.inputWrapper,{"aria-expanded":"true"}),this.popupObj.show(null,1e3===this.zIndex?this.inputEle:null),H([this.popupEle],Tn),this.updatePopupHeight(),this.popupObj.refreshPosition(),!(this.showCheckBox&&this.showSelectAll)&&!this.popupDiv.classList.contains(dv)&&this.treeItems.length>0&&this.treeObj.element.focus(),this.checkSelectAll&&this.checkBoxElement){const n=U(this.checkBoxElement,"."+Px);this.changeState(n,"check"),this.checkSelectAll=!1}this.allowFiltering&&(H([this.inputWrapper],[uv]),this.filterObj.element.focus()),this.trigger("open",{popup:this.popupObj})}})}updatePopupHeight(){if(this.isFirstRender)return;let e=this.getHeight();if(this.popupEle.style.maxHeight=e,this.allowFiltering){const i=Math.round(this.filterContainer.getBoundingClientRect().height);e=fe(parseInt(e,10)-i+"px")}if(this.headerTemplate){const i=Math.round(this.header.getBoundingClientRect().height);e=fe(parseInt(e,10)-i+"px")}if(this.showCheckBox&&this.showSelectAll){const i=Math.round(this.checkAllParent.getBoundingClientRect().height);e=fe(parseInt(e,10)-i+"px")}if(this.footerTemplate){const i=Math.round(this.footer.getBoundingClientRect().height);e=fe(parseInt(e,10)-i+"px")}let t=parseInt(window.getComputedStyle(this.popupEle).borderTopWidth,10);t+=parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth,10),e=fe(parseInt(e,10)-t+"px"),this.popupDiv.style.maxHeight=e}createPopup(e){this.isFirstRender&&(this.popupObj=new Wn(e,{width:this.setWidth(),targetType:"relative",collision:{X:"flip",Y:"flip"},relateTo:this.inputWrapper,zIndex:this.zIndex,enableRtl:this.enableRtl,position:{X:"left",Y:"bottom"},close:()=>{this.isPopupOpen=!1},open:()=>{A.add(document,"mousedown",this.onDocumentClick,this),this.isPopupOpen=!0},targetExitViewport:()=>{G.isDevice||this.hidePopup()}}))}setElementWidth(e){const t=this.inputWrapper;f(e)||("number"==typeof e?t.style.width=fe(e):"string"==typeof e&&(t.style.width=e.match(/px|%|em/)?e:fe(e)))}setWidth(){let e=fe(this.popupWidth);return e.indexOf("%")>-1?e=(this.inputWrapper.offsetWidth*parseFloat(e)/100).toString()+"px":"string"==typeof this.popupWidth&&(e=this.popupWidth.match(/px|em/)?this.popupWidth:e),e}getHeight(){let e=fe(this.popupHeight);return e.indexOf("%")>-1?e=(document.documentElement.clientHeight*parseFloat(e)/100).toString()+"px":"string"==typeof this.popupHeight&&(e=this.popupHeight.match(/px|em/)?this.popupHeight:e),e}onDocumentClick(e){const t=e.target,i=U(t,"."+Kf),s=U(t,"."+Nx),n=U(t,"."+ER),a=U(t,"."+Bw),o=!!t.classList.contains(Xf)||Qp(t,".e-ddt .e-popup")||Qp(t,".e-ddt .e-treeview");this.isPopupOpen&&(this.inputWrapper.contains(t)||i||s||o||n||a)||(this.allowMultiSelection||this.showCheckBox)&&(this.isPopupOpen&&t.classList.contains(Lx)||this.isPopupOpen&&(t.classList.contains(Hw)||t.classList.contains(_x)||t.classList.contains(pC)))?(this.isDocumentClick=!1,e.preventDefault()):!this.inputWrapper.contains(t)&&this.inputFocus&&this.focusOut(e)}onActionFailure(e){this.trigger("actionFailure",e),this.l10nUpdate(!0),L([this.popupDiv],dv)}OnDataBound(e){this.treeItems=e.data,this.treeItems.length<=0?(this.l10nUpdate(),L([this.popupDiv],dv),this.hideCheckAll(!0)):this.popupDiv.classList.contains(dv)&&this.treeItems.length>=1&&(H([this.popupDiv],dv),this.hideCheckAll(!1)),this.treeDataType=this.getTreeDataType(this.treeItems,this.fields),this.isFirstRender&&this.isRemoteData&&(this.setTreeValue(),this.setTreeText(),this.updateHiddenValue(),this.setSelectedValue(),this.wrapText||this.updateView(),this.treeObj.element.focus()),this.trigger("dataBound",{data:e.data}),this.isFilteredData&&this.treeObj.expandAll(),this.isFilterRestore&&(this.restoreFilterSelection(),this.isFilterRestore=!1)}restoreFilterSelection(){this.showCheckBox?this.treeObj.checkedNodes=this.value?this.value:[]:this.treeObj.selectedNodes=this.value?this.value:[]}setCssClass(e,t){const i=this.popupObj?[this.inputWrapper,this.popupObj.element]:[this.inputWrapper];!f(t)&&""!==t&&H(i,t.split(" ")),!f(e)&&""!==e&&L(i,e.split(" "))}setEnableRTL(e){e?this.inputWrapper.classList.add("e-rtl"):this.inputWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind()),this.treeObj&&(this.treeObj.enableRtl=e,this.treeObj.dataBind())}setEnable(){me.setEnabled(this.enabled,this.inputEle),this.enabled?(H([this.inputWrapper],yR),this.inputEle.setAttribute("aria-disabled","false"),this.inputWrapper.setAttribute("aria-disabled","false")):(this.isPopupOpen&&this.hidePopup(),L([this.inputWrapper],yR),this.inputWrapper&&this.inputWrapper.classList.contains(uv)&&H([this.inputWrapper],[uv]),this.inputEle.setAttribute("aria-disabled","true"),this.inputWrapper.setAttribute("aria-disabled","true"))}cloneFields(e){return{dataSource:e.dataSource,value:e.value,text:e.text,parentValue:e.parentValue,child:this.cloneChildField(e.child),hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}cloneChildField(e){return"string"==typeof e?e:{dataSource:e.dataSource,value:e.value,text:e.text,parentValue:e.parentValue,child:e.child?this.cloneChildField(e.child):null,hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}getTreeFields(e){return{dataSource:e.dataSource,id:e.value,text:e.text,parentID:e.parentValue,child:this.getTreeChildren(e.child),hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,isChecked:e.selected,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}getTreeChildren(e){if("string"==typeof e)return e;if(!f(e)){const t=e=this.getActualProperties(e);return e.value&&(t.id=e.value),e.parentValue&&(t.parentID=e.parentValue),e.child&&(t.child=this.getTreeChildren(e.child)),e.selected&&this.showCheckBox&&(t.isChecked=e.selected),t}return null}getTreeDataType(e,t){if(this.fields.dataSource instanceof ot){for(let i=0;i<e.length;i++)if("string"==typeof t.child&&f(X(t.child,e[i])))return 1;return 2}for(let i=0,s=e.length;i<s;i++){if("string"==typeof t.child&&!f(X(t.child,e[i])))return 2;if(!f(X(t.parentValue,e[i]))||!f(X(t.hasChildren,e[i])))return 1}return 1}setFields(){this.resetValue(),this.hasTemplate&&this.updateTemplate(),this.treeObj.fields=this.getTreeFields(this.fields),this.treeObj.dataBind()}getEventArgs(e){let s;return this.showCheckBox&&("check"===e.action?s="select":"uncheck"===e.action&&(s="un-select")),{action:this.showCheckBox?s:e.action,isInteracted:!!this.isClicked||e.isInteracted,item:e.node,itemData:this.showCheckBox?e.data[0]:e.nodeData}}onBeforeSelect(e){e.isInteracted&&(this.oldValue=this.value?this.value.slice():this.value,null===this.value&&this.setProperties({value:[]},!0))}updateHiddenValue(){this.allowMultiSelection||this.showCheckBox||(this.hiddenElement.innerHTML=this.value&&this.value.length?'<option selected value ="'+this.value[0]+'">'+this.text+"</option>":"")}onNodeSelected(e){if(this.showCheckBox)return;let t;if(e.isInteracted){const s=X("id",e.nodeData).toString();this.allowMultiSelection?this.allowMultiSelection&&this.setMultiSelect():(this.hiddenElement.innerHTML="",this.setProperties({value:[s]},!0),t=this.itemTemplate?X("text",this.treeObj.getNode(s)):X("text",e.nodeData).toString(),me.setValue(t,this.inputEle,this.floatLabelType),this.setProperties({text:t},!0),this.currentText=this.text,this.currentValue=this.value,Te(this.inputWrapper,{"aria-describedby":this.element.id}),Te(this.inputWrapper,{"aria-activedescendant":s.toString()}),this.updateHiddenValue(),this.showOverAllClear(),this.hidePopup(),this.isNodeSelected=!0)}const i=this.getEventArgs(e);this.trigger("select",i),this.isValueChange&&!this.changeOnBlur&&(this.triggerChangeEvent(this.keyEventArgs),this.isValueChange=!1)}onNodeClicked(e){!this.changeOnBlur&&this.isNodeSelected&&(this.triggerChangeEvent(e.event),this.isNodeSelected=!1);const t=e.event.target;(t.classList.contains("e-fullrow")||t.classList.contains("e-list-text"))&&this.showCheckBox&&(this.isClicked=!0,"true"===this.treeObj.getNode(e.node).isChecked?this.treeObj.uncheckAll([e.node]):this.treeObj.checkAll([e.node]),this.isClicked=!1,this.setMultiSelect(),this.ensurePlaceHolder()),!this.changeOnBlur&&(this.allowMultiSelection||this.showCheckBox)&&this.triggerChangeEvent(e.event)}onNodeChecked(e){const t=this.getEventArgs(e);if(this.trigger("select",t),this.isFilteredData&&"uncheck"===e.action){const i=X("id",e.data[0]).toString();this.removeSelectedData(i,!0)}if(!this.isChipDelete&&e.isInteracted&&(this.setMultiSelect(),this.ensurePlaceHolder()),this.showSelectAll&&this.checkBoxElement){const i=this.treeObj.element.querySelectorAll("li"),s=this.treeObj.element.querySelectorAll("li .e-checkbox-wrapper[aria-checked=true]"),n=U(this.checkBoxElement,"."+Px);n&&"uncheck"===e.action?(this.isReverseUpdate=!0,this.changeState(n,"uncheck"),this.isReverseUpdate=!1):n&&"check"===e.action&&s.length===i.length&&(this.isReverseUpdate=!0,this.changeState(n,"check"),this.isReverseUpdate=!1)}}beforeCheck(e){e.isInteracted&&(this.oldValue=this.value?this.value.slice():this.value)}updateClearButton(e){if(e?this.inputWrapper.contains(this.overAllClear)?(H([this.overAllClear],ys),L([this.inputWrapper],jo)):this.inputEle.parentElement.insertBefore(this.overAllClear,this.inputEle.nextSibling):(L([this.overAllClear],ys),H([this.inputWrapper],jo)),(this.allowMultiSelection||this.showCheckBox)&&this.chipWrapper){const t=Xe("."+Lx,this.chipWrapper);for(let i=0;i<t.length;i++)e?H([t[i]],ys):L([t[i]],ys)}}updateDropDownIconState(e){const t=J("."+Gd,this.inputWrapper);e?(t?H([t],ys):me.appendSpan(pR,this.inputWrapper,this.createElement),L([this.inputWrapper],Qf)):(L([t],ys),H([this.inputWrapper],Qf))}updateMode(){if("Custom"!==this.mode)if("Delimiter"!==this.mode){this.inputWrapper.contains(this.chipWrapper)||this.createChip();const e=this.getValidMode();this.chipWrapper.classList.contains(ys)&&e?(H([this.chipWrapper],ys),L([this.inputWrapper],fl)):e||(L([this.chipWrapper],ys),H([this.inputWrapper],fl));const t=null!==this.value&&0!==this.value.length;e&&t?L([this.inputEle],Fr):H([this.inputEle],Fr)}else this.inputEle.classList.contains(Fr)&&(H([this.inputEle],Fr),this.chipWrapper&&(L([this.chipWrapper],ys),H([this.inputWrapper],fl)))}ensurePlaceHolder(){this.value&&0===this.value.length&&(H([this.inputEle],Fr),this.chipWrapper&&L([this.chipWrapper],ys))}ensureClearIconPosition(e){"Never"!==e&&this.inputWrapper.insertBefore(this.overAllClear,this.inputObj.buttons[0])}setMultiSelectValue(e){if(this.isFilteredData){const t=f(this.value)?[]:this.value;for(let i=0;i<e.length;i++)(f(this.value)||-1===this.value.indexOf(e[i]))&&t.push(e[i]);this.setProperties({value:t},!0)}else this.setProperties({value:e},!0),e&&0!==e.length&&!this.showCheckBox&&(this.treeObj.selectedNodes=this.value.slice(),this.treeObj.dataBind())}setMultiSelect(){this.showCheckBox&&!this.isDynamicChange?this.setMultiSelectValue(this.treeObj.checkedNodes.slice()):(this.setMultiSelectValue(this.allowMultiSelection?this.showCheckBox?this.treeObj.checkedNodes:this.treeObj.selectedNodes:this.value?this.showCheckBox?this.value:[this.value[0]]:null),this.showCheckBox&&null!==this.value&&(this.treeObj.checkedNodes=this.value,this.treeObj.dataBind())),this.selectedText=[];const e=!!this.allowMultiSelection||!!this.showCheckBox;this.inputWrapper.contains(this.chipWrapper)&&!e&&(H([this.inputEle],Fr),oe(this.chipWrapper)),this.getValidMode()&&null!==this.value&&(L([this.inputEle],Fr),this.chipWrapper&&H([this.chipWrapper],ys)),this.chipWrapper&&"Box"===this.mode&&!(this.value&&this.value.length)&&(L([this.chipWrapper],ys),H([this.inputEle],Fr)),this.updateSelectedValues()}getSelectedData(e){let t=null;if(this.isFilteredData)for(let i=0;i<this.selectedData.length;i++)if(X(this.treeSettings.loadOnDemand?this.fields.value:"id",this.selectedData[i]).toString()===e){t=this.selectedData[i];break}return f(t)&&(t=this.treeSettings.loadOnDemand?this.getNodeData(e):this.treeObj.getNode(e),f(t)||this.selectedData.push(t)),t}getNodeData(e){let t;if(f(e))return t;if(1!==this.treeDataType)return this.getChildNodeData(this.treeItems,this.fields,e);for(let i=0,s=this.treeItems.length;i<s;i++){let n=X(this.fields.value,this.treeItems[i]);if(!f(this.treeItems[i])&&!f(n)&&n.toString()===e)return this.treeItems[i]}return t}getChildNodeData(e,t,i){let s;if(f(e))return s;for(let n=0,a=e.length;n<a;n++){let o=X(t.value,e[n]);if(e[n]&&o&&o.toString()===i)return e[n];if("string"!=typeof t.child||f(X(t.child,e[n]))){if(this.fields.dataSource instanceof ot&&!f(X("child",e[n]))&&(s=this.getChildNodeData(X("child",e[n]),this.getChildMapperFields(t),i),void 0!==s))break}else{let h=X(t.child,e[n]);if(s=this.getChildNodeData(h,this.getChildMapperFields(t),i),void 0!==s)break}}return s}getChildMapperFields(e){return"string"==typeof e.child||f(e.child)?e:e.child}removeSelectedData(e,t){const i=f(this.value)?[]:this.value.slice();i.splice(i.indexOf(e),1),this.setProperties({value:i},t);for(let s=0;s<this.selectedData.length;s++)if(X(this.treeSettings.loadOnDemand?this.fields.value:"id",this.selectedData[s]).toString()===e){this.selectedData.splice(s,1);break}}updateSelectedValues(){this.dataValue="";let e,t,s,i="";this.hiddenElement.innerHTML="";let n="";if((!this.isChipDelete||this.treeSettings.autoCheck)&&this.inputWrapper.contains(this.chipWrapper)&&(this.chipCollection.innerHTML=""),this.isFilteredData||(this.selectedData=[]),!f(this.value)){for(let o=0,h=this.value.length;o<h;o++)s=this.getSelectedData(this.value[o]),t=X(this.treeSettings.loadOnDemand?this.fields.text:"text",s),this.selectedText.push(t),e=this.selectedText[this.selectedText.length-1],this.selectedText.length>1?(this.dataValue+=this.delimiterChar+" "+e,i+=","+e):(this.dataValue+=e,i+=e),"Custom"!==this.mode&&"Delimiter"!==this.mode&&(!this.isChipDelete||this.treeSettings.autoCheck)&&(this.allowMultiSelection||this.showCheckBox)&&this.setChipValues(e,this.value[o]),n+='<option selected value ="'+this.value[o]+'">'+this.selectedText[this.selectedText.length-1]+"</option>";this.selectedText.length>=1&&this.setProperties({text:i},!0),this.hiddenElement.innerHTML=n,"Custom"===this.mode&&(this.allowMultiSelection||this.showCheckBox)&&this.setTagValues()}const a=this.getValidMode();"Custom"!==this.mode&&"Box"!==this.mode&&(this.allowMultiSelection||this.showCheckBox)&&!a&&this.chipWrapper&&(L([this.chipWrapper],ys),H([this.inputWrapper],fl)),me.setValue(this.dataValue,this.inputEle,this.floatLabelType),this.setProperties(""===i?{text:null}:{text:i},!0),this.showClearButton&&this.inputFocus&&this.showOverAllClear(),(this.allowMultiSelection||this.showCheckBox)&&this.popupObj&&this.popupObj.refreshPosition(),this.currentText=this.text,this.currentValue=this.value}setChipValues(e,t){this.inputWrapper.contains(this.chipWrapper)||this.createChip();const i=this.createElement("span",{className:Vw,attrs:{"data-value":t}}),s=this.createElement("span",{className:vR}),n=this.createElement("span",{className:Lx+" e-icons"});s.innerHTML=e,i.appendChild(s),this.chipCollection.appendChild(i),this.showClearButton&&(i.appendChild(n),A.add(n,"mousedown",this.removeChip,this))}setTagValues(){if(null===this.value||null==this.text)return;this.inputWrapper.contains(this.chipWrapper)||this.createChip(),this.inputWrapper.classList.contains(fl)||L([this.inputWrapper],fl);const e=this.createElement("span",{className:Vw});this.inputEle.classList.contains(Fr)||L([this.inputEle],Fr),this.chipWrapper.classList.contains(ys)&&H([this.chipWrapper],ys);const t=this.createElement("span",{className:vR}),s=this.customTemplateId;let o=this.templateComplier(this.customTemplate)({value:this.value,text:this.text},this,"customTemplate",s,this.isStringTemplate,void 0,t);o&&(o=Array.prototype.slice.call(o),Ge(o,t)),e.appendChild(t),this.chipCollection.appendChild(e)}setSelectAllWrapper(e){this.isFirstRender||(e&&!this.popupEle.contains(this.checkAllParent)&&this.showCheckBox?(this.createSelectAllWrapper(),this.popupEle.insertBefore(this.checkAllParent,this.popupDiv)):this.popupEle.contains(this.checkAllParent)&&(oe(this.checkAllParent),this.checkAllParent=null))}setHeaderTemplate(){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),L([this.header],ER));let t=this.templateComplier(this.headerTemplate)({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,void 0,this.header);t&&(t=Array.prototype.slice.call(t),Ge(t,this.header)),this.popupEle.insertBefore(this.header,this.checkAllParent?this.checkAllParent:this.popupDiv)}templateComplier(e){if(e)try{if(document.querySelectorAll(e).length)return us(document.querySelector(e).innerHTML.trim())}catch(t){return us(e)}return us(e)}setFooterTemplate(){this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),L([this.footer],Bw));let t=this.templateComplier(this.footerTemplate)({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,void 0,this.footer);t&&(t=Array.prototype.slice.call(t),Ge(t,this.footer)),Ge([this.footer],this.popupEle)}clearAll(e){!this.enabled||this.readonly||(this.resetValue(),this.showOverAllClear(),(this.allowMultiSelection||this.showCheckBox)&&(this.popupObj&&this.popupObj.refreshPosition(),this.wrapText||this.updateOverflowWrapper(!0)),e&&(this.isClearButtonClick=!0),this.changeOnBlur||this.triggerChangeEvent(e))}removeChip(e){if(!this.enabled||this.readonly)return;const t=e.target.parentElement,i=t.getAttribute("data-value");this.chipCollection&&t&&nt(t),this.isChipDelete=!0,this.isClearButtonClick=!0,this.removeSelectedData(i,!0),this.selectedText=[],this.allowMultiSelection&&(this.treeObj.selectedNodes=this.value.slice(),this.updateSelectedValues()),this.showCheckBox&&(this.treeObj.uncheckAll([i]),this.clearCheckAll(),this.setMultiSelect()),this.triggerChangeEvent(e),this.isChipDelete=!1,this.ensurePlaceHolder()}resetValue(e){this.value==[]&&null==this.text||(me.setValue(null,this.inputEle,this.floatLabelType),e||(this.oldValue=this.value,this.setProperties({value:[]},!0)),this.dataValue=null,this.setProperties({text:null},!0),this.selectedData=[],At("selectedNodes",[],this.treeObj),this.hiddenElement.innerHTML="",this.showCheckBox&&(this.treeObj.checkedNodes=[],this.treeObj.dataBind(),this.setMultiSelect(),this.clearCheckAll()),null!==this.oldValue||e?e&&this.triggerChangeEvent():this.removeValue=!0,(this.allowMultiSelection||this.showCheckBox)&&this.chipWrapper&&(this.chipCollection.innerHTML="",this.wrapText||this.updateOverflowWrapper(!0),this.ensurePlaceHolder()))}clearCheckAll(){this.showSelectAll&&this.value&&0===this.value.length&&this.setLocale(!1)}selectAllItems(e){if(this.showCheckBox)e?this.treeObj.checkAll():this.treeObj.uncheckAll(),this.checkSelectAll=!0;else if(this.allowMultiSelection)if(e){const t=Xe("li",this.treeObj.element);let i;const s=[];for(let n=0;n<t.length;n++)i=t[n].getAttribute("data-uid").toString(),s.push(i);this.treeObj.selectedNodes=s}else this.treeObj.selectedNodes=[];this.updateMode(),this.setMultiSelect(),this.wrapText||(e?this.updateView():this.updateOverflowWrapper(!0))}updateTreeSettings(e){const t=Object.keys(e.treeSettings)[0];if("autoCheck"===t)this.ensureAutoCheck(),this.treeObj.autoCheck=this.treeSettings.autoCheck;else if("loadOnDemand"===t)this.treeObj.loadOnDemand=this.treeSettings.loadOnDemand;else if("expandOn"===t)return this.treeObj.expandOn=this.treeSettings.expandOn,void this.treeObj.dataBind();this.treeObj.dataBind(),this.setMultiSelect(),this.updateValue(this.value)}updateCheckBoxState(e){this.hasTemplate&&this.updateTemplate(),this.wrapText||this.updateOverflowWrapper(!1),this.treeObj.showCheckBox=e,this.treeObj.dataBind(),this.isDynamicChange=!0,this.setSelectAllWrapper(this.showSelectAll),this.showSelectAll&&this.setLocale(),this.showCheckBox&&this.updateMode(),this.setMultiSelect(),this.isDynamicChange=!1}updateTemplate(){this.popupObj&&(this.clearTemplate(),this.portals=[],this.popupObj.destroy(),this.isPopupOpen?(this.hidePopup(),this.isFirstRender=!0,this.renderPopup()):this.isFirstRender=!0)}l10nUpdate(e){if(this.noRecord?this.noRecord.innerHTML="":(this.noRecord=this.createElement("div"),L([this.noRecord],"e-ddt-nodata"),Mi([this.noRecord],this.popupDiv)),"No Records Found"!==this.noRecordsTemplate||"The Request Failed"!==this.actionFailureTemplate){const i=e?this.actionFailureTemplateId:this.noRecordsTemplateId,s=e?"actionFailureTemplate":"noRecordsTemplate";let a=this.templateComplier(e?this.actionFailureTemplate:this.noRecordsTemplate)({},this,s,i,this.isStringTemplate,void 0,this.noRecord);a&&(a=Array.prototype.slice.call(a),Ge(a,this.noRecord))}else{const t={noRecordsTemplate:"No Records Found",actionFailureTemplate:"The Request Failed"};this.l10n=new Gs(this.getLocaleName(),t,this.locale),this.noRecord.innerHTML=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate")}}updateRecordTemplate(e){this.treeItems&&this.treeItems.length<=0&&(this.l10nUpdate(e),this.hasTemplate&&this.updateTemplate())}updateOverflowWrapper(e){e?this.inputWrapper.contains(this.overFlowWrapper)&&e&&(this.overFlowWrapper.innerHTML=""):this.inputWrapper.contains(this.overFlowWrapper)||(this.overFlowWrapper=this.createElement("span",{className:Fx+" "+ys}),this.inputWrapper.insertBefore(this.overFlowWrapper,this.hiddenElement))}updateMultiSelection(e){this.wrapText||this.updateOverflowWrapper(!1),this.treeObj.allowMultiSelection=e,this.treeObj.dataBind(),this.updateOption(),this.allowMultiSelection&&this.updateMode(),this.setMultiSelect()}updateAllowFiltering(e){this.isFirstRender||(e?this.renderFilter():this.destroyFilter()),this.ensureAutoCheck()}updateFilterPlaceHolder(){this.filterObj&&(this.filterObj.placeholder=this.filterBarPlaceholder,this.filterObj.element.setAttribute("aria-label",this.filterBarPlaceholder))}updateValue(e){this.isDynamicChange=!0,f(e)||0===e.length?this.resetValue(!0):(this.setTreeValue(),(this.allowMultiSelection||this.showCheckBox)&&!this.wrapText&&(this.updateOverflowWrapper(!1),this.updateView())),this.updateHiddenValue(),this.isDynamicChange=!1}updateText(e){f(e)?this.resetValue():(this.setTreeText(),(this.allowMultiSelection||this.showCheckBox)&&!this.wrapText&&(this.updateOverflowWrapper(!1),this.updateView())),this.updateHiddenValue()}updateModelMode(){if(this.allowMultiSelection||this.showCheckBox){if(!this.wrapText){const t=J("."+Fx,this.inputWrapper);t&&(t.innerHTML="")}this.updateMode(),this.setMultiSelect(),!this.wrapText&&this.value&&0!==this.value.length&&(this.updateOverFlowView(),L([this.inputEle],Fr),"Box"===this.mode?H([this.overFlowWrapper,this.inputWrapper],pv):L([this.overFlowWrapper,this.inputWrapper],pv))}}updateOption(){this.hiddenElement.hasAttribute("multiple")||!this.allowMultiSelection&&!this.showCheckBox?this.hiddenElement.hasAttribute("multiple")&&!this.allowMultiSelection&&!this.showCheckBox&&this.hiddenElement.removeAttribute("multiple"):this.hiddenElement.setAttribute("multiple","")}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"width":this.setElementWidth(e.width),this.popupObj&&(this.popupObj.element.style.width=this.setWidth());break;case"placeholder":me.setPlaceholder(e.placeholder,this.inputEle);break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRTL(this.enableRtl);break;case"fields":this.setFields();break;case"readonly":me.setReadonly(e.readonly,this.inputEle);break;case"enabled":this.setEnable();break;case"floatLabelType":me.removeFloating(this.inputObj),me.addFloating(this.inputEle,e.floatLabelType,this.placeholder,this.createElement),this.ensureClearIconPosition(e.floatLabelType);break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"allowFiltering":this.updateAllowFiltering(e.allowFiltering);break;case"filterBarPlaceholder":this.updateFilterPlaceHolder();break;case"value":this.oldValue=t.value,this.updateValue(e.value);break;case"text":this.updateText(e.text);break;case"allowMultiSelection":this.updateMultiSelection(e.allowMultiSelection);break;case"mode":if(!this.showCheckBox&&!this.allowMultiSelection)return;"Custom"===this.mode?(this.overFlowWrapper&&oe(this.overFlowWrapper),this.chipWrapper&&oe(this.chipWrapper),this.setTagValues()):("Custom"===t.mode&&this.updateOverflowWrapper(this.wrapText),this.updateModelMode());break;case"delimiterChar":if("Box"===this.mode)return;(this.showCheckBox||this.allowMultiSelection)&&this.setMultiSelect();break;case"selectAllText":this.showCheckBox&&this.showSelectAll&&this.setLocale();break;case"unSelectAllText":this.showCheckBox&&this.showSelectAll&&this.setLocale(!1);break;case"showSelectAll":this.showCheckBox&&(this.setSelectAllWrapper(e.showSelectAll),this.updatePopupHeight());break;case"showCheckBox":this.updateCheckBoxState(e.showCheckBox),this.wrapText||this.updateOverflowWrapper(!0),this.updatePopupHeight(),this.updateOption();break;case"treeSettings":this.updateTreeSettings(e);break;case"customTemplate":if("Custom"!==this.mode)return;this.chipCollection.innerHTML="",this.setTagValues();break;case"sortOrder":this.hasTemplate&&this.updateTemplate(),this.treeObj.sortOrder=e.sortOrder,this.treeObj.dataBind(),this.updateValue(this.value);break;case"showDropDownIcon":this.updateDropDownIconState(e.showDropDownIcon);break;case"popupWidth":this.popupObj&&(this.popupObj.element.style.width=this.setWidth());break;case"popupHeight":this.popupObj&&this.updatePopupHeight();break;case"zIndex":this.popupObj&&(this.popupObj.zIndex=e.zIndex,this.popupObj.dataBind());break;case"headerTemplate":case"footerTemplate":this.updateTemplate();break;case"itemTemplate":this.updateTemplate(),this.treeObj.nodeTemplate=e.itemTemplate,this.treeObj.dataBind();break;case"noRecordsTemplate":this.updateRecordTemplate();break;case"actionFailureTemplate":this.updateRecordTemplate(!0);break;case"htmlAttributes":this.setHTMLAttributes();break;case"wrapText":this.updateOverflowWrapper(this.wrapText),!this.allowMultiSelection&&!this.showCheckBox||this.wrapText?(L([this.overFlowWrapper],ys),this.chipWrapper&&"Box"===this.mode?H([this.chipWrapper],ys):(H([this.inputWrapper],fl),H([this.inputEle],Fr)),this.ensurePlaceHolder()):this.updateView()}}clear(){this.clearAll(),this.inputFocus?this.onFocusOut():(this.changeOnBlur&&this.triggerChangeEvent(),this.removeValue=!1)}destroy(){this.clearTemplate(),this.unWireEvents(),this.setCssClass(null,this.cssClass),this.setProperties({value:[]},!0),this.setProperties({text:null},!0),this.treeObj.destroy(),this.destroyFilter(),this.popupObj&&(this.popupObj.destroy(),oe(this.popupObj.element)),this.element.tagName!==this.getDirective()&&this.inputWrapper.parentElement.insertBefore(this.element,this.inputWrapper),me.setValue(null,this.inputEle,this.floatLabelType),oe(this.inputWrapper),oe(this.popupDiv),this.element.classList.remove("e-input"),(this.showCheckBox||this.allowMultiSelection)&&this.element.classList.remove(Fr),super.destroy()}destroyFilter(){this.filterObj&&(this.filterObj.destroy(),oe(this.filterObj.element),oe(this.filterContainer),this.filterObj=null)}ensureVisible(e){this.treeObj.ensureVisible(e)}getData(e){return this.treeObj.getTreeData(e)}hidePopup(){const e={popup:this.popupObj};this.inputWrapper.classList.remove(mR),this.popupEle&&L([this.popupEle],Tn),Te(this.inputWrapper,{"aria-expanded":"false"}),this.popupObj&&this.isPopupOpen&&(this.popupObj.hide(),this.inputFocus&&(this.inputWrapper.focus(),this.allowFiltering&&L([this.inputWrapper],[uv])),this.trigger("close",e))}selectAll(e){this.selectAllItems(e)}showPopup(){!this.enabled||this.readonly||this.isPopupOpen||(this.renderPopup(),this.focusIn())}getModuleName(){return"dropdowntree"}};Dt([T("The Request Failed")],ni.prototype,"actionFailureTemplate",void 0),Dt([T(!1)],ni.prototype,"allowFiltering",void 0),Dt([T(!1)],ni.prototype,"allowMultiSelection",void 0),Dt([T(!0)],ni.prototype,"changeOnBlur",void 0),Dt([T("")],ni.prototype,"cssClass",void 0),Dt([T("${value.length} item(s) selected")],ni.prototype,"customTemplate",void 0),Dt([T(",")],ni.prototype,"delimiterChar",void 0),Dt([T(!0)],ni.prototype,"enabled",void 0),Dt([Ht({},uo)],ni.prototype,"fields",void 0),Dt([T(null)],ni.prototype,"filterBarPlaceholder",void 0),Dt([T("StartsWith")],ni.prototype,"filterType",void 0),Dt([T("Never")],ni.prototype,"floatLabelType",void 0),Dt([T(null)],ni.prototype,"footerTemplate",void 0),Dt([T(!1)],ni.prototype,"ignoreAccent",void 0),Dt([T(!0)],ni.prototype,"ignoreCase",void 0),Dt([T(null)],ni.prototype,"headerTemplate",void 0),Dt([T({})],ni.prototype,"htmlAttributes",void 0),Dt([T(null)],ni.prototype,"itemTemplate",void 0),Dt([T("Default")],ni.prototype,"mode",void 0),Dt([T("No Records Found")],ni.prototype,"noRecordsTemplate",void 0),Dt([T(null)],ni.prototype,"placeholder",void 0),Dt([T("300px")],ni.prototype,"popupHeight",void 0),Dt([T("100%")],ni.prototype,"popupWidth",void 0),Dt([T(!1)],ni.prototype,"readonly",void 0),Dt([T(!1)],ni.prototype,"showSelectAll",void 0),Dt([T("Select All")],ni.prototype,"selectAllText",void 0),Dt([T(!1)],ni.prototype,"showCheckBox",void 0),Dt([T(!0)],ni.prototype,"showClearButton",void 0),Dt([T(!0)],ni.prototype,"showDropDownIcon",void 0),Dt([T("None")],ni.prototype,"sortOrder",void 0),Dt([T(null)],ni.prototype,"text",void 0),Dt([Ht({},jw)],ni.prototype,"treeSettings",void 0),Dt([T("Unselect All")],ni.prototype,"unSelectAllText",void 0),Dt([T(null)],ni.prototype,"value",void 0),Dt([T("100%")],ni.prototype,"width",void 0),Dt([T(1e3)],ni.prototype,"zIndex",void 0),Dt([T(!1)],ni.prototype,"wrapText",void 0),Dt([$()],ni.prototype,"actionFailure",void 0),Dt([$()],ni.prototype,"beforeOpen",void 0),Dt([$()],ni.prototype,"change",void 0),Dt([$()],ni.prototype,"close",void 0),Dt([$()],ni.prototype,"blur",void 0),Dt([$()],ni.prototype,"created",void 0),Dt([$()],ni.prototype,"dataBound",void 0),Dt([$()],ni.prototype,"destroyed",void 0),Dt([$()],ni.prototype,"filtering",void 0),Dt([$()],ni.prototype,"focus",void 0),Dt([$()],ni.prototype,"keyPress",void 0),Dt([$()],ni.prototype,"open",void 0),Dt([$()],ni.prototype,"select",void 0),ni=Dt([oi],ni);var Vn=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const l="e-atc-spinner-icon";vt.root="e-combobox";const c={container:null,buttons:[]};let u=class extends fs{constructor(e,t){super(e,t)}preRender(){super.preRender()}getLocaleName(){return"combo-box"}wireEvent(){"combobox"===this.getModuleName()&&(A.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),A.add(this.inputWrapper.container,"blur",this.onBlurHandler,this)),f(this.inputWrapper.buttons[0])||A.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),A.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||(A.add(this.inputElement,"input",this.onInput,this),A.add(this.inputElement,"keyup",this.onFilterUp,this),A.add(this.inputElement,"keydown",this.onFilterDown,this),A.add(this.inputElement,"paste",this.pasteHandler,this)),this.bindCommonEvent()}preventBlur(e){(!this.allowFiltering&&document.activeElement!==this.inputElement&&!document.activeElement.classList.contains(vt.input)&&G.isDevice||!G.isDevice)&&e.preventDefault()}onBlurHandler(e){const t=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;!f(this.listData)&&!f(t)&&t!==this.text&&this.customValue(e),super.onBlurHandler(e)}targetElement(){return this.inputElement}setOldText(e){me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()}setOldValue(e){this.valueMuteChange(this.allowCustom?this.value:null),this.removeSelection(),this.setHiddenValue()}valueMuteChange(e){const t=f(e)?null:e.toString();me.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;const i=this.fields,s={};s[i.text]=f(e)?null:e.toString(),s[i.value]=f(e)?null:e.toString(),this.itemData=s,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)}updateValues(){if(f(this.value))if(this.text&&f(this.value)){const e=this.getElementByText(this.text);e?this.setSelection(e,null):(me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else{const e=this.getElementByValue(this.value);e?this.setSelection(e,null):this.valueMuteChange(this.allowCustom?this.value:null)}this.setHiddenValue(),me.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}updateIconState(){this.showClearButton&&(this.inputElement&&""!==this.inputElement.value&&!this.readonly?H([this.inputWrapper.clearButton],vt.clearIconHide):L([this.inputWrapper.clearButton],vt.clearIconHide))}getAriaAttributes(){return{"aria-owns":this.element.id+"_options",role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-hasPopup":"true","aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}}searchLists(e){this.isTyped=!0,this.isFiltering()?(super.searchLists(e),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+vt.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+vt.li)),this.incrementalSearch(e))}getNgDirective(){return"EJS-COMBOBOX"}setSearchBox(){return this.filterInput=this.inputElement,this.isFiltering()?this.inputWrapper:c}onActionComplete(e,t,i,s){super.onActionComplete(e,t,i),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&this.inlineSearch()}getFocusElement(){const e=this.isSelectCustom?{text:""}:this.getItemData(),t=this.list.querySelector("."+vt.selected);if(e.text===this.inputElement.value&&!f(t))return t;if((G.isDevice&&!this.isDropDownClick||!G.isDevice)&&!f(this.liCollections)&&this.liCollections.length>0){const a=$d(this.inputElement.value,this.liCollections,"StartsWith",!0).item;if(f(a))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.list.scrollTop=0);else{const o=this.getIndexByValue(a.getAttribute("data-value"))-1,h=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);isNaN(h)||"autocomplete"===this.getModuleName()||(this.removeFocus(),this.list.scrollTop=o*h+(this.fields.groupBy?this.liCollections[0].offsetHeight:0),L([a],vt.focus))}return a}return null}setValue(e){return e&&"keydown"===e.type&&"enter"===e.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&e&&"keydown"===e.type&&"enter"!==e.action?(this.preventAutoFill=!1,this.inlineSearch(e),!1):super.setValue(e)}checkCustomValue(){this.itemData=this.getDataByValue(this.value);const e=this.getItemData();this.allowCustom&&f(e.value)&&f(e.text)||this.setProperties({value:e.value,text:e.text},!this.allowCustom)}showSpinner(){f(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||me.appendSpan("e-input-group-icon "+l,this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,L([this.spinnerElement],vt.disableIcon),wc({target:this.spinnerElement,width:G.isDevice?"16px":"14px"},this.createElement),so(this.spinnerElement))}hideSpinner(){f(this.spinnerElement)||(no(this.spinnerElement),H([this.spinnerElement],vt.disableIcon),this.spinnerElement.classList.contains(l)?oe(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}setAutoFill(e,t){if(t||this.setHoverList(e),this.autofill&&!this.preventAutoFill){const i=this.getTextByValue(e.getAttribute("data-value")).toString(),s=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===s?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(i)||this.setAutoFillSelection(i)}}isAndroidAutoFill(e){if(G.isAndroid){const t=this.getSelectionPoints(),i=this.prevSelectPoints.end,s=t.end,n=this.prevSelectPoints.start,a=t.start;return 0!==i&&(i===e.length&&n===e.length||n>a&&i>s||i===s&&n===a)}return!1}clearAll(e,t){(f(t)||!f(t)&&f(t.dataSource))&&super.clearAll(e),this.isFiltering()&&!f(e)&&e.target===this.inputWrapper.clearButton&&this.searchLists(e)}isSelectFocusItem(e){return!f(e)}inlineSearch(e){const t=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),i=t?this.liCollections[this.activeIndex]:this.getFocusElement();if(f(i))if(""===this.inputElement.value){this.activeIndex=null,this.list.scrollTop=0;const s=this.list.querySelector("."+vt.li);this.setHoverList(s)}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length<0&&this.removeFocus();else{if(!t){const s=this.getFormattedValue(i.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(s),this.activeIndex=f(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(i,t)}}incrementalSearch(e){this.showPopup(),f(this.listData)||(this.inlineSearch(e),e.preventDefault())}setAutoFillSelection(e){const t=this.getSelectionPoints(),i=this.inputElement.value.substr(0,t.start);if(i&&i.toLowerCase()===e.substr(0,t.start).toLowerCase()){const s=i+e.substr(i.length,e.length);me.setValue(s,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(t.start,this.inputElement.value.length)}else me.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length)}getValueByText(e){return super.getValueByText(e,!0,this.ignoreAccent)}unWireEvent(){"combobox"===this.getModuleName()&&(A.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),A.remove(this.inputWrapper.container,"blur",this.onBlurHandler)),f(this.inputWrapper.buttons[0])||A.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),this.inputElement&&(A.remove(this.inputElement,"focus",this.targetFocus),this.readonly||(A.remove(this.inputElement,"input",this.onInput),A.remove(this.inputElement,"keyup",this.onFilterUp),A.remove(this.inputElement,"keydown",this.onFilterDown),A.remove(this.inputElement,"paste",this.pasteHandler))),this.unBindCommonEvent()}setSelection(e,t){super.setSelection(e,t),!f(e)&&!this.autofill&&!this.isDropDownClick&&this.removeFocus()}selectCurrentItem(e){let t;this.isPopupOpen&&(t=this.list.querySelector(this.isSelected?"."+vt.selected:"."+vt.focus),t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&f(t)&&this.customValue(e),this.hidePopup()}setHoverList(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(vt.selected)&&(this.removeFocus(),e.classList.add(vt.focus))}targetFocus(e){G.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e)}dropDownClick(e){e.preventDefault(),G.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),super.dropDownClick(e)}customValue(e){const t=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){const i=this.value;if(f(t)){const s=""===this.inputElement.value?null:this.inputElement.value,n={text:s,item:{}};this.initial?this.updateCustomValueCallback(s,n,i):this.trigger("customValueSpecifier",n,a=>{this.updateCustomValueCallback(s,a,i,e)})}else this.isSelectCustom=!1,this.setProperties({value:t}),i!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{const i=this.previousValue,s=this.value;this.setProperties({value:t}),f(this.value)&&me.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&i===this.value&&s!==this.value&&this.onChangeEvent(null)}}updateCustomValueCallback(e,t,i,s){const n=this.fields,a=t.item;let o={};a&&X(n.text,a)&&X(n.value,a)?o=a:(At(n.text,e,o),At(n.value,e,o)),this.itemData=o;const h={text:X(n.text,this.itemData),value:X(n.value,this.itemData),index:null};this.setProperties(h,!0),this.setSelection(null,null),this.isSelectCustom=!0,i!==this.value&&this.onChangeEvent(s)}onPropertyChanged(e,t){"combobox"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"readonly":me.setReadonly(this.readonly,this.inputElement),this.readonly?(A.remove(this.inputElement,"input",this.onInput),A.remove(this.inputElement,"keyup",this.onFilterUp),A.remove(this.inputElement,"keydown",this.onFilterDown)):(A.add(this.inputElement,"input",this.onInput,this),A.add(this.inputElement,"keyup",this.onFilterUp,this),A.add(this.inputElement,"keydown",this.onFilterDown,this)),this.setReadOnly();break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&f(this.list)&&super.renderList();break;case"allowCustom":break;default:{const s=this.getPropObject(i,e,t);super.onPropertyChanged(s.newProperty,s.oldProperty),this.isFiltering()&&"dataSource"===i&&f(this.list)&&this.itemTemplate&&"combobox"===this.getModuleName()&&super.renderList();break}}}render(){super.render(),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&f(this.list)&&super.renderList(),this.renderComplete()}getModuleName(){return"combobox"}addItem(e,t){super.addItem(e,t)}filter(e,t,i){super.filter(e,t,i)}showPopup(){super.showPopup()}hidePopup(e){const t=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;if(!f(this.listData)){const i=this.isEscapeKey;this.isEscapeKey&&(me.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();const s=this.isSelectCustom?{text:""}:this.getItemData(),n=this.list.querySelector("."+vt.selected);if(this.inputElement&&s.text===this.inputElement.value&&!f(n))return this.isSelected&&(this.onChangeEvent(e),this.isSelectCustom=!1),void super.hidePopup(e);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){const a=$d(this.inputElement.value,this.liCollections,"Equal",!0);this.selectedLI=a.item,f(a.index)&&(a.index=$d(this.inputElement.value,this.liCollections,"StartsWith",!0).index),this.activeIndex=a.index,f(this.selectedLI)?i&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}!this.isEscapeKey&&this.isTyped&&!this.isInteracted&&this.customValue(e)}f(this.listData)&&this.allowCustom&&!f(t)&&t!==this.value&&this.customValue(),super.hidePopup(e)}focusIn(){!this.enabled||(G.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),super.focusIn())}clear(){this.value=null}focusOut(e){super.focusOut(e)}getItems(){return super.getItems()}getDataByValue(e){return super.getDataByValue(e)}renderHightSearch(){}};Vn([T(!1)],u.prototype,"autofill",void 0),Vn([T(!0)],u.prototype,"allowCustom",void 0),Vn([T({})],u.prototype,"htmlAttributes",void 0),Vn([T(!1)],u.prototype,"allowFiltering",void 0),Vn([T(null)],u.prototype,"query",void 0),Vn([T(null)],u.prototype,"index",void 0),Vn([T(!0)],u.prototype,"showClearButton",void 0),Vn([T(!1)],u.prototype,"enableRtl",void 0),Vn([$()],u.prototype,"customValueSpecifier",void 0),Vn([$()],u.prototype,"filtering",void 0),Vn([T(null)],u.prototype,"valueTemplate",void 0),Vn([T("Never")],u.prototype,"floatLabelType",void 0),Vn([T(null)],u.prototype,"filterBarPlaceholder",void 0),Vn([T(null)],u.prototype,"cssClass",void 0),Vn([T(null)],u.prototype,"headerTemplate",void 0),Vn([T(null)],u.prototype,"footerTemplate",void 0),Vn([T(null)],u.prototype,"placeholder",void 0),Vn([T("100%")],u.prototype,"width",void 0),Vn([T("300px")],u.prototype,"popupHeight",void 0),Vn([T("100%")],u.prototype,"popupWidth",void 0),Vn([T(!1)],u.prototype,"readonly",void 0),Vn([T(null)],u.prototype,"text",void 0),Vn([T(null)],u.prototype,"value",void 0),u=Vn([oi],u);var p=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};vt.root="e-autocomplete",vt.icon="e-input-group-icon e-ddl-icon e-search-icon";let g=class extends u{constructor(e,t){super(e,t),this.isFiltered=!1,this.searchList=!1}preRender(){super.preRender()}getLocaleName(){return"auto-complete"}getNgDirective(){return"EJS-AUTOCOMPLETE"}getQuery(e){const t=e?e.clone():this.query?this.query.clone():new kt,i=""!==this.queryString||f(this.value)?this.filterType:"equal",s=""!==this.queryString||f(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString&&""!==this.queryString){const n=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof ot||"string"!==n)&&"number"!==n){const a=f(this.fields.value)?"":this.fields.value;t.where(a,i,s,this.ignoreCase,this.ignoreAccent)}else t.where("",i,s,this.ignoreCase,this.ignoreAccent)}if(!f(this.suggestionCount)){if(20!==this.suggestionCount)for(let n=0;n<t.queries.length;n++)"onTake"===t.queries[n].fn&&t.queries.splice(n,1);t.take(this.suggestionCount)}return t}searchLists(e){if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,f(this.list)&&super.renderList(!0),this.queryString=this.filterInput.value,"mousedown"!==e.type&&(40===e.keyCode||38===e.keyCode))return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields);this.isSelected=!1,this.activeIndex=null;const t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(i,s,n)=>{t.cancel||(this.isFiltered=!0,this.filterAction(i,s,n))},cancel:!1};this.trigger("filtering",t,i=>{!i.cancel&&!this.isFiltered&&!i.preventDefaultAction&&(this.searchList=!0,this.filterAction(this.dataSource,null,this.fields))})}filter(e,t,i){this.isFiltered=!0,this.filterAction(e,t,i)}filterAction(e,t,i){this.beforePopupOpen=!0,""!==this.queryString&&this.queryString.length>=this.minLength?this.resetList(e,i,t):(this.hidePopup(),this.beforePopupOpen=!1),this.renderReactTemplates()}clearAll(e,t){(f(t)||!f(t)&&f(t.dataSource))&&super.clearAll(e),this.beforePopupOpen&&this.hidePopup()}onActionComplete(e,t,i,s){this.fixedHeaderElement=null,super.onActionComplete(e,t,i);const n=this.list.querySelector("."+vt.li);f(n)||H([n],vt.focus),this.postBackAction()}postBackAction(){if(this.autofill&&!f(this.liCollections[0])&&this.searchList){const t=$d(this.inputElement.value,[this.liCollections[0]],"StartsWith",this.ignoreCase);this.searchList=!1,f(t.item)||super.setAutoFill(this.liCollections[0],!0)}}setSelection(e,t){if(this.isValidLI(e))if(!f(t)&&"keydown"===t.type&&"enter"!==t.action&&"tab"!==t.action&&this.isValidLI(e)){const i=this.getFormattedValue(e.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(i),this.setHoverList(e),this.selectedLI=e,this.setScrollPosition(t),this.autofill&&this.isPopupOpen&&(this.preventAutoFill=!1,super.setAutoFill(e)),Te(this.inputElement,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}else super.setSelection(e,t)}listOption(e,t){const i=super.listOption(e,t);if(f(i.itemCreated))i.itemCreated=s=>{this.highlight&&(this.element.tagName===this.getNgDirective()&&this.itemTemplate?setTimeout(()=>{_w(s.item,this.queryString,this.ignoreCase,this.filterType)},0):_w(s.item,this.queryString,this.ignoreCase,this.filterType))};else{const s=i.itemCreated;i.itemCreated=n=>{this.highlight&&_w(n.item,this.queryString,this.ignoreCase,this.filterType),s.apply(this,[n])}}return i}isFiltering(){return!0}renderPopup(){this.list.scrollTop=0,super.renderPopup()}isEditTextBox(){return""!==this.inputElement.value.trim()}isPopupButton(){return this.showPopupButton}isSelectFocusItem(e){return!1}showPopup(){if(this.enabled){if(this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.preventAutoFill=!0,f(this.list)?this.renderList():this.resetList(this.dataSource,this.fields)}}hidePopup(){super.hidePopup(),this.activeIndex=-1}onPropertyChanged(e,t){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(const i of Object.keys(e))switch(i){case"showPopupButton":if(this.showPopupButton){const s=me.appendSpan(vt.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=s,this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&A.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else oe(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null;break;default:{const s=this.getPropObject(i,e,t);super.onPropertyChanged(s.newProperty,s.oldProperty);break}}}renderHightSearch(){if(this.highlight)for(let e=0;e<this.liCollections.length;e++)this.ulElement.querySelector(".e-active")||(lR(this.liCollections[e]),_w(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType))}getModuleName(){return"autocomplete"}render(){super.render()}};p([Ht({value:null,iconCss:null,groupBy:null},Mx)],g.prototype,"fields",void 0),p([T(!0)],g.prototype,"ignoreCase",void 0),p([T(!1)],g.prototype,"showPopupButton",void 0),p([T(!1)],g.prototype,"highlight",void 0),p([T(20)],g.prototype,"suggestionCount",void 0),p([T({})],g.prototype,"htmlAttributes",void 0),p([T(null)],g.prototype,"query",void 0),p([T(1)],g.prototype,"minLength",void 0),p([T("Contains")],g.prototype,"filterType",void 0),p([$()],g.prototype,"filtering",void 0),p([T(null)],g.prototype,"index",void 0),p([T("Never")],g.prototype,"floatLabelType",void 0),p([T(null)],g.prototype,"valueTemplate",void 0),p([T(null)],g.prototype,"filterBarPlaceholder",void 0),p([T(!1)],g.prototype,"allowFiltering",void 0),p([T(null)],g.prototype,"text",void 0),g=p([oi],g);const y="e-float-line",E="e-float-text",D="e-label-top",x="e-label-bottom";function R(r,e,t,i,s,n,a){const o=Q("span",{className:y}),h=Q("label",{className:E});!f(t.id)&&""!==t.id&&(h.id="label_"+t.id.replace(/ /g,"_"),Te(t,{"aria-labelledby":h.id})),!f(i.placeholder)&&""!==i.placeholder&&(h.innerText=De(i.placeholder),i.removeAttribute("placeholder")),h.innerText=De(a),e.appendChild(o),e.appendChild(h),r.classList.add("e-float-input"),function(r,e){r&&r.length>0?(L([e],D),H([e],x)):(H([e],D),L([e],x))}(s,h),"Always"===n&&(h.classList.contains(x)&&H([h],x),L([h],D))}function Y(r,e,t){e.placeholder=r&&r.length?"":t}function De(r){let e="";if(!f(r)&&""!==r){const t=document.createElement("span");t.innerHTML='<input  placeholder="'+r+'"/>',e=t.children[0].placeholder}return e}var ie=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const Je="e-input-focus",je="e-disabled",Ai="e-hide-listitem",Rc="e-chips",qu="e-chips-close",Qd="e-chip-selected",Ww="e-delimiter",gv="e-zero-size",yj="e-chips-close e-close-hooker",bj="e-delim-values",LV="e-close-icon-hide",Ej="e-ddl-disable-icon",wj="e-ms-spinner-icon",Dj="e-input-group-icon e-ddl-icon",Sj="e-icon-anim",wR="e-delim-total",Tj="e-search-custom-width",DR="e-input-filter";let Mt=class extends hC{constructor(e,t){super(e,t),this.clearIconWidth=0,this.isValidKey=!1,this.selectAllEventData=[],this.selectAllEventEle=[],this.scrollFocusStatus=!1,this.keyDownStatus=!1}enableRTL(e){e?this.overAllWrapper.classList.add("e-rtl"):this.overAllWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())}requiredModules(){const e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=t}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e}updateHTMLAttribute(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))switch(e){case"class":{const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&(L([this.overAllWrapper],t.split(" ")),L([this.popupWrapper],t.split(" ")));break}case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(e,this.htmlAttributes[e]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:{const i=["name","required","aria-required","form"],s=["title","role","style","class"];["id"].indexOf(e)>-1?this.element.setAttribute(e,this.htmlAttributes[e]):0===e.indexOf("data")||i.indexOf(e)>-1?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):s.indexOf(e)>-1?this.overAllWrapper.setAttribute(e,this.htmlAttributes[e]):this.inputElement.setAttribute(e,this.htmlAttributes[e]);break}}}updateReadonly(e){e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly")}updateClearButton(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(LV)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(LV))}updateCssClass(){if(!f(this.cssClass)&&""!==this.cssClass){let e=this.cssClass;e=this.cssClass.replace(/\s+/g," ").trim(),""!==e&&(L([this.overAllWrapper],e.split(" ")),L([this.popupWrapper],e.split(" ")))}}updateOldPropCssClass(e){!f(e)&&""!==e&&""!==(e=e.replace(/\s+/g," ").trim())&&(H([this.overAllWrapper],e.split(" ")),H([this.popupWrapper],e.split(" ")))}onPopupShown(){if(G.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){const i=this;window.onpopstate=()=>{i.hidePopup(),i.inputElement.focus()},history.pushState({},"")}this.trigger("open",{popup:this.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}},i=>{i.cancel||(this.focusAtFirstListItem(),document.body.appendChild(this.popupObj.element),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!f(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===this.mode||this.showDropDownIcon)&&L([this.overAllWrapper],[Sj]),this.refreshPopup(),this.renderReactTemplates(),this.popupObj.show(i.animation,1e3===this.zIndex?this.element:null),Te(this.inputElement,{"aria-expanded":"true"}),this.isFirstClick&&this.loadTemplate())})}updateListItems(e,t){for(let i=0;i<e.length;i++)this.findGroupStart(e[i]),this.findGroupStart(t[i]);this.deselectHeader()}loadTemplate(){this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this})}setScrollPosition(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!f(this.value)&&this.value.length>0){const e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);f(e)||this.scrollBottom(e)}}focusAtFirstListItem(){if(this.ulElement&&this.ulElement.querySelector("li."+Ve_li)){let e;if("CheckBox"===this.mode)return void this.removeFocus();e=this.ulElement.querySelector("li."+Ve_li+":not(."+Ai+")"),null!==e&&(this.removeFocus(),this.addListFocus(e))}}focusAtLastListItem(e){let t;e?t=$d(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?$d(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):t=null,t&&null!==t.item&&(this.addListFocus(t.item),this.scrollBottom(t.item,t.index))}getAriaAttributes(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-multiselectable":"true","aria-activedescendant":"null","aria-haspopup":"true","aria-expanded":"false"}}updateListARIA(){Te(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});const e=!!this.inputElement.disabled;Te(this.inputElement,this.getAriaAttributes()),e&&Te(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")}ensureAriaDisabled(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){const t=this.htmlAttributes;ae(t,{"aria-disabled":e},t),this.setProperties({htmlAttributes:t},!0)}}removelastSelection(e){const t=this.chipCollectionWrapper.querySelectorAll("span."+Rc),i=t[t.length-1].getAttribute("data-value");f(this.value)||(this.tempValues=this.value.slice());let s=this.getFormattedValue(i);this.allowCustomValue&&("false"!==i&&!1===s||!f(s)&&"NaN"===s.toString())&&(s=i),this.removeValue(s,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()}onActionFailure(e){super.onActionFailure(e),this.renderPopup(),this.onPopupShown()}targetElement(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value}getForQuery(e){let t;const i=f(this.fields.value)?this.fields.text:this.fields.value;for(let s=0;s<e.length;s++)t=0===s?new Ni(i,"equal",e[s]):t.or(i,"equal",e[s]);return this.getQuery(this.query).where(t)}onActionComplete(e,t,i,s){super.onActionComplete(e,t,i),this.updateSelectElementData(this.allowFiltering);const n=this;if(!f(this.value)&&!this.allowCustomValue)for(let a=0;a<this.value.length;a++)this.findListElement(this.allowFiltering&&!f(this.mainList)?this.mainList:e,"li","data-value",n.value[a])||(this.value.splice(a,1),a-=1);this.updateActionList(e,t,i),this.dataSource instanceof ot&&"CheckBox"===this.mode&&this.allowFiltering&&this.removeFocus()}updateActionList(e,t,i,s){"CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?!f(this.mainData)&&0===this.mainData.length&&(this.mainData=t):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=t,this.mainListCollection=this.liCollections),(this.remoteCustomValue||t.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value?this.checkForCustomValue(this.tempQuery,this.fields):(this.value&&this.value.length&&("CheckBox"!==this.mode&&""!==this.inputElement.value.trim()||"CheckBox"===this.mode||(8===this.keyCode||46===this.keyCode)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof ot&&""===this.inputElement.value)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),f(this.setInitialValue)||this.setInitialValue(),f(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(!f(this.text)&&(f(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown()))}refreshSelection(){let e,t;const i=this.hideSelectedItem?Ai:"e-active";if(!f(this.value))for(let s=0;!f(this.value[s]);s++)if(e=this.value[s],t=this.findListElement(this.list,"li","data-value",e),t){if(L([t],i),this.hideSelectedItem&&t.previousSibling&&t.previousElementSibling.classList.contains(Ve_group)&&(!t.nextElementSibling||t.nextElementSibling.classList.contains(Ve_group))&&L([t.previousElementSibling],i),this.hideSelectedItem&&this.fields.groupBy&&!t.previousElementSibling.classList.contains(Ai)&&this.hideGroupItem(e),this.hideSelectedItem&&t.classList.contains(Ve_focus)){H([t],Ve_focus);const n=t.parentElement.querySelectorAll("."+Ve_li+":not(."+Ai+")");n.length>0?L([n[0]],Ve_focus):(this.ulElement=this.ulElement.cloneNode?this.ulElement.cloneNode(!0):this.ulElement,this.list&&this.list.querySelectorAll("."+Ve_li).length>0||(this.l10nUpdate(),L([this.list],"e-nodata")))}if(t.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&t.classList.contains("e-active")){const n=t.firstElementChild.getAttribute("aria-checked");(f(n)||"false"===n)&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:t,e:null})}}this.checkSelectAll(),this.checkMaxSelection()}hideGroupItem(e){let t,i;const s=this.hideSelectedItem?Ai:"e-active";i=t=this.findListElement(this.ulElement,"li","data-value",e);let n=0,a=0,o=!0,h=!0;do{t&&t.previousElementSibling&&!t.previousElementSibling.classList.contains(Ai)&&t.previousElementSibling.classList.contains(Ve_li)&&(o=!1),!o||!t||t.previousElementSibling&&t.previousElementSibling.classList.contains(Ve_group)?n=10:t=t.previousElementSibling,i&&i.nextElementSibling&&!i.nextElementSibling.classList.contains(Ai)&&i.nextElementSibling.classList.contains(Ve_li)&&(h=!1),!h||!i||i.nextElementSibling&&i.nextElementSibling.classList.contains(Ve_group)?a=10:i=i.nextElementSibling}while(n<10||a<10);o&&h&&!t.previousElementSibling.classList.contains(Ai)?L([t.previousElementSibling],s):o&&h&&t.previousElementSibling.classList.contains(Ai)&&H([t.previousElementSibling],s)}getValidLi(){let e=this.ulElement.querySelector("li."+Ve_li+":not(."+Ai+")");return f(e)?this.liCollections[0]:e}checkSelectAll(){const e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,t=this.list.querySelectorAll("li.e-list-item"),i=this.list.querySelectorAll("li."+Ve_li).length;let s=this.list.querySelectorAll("li.e-active").length;if(this.enableGroupCheckBox&&!f(this.fields.groupBy)&&(s-=e),i!==s&&s!==this.maximumSelectionLength||"CheckBox"!==this.mode||!this.showSelectAll?i!==s&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}):this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(let n=0;n<t.length;n++)this.findGroupStart(t[n]);this.deselectHeader()}}openClick(e){this.openOnClick||"CheckBox"===this.mode?!this.openOnClick&&"CheckBox"===this.mode&&!this.isPopupOpen()&&this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup()}keyUp(e){"CheckBox"!==this.mode||this.openOnClick||f(String.fromCharCode(e.keyCode).match(/\w/))||(this.isValidKey=!0),this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),this.search(e))}filter(e,t,i){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,t,i)}getQuery(e){const t=e?e.clone():this.query?this.query.clone():new kt;if(this.filterAction){if(null!==this.targetElement()){const i=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof ot||"string"!==i)&&"number"!==i){const s=this.fields;t.where(f(s.text)?"":s.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else t.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return t}return e||(this.query?this.query:new kt)}dataUpdater(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.allowCustomValue&&0==s.querySelectorAll("li").length&&this.mainData.length>0&&(this.mainData=[]),this.onActionComplete(s,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,i,t),this.allowCustomValue&&(e instanceof ot?(this.remoteCustomValue=!0,this.tempQuery=t):this.checkForCustomValue(t,i));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()}checkForCustomValue(e,t){const i=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&i){const s=this.inputElement.value,n=t||this.fields,a=!f(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if("string"!=typeof a&&"number"!=typeof a&&"boolean"!=typeof a){const o={};At(n.text,s,o),"number"==typeof X(this.fields.value?this.fields.value:"value",a)?At(n.value,Math.random(),o):At(n.value,s,o);const h=JSON.parse(JSON.stringify(this.listData));h.splice(0,0,o),this.resetList(h,n,e)}else{const o=[this.inputElement.value];o[0]="number"!=typeof a||isNaN(parseFloat(o[0]))?o[0]:parseFloat(o[0]),o[0]="boolean"==typeof a?"true"===o[0]||"false"!==o[0]&&o[0]:o[0],this.resetList(o,n)}}this.value&&this.value.length&&this.refreshSelection()}getNgDirective(){return"EJS-MULTISELECT"}wrapperClick(e){if(this.setDynValue=!1,this.enabled){if(e.target===this.overAllClear)return void e.preventDefault();if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf(qu))return void(this.isPopupOpen()&&this.refreshPopup());!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===Dj)?this.showPopup():(this.hidePopup(),"CheckBox"===this.mode&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(Je)||this.overAllWrapper.classList.add(Je)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}}enable(e){e?(this.overAllWrapper.classList.remove(je),this.inputElement.removeAttribute("disabled"),Te(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(je),this.inputElement.setAttribute("disabled","true"),Te(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()}onBlurHandler(e,t){let i;if(f(e)||(i=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(i))"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&L([this.overAllWrapper],"e-valid-input");else{if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&(f(this.value)||0===this.value.length)&&H([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&G.isIE&&!f(e)&&!t)return this.inputFocus=!1,void this.overAllWrapper.classList.remove(Je);if(this.scrollFocusStatus)return f(e)||e.preventDefault(),this.inputElement.focus(),void(this.scrollFocusStatus=!1);if(this.inputFocus=!1,this.overAllWrapper.classList.remove(Je),this.addTagOnBlur){const s=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),n=this.findListElement(this.list,"li","data-value",s),a=this.hideSelectedItem?Ai:"e-active";n&&!n.classList.contains(a)&&(this.updateListSelection(n,e),"Delimiter"===this.mode&&this.updateDelimeter(this.delimiterChar))}this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,G.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),function(r,e,t,i,s){r.classList.remove("e-input-focus");const n=e.querySelector("."+E);t&&t.length<=0&&"Auto"===i&&!f(n)&&(n.classList.contains(D)&&H([n],D),L([n],x))}(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!f(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize()}}checkPlaceholderSize(){if(this.showDropDownIcon){const e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else f(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)}setPlaceholderSize(e){f(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":L([this.searchWrapper],Tj):f(this.value)||(this.searchWrapper.removeAttribute("style"),H([this.searchWrapper],Tj))}refreshInputHight(){this.value&&this.value.length||!f(this.text)&&""!==this.text?this.searchWrapper.classList.add(gv):this.searchWrapper.classList.remove(gv)}validateValues(e,t){return JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())}updateValueState(e,t,i){if(this.initStatus&&this.validateValues(t||[],i||[])){const a={e,oldValue:i,value:t,isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",a),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}}updateTempValue(){this.tempValues=this.value?this.value.slice():this.value}getPagingCount(){const e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))}pageUpSelection(e){const t=this.list.querySelectorAll("li."+Ve_li+":not(."+Ai+"):not(.e-reorder-hide)"),i=e>=0?t[e+1]:t[0];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))}pageDownSelection(e){this.getItems();const i=this.list.querySelectorAll("li."+Ve_li+":not(."+Ai+"):not(.e-reorder-hide)"),s=e<=i.length?i[e-1]:i[i.length-1];this.addListFocus(s),this.scrollBottom(s,this.getIndexByValue(s.getAttribute("data-value")))}getItems(){return this.list||super.render(),this.ulElement&&this.ulElement.querySelectorAll("."+Ve_li).length>0?this.ulElement.querySelectorAll("."+Ve_li+":not(."+Ai+")"):[]}focusInHandler(e){return!!this.enabled&&(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove(gv),this.checkPlaceholderSize(),this.focused&&(this.trigger("focus",{isInteracted:!!e,event:e}),this.focused=!1),this.overAllWrapper.classList.contains(Je)||this.overAllWrapper.classList.add(Je),function(r,e){r.classList.add("e-input-focus");const t=e.querySelector("."+E);f(t)||(L([t],D),t.classList.contains(x)&&H([t],x))}(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),!0)}showDelimWrapper(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(Ww)}hideDelimWrapper(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(Ww)}expandTextbox(){let e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.size=this.inputElement.value.length>e?this.inputElement.value.length:e}isPopupOpen(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement}refreshPopup(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())}checkTextLength(){return this.targetElement().length<1}popupKeyActions(e){switch(e.keyCode){case 38:this.hidePopup(),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(),e.preventDefault())}}updateAriaAttribute(){const e=this.list.querySelector("."+Ve_focus);if(!f(e))if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){var t=this.popupWrapper.querySelector("."+DR);t&&t.setAttribute("aria-activedescendant",e.id)}else"CheckBox"==this.mode&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)}homeNavigation(e){this.removeFocus();const t=this.ulElement.querySelectorAll("li."+Ve_li+":not(."+Ai+"):not(.e-reorder-hide)");if(t.length>0){const i=t[e?0:t.length-1];i.classList.add(Ve_focus),this.scrollBottom(i)}}onKeyDown(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124))){if(e.altKey)return void this.popupKeyActions(e);if(this.isPopupOpen()){const t=this.list.querySelector("."+Ve_focus);let i;switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageUpSelection(i-this.getPagingCount()),this.updateAriaAttribute()));case 34:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageDownSelection(i+this.getPagingCount()),this.updateAriaAttribute()));case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:return e.preventDefault(),this.hidePopup(),void("CheckBox"===this.mode&&this.inputElement.focus());case 13:return e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),void this.checkPlaceholderSize();case 32:return void this.spaceKeySelection(e);case 9:e.preventDefault(),this.hidePopup(),this.inputElement.focus(),this.overAllWrapper.classList.add(Je)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:return e.preventDefault(),void this.escapeAction()}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&this.checkBackCommand(e),this.expandTextbox(),"CheckBox"===this.mode&&this.showSelectAll||this.refreshPopup()}}arrowDown(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains(DR)||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&A.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()}arrowUp(e){e.preventDefault(),this.keyAction=!0;let t=this.list.querySelectorAll("li."+Ve_li+":not(."+Ai+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!f(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+Ve_li+",li."+Ve_group+":not(."+Ai+"):not(.e-reorder-hide)"));const i=this.list.querySelector("li."+Ve_focus);Array.prototype.slice.call(t).indexOf(i)<=0&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()}spaceKeySelection(e){"CheckBox"===this.mode&&(document.activeElement.classList.contains(DR)||(e.preventDefault(),this.keyAction=!0,this.list.focus()),this.selectByKey(e)),this.checkPlaceholderSize()}checkBackCommand(e){this.backCommand=8!==e.keyCode||""!==this.targetElement()}keyNavigation(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();const t=this.value[this.value.length-1];this.removeValue(t,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(t)}}selectByKey(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()}escapeAction(){const e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()}scrollBottom(e,t){const i=this.list.offsetHeight,s=e.offsetTop+e.offsetHeight-this.list.scrollTop,n=this.list.scrollTop+s-i;let a=e.offsetTop+e.offsetHeight-this.list.scrollTop;a=this.fields.groupBy&&!f(this.fixedHeaderElement)?a-this.fixedHeaderElement.offsetHeight:a,0===t?this.list.scrollTop=0:s>i?this.list.scrollTop=n:a>0&&this.list.offsetHeight>a||(this.list.scrollTop=n)}scrollTop(e,t){let i=e.offsetTop-this.list.scrollTop;i=this.fields.groupBy&&!pt(this.fixedHeaderElement)?i-this.fixedHeaderElement.offsetHeight:i;const s=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===t?this.list.scrollTop=0:i<0?this.list.scrollTop=this.list.scrollTop+i:s>0&&this.list.offsetHeight>s||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!pt(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}selectListByKey(e){const t=this.list.querySelector("li."+Ve_focus);let s,i=this.value&&this.value.length?this.value.length:0;null!==t&&(t.classList.contains("e-active")&&(i-=1),this.isValidLI(t)&&i<this.maximumSelectionLength?(this.updateListSelection(t,e),this.addListFocus(t),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!f(this.fields.groupBy)&&(s=t.firstElementChild.lastElementChild,this.findGroupStart(s),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(t.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(t)&&i<this.maximumSelectionLength&&(s=t.firstElementChild.lastElementChild,s.classList.contains("e-check")?this.selectAllItem(!1,e,t):this.selectAllItem(!0,e,t)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup()),this.refreshPlaceHolder()}refreshListItems(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){const t=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(t,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}}removeSelectedChip(e){const t=this.chipCollectionWrapper.querySelector("span."+Qd);let i;null!==t&&(f(this.value)||(this.tempValues=this.value.slice()),i=t.nextElementSibling,null!==i&&(this.removeChipSelection(),this.addChipSelection(i,e)),this.removeValue(t.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(),this.checkPlaceholderSize()}moveByTop(e){const t=this.list.querySelectorAll("li."+Ve_li);let i;t.length>1&&(this.removeFocus(),i=e?0:t.length-1,this.addListFocus(t[i]),this.scrollBottom(t[i],i)),this.updateAriaAttribute()}moveByList(e){if(this.list){let t=this.list.querySelectorAll("li."+Ve_li+":not(."+Ai+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!f(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+Ve_li+",li."+Ve_group+":not(."+Ai+"):not(.e-reorder-hide)"));const i=this.list.querySelector("li."+Ve_focus);let s=-1;if(t.length){for(let n=0;n<t.length;n++)if(t[n]===i){s=n;break}e>0?s<t.length-1&&(this.removeFocus(),this.addListFocus(t[++s]),this.updateCheck(t[s]),this.scrollBottom(t[s],s)):s>0&&(this.removeFocus(),this.addListFocus(t[--s]),this.updateCheck(t[s]),this.scrollTop(t[s],s))}}}updateCheck(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!f(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))}moveBy(e,t){let i;const s=this.chipCollectionWrapper.querySelectorAll("span."+Rc),n=this.chipCollectionWrapper.querySelector("span."+Qd);null===n?e<0&&this.addChipSelection(s[s.length-1],t):e<0?(i=n.previousElementSibling,null!==i&&(this.removeChipSelection(),this.addChipSelection(i,t))):(i=n.nextElementSibling,this.removeChipSelection(),null!==i&&this.addChipSelection(i,t))}chipClick(e){if(this.enabled){const t=U(e.target,"."+Rc);this.removeChipSelection(),this.addChipSelection(t,e)}}removeChipSelection(){this.chipCollectionWrapper&&this.removeChipFocus()}addChipSelection(e,t){L([e],Qd),this.trigger("chipSelection",t)}onChipRemove(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){const i=e.target.parentElement.getAttribute("data-value");let s=this.getFormattedValue(i);if(this.allowCustomValue&&("false"!==i&&!1===s||!f(s)&&"NaN"===s.toString())&&(s=i),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(),this.inputFocus||this.inputElement.focus(),this.removeValue(s,e),f(this.findListElement(this.list,"li","data-value",s))&&this.mainList&&this.listData){const n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(n,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}}makeTextBoxEmpty(){this.inputElement.value="",this.refreshPlaceHolder()}refreshPlaceHolder(){this.placeholder&&"Never"===this.floatLabelType?this.inputElement.placeholder=this.value&&this.value.length||!f(this.text)&&""!==this.text?"":De(this.placeholder):this.setFloatLabelType(),this.expandTextbox()}removeAllItems(e,t,i,s,n){let a=this.value.indexOf(e);const o=this.value.slice(0);o.splice(a,1),this.setProperties({value:[].concat([],o)},!0),s.setAttribute("aria-selected","false"),H([s],this.hideSelectedItem?Ai:"e-active"),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:s,e:this,index:a}),this.invokeCheckboxSelection(s,t,i),this.updateMainList(!0,e,n),this.updateChipStatus()}invokeCheckboxSelection(e,t,i){this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:t}),Te(this.inputElement,{"aria-activedescendant":e.id}),this.value&&this.value.length!==this.mainData.length&&"CheckBox"===this.mode&&this.showSelectAll&&!this.isSelectAll&&!i&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"})}removeValue(e,t,i,s){let n=this.value.indexOf(this.getFormattedValue(e));-1===n&&this.allowCustomValue&&!f(e)&&(n=this.value.indexOf(e.toString()));const a=t&&t.target;s=!!(s||a&&a.classList.contains("e-close-hooker"))||null;const o=this.hideSelectedItem?Ai:"e-active";if(-1!==n){const h=this.findListElement(this.list,"li","data-value",e),d=this.getDataByValue(e);this.trigger("removing",{e:t,item:h,itemData:d,isInteracted:!!t,cancel:!1},v=>{if(v.cancel)this.removeIndex++;else{const C=this.value.slice(0);if(C.splice(n,1),this.setProperties({value:[].concat([],C)},!0),null!==h){const O=this.findListElement(this.mainList,"li","data-value",e);h.setAttribute("aria-selected","false"),H([h],o),O&&(O.setAttribute("aria-selected","false"),H([h,O],o)),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:h,e:this,index:n}),this.invokeCheckboxSelection(h,t,s)}this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.hideSelectedItem&&this.fixedHeaderElement&&this.fields.groupBy&&"CheckBox"!==this.mode&&this.isPopupOpen()&&super.scrollStop(),this.updateMainList(!0,e),this.removeChip(e),this.updateChipStatus(),(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength&&H(this.list.querySelectorAll("li."+Ve_li+":not(.e-active)"),"e-disable"),this.trigger("removed",v);const S=t&&t.currentTarget,k=!(!S||!S.classList.contains("e-selectall-parent"))||null;!this.changeOnBlur&&!s&&t&&i&&!k&&this.updateValueState(t,this.value,this.tempValues),i&&(this.selectAllEventData.push(d),this.selectAllEventEle.push(h)),1===i&&(this.changeOnBlur||this.updateValueState(t,this.value,this.tempValues),this.trigger("selectedAll",{event:t,items:this.selectAllEventEle,itemData:this.selectAllEventData,isInteracted:!!t,isChecked:!1}),this.selectAllEventData=[],this.selectAllEventEle=[]),s&&(1===i||null===i)&&this.clearAllCallback(t,s)}})}}updateMainList(e,t,i){if(this.allowFiltering||"CheckBox"===this.mode){const s=i||this.findListElement(this.mainList,"li","data-value",t);s&&(e?(s.setAttribute("aria-selected","false"),H([s],this.hideSelectedItem?Ai:"e-active"),"CheckBox"===this.mode&&(s.firstElementChild.setAttribute("aria-checked","false"),H([s.firstElementChild.lastElementChild],"e-check"))):(s.setAttribute("aria-selected","true"),L([s],this.hideSelectedItem?Ai:"e-active"),"CheckBox"===this.mode&&(s.firstElementChild.setAttribute("aria-checked","true"),L([s.firstElementChild.lastElementChild],"e-check"))))}}removeChip(e){if(this.chipCollectionWrapper){const t=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);t&&nt(t)}}setWidth(e){f(e)||("number"==typeof e?this.overAllWrapper.style.width=fe(e):"string"==typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:fe(e)))}updateChipStatus(){this.value&&this.value.length?(f(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper(),this.showOverAllClear()):(f(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),f(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())}addValue(e,t,i){this.value||(this.value=[]),this.value.indexOf(e)<0&&this.setProperties({value:[].concat([],this.value,[e])},!0);const s=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),s&&(this.addListFocus(s),this.addListSelection(s)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(t,e,i),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()}checkMaxSelection(){(this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength&&L(this.list.querySelectorAll("li."+Ve_li+":not(.e-active)"),"e-disable")}dispatchSelect(e,t,i,s,n){const a=this.listData;if(this.initStatus&&!s){const o=this.getDataByValue(e);this.trigger("select",{e:t,item:i,itemData:o,isInteracted:!!t,cancel:!1},d=>{d.cancel||(n&&(this.selectAllEventData.push(o),this.selectAllEventEle.push(i)),1===n&&(this.trigger("selectedAll",{event:t,items:this.selectAllEventEle,itemData:this.selectAllEventData,isInteracted:!!t,isChecked:!0}),this.selectAllEventData=[]),this.allowCustomValue&&this.isServerRendered&&this.listData!==a&&(this.listData=a),this.updateListSelectEventCallback(e,i,t),this.hideSelectedItem&&this.fixedHeaderElement&&this.fields.groupBy&&"CheckBox"!==this.mode&&super.scrollStop())})}}addChip(e,t,i){this.chipCollectionWrapper&&this.getChip(e,t,i)}removeChipFocus(){const e=this.chipCollectionWrapper.querySelectorAll("span."+Rc),t=this.chipCollectionWrapper.querySelectorAll("span."+qu.split(" ")[0]);if(H(e,Qd),G.isDevice)for(let i=0;i<t.length;i++)t[i].style.display="none"}onMobileChipInteraction(e){const t=U(e.target,"."+Rc),i=t.querySelector("span."+qu.split(" ")[0]);this.enabled&&!this.readonly&&(t.classList.contains(Qd)||(this.removeChipFocus(),i.style.display="",t.classList.add(Qd)),this.refreshPopup(),e.preventDefault())}multiCompiler(e){let t=!1;if(e)try{t=!!Xe(e,document).length}catch(i){t=!1}return t}getChip(e,t,i){let s={text:t,value:t};const n=this.createElement("span",{className:Rc,attrs:{"data-value":t,title:e}});let a;const o=this.createElement("span",{className:"e-chipcontent"}),h=this.createElement("span",{className:qu});if(this.mainData&&(s=this.getDataByValue(t)),this.valueTemplate&&!f(s)){a=this.multiCompiler(this.valueTemplate)?us(J(this.valueTemplate,document).innerHTML.trim()):us(this.valueTemplate);let v=a(s,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,o);if(v&&v.length>0)for(let C=0;C<v.length;C++)o.appendChild(v[C]);this.renderReactTemplates()}else this.enableHtmlSanitizer?o.innerText=e:o.innerHTML=e;n.appendChild(o);const d={isInteracted:!!i,itemData:s,e:i,setClass:m=>{L([n],m)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",d,m=>{m.cancel||(G.isDevice?(n.classList.add("e-mob-chip"),Ge([h],n),h.style.display="none",A.add(n,"click",this.onMobileChipInteraction,this)):(A.add(n,"mousedown",this.chipClick,this),this.showClearButton&&n.appendChild(h)),A.add(h,"mousedown",this.onChipRemove,this),this.chipCollectionWrapper.appendChild(n),!this.changeOnBlur&&i&&this.updateValueState(i,this.value,this.tempValues))})}calcPopupWidth(){let e=fe(this.popupWidth);return e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px"),e}mouseIn(){this.enabled&&!this.readonly&&this.showOverAllClear()}mouseOut(){this.inputFocus||(this.overAllClear.style.display="none")}listOption(e,t){const i=!f(t.iconCss),s=f(t.properties)?t:t.properties;return this.listCurrentOptions=null!==t.text||null!==t.value?{fields:s,showIcon:i,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},ae(this.listCurrentOptions,this.listCurrentOptions,t,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:s}),this.listCurrentOptions}renderPopup(){if(this.list||super.render(),!this.popupObj){document.body.appendChild(this.popupWrapper);const e=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&e&&this.filterParent&&(e.remove(),this.filterParent=null);let t=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),t-=this.header.offsetHeight),Ge([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),t-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"===this.mode&&!this.showSelectAll&&(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(t-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(t-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t=parseInt(this.popupHeight,10)),"CheckBox"===this.mode){const i={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",i),t-=this.searchBoxHeight),L([this.popupWrapper],"e-checkbox")}"auto"!==this.popupHeight?(this.list.style.maxHeight=fe(t),this.popupWrapper.style.maxHeight=fe(this.popupHeight)):this.list.style.maxHeight=fe(this.popupHeight),this.popupObj=new Wn(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:()=>{if(this.popupObj.element.parentElement){this.popupObj.unwireScrollEvents();const i=this.popupWrapper.querySelector("."+DR);"CheckBox"===this.mode&&i&&document.activeElement===i&&i.blur(),oe(this.popupObj.element)}},open:()=>{if(this.popupObj.resolveCollision(),!this.isFirstClick){const i=this.list.querySelector("ul");i&&("CheckBox"!==this.mode&&(this.allowFiltering||this.allowCustomValue)&&""!==this.targetElement().trim()||(this.mainList=i.cloneNode?i.cloneNode(!0):i)),this.isFirstClick=!0}this.popupObj.wireScrollEvents(),"CheckBox"!==this.mode&&(this.allowFiltering||this.allowCustomValue)&&""!==this.targetElement().trim()||this.loadTemplate(),this.setScrollPosition(),this.allowFiltering&&this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})},targetExitViewport:()=>{G.isDevice||this.hidePopup()}}),"CheckBox"===this.mode&&G.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}}setHeaderTemplate(){let e;this.header&&this.header.remove(),this.header=this.createElement("div"),L([this.header],"e-ddl-header"),e=this.multiCompiler(this.headerTemplate)?us(J(this.headerTemplate,document).innerHTML.trim()):us(this.headerTemplate);let i=e({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(i&&i.length>0)for(let s=0;s<i.length;s++)this.header.appendChild(i[s]);"CheckBox"===this.mode&&this.showSelectAll?Mi([this.header],this.popupWrapper):Ge([this.header],this.popupWrapper),A.add(this.header,"mousedown",this.onListMouseDown,this)}setFooterTemplate(){let e;this.footer&&this.footer.remove(),this.footer=this.createElement("div"),L([this.footer],"e-ddl-footer"),e=this.multiCompiler(this.footerTemplate)?us(J(this.footerTemplate,document).innerHTML.trim()):us(this.footerTemplate);let i=e({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(i&&i.length>0)for(let s=0;s<i.length;s++)this.footer.appendChild(i[s]);Ge([this.footer],this.popupWrapper),A.add(this.footer,"mousedown",this.onListMouseDown,this)}clearAll(e){if(this.enabled&&!this.readonly){let t;if(this.value&&this.value.length>0){const i=this.list&&this.list.querySelectorAll("li.e-list-item");if(i&&i.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,t=this.value[this.removeIndex];this.removeIndex<this.value.length;t=this.value[this.removeIndex])this.removeValue(t,e,null,!0)}else this.clearAllCallback(e)}}clearAllCallback(e,t){const i=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"!==this.mode&&(!this.inputFocus||"CheckBox"===this.mode)&&this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,i),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&t&&(f(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),!this.changeOnBlur&&t&&(f(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!f(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()}windowResize(){this.refreshPopup(),(!this.inputFocus||"CheckBox"===this.mode)&&this.viewWrapper&&this.viewWrapper.parentElement&&this.updateDelimView()}resetValueHandler(e){const t=U(this.inputElement,"form");if(t&&e.target===t){const i=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=i}}wireEvent(){A.add(this.componentWrapper,"mousedown",this.wrapperClick,this),A.add(window,"resize",this.windowResize,this),A.add(this.inputElement,"focus",this.focusInHandler,this),A.add(this.inputElement,"keydown",this.onKeyDown,this),A.add(this.inputElement,"keyup",this.keyUp,this),"CheckBox"!==this.mode&&A.add(this.inputElement,"input",this.onInput,this),A.add(this.inputElement,"blur",this.onBlurHandler,this),A.add(this.componentWrapper,"mouseover",this.mouseIn,this);const e=U(this.inputElement,"form");e&&A.add(e,"reset",this.resetValueHandler,this),A.add(this.componentWrapper,"mouseout",this.mouseOut,this),A.add(this.overAllClear,"mouseup",this.clearAll,this),A.add(this.inputElement,"paste",this.pasteHandler,this)}onInput(e){this.isValidKey=!!this.keyDownStatus,this.keyDownStatus=!1,G.isDevice&&"mozilla"===G.info.name&&this.search(e)}pasteHandler(e){setTimeout(()=>{this.expandTextbox(),this.search(e)})}search(e){if(f(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(),this.openClick(e),!this.checkTextLength()||this.allowFiltering||f(e)||8===e.keyCode){const t=this.targetElement();if(this.allowFiltering){const i={preventDefaultAction:!1,text:this.targetElement(),updateData:(s,n,a)=>{i.cancel||(this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(s,n,a))},event:e,cancel:!1};this.trigger("filtering",i,s=>{s.cancel||!this.isFiltered&&!s.preventDefaultAction&&(this.filterAction=!0,this.dataUpdater(this.dataSource,null,this.fields))})}else if(this.allowCustomValue){let i=new kt;i=""!==t?i.where(this.fields.text,"startswith",t,this.ignoreCase,this.ignoreAccent):i,this.dataUpdater(this.mainData,i,this.fields)}else{const i=this.list.querySelectorAll("li."+Ve_li+":not(.e-hide-listitem)"),s=$d(this.targetElement(),i,"StartsWith",this.ignoreCase);s&&null!==s.item?(this.addListFocus(s.item),this.list.scrollTop=s.item.offsetHeight*s.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()}preRender(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),super.preRender()}getLocaleName(){return"multi-select"}initializeData(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0}updateData(e,t){let i="";const s="Delimiter"===this.mode||"CheckBox"===this.mode,n=[];let a;const o=this.listData;if(this.listData=this.mainData,this.hiddenElement.innerHTML="",!f(this.value))for(let m=0;!f(this.value[m]);m++){const v=this.findListElement(f(this.mainList)?this.ulElement:this.mainList,"li","data-value",this.value[m]);f(v)&&!this.allowCustomValue?(this.value.splice(m,1),m-=1):(a=this.listData?this.getTextByValue(this.value[m]):this.value[m],i+=a+e+" ",n.push(a)),this.hiddenElement.innerHTML+='<option selected value ="'+this.value[m]+'">'+m+"</option>"}this.setProperties({text:n.toString()},!0),s&&(this.updateWrapperText(this.delimiterWrapper,i),this.delimiterWrapper.setAttribute("id",$i("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id));const h=t&&t.target,d=!(!h||!h.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&t&&!d||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(t,this.value,this.tempValues)),this.listData=o,this.addValidInputClass()}initialTextUpdate(){if(f(this.text))this.setProperties({value:null},!0);else{const e=this.text.split(this.delimiterChar),t=[];for(let i=0;e.length>i;i++){const s=this.getValueByText(e[i]);f(s)?this.allowCustomValue&&t.push(e[i]):t.push(s)}t&&t.length&&this.setProperties({value:t},!0)}}renderList(e){!e&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(e=!0),super.render(e),this.unwireListEvents(),this.wireListEvents()}initialValueUpdate(){if(this.list){let e,t,i;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!f(this.value))for(let s=0;!f(this.value[s]);s++)if(i=this.value[s],t=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),e=this.getTextByValue(i),t&&"true"!==t.getAttribute("aria-selected")||t&&"true"===t.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,i),this.addListSelection(t);else if(i&&this.allowCustomValue){const n=this.listData.length,a={};At(this.fields.text,i,a),At(this.fields.value,i,a);const o=this.popupWrapper.querySelector(".e-nodata");this.addItem(a,n),t=t||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),this.popupWrapper.contains(o)&&(this.list.setAttribute("style",o.getAttribute("style")),this.popupWrapper.replaceChild(this.list,o),this.wireListEvents()),this.addChip(e,i),this.addListSelection(t)}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"===this.mode&&this.showSelectAll&&(f(this.value)||!this.value.length)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper()}}updateActionCompleteData(e,t){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,L([e],Ai))}updateAddItemList(e,t){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector(".e-nodata")&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),nt(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))}updateDataList(){this.mainList&&this.ulElement&&this.mainList.childElementCount<this.ulElement.childElementCount&&(this.mainList=this.ulElement.cloneNode?this.ulElement.cloneNode(!0):this.ulElement)}isValidLI(e){return e&&!e.classList.contains("e-disabled")&&!e.classList.contains(Ve_group)&&e.classList.contains(Ve_li)}updateListSelection(e,t,i){const s=e.getAttribute("data-value");let n=this.getFormattedValue(s);this.allowCustomValue&&("false"!==s&&!1===n||!f(n)&&"NaN"===n.toString())&&(n=s),this.removeHover(),this.value&&-1!==this.value.indexOf(n)?this.removeValue(n,t,i):this.dispatchSelect(n,t,e,"true"===e.getAttribute("aria-selected"),i)}updateListSelectEventCallback(e,t,i){const s=this.getTextByValue(e);if(!this.allowCustomValue&&!this.allowFiltering||this.findListElement(this.mainList,"li","data-value",e))this.remoteCustomValue=!1,this.addValue(e,s,i);else{const n=t.cloneNode(!0),a=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&"number"==typeof X(a,this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));const o=this.getDataByValue(e);this.trigger("customValueSelection",{newData:o,cancel:!1},d=>{d.cancel||(Ge([n],this.mainList),this.mainData.push(o),this.remoteCustomValue=!1,this.addValue(e,s,i))})}}removeListSelection(){const e=this.hideSelectedItem?Ai:"e-active",t=this.list.querySelectorAll("."+e);let i=t.length;if(t&&t.length)for(H(t,e);i>0;)t[i-1].setAttribute("aria-selected","false"),i--;if(!f(this.mainList)){const s=this.mainList.querySelectorAll("."+e);let n=s.length;if(s&&s.length)for(H(s,e);n>0;)s[n-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(t&&t.length>n-1&&(t[n-1].firstElementChild.setAttribute("aria-checked","false"),H([t[n-1].firstElementChild.lastElementChild],"e-check")),s[n-1].firstElementChild.setAttribute("aria-checked","false"),H([s[n-1].firstElementChild.lastElementChild],"e-check")),n--}}removeHover(){const e=this.list.querySelectorAll(".e-hover");e&&e.length&&H(e,"e-hover")}removeFocus(){if(this.list&&this.mainList){const e=this.list.querySelectorAll("."+Ve_focus),t=this.mainList.querySelectorAll("."+Ve_focus);e&&e.length&&(H(e,Ve_focus),H(t,Ve_focus))}}addListHover(e){(this.enabled&&this.isValidLI(e)||null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!f(this.fields.groupBy))&&(this.removeHover(),L([e],"e-hover"))}addListFocus(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),L([e],Ve_focus)):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!f(this.fields.groupBy)&&L([e],Ve_focus)}addListSelection(e,t){const i=this.hideSelectedItem?Ai:"e-active";if(this.isValidLI(e)&&!e.classList.contains("e-hover")){if(L([e],i),this.updateMainList(!1,e.getAttribute("data-value"),t),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode){const s=e.firstElementChild.getAttribute("aria-checked");("false"===s||f(s))&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this})}this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),Te(this.inputElement,{"aria-activedescendant":e.id})}}updateDelimeter(e,t){this.updateData(e,t)}onMouseClick(e){this.keyCode=null,this.scrollFocusStatus=!1;let t=e.target;const i=U(t,"."+Ve_li);if(U(t,"."+Ve_group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)t=t.classList.contains("e-list-group-item")?t.firstElementChild.lastElementChild:e.target,t.classList.contains("e-check")?(this.selectAllItem(!1,e),t.classList.remove("e-check"),t.classList.remove("e-stop"),U(t,".e-list-group-item").classList.remove("e-active"),t.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),t.classList.remove("e-stop"),t.classList.add("e-check"),U(t,".e-list-group-item").classList.add("e-active"),t.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(i)){let n=this.value&&this.value.length?this.value.length:0;i.classList.contains("e-active")&&(n-=1),n<this.maximumSelectionLength&&(this.updateListSelection(i,e),this.checkPlaceholderSize(),this.addListFocus(i),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(i.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout(()=>{this.updateDelimeter(this.delimiterChar,e)},0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup():e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(t),"CheckBox"!==this.mode&&this.refreshListItems(f(i)?null:i.textContent)}else e.preventDefault();this.refreshPlaceHolder(),this.deselectHeader()}}findGroupStart(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!f(this.fields.groupBy)){const t=0,i=0,s=0;let n;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),n=this.findGroupAttrtibutes(e,i,s,t,0),n=this.findGroupAttrtibutes(e,n[0],n[1],n[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,n[0],n[1],n[2])}}findGroupAttrtibutes(e,t,i,s,n){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?t++:e.classList.contains("e-list-item")&&i++,s++,null!=(e=n?e.nextElementSibling:e.previousElementSibling)););return[t,i,s]}updateCheckBox(e,t,i,s){if(null===e)return;const n=e.getElementsByClassName("e-frame")[0];s===t?(n.classList.remove("e-stop"),n.classList.add("e-check"),U(n,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):s===i?(n.classList.remove("e-check"),n.classList.remove("e-stop"),U(n,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===t-1?(n.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),U(n,".e-list-group-item").classList.add("e-active"),n.classList.add("e-check")):(n.classList.remove("e-check"),n.classList.add("e-stop"),U(n,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}deselectHeader(){const e=this.value&&this.value.length?this.value.length:0,t=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&H(t,"e-disable"),e===this.maximumSelectionLength&&L(t,"e-disable")}onMouseOver(e){let t=U(e.target,"."+Ve_li);null===t&&"CheckBox"===this.mode&&!f(this.fields.groupBy)&&this.enableGroupCheckBox&&(t=U(e.target,"."+Ve_group)),this.addListHover(t)}onMouseLeave(){this.removeHover()}onListMouseDown(e){e.preventDefault(),this.scrollFocusStatus=!0}onDocumentClick(e){if("CheckBox"!==this.mode){const t=e.target;this.scrollFocusStatus=!!(!f(this.popupObj)&&U(t,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target))&&(G.isIE||"edge"===G.info.name)&&document.activeElement===this.inputElement}}wireListEvents(){A.add(document,"mousedown",this.onDocumentClick,this),A.add(this.list,"mousedown",this.onListMouseDown,this),A.add(this.list,"mouseup",this.onMouseClick,this),A.add(this.list,"mouseover",this.onMouseOver,this),A.add(this.list,"mouseout",this.onMouseLeave,this)}unwireListEvents(){A.remove(document,"mousedown",this.onDocumentClick),this.list&&(A.remove(this.list,"mousedown",this.onListMouseDown),A.remove(this.list,"mouseup",this.onMouseClick),A.remove(this.list,"mouseover",this.onMouseOver),A.remove(this.list,"mouseout",this.onMouseLeave))}hideOverAllClear(){(!this.value||!this.value.length||""===this.inputElement.value)&&(this.overAllClear.style.display="none")}showOverAllClear(){this.overAllClear.style.display=(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?"":"none"}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()}focusOut(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()}showSpinner(){if(f(this.spinnerElement)){let e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");"none"!==this.overAllClear.style.display||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:yj+" "+wj}),this.componentWrapper.appendChild(this.spinnerElement)),wc({target:this.spinnerElement,width:G.isDevice?"16px":"14px"},this.createElement),L([this.spinnerElement],Ej),so(this.spinnerElement)}}hideSpinner(){f(this.spinnerElement)||(no(this.spinnerElement),H([this.spinnerElement],Ej),this.spinnerElement.classList.contains(wj)?oe(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}updateWrapperText(e,t){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=t:e.innerText=nn.sanitize(t)}updateDelimView(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(wR),this.value&&this.value.length){let t,i,n,a,h,e="",s=1,o=0;this.updateWrapperText(this.viewWrapper,e);const d={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"};let m=new Gs(this.getLocaleName(),d,this.locale);""===m.getConstant("actionFailureTemplate")&&(m=new Gs("dropdowns",d,this.locale)),""===m.getConstant("noRecordsTemplate")&&(m=new Gs("dropdowns",d,this.locale));const v=m.getConstant("overflowCountTemplate"),C=m.getConstant("totalCountTemplate"),w=this.createElement("span",{className:"e-remain"});let S=v.replace("${count}",this.value.length.toString());w.innerText=S,this.viewWrapper.appendChild(w),this.renderReactTemplates();const k=w.offsetWidth;if(nt(w),this.showDropDownIcon&&(o=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!f(this.value))for(let O=0;!f(this.value[O]);O++){if(e+=0===O?"":this.delimiterChar+" ",t=this.getOverflowVal(O),e+=t,t=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),n=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),h=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),n+o+this.clearIconWidth>h){for(void 0!==i&&""!==i&&(t=i,O=s+1),this.updateWrapperText(this.viewWrapper,t),a=this.value.length-O,n=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);n+k+o+this.clearIconWidth>h&&0!==n&&""!==this.viewWrapper.innerHTML;)this.viewWrapper.innerHTML=[].join(this.delimiterChar),a=this.value.length,n=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);break}n+k+o+this.clearIconWidth<=h?(i=e,s=O):0===O&&(i="",s=-1)}if(a>0){const O=h-o-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(w,this.viewWrapper,a,v,C,O)),this.updateRemainWidth(this.viewWrapper,O),this.updateRemainingText(w,o,a,v,C)}}else this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none"}checkClearIconWidth(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)}updateRemainWidth(e,t){e.classList.contains(wR)&&t<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=t+"px")}updateRemainTemplate(e,t,i,s,n,a){t.firstChild&&3===t.firstChild.nodeType&&""===t.firstChild.nodeValue&&t.removeChild(t.firstChild),e.innerHTML="";let o=s.replace("${count}",i.toString()),h=n.replace("${count}",i.toString());return e.innerText=t.firstChild&&3===t.firstChild.nodeType?o:h,t.firstChild&&3===t.firstChild.nodeType?t.classList.remove(wR):(t.classList.add(wR),this.updateRemainWidth(t,a)),e}updateRemainingText(e,t,i,s,n){const a=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10);let o=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(o+t>=a&&0!==o&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;o+t>a&&0!==o&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){const d=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);d.pop(),this.viewWrapper.firstChild.nodeValue=d.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),i++,o=this.viewWrapper.offsetWidth}this.updateRemainTemplate(e,this.viewWrapper,i,s,n,a-t)}}getOverflowVal(e){let t;if(this.mainData&&this.mainData.length)if("CheckBox"===this.mode){const i=this.listData;this.listData=this.mainData,t=this.getTextByValue(this.value[e]),this.listData=i}else t=this.getTextByValue(this.value[e]);else t=this.value[e];return t}unWireEvent(){A.remove(this.componentWrapper,"mousedown",this.wrapperClick),A.remove(window,"resize",this.windowResize),A.remove(this.inputElement,"focus",this.focusInHandler),A.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&A.remove(this.inputElement,"input",this.onInput),A.remove(this.inputElement,"keyup",this.keyUp);const e=U(this.inputElement,"form");e&&A.remove(e,"reset",this.resetValueHandler),A.remove(this.inputElement,"blur",this.onBlurHandler),A.remove(this.componentWrapper,"mouseover",this.mouseIn),A.remove(this.componentWrapper,"mouseout",this.mouseOut),A.remove(this.overAllClear,"mousedown",this.clearAll),A.remove(this.inputElement,"paste",this.pasteHandler)}selectAllItem(e,t,i){let s;if(s=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)'),this.value&&this.value.length&&t&&t.target&&U(t.target,".e-close-hooker")&&this.allowFiltering&&(s=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!f(this.fields.groupBy)){let n=t?t.target:null;if(n=t&&32===t.keyCode?i:n,n=n&&n.classList.contains("e-frame")?n.parentElement.parentElement:n,n&&n.classList.contains("e-list-group-item")){let a=n.nextElementSibling;if(f(a))return;for(;a.classList.contains("e-list-item");){if(e){if(!a.firstElementChild.lastElementChild.classList.contains("e-check")){let o=this.value&&this.value.length?this.value.length:0;a.classList.contains("e-active")&&(o-=1),o<this.maximumSelectionLength&&this.updateListSelection(a,t)}}else a.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(a,t);if(a=a.nextElementSibling,null==a)break}if(n.classList.contains("e-list-group-item")){const o=this.list.getElementsByClassName("e-item-focus")[0];o&&o.classList.remove("e-item-focus"),e?n.classList.add("e-active"):n.classList.remove("e-active"),n.classList.add("e-item-focus")}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&t&&this.updateValueState(t,this.value,this.tempValues)}else this.updateValue(t,s,e)}else this.updateValue(t,s,e)}updateValue(e,t,i){const s=t.length,n={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",n),t&&t.length){let a=0,o=0;if(o=this.enableGroupCheckBox?i?this.maximumSelectionLength-(this.value?this.value.length:0):t.length:i?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,n.preventSelectEvent){for(let d=0;d<t.length&&d<o;d++){this.removeHover();let m=t[d].getAttribute("data-value"),v=this.getFormattedValue(m),C=this.mainList?this.mainList.querySelectorAll(i?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[d]:null;i?(this.value=this.value?this.value:[],this.value.indexOf(v)<0&&this.setProperties({value:[].concat([],this.value,[v])},!0),this.removeFocus(),this.addListSelection(t[d],C),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(v,e,!1,t[d],C),this.enableGroupCheckBox&&this.findGroupStart(t[d])}!i&&(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength&&H(this.list.querySelectorAll("li."+Ve_li+":not(.e-active)"),"e-disable"),this.trigger("selectedAll",{event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i})}else{for(;a<s&&a<=50&&a<o;)this.updateListSelection(t[a],e,s-a),this.enableGroupCheckBox&&this.findGroupStart(t[a]),a++;s>50&&setTimeout(()=>{for(;a<s&&a<o;)this.updateListSelection(t[a],e,s-a),this.enableGroupCheckBox&&this.findGroupStart(t[a]),a++;this.updatedataValueItems(e),this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement()},0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),s<=50&&!n.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement())}updateHiddenElement(){let e="",t="",i="";const s=[];"CheckBox"===this.mode&&(this.value.map((n,a)=>{e+='<option selected value ="'+n+'">'+a+"</option>",i=this.listData?this.getTextByValue(n):n,t+=i+this.delimiterChar+" ",s.push(i)}),this.hiddenElement.innerHTML=e,this.updateWrapperText(this.delimiterWrapper,t),this.delimiterWrapper.setAttribute("id",$i("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id),this.setProperties({text:s.toString()},!0),this.refreshInputHight(),this.refreshPlaceHolder())}updatedataValueItems(e){this.deselectHeader(),this.textboxValueUpdate(e)}textboxValueUpdate(e){const t=e&&e.target&&(U(e.target,".e-selectall-parent")||U(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||t)?this.searchWrapper.classList.remove(gv):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),t||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()}setZIndex(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}updateDataSource(e){f(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())}onLoadSelect(){this.setDynValue=!0,this.renderPopup()}selectAllItems(e,t){f(this.list)?(this.selectAllAction=()=>{"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:e?"check":"uncheck"}),this.selectAllItem(e,t),this.selectAllAction=null},super.render()):(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{value:e?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"}),this.selectAllItem(e,t))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(e,t){(e.dataSource&&!f(Object.keys(e.dataSource))||e.query&&!f(Object.keys(e.query)))&&(this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&(f(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,t.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(e.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:e.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(e.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(t.cssClass),this.updateCssClass();break;case"enableRtl":this.enableRTL(e.enableRtl),super.onPropertyChanged(e,t);break;case"readonly":this.updateReadonly(e.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(e.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass();break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;default:{const s=this.getPropObject(i,e,t);super.onPropertyChanged(s.newProperty,s.oldProperty)}}}reInitializePoup(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()}updateVal(e,t,i){if(this.list)if(!(this.dataSource instanceof ot)||this.listData&&this.mainList&&this.mainData){if("text"===i&&(this.initialTextUpdate(),e=this.value),(f(this.value)||0===this.value.length)&&(this.tempValues=t),this.allowCustomValue&&("Default"===this.mode||"Box"===this.mode)&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.initialValueUpdate(),"Box"!==this.mode&&!this.inputFocus&&this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,t),this.checkPlaceholderSize()}else this.onLoadSelect();else this.onLoadSelect();this.changeOnBlur||this.updateValueState(null,e,t)}addItem(e,t){super.addItem(e,t)}hidePopup(){this.isPopupOpen()&&this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:100}},s=>{s.cancel||(this.fields.groupBy&&"CheckBox"!==this.mode&&this.fixedHeaderElement&&(nt(this.fixedHeaderElement),this.fixedHeaderElement=null),this.beforePopupOpen=!1,this.overAllWrapper.classList.remove(Sj),this.popupObj.hide(new Gi(s.animation)),Te(this.inputElement,{"aria-expanded":"false"}),this.allowFiltering&&this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"clear"}),this.popupObj.hide(),H([document.body,this.popupObj.element],"e-popup-full-page"),A.remove(this.list,"keydown",this.onKeyDown))})}showPopup(){this.enabled&&this.trigger("beforeOpen",{cancel:!1},t=>{if(!t.cancel){if(!this.ulElement)return this.beforePopupOpen=!0,super.render(),void("CheckBox"===this.mode&&G.isDevice&&this.allowFiltering&&this.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}));"CheckBox"===this.mode&&G.isDevice&&this.allowFiltering&&this.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode});const i=this.ulElement.querySelectorAll("li.e-list-item").length,s=this.ulElement.querySelectorAll("li."+Ve_li+"."+Ai).length;if(i>0&&i===s&&s===this.mainData.length)return void(this.beforePopupOpen=!1);this.onPopupShown()}})}selectAll(e){this.isSelectAll=!0,this.selectAllItems(e)}getModuleName(){return"multiselect"}clear(){this.selectAll(!1),this.value&&this.value.length?setTimeout(()=>{this.setProperties({value:null},!0)},0):this.setProperties({value:null},!0)}render(){this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view "+bj,styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:yj,styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&L([this.overAllWrapper],"e-checkbox"),G.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:bj,styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",$i("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",$i("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!G.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(LV),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0"}}),("Default"===this.mode||"Box"===this.mode)&&(this.inputElement.setAttribute("aria-describedby",this.chipCollectionWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.chipCollectionWrapper.id)),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?R(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";const e=this.element.getAttribute("id")?this.element.getAttribute("id"):$i("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}checkInitialValue(){const e=this.dataSource instanceof Array?this.dataSource.length>0:!f(this.dataSource);if((!this.value||!this.value.length)&&f(this.text)&&!e&&"SELECT"===this.element.tagName&&this.element.options.length>0){const t=this.element.options,i=[];let s="";for(let n=0,a=t.length;n<a;n++){const o=t[n];f(o.getAttribute("selected"))||(o.getAttribute("value")?i.push(o.getAttribute("value")):s+=o.text+this.delimiterChar)}i.length>0?this.setProperties({value:i},!0):""!==s&&this.setProperties({text:s},!0),(i.length>0||""!==s)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!f(this.text))&&(this.list||super.render()),!f(this.text)&&(f(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof ot?this.setInitialValue=()=>{this.initStatus=!1,this.initialValueUpdate(),this.initialUpdate(),this.setInitialValue=null,this.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),f(this.text)||this.element.setAttribute("data-initial-value",this.text)}checkAutoFocus(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()}setFloatLabelType(){(function(r,e,t,i,s,n,a){const o=e.querySelector("."+E),h=e.querySelector("."+y);let d;f(o)?(d=null!==a?a:"",Y(s,i,d)):(d=o.innerText,oe(t.querySelector("."+E)),Y(s,i,d),f(h)||oe(t.querySelector("."+y))),r.classList.remove("e-float-input")})(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,0,this.placeholder),"Never"!==this.floatLabelType&&R(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)}addValidInputClass(){!f(this.value)&&this.value.length||"Always"===this.floatLabelType?L([this.overAllWrapper],"e-valid-input"):H([this.overAllWrapper],"e-valid-input")}dropDownIcon(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:Dj}),this.componentWrapper.appendChild(this.dropIcon),L([this.componentWrapper],["e-down-icon"])):f(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),H([this.componentWrapper],["e-down-icon"]))}initialUpdate(){"Box"!==this.mode&&!(this.setDynValue&&"Default"===this.mode&&this.inputFocus)&&this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()}destroy(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,super.destroy();const e=["readonly","aria-disabled","aria-placeholder","placeholder"];let t=e.length;for(;t>0;)this.inputElement.removeAttribute(e[t-1]),t--;this.element.removeAttribute("data-initial-value"),this.element.style.display="block",this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),nt(this.overAllWrapper))}};ie([Ht({text:null,value:null,iconCss:null,groupBy:null},Mx)],Mt.prototype,"fields",void 0),ie([T(!1)],Mt.prototype,"enablePersistence",void 0),ie([T(null)],Mt.prototype,"groupTemplate",void 0),ie([T("No records found")],Mt.prototype,"noRecordsTemplate",void 0),ie([T("Request failed")],Mt.prototype,"actionFailureTemplate",void 0),ie([T("None")],Mt.prototype,"sortOrder",void 0),ie([T(!0)],Mt.prototype,"enabled",void 0),ie([T(!1)],Mt.prototype,"enableHtmlSanitizer",void 0),ie([T([])],Mt.prototype,"dataSource",void 0),ie([T(null)],Mt.prototype,"query",void 0),ie([T("StartsWith")],Mt.prototype,"filterType",void 0),ie([T(1e3)],Mt.prototype,"zIndex",void 0),ie([T(!1)],Mt.prototype,"ignoreAccent",void 0),ie([T()],Mt.prototype,"locale",void 0),ie([T(!1)],Mt.prototype,"enableGroupCheckBox",void 0),ie([T(null)],Mt.prototype,"cssClass",void 0),ie([T("100%")],Mt.prototype,"width",void 0),ie([T("300px")],Mt.prototype,"popupHeight",void 0),ie([T("100%")],Mt.prototype,"popupWidth",void 0),ie([T(null)],Mt.prototype,"placeholder",void 0),ie([T(null)],Mt.prototype,"filterBarPlaceholder",void 0),ie([T({})],Mt.prototype,"htmlAttributes",void 0),ie([T(null)],Mt.prototype,"valueTemplate",void 0),ie([T(null)],Mt.prototype,"headerTemplate",void 0),ie([T(null)],Mt.prototype,"footerTemplate",void 0),ie([T(null)],Mt.prototype,"itemTemplate",void 0),ie([T(null)],Mt.prototype,"allowFiltering",void 0),ie([T(!0)],Mt.prototype,"changeOnBlur",void 0),ie([T(!1)],Mt.prototype,"allowCustomValue",void 0),ie([T(!0)],Mt.prototype,"showClearButton",void 0),ie([T(1e3)],Mt.prototype,"maximumSelectionLength",void 0),ie([T(!1)],Mt.prototype,"readonly",void 0),ie([T(null)],Mt.prototype,"text",void 0),ie([T(null)],Mt.prototype,"value",void 0),ie([T(!0)],Mt.prototype,"hideSelectedItem",void 0),ie([T(!0)],Mt.prototype,"closePopupOnSelect",void 0),ie([T("Default")],Mt.prototype,"mode",void 0),ie([T(",")],Mt.prototype,"delimiterChar",void 0),ie([T(!0)],Mt.prototype,"ignoreCase",void 0),ie([T(!1)],Mt.prototype,"showDropDownIcon",void 0),ie([T("Never")],Mt.prototype,"floatLabelType",void 0),ie([T(!1)],Mt.prototype,"showSelectAll",void 0),ie([T("Select All")],Mt.prototype,"selectAllText",void 0),ie([T("Unselect All")],Mt.prototype,"unSelectAllText",void 0),ie([T(!0)],Mt.prototype,"enableSelectionOrder",void 0),ie([T(!0)],Mt.prototype,"openOnClick",void 0),ie([T(!1)],Mt.prototype,"addTagOnBlur",void 0),ie([$()],Mt.prototype,"change",void 0),ie([$()],Mt.prototype,"removing",void 0),ie([$()],Mt.prototype,"removed",void 0),ie([$()],Mt.prototype,"beforeSelectAll",void 0),ie([$()],Mt.prototype,"selectedAll",void 0),ie([$()],Mt.prototype,"beforeOpen",void 0),ie([$()],Mt.prototype,"open",void 0),ie([$()],Mt.prototype,"close",void 0),ie([$()],Mt.prototype,"blur",void 0),ie([$()],Mt.prototype,"focus",void 0),ie([$()],Mt.prototype,"chipSelection",void 0),ie([$()],Mt.prototype,"filtering",void 0),ie([$()],Mt.prototype,"tagging",void 0),ie([$()],Mt.prototype,"customValueSelection",void 0),Mt=ie([oi],Mt);var TR,Ys=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class Wx extends hi{}Ys([T("Multiple")],Wx.prototype,"mode",void 0),Ys([T(!1)],Wx.prototype,"showCheckbox",void 0),Ys([T(!1)],Wx.prototype,"showSelectAll",void 0),Ys([T("Left")],Wx.prototype,"checkboxPosition",void 0);class PV extends hi{}Ys([T([])],PV.prototype,"items",void 0),Ys([T("Right")],PV.prototype,"position",void 0);let Fn=TR=class extends hC{constructor(e,t){super(e,t),this.isValidKey=!1,this.isDataSourceUpdate=!1,this.keyDownStatus=!1}addItem(e,t){super.addItem(e,t)}render(){this.inputString="",this.initLoad=!0,this.isCustomFiltering=!1,this.initialSelectedOptions=this.value,super.render(),this.renderComplete()}initWrapper(){const e=this.createElement("select",{className:"e-hidden-select",attrs:{multiple:""}});this.list.classList.add("e-listbox-wrapper"),this.itemTemplate&&this.list.classList.add("e-list-template"),this.list.classList.add("e-wrapper"),this.list.classList.add("e-lib"),"EJS-LISTBOX"===this.element.tagName?(this.element.setAttribute("tabindex","0"),this.initLoad&&this.element.appendChild(this.list)):(this.initLoad&&this.element.parentElement.insertBefore(this.list,this.element),this.list.insertBefore(this.element,this.list.firstChild),this.element.style.display="none"),this.list.insertBefore(e,this.list.firstChild),this.list.getElementsByClassName("e-list-item")[0]&&this.list.getElementsByClassName("e-list-item")[0].classList.remove(Ve_focus),this.itemTemplate&&this.renderReactTemplates(),H([this.list],["e-content",Ve_root]),this.validationAttribute(this.element,e),this.list.setAttribute("role","listbox"),Te(this.list,{role:"listbox","aria-multiselectable":"Multiple"===this.selectionSettings.mode?"true":"false"}),this.updateSelectionSettings()}updateSelectionSettings(){if(this.selectionSettings.showCheckbox&&this.selectionSettings.showSelectAll&&this.liCollections.length){const e=new Gs(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=e.getConstant("selectAllText"),this.unSelectAllText=e.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{})}}initDraggable(){this.ulElement&&(this.ulElement.id=this.element.id+"_parent"),this.allowDragAndDrop&&new Ro(this.ulElement,{scope:this.scope,itemClass:"e-list-item",dragStart:this.triggerDragStart.bind(this),drag:this.triggerDrag.bind(this),beforeDrop:this.beforeDragEnd.bind(this),drop:this.dragEnd.bind(this),placeHolder:()=>this.createElement("span",{className:"e-placeholder"}),helper:e=>{const t=this.list.cloneNode(),i=e.sender.cloneNode(!0);t.appendChild(i);const s=this.getItems()[0];return t.style.width=s.offsetWidth+"px",t.style.height=s.offsetHeight+"px",(this.value&&this.value.length)>1&&this.isSelected(i)&&i.appendChild(this.createElement("span",{className:"e-list-badge",innerHTML:this.value.length+""})),t.style.zIndex=wd(this.element)+"",t}})}updateActionCompleteData(e,t){this.jsonData.push(t)}initToolbar(){const e=this.toolbarSettings.position,t=this.element.getAttribute("data-value");if(this.toolbarSettings.items.length){const s=this.createElement("div",{className:"e-listbox-tool",attrs:{role:"toolbar"}}),n=this.createElement("div",{className:"e-listboxtool-wrapper e-lib e-"+e.toLowerCase()});this.list.parentElement.insertBefore(n,this.list),n.appendChild("Right"===e?this.list:s),n.appendChild("Right"===e?s:this.list),this.createButtons(s),this.element.id||(this.element.id=$i("e-"+this.getModuleName())),this.scope?document.querySelector(this.scope).setAttribute("data-value",this.element.id):this.updateToolBarState()}const i=this.element.getAttribute("data-value");t&&i&&t!==i?(this.tBListBox=sa(document.getElementById(t),this.getModuleName()),this.tBListBox.updateToolBarState()):i&&(this.tBListBox=sa(document.getElementById(i),this.getModuleName()),this.tBListBox.updateToolBarState())}createButtons(e){let t,i,s;const n=new Gs(this.getModuleName(),{moveUp:"Move Up",moveDown:"Move Down",moveTo:"Move To",moveFrom:"Move From",moveAllTo:"Move All To",moveAllFrom:"Move All From"},this.locale);this.toolbarSettings.items.forEach(a=>{s=n.getConstant(a),i=this.createElement("button",{attrs:{type:"button","data-value":a,title:s,"aria-label":s}}),e.appendChild(i),t=new ll({iconCss:"e-icons e-"+a.toLowerCase()},i),t.createElement=this.createElement})}validationAttribute(e,t){super.validationAttribute(e,t),t.required=e.required,e.required=!1}setHeight(){(this.toolbarSettings.items.length?this.list.parentElement:this.list).style.height=fe(this.height),this.allowFiltering&&this.height.toString().indexOf("%")<0?L([this.list],"e-filter-list"):H([this.list],"e-filter-list")}setCssClass(){this.cssClass&&L([this.toolbarSettings.items.length?this.list.parentElement:this.list],this.cssClass.split(" ")),this.enableRtl&&L([this.list],"e-rtl")}setEnable(){const e=this.toolbarSettings.items.length?this.list.parentElement:this.list;this.enabled?H([e],Lt.disabled):L([e],Lt.disabled)}showSpinner(){this.spinner||(this.spinner=this.createElement("div",{className:"e-listbox-wrapper"})),this.spinner.style.height=fe(this.height),this.element.parentElement.insertBefore(this.spinner,this.element.nextSibling),wc({target:this.spinner},this.createElement),so(this.spinner)}hideSpinner(){this.spinner.querySelector(".e-spinner-pane")&&no(this.spinner),this.spinner.parentElement&&oe(this.spinner)}onInput(){this.isDataSourceUpdate=!1,this.isValidKey=!!this.keyDownStatus,this.keyDownStatus=!1,this.refreshClearIcon()}clearText(){this.filterInput.value="",this.refreshClearIcon();const e=document.createEvent("KeyboardEvent");this.isValidKey=!0,this.KeyUp(e)}refreshClearIcon(){this.filterInput.parentElement.querySelector("."+Uw.clearIcon)&&(this.filterInput.parentElement.querySelector("."+Uw.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible")}onActionComplete(e,t,i){let s;if(this.allowFiltering&&this.list.getElementsByClassName("e-filter-parent")[0]&&(s=this.list.getElementsByClassName("e-filter-parent")[0].cloneNode(!0)),0===t.length){const n=e.childNodes[0];n&&e.removeChild(n)}if(super.onActionComplete(e,t,i),this.allowFiltering&&!f(s)&&(this.list.insertBefore(s,this.list.firstElementChild),this.filterParent=this.list.getElementsByClassName("e-filter-parent")[0],this.filterWireEvents(s)),this.initWrapper(),this.setSelection(),this.initDraggable(),this.mainList=this.ulElement,this.initLoad)this.jsonData=[],ae(this.jsonData,t,[]),this.initToolbarAndStyles(),this.wireEvents(),this.showCheckbox&&this.setCheckboxPosition(),this.allowFiltering&&this.setFiltering();else if(this.isDataSourceUpdate&&(this.jsonData=[],ae(this.jsonData,t,[]),this.isDataSourceUpdate=!1),this.allowFiltering){const n=this.list.getElementsByClassName("e-input-filter")[0],a=this.filterInput.value.length;n.selectionStart=a,n.selectionEnd=a,n.focus()}if(this.toolbarSettings.items.length&&this.scope&&this.scope.indexOf("#")>-1&&!f(i)){const n=this.scope.replace("#","");sa(document.getElementById(n),this.getModuleName()).initToolbar()}this.initLoad=!1}initToolbarAndStyles(){this.initToolbar(),this.setCssClass(),this.setEnable(),this.setHeight()}triggerDragStart(e){let t;e=ae(this.getDragArgs(e),{dragSelected:!0}),G.isIos&&(this.list.style.overflow="hidden"),this.trigger("dragStart",e,i=>{this.allowDragAll=i.dragSelected,this.allowDragAll||(t=this.ulElement.getElementsByClassName("e-list-badge")[0],t&&oe(t))})}triggerDrag(e){this.trigger("drag",this.getDragArgs(e));const t=this.getComponent(e.target);if(t&&0===t.listData.length){const i=t.ulElement.childNodes[0];i&&t.ulElement.removeChild(i)}}beforeDragEnd(e){const t=this.getFormattedValue(e.droppedElement.getAttribute("data-value"));e.items=this.value.indexOf(t)>-1?this.getDataByValues(this.value):this.getDataByValues([t]),this.trigger("beforeDrop",e),null!==e.isDragAll&&(this.allowDragAll=e.isDragAll)}dragEnd(e){let t,i,s,n,a,o;const h=this.getFormattedValue(e.droppedElement.getAttribute("data-value")),d=this.getComponent(e.droppedElement),m=this.getDragArgs({target:e.droppedElement},!0),v={previousData:this.dataSource},C={previousData:d.dataSource};let w=ae({},m,{target:e.target,source:{previousData:this.dataSource},previousIndex:e.previousIndex,currentIndex:e.currentIndex});if(d!==this){const S=ae(v,{currentData:this.listData});w=ae(w,{source:S,destination:C})}if(G.isIos&&(this.list.style.overflow=""),d===this){const S=this.ulElement;t=[].slice.call(this.listData),i=[].slice.call(this.liCollections),s=[].slice.call(this.jsonData),o=[].slice.call(this.sortedData);const k=e.currentIndex;let O=e.currentIndex=this.getCurIdx(this,e.currentIndex);const N=t.indexOf(this.getDataByValue(h)),q=s.indexOf(this.getDataByValue(h)),z=o.indexOf(this.getDataByValue(h));t.splice(O,0,t.splice(N,1)[0]),o.splice(k,0,o.splice(z,1)[0]),s.splice(O,0,s.splice(q,1)[0]),i.splice(O,0,i.splice(N,1)[0]),this.allowDragAll&&(a=this.value&&Array.prototype.indexOf.call(this.value,h)>-1?this.value:[h],a.forEach(Z=>{if(Z!==h){const Ce=t.indexOf(this.getDataByValue(Z)),ce=s.indexOf(this.getDataByValue(Z)),Fe=o.indexOf(this.getDataByValue(Z));Ce>O&&O++,s.splice(O,0,s.splice(ce,1)[0]),t.splice(O,0,t.splice(Ce,1)[0]),o.splice(k,0,o.splice(Fe,1)[0]),i.splice(O,0,i.splice(Ce,1)[0]),S.insertBefore(this.getItems()[this.getIndexByValue(Z)],S.getElementsByClassName("e-placeholder")[0])}})),this.listData=t,this.jsonData=s,this.sortedData=o,this.liCollections=i}else{let S;const k=[].slice.call(this.liCollections);let O=e.currentIndex=this.getCurIdx(d,e.currentIndex);const N=d.ulElement;t=[].slice.call(d.listData),i=[].slice.call(d.liCollections),s=[].slice.call(d.jsonData),o=[].slice.call(d.sortedData),a=this.value&&Array.prototype.indexOf.call(this.value,h)>-1&&this.allowDragAll?this.value:[h];const q=[].slice.call(this.listData),z=[].slice.call(this.sortedData);if(a.forEach((Z,Ce)=>{n=this.getDataByValue(Z);const ce=this.listData.indexOf(n),Fe=this.jsonData.indexOf(n),Se=this.sortedData.indexOf(n);q.splice(ce,1),this.jsonData.splice(Fe,1),z.splice(Se,1),this.listData=q,this.sortedData=z;const Be=Z===h?e.currentIndex:O;if(t.splice(Be,0,n),s.splice(Be,0,n),o.splice(Be,0,n),i.splice(Be,0,k.splice(ce,1)[0]),Z)S=this.getItems()[this.getIndexByValue(Z)];else{const ht=this.getItems();for(let Ie=0;Ie<ht.length;Ie++)if(null===ht[Ie].getAttribute("data-value")&&ht[Ie].classList.contains("e-list-item")){S=ht[Ie];break}}S||(S=e.helper),this.removeSelected(this,Z===h?[e.droppedElement]:[S]),N.insertBefore(S,N.getElementsByClassName("e-placeholder")[0]),O++}),this.fields.groupBy){let Z=this.renderItems(this.listData,this.fields);this.updateListItems(Z,this.ulElement),this.setSelection()}if("None"!==d.sortOrder||this.selectionSettings.showCheckbox!==d.selectionSettings.showCheckbox||d.fields.groupBy||d.itemTemplate||this.itemTemplate){const Z=sa(N,"sortable");let Ce=d.renderItems(t,d.fields);d.updateListItems(Ce,N),this.setSelection(),Z.placeHolderElement&&N.appendChild(Z.placeHolderElement),N.appendChild(e.helper),d.setSelection()}this.liCollections=k,d.liCollections=i,d.jsonData=ae([],[],s,!1),d.listData=ae([],[],t,!1),d.sortedData=ae([],[],o,!1),0===this.listData.length&&this.l10nUpdate()}if(this===d){const S=ae(v,{currentData:t});w=ae(w,{source:S})}else{const S=ae(C,{currentData:t});w=ae(w,{destination:S})}this.trigger("drop",w)}updateListItems(e,t){for(t.innerHTML="";0<e.childNodes.length;)t.appendChild(e.childNodes[0])}removeSelected(e,t){e.selectionSettings.showCheckbox?t.forEach(i=>{i.getElementsByClassName("e-frame")[0].classList.remove("e-check")}):H(t,Lt.selected)}getCurIdx(e,t){return e.fields.groupBy&&(t-=[].slice.call(e.ulElement.children).slice(0,t).filter(i=>i.classList.contains(Lt.group)).length),t}getComponent(e){let t;const i="EJS-LISTBOX"===this.element.tagName?U(e,".e-listbox"):U(e,".e-listbox-wrapper")&&U(e,".e-listbox-wrapper").querySelector(".e-listbox");return i&&(t=sa(i,this.getModuleName())),t}listOption(e,t){return this.listCurrentOptions=super.listOption(e,t),this.listCurrentOptions=ae({},this.listCurrentOptions,{itemCreated:this.triggerBeforeItemRender.bind(this)},!0),this.notify("listoption",{module:"CheckBoxSelection"}),this.listCurrentOptions}triggerBeforeItemRender(e){e.item.setAttribute("tabindex","-1"),this.trigger("beforeItemRender",{element:e.item,item:e.curData})}requiredModules(){const e=[];return this.selectionSettings.showCheckbox&&e.push({member:"CheckBoxSelection",args:[this]}),e}enableItems(e,t=!0,i){let s;e.forEach(n=>{s=this.findListElement(this.list,"li","data-value",i?n:this.getValueByText(n)),s&&(t?(H([s],Lt.disabled),s.removeAttribute("aria-disabled")):(L([s],Lt.disabled),s.setAttribute("aria-disabled","true")))})}selectItems(e,t=!0,i){this.setSelection(e,t,!i),this.updateSelectedOptions()}selectAll(e=!0){this.selectAllItems(e)}addItems(e,t){super.addItem(e,t)}removeItems(e,t){this.removeItem(e,t)}removeItem(e,t){const i=[],s=this.list.querySelectorAll("."+Ve_li);if(e){e=e instanceof Array?e:[e];const n=this.fields;let a,o;const h=[];let d;ae(h,[],this.listData);const m=[],v=[];for(let C=0;C<e.length;C++){a=e[C]instanceof Object?X(n.value,e[C]):e[C].toString();for(let w=0,S=h.length;w<S;w++)o=h[w]instanceof Object?X(n.value,h[w]):h[w].toString(),o===a&&(d=this.getIndexByValue(a),i.push(s[d]),m.push(w),v.push(d))}for(let C=m.length-1;C>=0;C--)this.listData.splice(m[C],1);for(let C=m.length-1;C>=0;C--)this.jsonData.splice(m[C],1);for(let C=v.length-1;C>=0;C--)this.updateLiCollection(v[C])}else i.push(s[t=t||0]),this.listData.splice(t,1),this.jsonData.splice(t,1),this.updateLiCollection(t);for(let n=0;n<i.length;n++)this.ulElement.removeChild(i[n]);0===this.listData.length&&this.l10nUpdate()}getDataByValues(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.getDataByValue(e[i]));return t}moveUp(e){const t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!0,!1,t)}moveDown(e){const t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!1,!1,t)}moveTo(e,t,i){const s=e?this.getElemByValue(e):this.getSelectedItems(),n=i?sa(i,TR):this.getScopedListBox();this.moveData(this,n,!1,s,t)}moveAllTo(e,t){if(this.listData.length>0){const i=e?sa(e,TR):this.getScopedListBox();this.moveAllData(this,i,!1,t)}}getDataList(){return this.jsonData}getSortedList(){let e,t;if(e=t=this.sortedData,this.fields.groupBy){e=[];for(let i=0;i<t.length;i++)t[i].isHeader||e.push(t[i])}return e}getElemByValue(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.ulElement.querySelector('[data-value ="'+e[i]+'"]'));return t}updateLiCollection(e){const t=[].slice.call(this.liCollections);t.splice(e,1),this.liCollections=t}selectAllItems(e,t){if([].slice.call(this.getItems()).forEach(i=>{if(!i.classList.contains(Lt.disabled))if(this.selectionSettings.showCheckbox){const s=i.getElementsByClassName("e-check")[0];(!s&&e||s&&!e)&&(this.notify("updatelist",{li:i,module:"listbox"}),this.maximumSelectionLength>=this.list.querySelectorAll(".e-list-item span.e-check").length&&this.checkMaxSelection())}else e?i.classList.add(Lt.selected):i.classList.remove(Lt.selected)}),this.updateSelectedOptions(),this.allowFiltering&&this.selectionSettings.showCheckbox){const i=this.list.getElementsByTagName("li");let s=0;if(e)for(s=0;s<i.length;s++){const n=this.getFormattedValue(i[s].getAttribute("data-value"));this.value.some(a=>a===n)||this.value.push(this.getFormattedValue(i[s].getAttribute("data-value")))}else for(s=0;s<i.length;s++){const n=this.getFormattedValue(i[s].getAttribute("data-value"));this.value=this.value.filter(a=>a!==n)}document.querySelectorAll("ul").length<2&&this.updateMainList()}this.triggerChange(this.getSelectedItems(),t)}updateMainList(){const e=this.mainList.querySelectorAll(".e-list-item"),t=this.ulElement.querySelectorAll(".e-list-item"),i=e.length,s=t.length;if(this.selectionSettings.showCheckbox||document.querySelectorAll("ul").length>1||i!==s){let n=0,a=0,o=0;for(;n<i;){if(this.value)for(;a<this.value.length;a++)e[n].getAttribute("data-value")===this.value[a]&&o++;!o&&this.selectionSettings.showCheckbox&&e[n].getElementsByClassName("e-frame")[0].classList.remove("e-check"),document.querySelectorAll("ul").length>1&&o&&i!==s?(this.mainList.removeChild(this.mainList.getElementsByTagName("li")[n]),n=0):n++,o=0,a=0}}}wireEvents(){const e=U(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;A.add(this.list,"click",this.clickHandler,this),A.add(t,"keydown",this.keyDownHandler,this),A.add(t,"focusout",this.focusOutHandler,this),this.wireToolbarEvent(),this.selectionSettings.showCheckbox&&A.remove(document,"mousedown",this.checkBoxSelectionModule.onDocumentClick),(this.fields.groupBy||this.element.querySelector("select>optgroup"))&&A.remove(this.list,"scroll",this.setFloatingHeader),e&&A.add(e,"reset",this.formResetHandler,this)}wireToolbarEvent(){this.toolbarSettings.items.length&&A.add(this.getToolElem(),"click",this.toolbarClickHandler,this)}unwireEvents(){const e=U(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;A.remove(this.list,"click",this.clickHandler),A.remove(t,"keydown",this.keyDownHandler),A.remove(t,"focusout",this.focusOutHandler),this.allowFiltering&&this.clearFilterIconElem&&A.remove(this.clearFilterIconElem,"click",this.clearText),this.toolbarSettings.items.length&&A.remove(this.getToolElem(),"click",this.toolbarClickHandler),e&&A.remove(e,"reset",this.formResetHandler)}clickHandler(e){this.selectHandler(e)}checkSelectAll(){let e=0;const t=this.list.querySelectorAll("li."+Ve_li);for(let s=0;s<t.length;s++)t[s].classList.contains("e-disabled")||e++;const i=this.getSelectedItems().length;this.showSelectAll&&e&&this.notify("checkSelectAll",{module:"CheckBoxSelection",value:e===i?"check":0===i?"uncheck":"indeterminate"})}getQuery(e){let t=e?e.clone():this.query?this.query.clone():new kt;if(this.allowFiltering){const i=""===this.inputString?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;t.where((this.dataSource instanceof ot||"string"!==s)&&"number"!==s&&this.fields.text?this.fields.text:"",i,this.inputString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new kt);return t}setFiltering(){let e;if(this.initLoad||f(this.filterParent))return this.filterParent=this.createElement("span",{className:Uw.filterParent}),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:Uw.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element),e=me.createInput({element:this.filterInput,buttons:[Uw.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),Ge([e.container],this.filterParent),Mi([this.filterParent],this.list),Te(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.height.toString().indexOf("%")<0&&L([this.list],"e-filter-list"),this.inputString=this.filterInput.value,this.filterWireEvents(),e}filterWireEvents(e){e&&(this.filterInput=e.querySelector(".e-input-filter")),this.clearFilterIconElem=this.filterInput.parentElement.querySelector("."+Uw.clearIcon),this.clearFilterIconElem&&(A.add(this.clearFilterIconElem,"click",this.clearText,this),e||(this.clearFilterIconElem.style.visibility="hidden")),A.add(this.filterInput,"input",this.onInput,this),A.add(this.filterInput,"keyup",this.KeyUp,this),A.add(this.filterInput,"keydown",this.onKeyDown,this)}selectHandler(e,t){let s,i=!0;const n=U(e.target,".e-list-item");let a=[n];if(n&&n.parentElement){if(s=[].slice.call(n.parentElement.children).indexOf(n),this.selectionSettings.showCheckbox?i=!n.getElementsByClassName("e-frame")[0].classList.contains("e-check"):(e.ctrlKey||G.isDevice)&&this.isSelected(n)?(n.classList.remove(Lt.selected),n.removeAttribute("aria-selected"),i=!1):"Multiple"===this.selectionSettings.mode&&(e.ctrlKey||G.isDevice)||(this.getSelectedItems().forEach(o=>{o.removeAttribute("aria-selected")}),H(this.getSelectedItems(),Lt.selected)),e.shiftKey&&!this.selectionSettings.showCheckbox&&"Single"!==this.selectionSettings.mode?a=[].slice.call(n.parentElement.children).slice(Math.min(s,this.prevSelIdx),Math.max(s,this.prevSelIdx)+1).filter(o=>o.classList.contains("e-list-item")):this.prevSelIdx=[].slice.call(n.parentElement.children).indexOf(n),i&&(this.selectionSettings.showCheckbox||L(a,Lt.selected),a.forEach(o=>{o.setAttribute("aria-selected","true")}),this.list.setAttribute("aria-activedescendant",n.id)),!t&&(this.maximumSelectionLength>(this.value&&this.value.length)||!i)&&(this.maximumSelectionLength>=(this.value&&this.value.length)||!i)&&!(this.maximumSelectionLength<(this.value&&this.value.length))&&this.notify("updatelist",{li:n,e,module:"listbox"}),this.allowFiltering&&!t){const o=this.getFormattedValue(n.getAttribute("data-value"));if(i){const h=[];ae(h,this.value),h.push(o),this.value=h}else this.value=this.value.filter(h=>h!==o);document.querySelectorAll("ul").length<2&&this.updateMainList()}this.updateSelectedOptions(),this.triggerChange(this.getSelectedItems(),e),this.checkMaxSelection()}}triggerChange(e,t){this.trigger("change",{elements:e,items:this.getDataByElements(e),value:this.value,event:t})}getDataByElems(e){const t=[];for(let i=0,s=e.length;i<s;i++)t.push(this.getDataByValue(this.getFormattedValue(e[i].getAttribute("data-value"))));return t}getDataByElements(e){const t=[];let i,s=0;if(!f(this.listData)){const n=this.typeOfData(this.listData).typeof;if("string"===n||"number"===n||"boolean"===n)for(const a of this.listData){for(let o=s,h=e.length;o<h;o++)if(i=this.getFormattedValue(e[o].getAttribute("data-value")),!f(a)&&a===i){s=o,t.push(a);break}if(e.length===t.length)break}else for(const a of this.listData){for(let o=s,h=e.length;o<h;o++)if(i=this.getFormattedValue(e[o].getAttribute("data-value")),!f(a)&&X(this.fields.value?this.fields.value:"value",a)===i){s=o,t.push(a);break}if(e.length===t.length)break}return t}return null}checkMaxSelection(){const e=this.list.querySelectorAll(".e-list-item span.e-check").length;if(this.selectionSettings.showCheckbox){let t=0;const i=this.list.getElementsByClassName("e-list-item");for(;t<i.length;t++)i[t].querySelector(".e-frame.e-check")||(e===this.maximumSelectionLength?i[t].classList.add("e-disable"):i[t].classList.contains("e-disable")&&i[t].classList.remove("e-disable"))}}toolbarClickHandler(e){const t=U(e.target,"button");if(t){if(this.toolbarAction=t.getAttribute("data-value"),t.disabled)return;switch(this.toolbarAction){case"moveUp":this.moveUpDown(!0);break;case"moveDown":this.moveUpDown();break;case"moveTo":this.moveItemTo();break;case"moveFrom":this.moveItemFrom();break;case"moveAllTo":this.moveAllItemTo();break;case"moveAllFrom":this.moveAllItemFrom();break;default:this.trigger("actionBegin",{cancel:!1,items:this.getDataByElems(this.getSelectedItems()),eventName:this.toolbarAction})}}}moveUpDown(e,t,i){let s=this.getSelectedItems();if(i&&(s=i),(e&&this.isSelected(this.ulElement.firstElementChild)||!e&&this.isSelected(this.ulElement.lastElementChild))&&!i)return;const n=this.getDataByElems(s),a={cancel:!1,items:n,eventName:this.toolbarAction};this.trigger("actionBegin",a),!a.cancel&&((e?s:s.reverse()).forEach(o=>{const h=Array.prototype.indexOf.call(this.ulElement.querySelectorAll(".e-list-item"),o),d=Array.prototype.indexOf.call(this.ulElement.children,o);ib(this.ulElement,this.ulElement,[d],e?d-1:d+2),this.changeData(d,e?d-1:d+1,e?h-1:h+1,o)}),this.trigger("actionComplete",{items:n,eventName:this.toolbarAction}),s[0].focus(),!t&&this.toolbarSettings.items.length&&this.getToolElem().querySelector("[data-value="+(e?"moveUp":"moveDown")+"]").focus(),this.updateToolBarState())}moveItemTo(){this.moveData(this,this.getScopedListBox())}moveItemFrom(){this.moveData(this.getScopedListBox(),this)}moveData(e,t,i,s,n){const a=[],o=[],h=[],d=[],m=[].slice.call(e.listData),v=[].slice.call(t.listData),C=[].slice.call(e.sortedData);let w=[].slice.call(t.sortedData);const S=[].slice.call(e.liCollections),k=[],O=[].slice.call(t.liCollections),N=[],q=[];let z=e.getSelectedItems();s&&(z=s);const Z="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy||t.itemTemplate||e.itemTemplate;if(e.value=[],z.length){this.removeSelected(e,z),z.forEach(Se=>{a.push(Array.prototype.indexOf.call(e.ulElement.children,Se)),k.push(Array.prototype.indexOf.call(e.ulElement.querySelectorAll(".e-list-item"),Se)),o.push(Array.prototype.indexOf.call(e.listData,e.getDataByElems([Se])[0])),d.push(Array.prototype.indexOf.call(e.sortedData,e.getDataByElems([Se])[0])),h.push(Array.prototype.indexOf.call(e.jsonData,e.getDataByElems([Se])[0]))}),"None"!==this.sortOrder?d.forEach(Se=>{N.push(e.sortedData[Se])}):h.forEach(Se=>{N.push(e.jsonData[Se])});const Ce={cancel:!1,items:N,eventName:this.toolbarAction};if(e.trigger("actionBegin",Ce),Ce.cancel)return;const ce=[];if(k.sort((Se,Be)=>Se-Be).reverse().forEach(Se=>{ce.push(S.splice(Se,1)[0])}),e.liCollections=S,n){const Se=O.splice(0,n);t.liCollections=Se.concat(ce.reverse()).concat(O)}else t.liCollections=O.concat(ce.reverse());if(0===t.listData.length){const Se=t.ulElement.childNodes[0];Se&&t.ulElement.removeChild(Se)}if(o.sort((Se,Be)=>Be-Se).forEach(Se=>{m.splice(Se,1)}),d.sort((Se,Be)=>Be-Se).forEach(Se=>{C.splice(Se,1)}),h.slice().reverse().forEach(Se=>{q.push(e.jsonData.splice(Se,1)[0])}),Z)if(e.fields.groupBy){let Se=e.renderItems(m,e.fields);e.updateListItems(Se,e.ulElement)}else z.forEach(Se=>{oe(Se)});else ib(e.ulElement,t.ulElement,a,n),e.trigger("actionComplete",{items:N,eventName:this.toolbarAction});t.mainList.childElementCount!==t.jsonData.length&&(t.mainList=t.ulElement),e.updateMainList();const Fe=[].slice.call(t.jsonData);w=[].slice.call(t.sortedData),this.selectNextList(z,k,o,e),i&&this.list.focus(),e.listData=m,e.sortedData=C,n=n||v.length;for(let Se=N.length-1;Se>=0;Se--)v.splice(n,0,N[Se]),Fe.splice(n,0,N[Se]),w.splice(n,0,N[Se]);if(t.listData=v,t.jsonData=Fe,t.sortedData=w,Z){let Se=t.renderItems(v,t.fields);t.updateListItems(Se,t.ulElement),t.setSelection(),e.trigger("actionComplete",{items:N,eventName:this.toolbarAction})}e.updateSelectedOptions(),0===e.listData.length&&e.l10nUpdate()}1===e.value.length&&e.getSelectedItems().length&&(e.value[0]=e.getFormattedValue(e.getSelectedItems()[0].getAttribute("data-value")))}selectNextList(e,t,i,s){const n=s.ulElement.querySelectorAll(".e-list-item").length;let a,o,h=-1;1===e.length&&n&&!s.selectionSettings.showCheckbox&&(o=n<=t[0]?n-1:t[0],a=s.ulElement.querySelectorAll(".e-list-item")[o],h=s.getValidIndex(a,o,n===i[0]?38:40),h>-1&&s.ulElement.querySelectorAll(".e-list-item")[h].classList.add(Lt.selected))}moveAllItemTo(){this.moveAllData(this,this.getScopedListBox())}moveAllItemFrom(){this.moveAllData(this.getScopedListBox(),this)}moveAllData(e,t,i,s){let n=[].slice.call(t.listData);const a=[].slice.call(t.jsonData),o="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy||t.itemTemplate||e.itemTemplate;this.removeSelected(e,e.getSelectedItems());const h=[].slice.call(e.jsonData),d={cancel:!1,items:h,eventName:this.toolbarAction};if(e.trigger("actionBegin",d),d.cancel)return;if(0===t.listData.length){const C=t.ulElement.childNodes[0];C&&t.ulElement.removeChild(C)}if(o){const C=e.ulElement.childNodes[0];C&&e.ulElement.removeChild(C)}ib(e.ulElement,t.ulElement,Array.apply(null,{length:e.ulElement.childElementCount}).map(Number.call,Number),s),this.trigger("actionComplete",{items:h,eventName:this.toolbarAction}),i&&this.list.focus(),s=s||n.length;for(let C=0;C<e.listData.length;C++)n.splice(s+C,0,e.listData[C]);for(let C=0;C<e.jsonData.length;C++)a.splice(s+C,0,e.jsonData[C]);const m=[].slice.call(e.liCollections),v=[].slice.call(t.liCollections);if(e.liCollections=[],s){const C=v.splice(0,s);t.liCollections=C.concat(m).concat(v)}else t.liCollections=v.concat(m);if(e.value=[],n=n.filter(C=>!0!==C.isHeader),t.listData=n,t.jsonData=a,e.listData=e.sortedData=e.jsonData=[],o){let C=t.renderItems(n,t.fields);t.updateListItems(C,t.ulElement),this.trigger("actionComplete",{items:h,eventName:this.toolbarAction})}else t.sortedData=n;e.updateSelectedOptions(),0===e.listData.length&&e.l10nUpdate()}changeData(e,t,i,s){const n=[].slice.call(this.listData),a=[].slice.call(this.jsonData),o=[].slice.call(this.sortedData),h=Array.prototype.indexOf.call(this.jsonData,this.getDataByElems([s])[0]),d=Array.prototype.indexOf.call(this.sortedData,this.getDataByElems([s])[0]),m=[].slice.call(this.liCollections);n.splice(t,0,n.splice(e,1)[0]),a.splice(i,0,a.splice(h,1)[0]),o.splice(t,0,o.splice(d,1)[0]),m.splice(t,0,m.splice(e,1)[0]),this.listData=n,this.jsonData=a,this.liCollections=m,this.sortedData=o}getSelectedItems(){let e=[];return this.selectionSettings.showCheckbox?[].slice.call(this.ulElement.getElementsByClassName("e-check")).forEach(t=>{e.push(U(t,".e-list-item"))}):e=[].slice.call(this.ulElement.getElementsByClassName(Lt.selected)),e}getScopedListBox(){let e;return this.scope&&[].slice.call(document.querySelectorAll(this.scope)).forEach(t=>{sa(t,this.getModuleName())&&(e=sa(t,this.getModuleName()))}),e}getGrabbedItems(){return Array.prototype.slice.call(this.element.querySelectorAll(".e-grabbed"))}getDragArgs(e,t){let i=this.getGrabbedItems();return i.length?t&&i.push(e.target):i=[e.target],{elements:i,items:this.getDataByElems(i)}}onKeyDown(e){this.keyDownHandler(e),e.stopPropagation()}keyDownHandler(e){if([32,35,36,37,38,39,40,65].indexOf(e.keyCode)>-1&&!this.allowFiltering){if(e.target&&e.target.className.indexOf("e-edit-template")>-1)return;if(e.preventDefault(),32===e.keyCode&&this.ulElement.children.length)this.selectHandler({target:this.ulElement.getElementsByClassName("e-focused")[0],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey});else if(65===e.keyCode&&e.ctrlKey)this.selectAll();else if((38===e.keyCode||40===e.keyCode)&&e.ctrlKey&&e.shiftKey)this.moveUpDown(38===e.keyCode,!0);else if(!this.toolbarSettings.items.length&&!this.tBListBox||39!==e.keyCode&&37!==e.keyCode||!e.ctrlKey)37!==e.keyCode&&39!==e.keyCode&&this.upDownKeyHandler(e);else{const t=this.tBListBox||this.getScopedListBox();39===e.keyCode?e.shiftKey?this.moveAllData(this,t,!0):this.moveData(this,t,!0):e.shiftKey?this.moveAllData(t,this,!0):this.moveData(t,this,!0)}}else this.allowFiltering&&(40===e.keyCode||38===e.keyCode)&&this.upDownKeyHandler(e)}upDownKeyHandler(e){const t=this.ulElement;let s=40===e.keyCode||36===e.keyCode?0:t.childElementCount-1;const n=t.getElementsByClassName("e-focused")[0]||t.getElementsByClassName(Lt.selected)[0];if(n){if(35!==e.keyCode&&36!==e.keyCode&&(s=Array.prototype.indexOf.call(t.children,n),40===e.keyCode?s++:s--,s<0||s>t.childElementCount-1))return;H([n],"e-focused")}const a=t.children[s];if(a){if(s=this.getValidIndex(a,s,e.keyCode),-1===s)return void L([n],"e-focused");t.children[s].focus(),t.children[s].classList.add("e-focused"),e.ctrlKey||this.selectHandler({target:t.children[s],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},!0)}}KeyUp(e){if(f(String.fromCharCode(e.keyCode).match(/\w/))||(this.isValidKey=!0),this.isValidKey=8===e.keyCode||46===e.keyCode||this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.allowFiltering)){const s={preventDefaultAction:!1,text:this.targetElement(),updateData:(n,a,o)=>{s.cancel||(this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(n,a,o))},event:e,cancel:!1};this.trigger("filtering",s,n=>{this.isDataFetched=!1,!(n.cancel||""!==this.filterInput.value&&this.isFiltered)&&(!n.cancel&&!this.isCustomFiltering&&!n.preventDefaultAction&&(this.inputString=this.filterInput.value,this.filteringAction(this.jsonData,new kt,this.fields)),!this.isFiltered&&!this.isCustomFiltering&&!n.preventDefaultAction&&this.dataUpdater(this.jsonData,new kt,this.fields))})}}filter(e,t,i){this.isCustomFiltering=!0,this.filteringAction(e,t,i)}filteringAction(e,t,i){this.resetList(e,i,t)}targetElement(){return this.targetInputElement=this.list.getElementsByClassName("e-input-filter")[0],this.targetInputElement.value}dataUpdater(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){const n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.remoteCustomValue=!1,this.onActionComplete(n,this.jsonData),this.notify("reOrder",{module:"CheckBoxSelection",enable:this.selectionSettings.showCheckbox,e:this})}else this.resetList(e,i,t)}focusOutHandler(){const e=this.list.getElementsByClassName("e-focused")[0];e&&e.classList.remove("e-focused"),this.allowFiltering&&this.refreshClearIcon()}getValidIndex(e,t,i){const s=this.ulElement;return(e.classList.contains("e-disabled")||e.classList.contains(Lt.group))&&(40===i||36===i?t++:t--),t<0||t===s.childElementCount?-1:(((e=s.querySelectorAll(".e-list-item")[t]).classList.contains("e-disabled")||e.classList.contains(Lt.group))&&(t=this.getValidIndex(e,t,i)),t)}updateSelectedOptions(){const e=[],t=[];if(ae(t,this.value),this.getSelectedItems().forEach(i=>{i.classList.contains("e-grabbed")||e.push(this.getFormattedValue(i.getAttribute("data-value")))}),this.mainList.childElementCount===this.ulElement.childElementCount)if(this.allowFiltering&&this.selectionSettings.showCheckbox){for(let i=0;i<e.length;i++)t.indexOf(e[i])>-1||t.push(e[i]);this.setProperties({value:t},!0)}else this.setProperties({value:e},!0);this.updateSelectTag(),this.updateToolBarState(),this.tBListBox&&this.tBListBox.updateToolBarState()}clearSelection(e=this.value){if(this.selectionSettings.showCheckbox){let t;this.getSelectedItems().forEach(i=>{t=this.getFormattedValue(i.getAttribute("data-value")),e.indexOf(t)<0&&(i.getElementsByClassName("e-check")[0].classList.remove("e-check"),i.getElementsByClassName("e-checkbox-wrapper")[0].removeAttribute("aria-checked"),i.removeAttribute("aria-selected"))})}}setSelection(e=this.value,t=!0,i=!1){let s,n;e&&e.forEach(a=>{let o;o=i?this.getValueByText(a):a,s=this.list.querySelector('[data-value="'+o+'"]'),s&&(n=this.selectionSettings.showCheckbox?s.getElementsByClassName("e-frame")[0].classList.contains("e-check"):s.classList.contains("e-selected"),(!t&&n||t&&!n&&s)&&(this.selectionSettings.showCheckbox?this.notify("updatelist",{li:s,module:"listbox"}):t?(s.classList.add(Lt.selected),s.setAttribute("aria-selected","true")):(s.classList.remove(Lt.selected),s.removeAttribute("aria-selected"))))}),this.updateSelectTag()}updateSelectTag(){const e=this.getSelectTag();let t="";if(e.innerHTML="",this.value){for(let i=0,s=this.value.length;i<s;i++)t+='<option selected value="'+this.value[i]+'"></option>';e.innerHTML+=t}this.checkSelectAll()}checkDisabledState(e){return 0===e.ulElement.querySelectorAll("."+Lt.li).length}updateToolBarState(){if(this.toolbarSettings.items.length){const e=this.getScopedListBox(),t=this.list.parentElement.getElementsByClassName("e-listbox-tool")[0];this.toolbarSettings.items.forEach(i=>{const s=t.querySelector('[data-value="'+i+'"]');switch(i){case"moveAllTo":s.disabled=this.checkDisabledState(this);break;case"moveAllFrom":s.disabled=this.checkDisabledState(e);break;case"moveFrom":s.disabled=!(e.value&&e.value.length);break;case"moveUp":s.disabled=!(this.value&&this.value.length&&!this.isSelected(this.ulElement.children[0]));break;case"moveDown":s.disabled=!(this.value&&this.value.length&&!this.isSelected(this.ulElement.children[this.ulElement.childElementCount-1]));break;default:s.disabled=!(this.value&&this.value.length)}})}}setCheckboxPosition(){const e=this.list;!this.initLoad&&"Left"===this.selectionSettings.checkboxPosition&&e.classList.remove("e-right"),"Right"===this.selectionSettings.checkboxPosition&&e.classList.add("e-right")}showCheckbox(e){let t=0;const i=this.list.lastElementChild.querySelectorAll("li"),s=this.list.lastElementChild.getElementsByClassName("e-list-item").length;if(e){if(this.ulElement=this.renderItems(this.listData,this.fields),this.mainList=this.ulElement,this.list.removeChild(this.list.getElementsByTagName("ul")[0]),this.list.appendChild(this.ulElement),this.selectionSettings.showSelectAll&&!this.list.getElementsByClassName("e-selectall-parent")[0]){const n=new Gs(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=n.getConstant("selectAllText"),this.unSelectAllText=n.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{}),this.checkSelectAll()}}else{for(this.list.getElementsByClassName("e-selectall-parent")[0]&&this.list.removeChild(this.list.getElementsByClassName("e-selectall-parent")[0]);t<s;t++)i[t].classList.contains("e-list-item")&&i[t].removeChild(i[t].getElementsByClassName("e-checkbox-wrapper")[0]),i[t].hasAttribute("aria-selected")&&i[t].removeAttribute("aria-selected");this.mainList=this.ulElement}this.value=[]}isSelected(e){return!f(e)&&(e.classList.contains(Lt.selected)||null!==e.querySelector(".e-check"))}getSelectTag(){return this.list.getElementsByClassName("e-hidden-select")[0]}getToolElem(){return this.list.parentElement.getElementsByClassName("e-listbox-tool")[0]}formResetHandler(){this.value=this.initialSelectedOptions}getModuleName(){return"listbox"}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"listbox"}destroy(){this.unwireEvents(),"EJS-LISTBOX"===this.element.tagName?this.element.innerHTML="":(this.element.style.display="inline-block",this.toolbarSettings.items.length&&(this.list.parentElement.parentElement.insertBefore(this.list,this.list.parentElement),oe(this.list.nextElementSibling)),this.list.parentElement.insertBefore(this.element,this.list)),super.destroy(),this.itemTemplate&&this.clearTemplate()}onPropertyChanged(e,t){const i=this.toolbarSettings.items.length?this.list.parentElement:this.list;super.onPropertyChanged(e,t),this.setUpdateInitial(["fields","query","dataSource"],e);for(const s of Object.keys(e))switch(s){case"cssClass":t.cssClass&&H([i],t.cssClass.split(" ")),e.cssClass&&L([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.list.classList.add("e-rtl"):this.list.classList.remove("e-rtl");break;case"value":H(this.list.querySelectorAll("."+Lt.selected),Lt.selected),this.clearSelection(this.value),this.setSelection();break;case"height":this.setHeight();break;case"enabled":this.setEnable();break;case"allowDragAndDrop":e.allowDragAndDrop?this.initDraggable():sa(this.ulElement,"sortable").destroy();break;case"allowFiltering":this.allowFiltering?this.setFiltering():(this.list.removeChild(this.list.getElementsByClassName("e-filter-parent")[0]),this.filterParent=null,H([this.list],"e-filter-list"));break;case"filterBarPlaceholder":this.allowFiltering&&this.filterInput&&me.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"scope":this.allowDragAndDrop&&(sa(this.ulElement,"sortable").scope=e.scope),this.toolbarSettings.items.length&&(t.scope&&(sa(document.querySelector(t.scope),this.getModuleName()).tBListBox=null),e.scope&&(sa(document.querySelector(e.scope),this.getModuleName()).tBListBox=this));break;case"toolbarSettings":{let n;const a=e.toolbarSettings.position,o=this.getToolElem();a&&(H([i],["e-right","e-left"]),i.classList.add("e-"+a.toLowerCase()),"Left"===a?i.insertBefore(o,this.list):i.appendChild(o)),e.toolbarSettings.items&&(t.toolbarSettings&&t.toolbarSettings.items.length&&(n=this.list.parentElement,n.parentElement.insertBefore(this.list,n),oe(n)),this.initToolbarAndStyles(),this.wireToolbarEvent());break}case"selectionSettings":{const n=e.selectionSettings.showSelectAll,a=e.selectionSettings.showCheckbox;if(!f(n)){if(this.showSelectAll=n,this.showSelectAll){const o=new Gs(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.checkBoxSelectionModule.checkAllParent=null,this.showSelectAll=!0,this.selectAllText=o.getConstant("selectAllText"),this.unSelectAllText=o.getConstant("selectAllText"),this.popupWrapper=this.list}this.notify("selectAll",{}),this.checkSelectAll()}f(a)||this.showCheckbox(a),this.selectionSettings.showCheckbox&&this.setCheckboxPosition();break}case"dataSource":this.isDataSourceUpdate=!0,this.jsonData=[].slice.call(this.dataSource)}}};Ys([T("")],Fn.prototype,"cssClass",void 0),Ys([T([])],Fn.prototype,"value",void 0),Ys([T("")],Fn.prototype,"height",void 0),Ys([T(!1)],Fn.prototype,"allowDragAndDrop",void 0),Ys([T(1e3)],Fn.prototype,"maximumSelectionLength",void 0),Ys([T(!1)],Fn.prototype,"allowFiltering",void 0),Ys([T("")],Fn.prototype,"scope",void 0),Ys([T(!0)],Fn.prototype,"ignoreCase",void 0),Ys([T(null)],Fn.prototype,"filterBarPlaceholder",void 0),Ys([$()],Fn.prototype,"beforeItemRender",void 0),Ys([$()],Fn.prototype,"filtering",void 0),Ys([$()],Fn.prototype,"select",void 0),Ys([$()],Fn.prototype,"change",void 0),Ys([$()],Fn.prototype,"beforeDrop",void 0),Ys([$()],Fn.prototype,"dragStart",void 0),Ys([$()],Fn.prototype,"drag",void 0),Ys([$()],Fn.prototype,"drop",void 0),Ys([$()],Fn.prototype,"dataBound",void 0),Ys([T(null)],Fn.prototype,"groupTemplate",void 0),Ys([T("Request failed")],Fn.prototype,"actionFailureTemplate",void 0),Ys([T(1e3)],Fn.prototype,"zIndex",void 0),Ys([T(!1)],Fn.prototype,"ignoreAccent",void 0),Ys([Ht({},PV)],Fn.prototype,"toolbarSettings",void 0),Ys([Ht({},Wx)],Fn.prototype,"selectionSettings",void 0),Fn=TR=Ys([oi],Fn);const Uw={backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",clearIcon:"e-clear-icon"};new Int16Array(286),new Uint8Array(286),new Int16Array(30),new Uint8Array(30);const yv="cellClick",IR="select",ml="actionBegin",Jf="actionComplete",Wj="actionFailure",BV="navigating",gl="renderCell",Yx="eventClick",Yw="eventRendered",kR="popupOpen",jV="popupClose",$x="inlineClick",Nh="data-ready",bv="events-loaded",vl="content-ready",MR="virtual-scroll",Lc="scroll-ui-update",UV="ui-update",em="document-click",qV="cell-mouse-down",Xn=864e5,$a=6e4;function $w(r,e){let t=0;const i=Q("div",{className:e}).cloneNode();return i.style.visibility="hidden",i.style.position="absolute",r.appendChild(i),t=i.getBoundingClientRect().height,nt(i),t}function qj(r){const e=getComputedStyle(r);return window.WebKitCSSMatrix?new WebKitCSSMatrix(e.webkitTransform).m42:0}function Vh(r,e){const t=new Date(r.getTime());return e=(e-t.getDay()-7)%7,new Date(t.setDate(t.getDate()+e))}function OR(r,e){const t=Vh(r,e),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+6);return new Date(i.getTime())}function Gw(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function YV(r){const e=new Date(r.getFullYear(),0,1).valueOf(),i=(new Date(r.getFullYear(),r.getMonth(),r.getDate()).valueOf()-e+Xn)/Xn;return Math.ceil(i/7)}function RR(r,e){const t=r.getTimezoneOffset(),i=new Date(r.getTime()+e),s=i.getTimezoneOffset()-t;return r.setTime(i.getTime()+s*$a),r}function ge(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate())}function tm(r){const e=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTimezoneOffset(),i=r.getTimezoneOffset()-e;return r.getTime()-new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTime()-60*i*1e3}function at(r,e){return r=new Date(""+r),new Date(r.setDate(r.getDate()+e))}function zu(r,e){const t=(r=new Date(""+r)).getDate();return r.setDate(1),r.setMonth(r.getMonth()+e),r.setDate(Math.min(t,function(r){return Gw(r).getDate()}(r))),r}function Pc(r,e,t){const i=new Date(r.getTime());i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds());let s=new Date(r.getTime());return 0===t.getHours()?s=at(s,1):(s.setHours(t.getHours()),s.setMinutes(t.getMinutes()),s.setSeconds(t.getSeconds())),{startHour:i,endHour:s}}function $V(r,e){const t=ge(new Date(r)),i=ge(new Date(e));return Math.round((i.getTime()-t.getTime())/Xn)}function Yj(r){return-1!==r.indexOf("Date")?new Date(parseInt(r.match(/\d+/g).toString(),10)):-1!==r.indexOf("T")?new Date(r):new Date(r.replace(/-/g,"/"))}let GV=null;function LR(){if(null!==GV)return GV;const r=Q("div");let e=0;r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r);const t=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return e=r.offsetWidth-r.clientWidth-t|0,document.body.removeChild(r),GV=e}function Gx(r,e,t,i,s){for(let n=0,a=r.length;n<a;n++)if(r[n][e]===t){if(!i)return n;{const o=s.slice(-2)[0].field;if((i[o]instanceof Array?i[o]:[i[o]]).join(",").includes(r[n][s.slice(-1)[0].groupIDField]))return n}}return-1}function QV(r){const e=getComputedStyle(r);return r.offsetHeight+(parseInt(e.marginTop,10)||0)+(parseInt(e.marginBottom,10)||0)}function Xd(r){const e=[].slice.call(r.children);for(const t of e)t.classList.contains("blazor-template")||r.removeChild(t)}function f8(r){const e=new Date(r.getFullYear(),0,1),t=new Date(r.getFullYear(),6,1);return r.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())}function Zd(r){const e=r.getFullYear(),t=r.getMonth(),i=r.getDate(),s=r.getHours(),n=r.getMinutes(),a=r.getSeconds(),o=r.getMilliseconds();return Date.UTC(e,t,i,s,n,a,o)}function ks(r,e){if("multiple"===e)r=r.split(" ").map(t=>t.charAt(0).toLocaleUpperCase()+t.substring(1)).join(" ");else if("single"===e){if(r[0]>="0"&&r[0]<="9"){const t=r.match(/[a-zA-Z]/);r=f(t)?r:r.slice(0,t.index)+r[t.index].toLocaleUpperCase()+r.slice(t.index+1)}r=r[0].toLocaleUpperCase()+r.slice(1)}return r}const _R="e-schedule",KV="e-rtl",Qw="e-device",XV="e-multi-drag",An="e-icons",Cv="e-enable",bs="e-disable",Yu="e-table-container",Ms="e-all-day-cells",Jd="e-all-day-row",ar="e-content-table",Et="e-work-cells",Kw="e-work-hours",Jr="e-popup-open",yl="e-date-header-wrap",Qx="e-date-header-container",ea="e-header-cells",VR="e-current-day",ZV="e-current-date",JV="e-current-panel",eF="e-previous-panel",Gj="e-next-panel",Kx="e-translate",im="e-event-table",Xw="e-resource-group-cells",iF="e-resource-text",tc="e-resource-column-wrap",FR="e-resource-column-table",Kj="e-child-node",ep="e-parent-node",Zw="e-resource-expand",sm="e-resource-collapse",Jw="e-resource-tree-icon",Nc="e-resource-cells",sF="e-time-cells-wrap",Xx="e-time-slots",yC="e-current-timeline",rF="e-hide-childs",aF="e-scroll-container",eW="e-timeline-wrapper",hn="e-appointment-wrapper",oF="e-day-wrapper",Zx="e-schedule-resource-toolbar-container",tW="e-schedule-toolbar",lF="e-schedule-resource-toolbar",Jx="e-selected-cell",cF="e-week-number-wrapper",HR="e-week-number",eI="e-wrapper-container",$u="e-appointment-container",Bt="e-appointment",eD="e-block-appointment",jR="e-block-indicator",tD="e-appointment-border",WR="e-appointment-details",hF="e-subject-wrap",iW="e-resource-name",Gu="e-time",UR="e-table-wrap",qR="e-outer-table",li="e-content-wrap",bC="e-virtual-track",nm="e-agenda-cells",uF="e-active-appointment-agenda",sW="e-day-date-header",nW="e-date-column",CC="e-navigate",iD="e-date-header",rW="e-day-border",dF="e-date-time",zR="e-indicator",oW="e-left-icon",lW="e-right-icon",tp="e-event-action",YR="e-new-event",Ev="e-schedule-event-clone",fF="e-clone-time-indicator",cW="e-drag-clone",sD="e-event-resize",mF="e-resize-clone",$R="e-left-handler",GR="e-right-handler",gF="e-top-handler",vF="e-bottom-handler",iI="e-recurrence-icon",sI="e-recurrence-edit-icon",yF="e-header-row",ip="e-all-day-appointment-wrapper",po="e-all-day-appointment",hW="e-appointment-hide",nI="e-row-count-wrapper",rI="e-all-day-appointment-section",QR="e-appointment-expand",uW="e-appointment-collapse",bl="e-more-indicator",bF="e-cell-popup",CF="e-event-popup",EF="e-popup-header",dW="e-header-icon-wrapper",wF="e-popup-footer",pW="e-date-time-details",KR="e-event-details",XR="e-event-create",nD="e-event-edit",rm="e-event-delete",fo="e-text-ellipsis",wv="e-more-popup-wrapper",EC="e-more-event-popup",DF="e-more-event-date-header",fW="e-header-day",rD="e-header-date",SF="e-more-event-close",ZR="e-more-event-content",TF="e-more-appointment-wrapper",AF="e-quick-dialog-occurrence-event",xF="e-quick-dialog-series-event",mW="e-quick-dialog-following-events",gW="e-following-events-dialog",IF="e-quick-dialog-delete",aI="e-quick-dialog-cancel",Dv="e-quick-alertok",sp="e-quick-alertcancel",kF="e-quick-alertfollowing",vW="e-quick-dialog-alert-btn",Sv="e-schedule-dialog",Tv="e-schedule-form",JR="e-all-day",wC="e-time-zone",eL="e-repeat",or="e-subject",Av="e-location",am="e-start",xv="e-end",DC="e-description",oI="e-time-zone-row",lI="e-start-time-zone",cI="e-end-time-zone",yW="e-save-icon",bW="e-event-cancel",tL="e-event-save",CW="e-title-text",EW="e-icon-disable",SC="e-edit",iL="e-edit-icon",hI="e-delete",wW="e-delete-icon",TC="e-close",sL="e-close-icon",DW="e-schedule-error",MF="e-animate",mo="e-hidden",aD="e-disable-dates",Iv="e-quick-popup-wrapper",SW="e-resource-menu",TW="e-icon-menu",AW="e-resource-level-title",xW="e-resource-tree-popup-overlay",uI="e-resource-tree-popup",IW="e-resource",kW="e-resource-icon",MW="e-resource-details",OW="e-date-time-icon",RW="e-virtual-scroll",LW="e-icon-disable",OF="e-auto-height",_W="e-ignore-whitespace",dI="e-read-only",Vc="e-inline-subject",nL="e-inline-appointment",PW="e-scroll-hidden",fI="e-all-day-scroll",rL="e-all-day-auto";class RF{constructor(e){this.parent=e,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}addEventListener(){this.parent.on(em,this.closeHeaderPopup,this)}removeEventListener(){this.parent.off(em,this.closeHeaderPopup)}closeHeaderPopup(e){const t=U(e.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),i=U(e.event.target,".e-hor-nav,.e-toolbar-pop"),s=this.parent.element.querySelector("."+li);if(this.parent.isAdaptive)if(f(i)||!i.classList.contains("e-toolbar-pop")&&!i.classList.contains("e-hor-nav")||i.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(Jr)){H([s],PW);const n=this.element.querySelector(".e-toolbar-pop");if(!f(n)){const a=n.ej2_instances[0];a&&(f(i)||!i.classList.contains("e-hor-nav")||!n.classList.contains(Jr))&&a.hide()}}else L([s],PW);!f(t)||this.hideHeaderPopup()}hideHeaderPopup(){this.headerPopup&&this.headerPopup.hide()}renderHeader(){this.element=Q("div",{className:"e-schedule-toolbar-container"});const e=Q("div",{className:tW});this.element.appendChild(e),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()}renderToolbar(){const e=this.getItems();this.parent.trigger(ml,{requestType:"toolbarItemRendering",items:e},t=>{this.toolbarObj=new Da({items:t.items,overflowMode:"Popup",clicked:this.toolbarClickHandler.bind(this),enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.toolbarObj.appendTo(this.parent.element.querySelector("."+tW));const i=this.toolbarObj.element.querySelector(".e-prev");i&&i.firstElementChild.setAttribute("title",this.l10n.getConstant("previous"));const s=this.toolbarObj.element.querySelector(".e-next");s&&s.firstElementChild.setAttribute("title",this.l10n.getConstant("next")),this.updateAddIcon(),this.updateActiveView(),this.parent.trigger(Jf,{requestType:"toolBarItemRendered",items:this.toolbarObj.items})})}updateItems(){if(this.toolbarObj){const e=this.getItems();this.parent.trigger(ml,{requestType:"toolbarItemRendering",items:e},t=>{this.toolbarObj.items=t.items,this.toolbarObj.dataBind(),this.parent.trigger(Jf,{requestType:"toolBarItemRendered",items:this.toolbarObj.items})})}}getPopUpRelativeElement(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")}setDayOfWeek(e){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=e,this.headerCalendar.dataBind())}setCalendarDate(e){this.headerCalendar&&(this.headerCalendar.value=e,this.headerCalendar.dataBind())}setCalendarMinMaxDate(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())}getCalendarView(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"}setCalendarView(){if(this.headerCalendar){const e=this.getCalendarView();this.headerCalendar.depth=e,this.headerCalendar.start=e,this.headerCalendar.refresh()}}updateActiveView(){const e=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));H(e,["e-active-view"]),e.length>0&&e[this.parent.viewIndex]&&L([e[this.parent.viewIndex]],["e-active-view"])}updateDateRange(e){const t=this.toolbarObj.element.querySelector(".e-date-range");t&&(t.setAttribute("aria-label",e),t.querySelector(".e-tbar-btn-text").innerHTML=e,this.refresh())}refresh(){this.toolbarObj&&this.toolbarObj.refreshOverflow()}updateAddIcon(){const e=this.toolbarObj.element.querySelector(".e-add");e&&(this.parent.eventSettings.allowAdding?H([e],mo):L([e],mo))}getDateRangeText(){return ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")}getItems(){const e=[];if(e.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{"aria-label":"previous period",role:"navigation"}}),e.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{"aria-label":"next period",role:"navigation"}}),e.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive","aria-label":"title",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&e.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(const t of this.parent.views)e.push(this.getItemObject(t));return e}getItemObject(e){let t,i,s,n;"string"==typeof e?(t=e.toLowerCase(),i=null):(t=e.option.toLowerCase(),i=e.displayName);const a=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(t){case"day":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":n="Vertical"===e.orientation?"vertical":"horizontal",s={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-year-"+n,text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return s}renderHeaderPopup(){const e=Q("div",{className:"e-header-popup"}),t=Q("div",{className:"e-header-calendar"});e.appendChild(t),this.element.appendChild(e),this.headerPopup=new Wn(e,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});const i=this.getCalendarView();this.headerCalendar=new A1({value:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:i,start:i,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(t),this.headerPopup.hide()}calendarChange(e){if(e.value.getTime()!==this.parent.selectedDate.getTime()){const t=ge(new Date(e.value));this.parent.changeDate(t)}this.headerPopup.hide()}setCalendarTimezone(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())}calculateViewIndex(e){const t=U(e.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(t)}toolbarClickHandler(e){if(!e.item)return;let i,s;switch(e.item.cssClass.replace("e-views ","")){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(Jr)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-week":this.parent.changeView("Week",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-work-week":this.parent.changeView("WorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month":this.parent.changeView("Month",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-year":this.parent.changeView("Year",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-agenda":this.parent.changeView("Agenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-day":this.parent.changeView("TimelineDay",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-year":this.parent.changeView("TimelineYear",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-today":("Agenda"===this.parent.currentView||!this.parent.isSelectedDate(ge(this.parent.getCurrentTime())))&&this.parent.changeDate(ge(this.parent.getCurrentTime()),e.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e.originalEvent);break;case"e-add":if(s=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!s)i=this.parent.activeCellsData;else{const h=this.parent.activeViewOptions.timeScale.interval*$a/this.parent.activeViewOptions.timeScale.slotCount,d=new Date(this.parent.selectedDate.getTime()),m=this.parent.getCurrentTime();d.setHours(m.getHours(),Math.round(d.getMinutes()/h)*h,0);const v=new Date(new Date(d.getTime()).setMilliseconds(d.getMilliseconds()+h));i={startTime:d,endTime:v,isAllDay:!1}}this.parent.eventWindow.openEditor(ae(i,{cancel:!1,event:e.originalEvent}),"Add")}if(f(this.toolbarObj))return;const n=this.toolbarObj.element.querySelector(".e-toolbar-pop");n&&"Input"!==e.item.type&&n.ej2_instances[0].hide({name:"SlideUp",duration:100})}getHeaderElement(){return this.toolbarObj.element}updateHeaderItems(e){const t=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),s=this.toolbarObj.element.querySelector(".e-date-range");t&&("add"===e?L([t],mo):H([t],mo)),i&&("add"===e?L([i],mo):H([i],mo)),s&&("add"===e?L([s],fo):H([s],fo))}previousNextIconHandler(){const e="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),t=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next");let s=new Date(e[0].getTime()),n=new Date(e[e.length-1].getTime());("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)&&(s=Vh(ge(this.parent.selectedDate),this.parent.firstDayOfWeek),n=at(s,7*this.parent.activeViewOptions.interval)),"Month"===this.parent.currentView&&(s=function(r){return new Date(r.getFullYear(),r.getMonth(),1)}(this.parent.selectedDate),n=Gw(zu(s,this.parent.activeViewOptions.interval-1))),f(t)||this.toolbarObj.enableItems(t,s>this.parent.minDate),f(i)||this.toolbarObj.enableItems(i,n<this.parent.maxDate),this.setCalendarMinMaxDate()}getModuleName(){return"headerbar"}destroy(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),nt(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null}}class s7{constructor(e){this.parent=e,this.addEventListener()}getModuleName(){return"scroll"}setWidth(){this.parent.element.style.width=fe(this.parent.width)}setHeight(){this.parent.element.style.height=fe(this.parent.height)}addEventListener(){this.parent.on(vl,this.setDimensions,this),this.parent.on(UV,this.onPropertyChanged,this)}removeEventListener(){this.parent.off(vl,this.setDimensions),this.parent.off(UV,this.onPropertyChanged)}setDimensions(){this.setWidth(),this.setHeight();const e={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(Lc,e)}onPropertyChanged(){this.setDimensions()}destroy(){this.removeEventListener()}}class n7{constructor(e){this.parent=e,this.element=this.parent.element.querySelector("."+Yu),this.touchObj=new mn(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),A.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}scrollHandler(e){if(!("Agenda"===this.parent.currentView||this.parent.uiStateValues.action||e.originalEvent&&(e.originalEvent.target.classList.contains(Bt)||U(e.originalEvent.target,"."+Bt)))){if(this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(Kx)&&this.onTransitionEnd(),"Left"===e.scrollDirection||"Right"===e.scrollDirection){const t={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};if(this.parent.trigger(ml,t),t.cancel)return;const i=this.element.querySelector("."+li);if(i&&i.scrollWidth>i.clientWidth)return;this.isScrollTriggered=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}if(e.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(Gj,"next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.nextPanel.element));const t=this.parent.enableRtl?e.distanceX:-e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+t)+"px)"}else if(e.scrollDirection===this.touchRightDirection){let t=0;this.previousPanel||(this.renderPanel(eF,"previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.previousPanel.element),t=this.previousPanel.element.offsetWidth);const i=this.parent.enableRtl?t-e.distanceX:-t+e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+i)+"px)"}}}swipeHandler(e){if(!this.isScrollTriggered||this.parent.uiStateValues.action)return;this.isScrollTriggered=!1;const t="Left"===e.swipeDirection?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if("Left"===e.swipeDirection&&t<this.parent.maxDate||"Right"===e.swipeDirection&&t>=this.parent.minDate){const i=Date.now()-this.timeStampStart,s=e.distanceX*(G.isDevice?6:1.66);s>i||e.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(e.swipeDirection),s>i&&e.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=s/i/10+"s"),this.confirmSwipe(e.swipeDirection)):this.cancelSwipe(),this.parent.trigger(Jf,{requestType:"dateNavigate",cancel:!1,event:e.originalEvent})}else this.cancelSwipe();this.timeStampStart=null}tapHoldHandler(e){f(U(e.originalEvent.target,"."+Bt))||!this.parent.isAdaptive||this.parent.quickPopup.tapHoldEventPopup(e.originalEvent)}renderPanel(e,t){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(t)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(e)}swapPanels(e){if(e===this.touchLeftDirection){const t=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=t}else{const t=this.previousPanel;this.previousPanel=this.currentPanel,this.currentPanel=t}}confirmSwipe(e){this.parent.trigger(BV,{action:"date",cancel:!1,previousDate:e===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,currentDate:this.currentPanel.selectedDate},s=>{if(s.cancel)this.swapPanels(e),this.cancelSwipe();else{let n;this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),n=this.parent.enableRtl?e===this.touchLeftDirection?this.previousPanel?this.previousPanel.element.offsetLeft:this.currentPanel.element.offsetWidth:0:e===this.touchLeftDirection?-this.currentPanel.element.offsetLeft:0,L([this.element],Kx),this.element.style.transform="translatex("+n+"px)",this.parent.headerModule&&this.parent.headerModule.updateDateRange(this.parent.activeView.getDateRangeText()),this.parent.renderTemplates(),this.parent.crudModule.refreshDataManager()}})}cancelSwipe(){this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.getRenderDates(),this.parent.activeView.generateColumnLevels(),L([this.element],Kx),this.element.style.transform="translatex("+(this.parent.enableRtl?this.previousPanel?this.previousPanel.element.offsetWidth:0:-this.currentPanel.element.offsetLeft)+"px)"}onTransitionEnd(){H([this.element],Kx),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&(nt(this.previousPanel.element),this.previousPanel=null,H([this.currentPanel.element],eF),L([this.currentPanel.element],JV)),this.nextPanel&&(nt(this.nextPanel.element),this.nextPanel=null,H([this.currentPanel.element],Gj),L([this.currentPanel.element],JV)),this.currentPanel=null,this.parent.activeView.getPanel().style.width=""}getTranslateX(e){const t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41}setDimensions(e){e.style.width=this.parent.element.clientWidth+"px"}resetValues(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",Xd(this.element),H([this.element],Kx)}destroy(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),A.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()}}class NW{constructor(e){this.selectedCells=[],this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new rt(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener()}keyActionHandler(e){switch(e.action){case"downArrow":case"shiftDownArrow":this.processDown(e,e.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(e,e.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(e,e.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(e,e.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(e);break;case"enter":this.processEnter(e);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(e,e.shiftKey);break;case"delete":this.processDelete(e);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(e);break;case"escape":this.processEscape(e)}}addEventListener(){this.parent.on(qV,this.onCellMouseDown,this)}removeEventListener(){this.parent.off(qV,this.onCellMouseDown)}onCellMouseDown(e){if(!e.event.shiftKey&&(this.initialTarget=this.getClosestCell(e.event),!this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView&&this.initialTarget&&(e.event.target.classList.contains(Et)&&3!==e.event.which&&(this.parent.removeSelectedClass(),A.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),A.add(this.parent.getContentTable(),"mouseup",this.onMoveUp,this)),e.event.target.classList.contains(Ms)&&3!==e.event.which))){this.parent.removeSelectedClass();const t=this.parent.getAllDayRow();A.add(t,"mousemove",this.onMouseSelection,this),A.add(t,"mouseup",this.onMoveUp,this)}}onMouseSelection(e){L([].slice.call(this.parent.element.querySelectorAll("."+Bt)),"e-allow-select");const i=this.parent.boundaryValidation(e.pageY,e.pageX);if(i.bottom||i.top||i.left||i.right){const n=this.parent.element.querySelector("."+li),o=n.offsetWidth<=n.scrollWidth&&n.scrollLeft>=0&&n.scrollLeft+n.offsetWidth<=n.scrollWidth;n.offsetHeight<=n.scrollHeight&&n.scrollTop>=0&&n.scrollTop+n.offsetHeight<=n.scrollHeight&&(i.top||i.bottom)&&(n.scrollTop+=i.top?-e.target.offsetHeight:e.target.offsetHeight),o&&(i.left||i.right)&&(n.scrollLeft+=i.left?-e.target.offsetWidth:e.target.offsetWidth)}const s=this.getClosestCell(e);s&&this.selectCells(!0,s)}getClosestCell(e){return U(e.target,"."+Et+",."+Ms)}onMoveUp(e){if(H([].slice.call(this.parent.element.querySelectorAll("."+Bt)),"e-allow-select"),e.target.classList.contains(Et)&&(A.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),A.remove(this.parent.getContentTable(),"mouseup",this.onMoveUp)),e.target.classList.contains(Ms)){const h=this.parent.getAllDayRow();A.remove(h,"mousemove",this.onMouseSelection),A.remove(h,"mouseup",this.onMoveUp)}if(this.isPreventAction(e))return;const s=U(e.target,".e-work-cells,.e-all-day-cells,.e-header-cells");this.parent.activeCellsData=this.getSelectedElements(s);const n={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,n);const a=this.parent.getSelectedElements();this.parent.trigger(IR,{data:n,element:this.parent.activeCellsData.element,event:e,requestType:"cellSelect",showQuickPopup:!1},h=>{if((h.showQuickPopup||this.parent.quickInfoOnSelectionEnd)&&a.length>1){const m=ae(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.notify(yv,m)}})}processEnter(e){if(this.parent.activeViewOptions.readonly&&!e.target.classList.contains(Bt)||this.isPreventAction(e))return;const t=e.target;if(U(t,"."+Iv))t.classList.contains(KR)||t.classList.contains(XR)||t.classList.contains(nD)||t.classList.contains(rm)||t.classList.contains(TC)?(t.click(),e.preventDefault()):t.classList.contains(or)&&(this.parent.element.querySelector("."+XR).click(),e.preventDefault());else if(t.classList.contains(Nc)&&t.classList.contains(ep)){const i=t.querySelector("."+Jw);i&&i.click()}else if(t.classList.contains(Et)||t.classList.contains(Ms)){this.parent.activeCellsData=this.getSelectedElements(t);const i=ae(this.parent.activeCellsData,{cancel:!1,event:e});this.parent.allowInline?this.parent.notify($x,{element:i.element,groupIndex:i.groupIndex,type:"Cell"}):this.parent.notify(yv,i)}else if(t.classList.contains(Vc))this.parent.inlineModule.inlineCrudActions(t);else{if(!(t.classList.contains(Bt)||t.classList.contains(SF)||t.classList.contains(rI)||t.classList.contains(bl)))return t.classList.contains(rD)?(this.parent.setProperties({selectedDate:this.parent.getDateFromElement(t)},!0),this.parent.changeView(this.parent.getNavigateView(),e),void this.processEscape(e)):void 0;t.click()}}getSelectedElements(e){let t;if(this.selectedCells.length>1&&e.classList.contains(Jx)){const i=this.parent.getCellDetails(this.selectedCells[0]),s=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=s.endTime,i.element=e,t=i}else t=this.parent.getCellDetails(e);return t}getCells(e,t,i){const s=this.parent.getContentTable();let n=[].slice.call(s.querySelectorAll("td")),a=s.rows.length,o=s.rows[0].cells.length;if(t&&t.classList.contains(Ms)){const C=this.parent.getAllDayRow();n=[].slice.call(C.cells),a=1,o=C.cells.length}let h=n.indexOf(t),d=n.indexOf(i);const m=[];if(e){for(let C=0;C<o;C++)for(let w=0;w<a;w++)m.push(n[o*w+C]);h=m.indexOf(t),d=m.indexOf(i)}if(h>d){const C=h;h=d,d=C}return(e?m:n).slice(h,d+1)}focusFirstCell(){if("Agenda"===this.parent.currentView){const e=this.parent.getContentTable().querySelector("."+nm);return e.setAttribute("tabindex","0"),void e.focus()}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()){const e=this.parent.element.querySelector("."+ar+" tr:not(."+mo+") ."+Et+":not(."+Xw+")");this.selectCells(!1,e)}else this.selectCells(!1,this.parent.getWorkCellElements()[0])}isInverseTableSelect(){return this.parent.activeView.isInverseTableSelect}selectCells(e,t){this.parent.removeSelectedClass();let i=t instanceof Array?t.slice(-1)[0]:t;if(e){let s;const n=["Day","Week","WorkWeek","Month","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth"],a={element:t,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(IR,a,o=>{(!o.allowMultipleRow||!this.parent.allowMultiRowSelection)&&n.indexOf(this.parent.currentView)>-1&&(i=i.parentElement.children[this.initialTarget.cellIndex]);let d=this.getCells(this.isInverseTableSelect(),this.initialTarget,i);if(this.parent.activeViewOptions.group.resources.length>0){s=this.initialTarget.getAttribute("data-group-index");const m=[];for(const v of d)v.getAttribute("data-group-index")===s&&m.push(v);d=m}if(this.parent.allowMultiCellSelection||(d=[this.initialTarget]),this.selectedCells=d,d.length>2&&!i.classList.contains(Ms)){let m=this.getAllDayCells(d);if(this.parent.activeViewOptions.group.resources.length>0){const v=[];for(const C of m)C.getAttribute("data-group-index")===s&&v.push(C);m=v}d=d.concat(m)}i.getAttribute("data-group-index")!==s&&this.parent.activeViewOptions.group.resources.length>0&&(i=this.selectedCells[this.selectedCells.length-1]),this.parent.addSelectedClass(d,i)})}else this.initialTarget=i,this.selectedCells=[i],this.parent.addSelectedClass([i],i)}selectAppointment(e,t){const i=this.getAppointmentElements();if(i.length<0)return;let s;if(this.parent.eventBase.removeSelectedAppointmentClass(),t.classList.contains(Bt)){const n=i.indexOf(t);s=i[e?n-1:n+1]}else s=e?i[i.length-1]:i[0];s&&(this.parent.eventBase.addSelectedAppointments([s]),s.focus(),L([s],uF))}selectAppointmentElementFromWorkCell(e,t){if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),t.classList.contains(Et)||t.classList.contains(Ms)){const i=this.getUniqueAppointmentElements(),s=[],n=this.parent.getDateFromElement(t).getTime();if(this.parent.eventsProcessed.filter(o=>e?o[this.parent.eventFields.startTime].getTime()<=n:o[this.parent.eventFields.startTime].getTime()>=n).filter(o=>{i.filter(h=>{JSON.stringify(o.Guid)===JSON.stringify(h.getAttribute("data-guid"))&&s.push(h)})}),s.length>0){const h=this.getAppointmentElementsByGuid((e?s[s.length-1]:s[0]).getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(h),h[h.length-1].focus()}}}getAllDayCells(e){const t=this.parent.getAllDayRow();if(!t)return[];const i=e[0],s=e[e.length-1],n=this.parent.getCellDetails(i);return this.parent.getCellDetails(s).endTime.getTime()-n.startTime.getTime()>=Xn?[].slice.call(t.cells).slice(i.cellIndex,s.cellIndex+1):[]}getAppointmentElements(){return[].slice.call(this.parent.element.querySelectorAll("."+Bt))}getAppointmentElementsByGuid(e){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+e+'"]'))}getUniqueAppointmentElements(){const e=this.getAppointmentElements(),t=[];return e.map(i=>i.getAttribute("data-guid")).filter((i,s,n)=>{n.indexOf(i)===s&&t.push(e[s])}),t}getWorkCellFromAppointmentElement(e){const t=this.parent.eventBase.getEventByGuid(e.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([t])}processViewNavigation(e){const t=parseInt(e.key,10)-1;t<this.parent.views.length&&(this.parent.changeView(this.parent.viewCollections[t].option,e,void 0,t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus())}processUp(e,t){if(t&&(this.parent.activeView.isTimelineView()||"MonthAgenda"===this.parent.currentView))return;let i=e.target;const s=this.parent.getSelectedElements(),n=this.parent.eventBase.getSelectedAppointments(),a=this.parent.element.querySelector("."+wv),o=this.getQuickPopupElement();if(s.length>0&&!e.target.classList.contains(Et)&&(i=s[s.length-1]),n.length>0&&!a.classList.contains(Jr)&&!o.classList.contains(Jr)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(i=this.getWorkCellFromAppointmentElement(n[n.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),i)if(i.classList.contains(Et)&&!this.parent.element.querySelector("."+Jr)){const h=this.parent.getTableRows(),d=h.indexOf(i.parentElement);d>0&&d<h.length&&this.selectCells(t,h[d-1].cells[i.cellIndex])}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!0,i)}processDown(e,t){if(t&&(this.parent.activeView.isTimelineView()||"MonthAgenda"===this.parent.currentView))return;let i=e.target;const s=this.parent.getSelectedElements(),n=this.parent.eventBase.getSelectedAppointments(),a=this.parent.element.querySelector("."+wv),o=this.getQuickPopupElement();s.length>0&&!e.target.classList.contains(Et)&&(i=s[s.length-1]),n.length>0&&!a.classList.contains(Jr)&&!o.classList.contains(Jr)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(i=this.getWorkCellFromAppointmentElement(n[n.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());const h=this.parent.getTableRows();if(i)if(i.classList.contains(Et)&&!this.parent.element.querySelector("."+Jr)){const d=h.indexOf(i.parentElement);d>=0&&d<h.length-1&&this.selectCells(t,h[d+1].cells[i.cellIndex])}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!1,i)}processLeftRight(e){const t=this.parent.getContentTable(),i=e.parentNode.sectionRowIndex;return{element:t,rowIndex:i,columnIndex:e.cellIndex,maxIndex:t.rows[i].cells.length}}getQuickPopupElement(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+Iv)}isCancelLeftRightAction(e,t){if("Agenda"===this.parent.currentView||t&&"MonthAgenda"===this.parent.currentView||this.isPreventAction(e)&&t)return!0;const i=this.parent.element.querySelector("."+wv),s=this.getQuickPopupElement();return!(!i.classList.contains(Jr)&&!s.classList.contains(Jr))}processRight(e,t){if(this.isCancelLeftRightAction(e,t))return;const i=this.parent.getSelectedElements();let s;const n=this.parent.eventBase.getSelectedAppointments();let a=e.target;if(i.length>0&&!a.classList.contains(Et)&&!a.classList.contains(Ms)&&(a=i[i.length-1]),!(n.length>0)||(a=this.getWorkCellFromAppointmentElement(n[n.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),a))if(a.classList.contains(Et)&&e.target.classList.contains(Et)){const o=this.processLeftRight(a);if(o.columnIndex>=0&&o.columnIndex<o.maxIndex-1)s=this.calculateNextPrevDate(a,o.element.rows[o.rowIndex].cells[a.cellIndex+1],"right"),f(s)||this.selectCells(t,s);else if(o.columnIndex===o.maxIndex-1)if(!this.isInverseTableSelect()&&o.rowIndex<o.element.rows.length-1)s=this.calculateNextPrevDate(a,o.element.rows[o.rowIndex+1].cells[0],"right"),f(s)||this.selectCells(t,s);else if(!t){const h=this.isInverseTableSelect()?o.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);const d=this.parent.getContentTable();this.selectCells(!1,d.rows[h].cells[0])}}else if(a.classList.contains(Ms)){const o=a.cellIndex,h=this.parent.getAllDayRow(),d=h.cells.length;if(o>=0&&o<d-1)this.selectCells(t,h.cells[o+1]);else if(o===d-1&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);const m=this.parent.getAllDayRow();this.selectCells(!1,m.cells[0])}}}processLeft(e,t){if(this.isCancelLeftRightAction(e,t))return;let i=e.target;const s=this.parent.getSelectedElements();let n;s.length>0&&!i.classList.contains(Et)&&!i.classList.contains(Ms)&&(i=s[s.length-1]);const a=this.parent.eventBase.getSelectedAppointments();if(!(a.length>0)||(i=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),i))if(e.target.classList.contains(Et)&&i.classList.contains(Et)){const o=this.processLeftRight(i);if(o.columnIndex>0&&o.columnIndex<o.maxIndex)n=this.calculateNextPrevDate(i,o.element.rows[o.rowIndex].cells[i.cellIndex-1],"left"),f(n)||this.selectCells(t,n);else if(0===o.columnIndex)if(!this.isInverseTableSelect()&&o.rowIndex>0)n=this.calculateNextPrevDate(i,o.element.rows[o.rowIndex-1].cells[o.maxIndex-1],"left"),f(n)||this.selectCells(t,n);else if(!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);const h=this.parent.getContentTable(),d=this.isInverseTableSelect()?o.rowIndex:h.rows.length-1;this.selectCells(!1,h.rows[d].cells[o.maxIndex-1])}}else if(i.classList.contains(Ms)){const o=i.cellIndex,h=this.parent.getAllDayRow(),d=h.cells.length;if(o>0&&o<d)this.selectCells(t,h.cells[o-1]);else if(0===o&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);const m=this.parent.getAllDayRow();this.selectCells(!1,m.cells[d-1])}}}calculateNextPrevDate(e,t,i){const s=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&"Month"===this.parent.currentView&&e&&t&&t.getAttribute("data-group-index")!==s){const n=this.parent.getDateFromElement(e),a="right"===i?new Date(n.setDate(n.getDate()+1)):new Date(n.setDate(n.getDate()-1));t=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+s+'"]'))[0]}return t}getFocusableElements(e){return[].slice.call(e.querySelectorAll('a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'))}processTabOnPopup(e,t){let i=this.getFocusableElements(t);i=i.filter(a=>{const o=this.parent.element.querySelector("."+wF);return o&&o.offsetParent?!(a.classList.contains(SC)||a.classList.contains(hI)):!(a.classList.contains(nD)||a.classList.contains(rm))});const s=i[0],n=i[i.length-1];!f(n)&&document.activeElement===n&&!e.shiftKey&&(e.preventDefault(),s.focus()),!f(s)&&document.activeElement===s&&e.shiftKey&&(e.preventDefault(),n.focus())}processTab(e,t){let i=e.target;const s=U(i,"."+Iv+",."+wv);if(s&&s.classList.contains(Jr))return s.classList.contains(wv)&&this.parent.eventBase.removeSelectedAppointmentClass(),void this.processTabOnPopup(e,s);if(i.classList.contains(_R))return void this.parent.eventBase.removeSelectedAppointmentClass();if(i.classList.contains(Nc)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){const a=parseInt(i.getAttribute("data-group-index"),10),h=[].slice.call(this.parent.element.querySelectorAll(`.${Bt}[data-group-index="${t?a-1:a}"]`));if(h.length>0){this.parent.eventBase.removeSelectedAppointmentClass();const d=t?h.slice(-1)[0]:h[0];this.parent.eventBase.addSelectedAppointments([d]),d.focus(),e.preventDefault()}else if(a+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),e.preventDefault();else if(this.parent.virtualScrollModule){const d=this.parent.element.querySelector("."+bC),m=Math.round(d.offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(t?a-1:a+1)*m,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(a);return}if(i.classList.contains(Bt)){let a=[].slice.call(this.parent.element.querySelectorAll("."+Bt));if(this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){const h=parseInt(i.getAttribute("data-group-index"),10);a=[].slice.call(this.parent.element.querySelectorAll(`.${Bt}[data-group-index="${h}"]`));const m=this.parent.element.querySelector(`.${Nc}[data-group-index="${t?h:h+1}"]`);if(m&&(t&&i.getAttribute("data-guid")===a[0].getAttribute("data-guid")||!t&&i.getAttribute("data-guid")===a.slice(-1)[0].getAttribute("data-guid")))return this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?m.focus({preventScroll:!0}):m.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&f(this.parent.virtualScrollModule)&&this.setScrollPosition(h),void e.preventDefault()}const o=this.parent.eventBase.getSelectedAppointments();if(o.length>0&&(i=o[o.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!t&&i.getAttribute("data-guid")===a[a.length-1].getAttribute("data-guid")||t&&i.getAttribute("data-guid")===a[0].getAttribute("data-guid"))return;return void(("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&(this.selectAppointment(t,i),e.preventDefault()))}const n=this.parent.getSelectedElements();if(n.length>0&&!i.classList.contains(Bt))return i=n[n.length-1],this.selectAppointmentElementFromWorkCell(t,i),void e.preventDefault();i&&!i.classList.contains(Nc)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(i,t)}processDelete(e){let t=document.activeElement;if("MonthAgenda"===this.parent.currentView){const i=this.parent.eventBase.getSelectedEvents().element;t=i&&f(i.length)?i:i[0]}if(t&&t.classList.contains(Bt)){if(L([t],tD),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||t.classList.contains(dI)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(e)}}processCtrlShiftNavigationArrows(e){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(Bt)){const t=parseInt(document.activeElement.getAttribute("data-group-index"),10);let i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?t-1:t+1;i=i<0?0:i>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:i;let s=[];for(;0===s.length&&i>=0&&i<=this.parent.resourceBase.lastResourceLevel.length;)s=[].slice.call(this.parent.element.querySelectorAll(`.${Bt}[data-group-index="${i}"]`)),i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?i-1:i+1;const n=s[0];n&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([n]),n.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(Bt)){const s=[].slice.call(this.parent.element.querySelectorAll(`.${Bt}[data-group-index="${this.parent.resourceBase.renderedResources[0].groupIndex}"]`));if(s.length>0){this.parent.eventBase.removeSelectedAppointmentClass();const n=s[0];this.parent.eventBase.addSelectedAppointments([n]),n.focus(),e.preventDefault()}}}processEscape(e){this.parent.quickPopup.onClosePopup(e),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()}isPreventAction(e){const t=U(e.target,"."+Xw);return!(!this.parent.activeView.isTimelineView()||f(t))}processTabOnResourceCells(e,t){const i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),s=i.indexOf(e),n=t?i[s-1]:i[s+1];if(n&&n.classList.contains(Nc)){const a=parseInt(n.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){const o=this.parent.element.querySelector("."+tc);[].slice.call(this.parent.element.querySelectorAll("."+Nc)).forEach(d=>{d.getBoundingClientRect().top<o.getBoundingClientRect().top&&d.setAttribute("tabindex","-1")})}else this.setScrollPosition(a)}}setScrollPosition(e){const t=this.parent.element.querySelector(`.${Et}[data-group-index="${e}"]`);t&&(this.parent.element.querySelector("."+li).scrollTop=t.offsetTop)}getModuleName(){return"keyboard"}destroy(){this.removeEventListener(),this.keyboardModule.destroy()}}class VW{constructor(e,t){this.initDataManager(e,t)}initDataManager(e,t){this.dataManager=e instanceof ot?e:new ot(e),this.query=t instanceof kt?t:new kt}generateQuery(e,t){const i=this.query.clone();return e&&i.addParams("StartDate",e.toISOString()),t&&i.addParams("EndDate",t.toISOString()),i}getData(e){return this.dataManager.executeQuery(e)}destroy(){this.dataManager=null,this.query=null}}class FW{firstDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth())}lastDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}isMonthStart(e){return 1===e.getDate()}getLeapYearDaysCount(){return 366}getYearDaysCount(e,t){return(e.getFullYear()+t)%4==0?366:365}getDate(e){return e.getDate()}getMonth(e){return e.getMonth()+1}getFullYear(e){return e.getFullYear()}getYearLastDate(e,t){return new Date(e.getFullYear()+t,0,0)}getMonthDaysCount(e){return this.lastDateOfMonth(e).getDate()}getMonthStartDate(e){return new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes())}getMonthEndDate(e){return e.setDate(1),new Date(e.setMonth(e.getMonth()+1))}getExpectedDays(e,t){return t}setDate(e,t){e.setDate(t)}setValidDate(e,t,i,s,n){f(n)?e.setMonth(e.getMonth()+t,i):e.setMonth((n?s:e.getMonth())+t)}setMonth(e,t,i){e.setFullYear(e.getFullYear()),e.setMonth(t-1),e.setDate(i)}addYears(e,t){e.setFullYear(e.getFullYear()+t)}isSameMonth(e,t){return e.getMonth()===t.getMonth()}checkMonth(e,t){return-1===t.indexOf(e.getMonth()+1)}compareMonth(e,t){return e.getMonth()>t.getMonth()}isSameYear(e,t){return e.getFullYear()===t.getFullYear()}isLastMonth(e){return 11===e.getMonth()}isLeapYear(e,t){return(e+t)%4==0}}class HW{firstDateOfMonth(e){const t=this.getHijriDate(e);return to.toGregorian(t.year,t.month,1)}lastDateOfMonth(e){const t=this.getHijriDate(e),i=this.getDaysInMonth(t.month,t.year),s=to.toGregorian(t.year,t.month,i);let n=new Date(s.getTime());n=new Date(n.setDate(n.getDate()+1));let a=this.getHijriDate(n);return t.month===a.month?n:(a=this.getHijriDate(s),t.month===a.month?s:new Date(s.setDate(s.getDate()-1)))}isMonthStart(e){return 1===this.getHijriDate(e).date}getLeapYearDaysCount(){return 355}getYearDaysCount(e,t){const i=this.getHijriDate(e);return this.isLeapYear(i.year,t)?355:354}getDate(e){return this.getHijriDate(e).date}getMonth(e){return this.getHijriDate(e).month}getFullYear(e){return this.getHijriDate(e).year}getYearLastDate(e,t){const i=this.getHijriDate(e);return to.toGregorian(i.year+t,1,0)}getMonthDaysCount(e){const t=this.lastDateOfMonth(e);return this.getHijriDate(t).date}getMonthStartDate(e){const t=this.firstDateOfMonth(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())}getMonthEndDate(e){const t=this.lastDateOfMonth(e);return t.setDate(t.getDate()+1),new Date(t.setMonth(t.getMonth()))}getExpectedDays(e,t){const i=this.getHijriDate(e),s=[];for(let n=0;n<t.length;n++){const a=to.toGregorian(i.year,i.month,t[n]);s.push(a.getDate())}return s}setDate(e,t){const i=this.getHijriDate(e),s=to.toGregorian(i.year,i.month,t);this.updateDateObj(e,s)}setValidDate(e,t,i,s,n){const a=f(n)?e:this.firstDateOfMonth(n),o=this.getHijriDate(a),h=to.toGregorian(o.year,o.month+t,i);this.updateDateObj(e,h)}setMonth(e,t,i){const s=this.getHijriDate(e),n=to.toGregorian(s.year,t,i);this.updateDateObj(e,n)}addYears(e,t,i){const s=this.getHijriDate(e),n=to.toGregorian(s.year+t,i,1);this.updateDateObj(e,n)}isSameMonth(e,t){const i=this.getHijriDate(e),s=this.getHijriDate(t);return i.month===s.month}checkMonth(e,t){const i=this.getHijriDate(e);return-1===t.indexOf(i.month)}compareMonth(e,t){const i=this.getHijriDate(e),s=this.getHijriDate(t);return i.month>s.month}isSameYear(e,t){const i=this.getHijriDate(e),s=this.getHijriDate(t);return i.year===s.year}isLastMonth(e){return 12===this.getHijriDate(e).month}updateDateObj(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())}isLeapYear(e,t){return(14+11*(e+t))%30<11}getDaysInMonth(e,t){let i=0;return i=29+(e+1)%2,11===e&&this.isLeapYear(t,0)&&i++,i}getHijriDate(e){return to.getHijriDate(e)}}class BW{constructor(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}offset(e,t){const i=e.getTimezoneOffset();try{const s=new Date(e.toLocaleString("en-US",{timeZone:t}));return isNaN(s.getTime())?0:(e.getTime()-s.getTime())/6e4+i}catch(s){return 0}}convert(e,t,i){"string"==typeof t&&(t=this.offset(e,t)),"string"==typeof i&&(i=this.offset(e,i));const s=e.getTimezoneOffset(),n=(e=new Date(e.getTime()+6e4*(t-i))).getTimezoneOffset();return new Date(e.getTime()+6e4*(n-s))}add(e,t){return this.convert(e,e.getTimezoneOffset(),t)}remove(e,t){return this.convert(e,t,e.getTimezoneOffset())}removeLocalOffset(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())}getLocalTimezoneName(){return window.Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}getTimezoneData(){return jW}}const jW=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}];function WW(r,e,t){let i="";if(r.monthDay.length)i+=r.monthDay[0];else if(r.day){const s=r.setPosition-1;i+=t.getConstant(XW[s>-1?s:XW.length-1])+" "+ks(X(ZW[r.day[0]],e),"single")}return i}function LF(r,e,t,i,s=x7,n=null,a="Gregorian",o=null,h=null){const d=HF(e);let m;xt=BF(a);const v=[],C=new Date(r.getTime());lL=[];const w=f(t)?[]:t.split(","),S=new BW;if(w.forEach(k=>{let O=aL(k);o&&h&&(O=S.convert(new Date(O.getTime()),o,h)),lL.push(new Date(O.getTime()).setHours(0,0,0,0))}),d.recExceptionCount=f(d.count)?0:lL.length,xC=n&&n>r&&!d.count?new Date(new Date(n.getTime()).setHours(0,0,0)):null,!d.until&&xC&&(m=new Date(xC.getTime()),m.setDate(xC.getDate()+s*d.interval),d.until=m),d.until&&r>d.until)return v;switch(KW=s,function(r){for(;Mv[0]!==r;)T7(Mv)}(ta[i]),d.freq){case"DAILY":!function(r,e,t,i){const s=new Date(r.getTime()),n=i.interval,a=np(r,i);let o;const h=i.day;for(;Fh(s,e)&&(o=!0,o=oL(s,i),!(o&&(h.indexOf(ta[s.getDay()])>-1||0===h.length)&&(_F(t,s.getTime()),a&&t.length+i.recExceptionCount>=a)));)s.setDate(s.getDate()+n)}(C,d.until,v,d);break;case"WEEKLY":!function(r,e,t,i){let s=new Date(r.getTime());i.day.length||i.day.push(ta[r.getDay()]);const n=i.interval,a=i.day,o=np(r,i);let d,h=!0,m=[];if(a.length>1)for((f(i.wkst)||""===i.wkst)&&(i.wkst=Mv[0]),d=ta.indexOf(i.wkst);Fh(s,e);){let v=ta.indexOf(ta[s.getDay()])-d;v=-1===v?6:v;const C=at(s,-v);let w=at(C,6),S=new Date(s.getTime());for(w=ge(w),S=ge(S);w>=S&&(a.indexOf(ta[s.getDay()])>-1&&m.push([s.getTime()]),!(o&&t.length+i.recExceptionCount>=o));)s.setDate(s.getDate()+1),S=new Date(s.getTime()),S=ge(S);if(s.setDate(s.getDate()-1),o&&t.length+i.recExceptionCount>=o)break;s.setDate(s.getDate()+1+7*(n-1)),PF(m,h,r,e,t,i),m=[]}else{for(s=fa(r,i.day);Fh(s,e)&&(h=oL(s,i),h&&a.indexOf(ta[s.getDay()])>-1&&_F(t,s.getTime()),!(o&&t.length+i.recExceptionCount>=o));)s.setDate(s.getDate()+7*n);PF(m,h,r,e,t,i),m=[]}}(C,d.until,v,d);break;case"MONTHLY":UW(C,d.until,v,d);break;case"YEARLY":!function(r,e,t,i){switch(function(r){return r.yearDay.length?"YEARDAY":r.weekNo.length?"WEEKNO":"MONTH"}(i)){case"MONTH":UW(r,e,t,i);break;case"WEEKNO":!function(r,e,t,i){let n,s=xt.getYearLastDate(r,0);const a=np(r,i);let o,h,d;const m=i.weekNo;let v,C,w,S=[];const k=i.day;for(;Fh(s,e);){h=Mv.indexOf(ta[s.getDay()]),d=6-h+1;for(let O=0;O<m.length;O++)for(v=m[O],v=v>0?v:53+v+1,C=1===v?d:d+7*(v-1),w=1===v?d-7:d+7*(v-2);w<C;)n=new Date(s.getTime()+Xn*w),(0===k.length||k.indexOf(ta[n.getDay()])>-1)&&(f(i.setPosition)?mI(o,r,e,t,i,n.getTime()):S.push([n.getTime()])),w++;if(f(i.setPosition)||kv(S,o,r,e,t,i),a&&t.length+i.recExceptionCount>=a)return;s=xt.getYearLastDate(n,i.interval),S=[]}}(r,e,t,i);break;case"YEARDAY":!function(r,e,t,i){let n,s=xt.getYearLastDate(r,0);const a=np(r,i);let o,d,h=[];const m=i.day;for(;Fh(s,e);){for(let v=0;v<i.yearDay.length;v++)d=i.yearDay[v],n=new Date(s.getTime()),d!==xt.getLeapYearDaysCount()&&d!==-xt.getLeapYearDaysCount()||xt.isLeapYear(xt.getFullYear(n),1)?(n.setDate(n.getDate()+(d<0?xt.getYearDaysCount(n,1)+1+d:d)),(0===m.length||m.indexOf(ta[n.getDay()])>-1)&&(null==i.setPosition?mI(o,r,e,t,i,n.getTime()):h.push([n.getTime()]))):n.setDate(n.getDate()+1);if(f(i.setPosition)||kv(h,o,r,e,t,i),a&&t.length+i.recExceptionCount>=a)return;s=xt.getYearLastDate(n,i.interval),h=[]}}(r,e,t,i)}}(C,d.until,v,d)}return v}function aL(r){return new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,5)+":"+r.substr(11,2)+":"+r.substr(13))}function _F(r,e){const t=new Date(e).setHours(0,0,0,0);-1===lL.indexOf(t)&&(!xC||t>=xC.getTime())&&r.push(e)}function np(r,e){let t=KW;return e.count?t=e.count:e.until&&("DAILY"===e.freq||"WEEKLY"===e.freq?t=Math.floor((e.until.getTime()-r.getTime())/Xn)+1:("MONTHLY"===e.freq||"YEARLY"===e.freq)&&(t=Math.floor((e.until.getMonth()+12*e.until.getFullYear()-(r.getMonth()+12*r.getFullYear()))/e.interval)+(e.day.length>1?Math.floor((e.until.getTime()-r.getTime())/Xn)+1:1),"YEARLY"===e.freq&&(t=e.month.length>1?t*e.month.length:t))),t}function UW(r,e,t,i){switch(i.month.length||i.day.length||i.monthDay.length?i.month.length>0&&!i.day.length&&!i.monthDay.length&&i.monthDay.push(r.getDate()):(i.monthDay.push(r.getDate()),"YEARLY"===i.freq&&i.month.push(r.getMonth()+1)),function(r){return r.monthDay.length&&!r.day.length?"date":!r.monthDay.length&&r.day.length?"day":"both"}(i)){case"day":switch(i.freq){case"MONTHLY":$W(r,e,t,i);break;case"YEARLY":!function(r,e,t,i){const s=i.day,n=s.map(v=>UF.test(v));if(s.length>1&&n.indexOf(!0)>-1)return void function(r,e,t,i){const s=i.day,n=np(r,i);let a=new Date(r.getTime());const o=i.interval;let m,v,w,S,h=[],d=[],C=0;a=xt.getMonthStartDate(a);let O=[];for(i.month.length&&xt.setMonth(a,i.month[0],1),a=fa(a,i.day);Fh(a,e);){w=new Date(a.getTime());for(let N=0;N<=i.month.length;N++)for(let q=0;q<=s.length-1;q++){for(a=xt.getMonthStartDate(a),a=fa(a,i.day),h=[];xt.isSameYear(w,a)&&n&&t.length+i.recExceptionCount<=n;)for(;xt.isSameYear(w,a);){if(w=new Date(a.getTime()),0===i.month.length||i.month.length>0&&i.month[N]===xt.getMonth(w)){const z=s[q].match(cL),Z=parseInt(z[0],10);for(S=new Date(a.getTime());xt.isSameYear(S,a)&&xt.isSameMonth(S,a);)z[z.length-1]===ta[S.getDay()]&&h.push([S.getTime()]),S.setDate(S.getDate()+1);S.setDate(S.getDate()-1),m=z[0].indexOf("-")>-1?h.length- -1*Z:Z-1,m=isNaN(m)?0:m}C=AC(a,i,C,undefined,1),a=fa(a,i.day)}if(a=0===q&&S?new Date(S.getTime()):new Date(w.getTime()),h.length>0&&(f(i.setPosition)?kv(h,v,r,e,t,i,m):d=[VF(h,m,O)]),n&&t.length+i.recExceptionCount>=n)return}f(i.setPosition)||(FF(d,v,r,e,t,i),O=[]),xt.isLastMonth(a)?(xt.setValidDate(a,1,1),a.setFullYear(a.getFullYear()+o-1)):a.setFullYear(a.getFullYear()+o),a=fa(a,i.day),i.month.length&&xt.setMonth(a,i.month[0],a.getDate())}}(r,e,t,i);if(i.month.length&&1===s.length&&n.indexOf(!0)>-1)return void $W(r,e,t,i);let o,a=new Date(r.getTime());const h=np(r,i),d=i.interval;let m=[];for(i.month.length&&xt.setMonth(a,i.month[0],a.getDate()),f(i.setPosition)&&0===i.month.length&&0===i.weekNo.length&&a.setFullYear(r.getFullYear(),0,1),a=xt.getMonthStartDate(a),a=fa(a,i.day);Fh(a,e);){for(o=new Date(a.getTime());xt.isSameYear(o,a)&&h&&t.length+i.recExceptionCount<=h;)for(o=new Date(a.getTime());xt.isSameYear(o,a);){if(!(0===i.month.length||i.month.length>0&&!xt.checkMonth(a,i.month))){xt.setValidDate(a,1,1),a=fa(a,i.day);break}if(s.length>1){if(xt.compareMonth(o,a)){xt.setValidDate(a,1,1),a=fa(a,i.day);break}s.indexOf(ta[o.getDay()])>-1&&m.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>a.getFullYear()){xt.setValidDate(a,1,1),a=fa(a,i.day);break}const v=QW(s[0]);ta[o.getDay()]===v&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(r.getFullYear())&&m.push([o.getTime()]),o.setDate(o.getDate()+7)}}if(a.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),GW(m,r,e,t,i),xt.isLastMonth(a)&&(xt.setValidDate(a,1,1),a=fa(a,i.day)),a.setFullYear(a.getFullYear()+d-1),h&&t.length+i.recExceptionCount>=h)return;a=fa(a,i.day),m=[]}}(r,e,t,i)}break;case"both":case"date":switch(i.freq){case"MONTHLY":zW(r,e,t,i);break;case"YEARLY":!function(r,e,t,i){if(i.month.length)return void zW(r,e,t,i);const s=qW(r,i);let n;for(s.tempDate=s.mainDate=xt.getMonthStartDate(s.tempDate);Fh(s.tempDate,e);){for(n=new Date(s.tempDate.getTime());xt.isSameYear(n,s.tempDate)&&s.expectedCount&&t.length+i.recExceptionCount<=s.expectedCount;){if(!(0===i.month.length||i.month.length>0&&!xt.checkMonth(s.tempDate,i.month))){xt.setValidDate(s.tempDate,1,1),s.tempDate=fa(s.tempDate,i.day);break}YW(i,s,e,!1),s.beginDate=new Date(s.tempDate.getTime()),s.monthInit=AC(s.tempDate,i,s.monthInit,s.beginDate)}if(s.tempDate.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),PF(s.dateCollection,s.state,r,e,t,i),xt.isLastMonth(s.tempDate)&&(xt.setValidDate(s.tempDate,1,1),s.tempDate=fa(s.tempDate,i.day)),s.expectedCount&&t.length+i.recExceptionCount>=s.expectedCount)return;s.tempDate.setFullYear(s.tempDate.getFullYear()+i.interval-1),s.tempDate=fa(s.tempDate,i.day),s.monthInit=AC(s.tempDate,i,s.monthInit,s.beginDate),s.dateCollection=[]}}(r,e,t,i)}}}function qW(r,e){const t={monthCollection:[],index:0,tempDate:new Date(r.getTime()),mainDate:new Date(r.getTime()),expectedCount:np(r,e),monthInit:0,dateCollection:[]};return e.month.length&&xt.setMonth(t.tempDate,e.month[0],t.tempDate.getDate()),t}function zW(r,e,t,i){const s=qW(r,i);if(s.tempDate=s.mainDate=xt.getMonthStartDate(s.tempDate),!(("MONTHLY"===i.freq&&12===i.interval||"YEARLY"===i.freq)&&xt.getMonthDaysCount(r)<i.monthDay[0]))for(;Fh(s.tempDate,e);){if(s.beginDate=new Date(s.tempDate.getTime()),YW(i,s,e,!0,r,t),f(i.setPosition)||kv(s.dateCollection,s.state,r,e,t,i),s.expectedCount&&t.length+i.recExceptionCount>=s.expectedCount)return;s.monthInit=AC(s.tempDate,i,s.monthInit,s.beginDate),s.dateCollection=[]}}function YW(r,e,t,i,s,n){for(let a=0;a<r.monthDay.length;a++){e.date=r.monthDay[a],e.tempDate=xt.getMonthStartDate(e.tempDate);const o=xt.getMonthDaysCount(e.tempDate);if(e.date=e.date>0?e.date:o+e.date+1,b7(e.tempDate,e.date,e.mainDate)&&e.date>0){if(xt.setDate(e.tempDate,e.date),t&&e.tempDate>t)return;(0===r.day.length||r.day.indexOf(ta[e.tempDate.getDay()])>-1)&&(i&&f(r.setPosition)&&e.expectedCount&&n.length+r.recExceptionCount<e.expectedCount?mI(e.state,s,t,n,r,e.tempDate.getTime()):e.dateCollection.push([e.tempDate.getTime()]))}}}function AC(r,e,t,i=null,s){let n=i?i.getMonth():0;const a=xt.getMonthStartDate(r);return s=f(s)?e.interval:s,r.setFullYear(a.getFullYear()),r.setMonth(a.getMonth()),r.setDate(a.getDate()),e.month.length?(t++,xt.setMonth(r,e.month[t%=e.month.length],1),0===t&&xt.addYears(r,s,e.month[0])):(i&&i.getFullYear()<r.getFullYear()&&(n=r.getMonth()-1),xt.setValidDate(r,s,1,n,i)),t}function $W(r,e,t,i){if(i.day.length>1)return void function(r,e,t,i){const s=i.day;let n=new Date(r.getTime());n=xt.getMonthStartDate(n);let d,m,a=[],o=[],h=[];const v=np(r,i);let w,C=0;for(i.month.length&&xt.setMonth(n,i.month[0],1),n=fa(n,i.day);Fh(n,e)&&v&&t.length+i.recExceptionCount<v;){const S=new Date(n.getTime());if(s.map(O=>UF.test(O)).indexOf(!0)>-1){for(let O=0;O<=s.length-1;O++){const N=s[O].match(cL),q=parseInt(N[0],10);for(n=new Date(n.getTime()),n=xt.getMonthStartDate(n),n=fa(n,s),S.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());xt.isSameYear(S,n)&&xt.isSameMonth(S,n);)N[N.length-1]===ta[S.getDay()]&&a.push([S.getTime()]),S.setDate(S.getDate()+1);if(S.setDate(S.getDate()-1),d=N[0].indexOf("-")>-1?a.length- -1*q:q-1,d=isNaN(d)?0:d,a.length>0&&(f(i.setPosition)?kv(a,m,r,e,t,i,d):o=[VF(a,d,h)]),v&&t.length+i.recExceptionCount>=v)return;a=[]}f(i.setPosition)||(FF(o,m,r,e,t,i),h=[]),C=AC(n,i,C,w),n=fa(n,i.day),a=[]}else{let O=[];const N=C7(s);S.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());const q=new Date(n.getTime());for(w=new Date(n.getTime());xt.isSameMonth(q,n);)O.push(n.getTime()),s.indexOf(ta[n.getDay()])>-1&&(a.push(O),O=[]),n.setDate(n.getDate()+N[ta[n.getDay()]]);if(d=i.setPosition<1?a.length+i.setPosition:i.setPosition-1,f(i.setPosition)){d=0;const z=[];for(let Z=0;Z<a.length;Z++)for(let Ce=0;Ce<a[Z].length;Ce++)z.push(a[Z][Ce]);a=[z]}if(a.length>0&&kv(a,m,r,e,t,i,d),v&&t.length+i.recExceptionCount>=v)return;C=AC(n,i,C,w),n=fa(n,i.day),a=[]}}}(r,e,t,i);let n=new Date(r.getTime());const a=np(r,i);let h,o=[],d=0;for(n=xt.getMonthStartDate(n),i.month.length&&xt.setMonth(n,i.month[0],1),n=fa(n,i.day);Fh(n,e)&&a&&t.length+i.recExceptionCount<a;){h=new Date(n.getTime());const m=new Date(n.getTime());for(;xt.isSameMonth(n,m);)o.push([m.getTime()]),m.setDate(m.getDate()+7);GW(o,r,e,t,i),d=AC(n,i,d,h),n=fa(n,i.day),o=[]}}function PF(r,e,t,i,s,n){let a=n.setPosition<1?r.length+n.setPosition:n.setPosition-1;f(n.setPosition)&&(a=0,r=NF(r)),r.length>0&&kv(r,e,t,i,s,n,a)}function NF(r){const e=[];for(let t=0;t<r.length;t++)for(let i=0;i<r[t].length;i++)e.push(new Date(r[t][i]).getTime());return e.length>0?[e]:[]}function GW(r,e,t,i,s){let a,o=[],h=[];const d=function(r,e){let t;const i={monthCollection:[],index:0};if(1===e.length){const s=e[0].match(cL);let n;s.length>1?(n=parseInt(s[0],10),t=n<1?r.length+n:n-1):(t=0,r=NF(r))}else t=0,r=NF(r);return i.monthCollection=r,i.index=t,i}(r,s.day);r=d.monthCollection;const m=d.index;null!=s.setPosition?(h=[VF(r,m,o)],FF(h,a,e,t,i,s)):r.length>0&&kv(r,a,e,t,i,s,m),o=[]}function VF(r,e,t){for(let i=0;i<r[e].length;i++)t.push(r[e][i]);return t}function mI(r,e,t,i,s,n){const a=np(e,s),o=new Date(n);r=oL(o,s),o>=e&&Fh(o,t)&&r&&a&&i.length+s.recExceptionCount<a&&_F(i,n)}function v7(r,e,t,i,s){const n=e||0,a=new Date(r,s.month[0]-1,1),h=new Date(r,s.month[0]-1,0).getDate(),m=(a.getDay()-n+7)%7+h,v=Math.ceil(m/7)-1;return oL(new Date(t[i][v]),s)?v:v-1}function FF(r,e,t,i,s,n){if(r.length>0)for(let a=0;a<r.length;a++){r[a].sort();const h=n.day.map(C=>UF.test(C)),d="YEARLY"===n.freq&&n.validRules.indexOf("BYMONTH")>-1&&!(h.indexOf(!0)>-1)?v7(new Date(r[0][0]).getFullYear(),0,r,a,n):r[a].length+n.setPosition;mI(e,t,i,s,n,r[a][n.setPosition<1?d:n.setPosition-1])}}function kv(r,e,t,i,s,n,a){if(r.length>0){r[a=f(a)?n.setPosition<1?r.length+n.setPosition:n.setPosition-1:a].sort();for(let o=0;o<r[a].length;o++)mI(e,t,i,s,n,r[a][o])}}function Fh(r,e){return!e||r<=e}function QW(r){return r.replace(P7,"")}function fa(r,e){const t=new Date(r.getTime());let i;if(e.length>0){const s=[];for(let n=0;n<=e.length-1;n++)i=QW(e[n]),s.push(i);if(-1===s.indexOf(ta[t.getDay()]))do{t.setDate(t.getDate()+1)}while(-1===s.indexOf(ta[t.getDay()]))}return t}function HF(r){const e={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},t=r.split(";");let s,i=[];if(t.forEach(n=>{switch(i=n.split("="),i[0]){case"UNTIL":s=i[1],e.until=aL(s);break;case"BYDAY":e.day=i[1].split(","),e.validRules.push(i[0]);break;case"BYMONTHDAY":e.monthDay=i[1].split(",").map(Number),e.validRules.push(i[0]);break;case"BYMONTH":e.month=i[1].split(",").map(Number),e.validRules.push(i[0]);break;case"BYYEARDAY":e.yearDay=i[1].split(",").map(Number),e.validRules.push(i[0]);break;case"BYWEEKNO":e.weekNo=i[1].split(",").map(Number),e.validRules.push(i[0]);break;case"INTERVAL":e.interval=parseInt(i[1],10);break;case"COUNT":e.count=parseInt(i[1],10);break;case"BYSETPOS":e.setPosition=parseInt(i[1],10)>4?-1:parseInt(i[1],10);break;case"FREQ":e.freq=i[1];break;case"WKST":e.wkst=i[1]}}),"MONTHLY"===e.freq&&0===e.monthDay.length){const n=e.validRules.indexOf("BYDAY");e.validRules.splice(n,1)}return e}function b7(r,e,t){return e<=xt.getMonthDaysCount(r)&&r>=t}function C7(r){const e={};return r.forEach((t,i)=>{if(i===r.length-1){const s=Mv.indexOf(t);let n=s;for(;n%7!==Mv.indexOf(r[0]);)n++;e[t]=n-s}else e[t]=Mv.indexOf(r[i+1])-Mv.indexOf(t)}),e}function T7(r){const e=r.shift();r.push(e)}function oL(r,e){let t=!0;const i=e.day,s=e.month,n=xt.getExpectedDays(r,e.monthDay),a=e.yearDay;return e.validRules.forEach(o=>{switch(o){case"BYDAY":(function(r,e){const t=[];return e.forEach(i=>{const s=i.match(cL);t.push(2===s.length?s[1]:s[0])}),-1===t.indexOf(ta[r])})(r.getDay(),i)&&(t=!1);break;case"BYMONTH":xt.checkMonth(r,s)&&(t=!1);break;case"BYMONTHDAY":(function(r,e){const t=e.slice(0);let i;const s=xt.getMonthDaysCount(r);for(i=t.shift();i;){if(i<0&&(i=i+s+1),i===r.getDate())return!1;i=t.shift()}return!0})(r,n)&&(t=!1);break;case"BYYEARDAY":(function(r,e){const t=e.slice(0);let i;const s=function(r){jF[xt.getFullYear(r)]||(jF[xt.getFullYear(r)]=xt.getYearLastDate(r,0));const e=jF[xt.getFullYear(r)],t=r.getTime()-e.getTime();return Math.ceil(t/Xn)}(r);for(i=t.shift();i;){if(i<0&&(i=i+xt.getYearDaysCount(r,0)+1),i===s)return!1;i=t.shift()}return!0})(r,a)&&(t=!1)}}),t}function BF(r){return"Islamic"===r?new HW:new FW}const jF={};let lL;const Mv=["SU","MO","TU","WE","TH","FR","SA"];let KW,xC,xt;const ta=["SU","MO","TU","WE","TH","FR","SA"],x7=43,XW=["first","second","third","fourth","last"],WF="summaryOn",ZW={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},UF=/\d/,P7=/[^A-Z]+/,cL=/[a-z]+|[^a-z]+/gi;function om(r){return[r.getUTCFullYear(),gI(r.getUTCMonth()+1),gI(r.getUTCDate()),"T",gI(r.getUTCHours()),gI(r.getUTCMinutes()),gI(r.getUTCSeconds()),"Z"].join("")}function gI(r){return("0"+r).slice(-2)}class qF{constructor(e){this.slots=[],this.isDoubleTapped=!1,this.parent=e}processData(e,t,i){const s=this.parent.activeView.startDate(),n=this.parent.activeView.endDate(),a=this.parent.eventFields;let o=[],h=1,d=!1;const m=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];e.length>0&&f(e[0][a.id])&&(d=!0);for(let w of e){d&&(w[a.id]=h++),w=this.updateEventDateTime(w),t?this.processTimezoneChange(w,i):this.parent.isPrinting||(w=this.processTimezone(w));for(let S=0;S<m.length;S++)(null===w[m[S].field]||0===w[m[S].field])&&(w[m[S].field]=void 0);if(!f(w[a.recurrenceRule])&&""===w[a.recurrenceRule]&&(w[a.recurrenceRule]=null),f(w[a.recurrenceRule])||!f(w[a.recurrenceID])||this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)if(!f(w[a.recurrenceRule])&&f(w[a.recurrenceID])){const S=this.generateOccurrence(w,null,i,!0);for(const k of S){const O=this.parent.eventsProcessed.filter(N=>N[a.startTime].getTime()-k[a.startTime].getTime()==0&&N[a.id]===k[a.id]);k.Guid=O.length>0?O[0].Guid:this.generateGuid(),o.push(k)}}else{const S=this.parent.eventsProcessed.filter(k=>k[this.parent.eventFields.id]===w[this.parent.eventFields.id]);w.Guid=S.length>0?S[0].Guid:this.generateGuid(),o.push(w)}else w.Guid=this.generateGuid(),o.push(w);else o=o.concat(this.generateOccurrence(w,null,i,!0))}this.parent.eventsProcessed=[];const v=o.filter(w=>!w[this.parent.eventFields.isBlock]);this.parent.eventsProcessed=this.filterEvents(s,n,v);const C=o.filter(w=>w[this.parent.eventFields.isBlock]);for(const w of C)w[a.isAllDay]&&(ge(new Date(w[a.startTime].getTime()))<ge(new Date(w[a.endTime].getTime()))||(w[a.startTime]=ge(w[a.startTime]),w[a.endTime]=at(ge(w[a.endTime]),1)));return this.parent.blockProcessed=C,v}updateEventDateTime(e){return"string"==typeof e[this.parent.eventFields.startTime]&&(e[this.parent.eventFields.startTime]=Yj(e[this.parent.eventFields.startTime])),"string"==typeof e[this.parent.eventFields.endTime]&&(e[this.parent.eventFields.endTime]=Yj(e[this.parent.eventFields.endTime])),e}getProcessedEvents(e=this.parent.eventsData){let t=[];for(const i of e)!f(i[this.parent.eventFields.recurrenceRule])&&f(i[this.parent.eventFields.recurrenceID])?t=t.concat(this.generateOccurrence(i)):t.push(i);return t}timezonePropertyChange(e){const t=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(t,!0,e);this.parent.notify(Nh,{processedData:i})}timezoneConvert(e){const t=this.parent.eventFields;if(e[t.startTimezone]=e[t.startTimezone]||e[t.endTimezone],e[t.endTimezone]=e[t.endTimezone]||e[t.startTimezone],this.parent.timezone){const s=e[t.endTimezone];e[t.startTime]=this.parent.tzModule.convert(e[t.startTime],this.parent.timezone,e[t.startTimezone]),e[t.endTime]=this.parent.tzModule.convert(e[t.endTime],this.parent.timezone,s)}}processTimezoneChange(e,t){const i=this.parent.eventFields;e[i.isAllDay]||(t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],t,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],t,this.parent.timezone)):!t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)):t&&!this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],t),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],t)))}processTimezone(e,t=!1){const i=this.parent.eventFields;if(e[i.startTimezone]||e[i.endTimezone]){const s=e[i.startTimezone]||e[i.endTimezone],n=e[i.endTimezone]||e[i.startTimezone];t?this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],s,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],n,this.parent.timezone),e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],s),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],n)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],s),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],n),this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],s,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],n,this.parent.timezone)))}else this.parent.timezone&&(t?(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)));return e}filterBlockEvents(e){const t=this.parent.eventFields,i=e[t.startTime],s=e[t.endTime];let n;if(this.parent.activeViewOptions.group.resources.length>0){const o=this.getGroupIndexFromEvent(e);n=this.parent.resourceBase.lastResourceLevel[o]}const a=ae([],this.parent.blockProcessed,null,!0);for(const o of a)o[t.isAllDay]&&o[t.endTime].getTime()>ge(new Date(o[t.endTime].getTime())).getTime()&&(o[t.startTime]=ge(o[t.startTime]),o[t.endTime]=at(ge(o[t.endTime]),1));return this.filterEvents(i,s,a,n)}filterEvents(e,t,i=this.parent.eventsProcessed,s){const n=this.parent.eventFields,a=new Ni(n.startTime,"greaterthanorequal",e).and(new Ni(n.endTime,"greaterthanorequal",e)).and(new Ni(n.startTime,"lessthan",t)).or(new Ni(n.startTime,"lessthanorequal",e).and(new Ni(n.endTime,"greaterthan",e)));let o=new ot({json:i}).executeLocal((new kt).where(a));return s&&(o=this.filterEventsByResource(s,o)),this.sortByTime(o)}filterEventsByRange(e,t,i){let s=[];return s=t&&i?this.filterEvents(t,i,e):t&&!i?e.filter(n=>n[this.parent.eventFields.startTime]>=t):!t&&i?e.filter(n=>n[this.parent.eventFields.endTime]<=i):e,this.sortByTime(s)}filterEventsByResource(e,t=this.parent.eventsProcessed){const i={},s=this.parent.resourceBase.resourceCollection;for(let o=0;o<s.length;o++)i[s[o].field]=e.groupOrder[o];const n=Object.keys(i);return t.filter(o=>n.every(h=>o[h]instanceof Array?o[h].indexOf(i[h])>-1:o[h]===i[h]))}sortByTime(e){if(this.parent.eventSettings.sortComparer)e=this.parent.eventSettings.sortComparer.call(this.parent,e);else{const t=this.parent.eventFields;e.sort((i,s)=>{const a=s[t.startTime];return i[t.startTime].getTime()-a.getTime()})}return e}sortByDateTime(e){if(this.parent.eventSettings.sortComparer)e=this.parent.eventSettings.sortComparer.call(this.parent,e);else{const t=this.parent.eventFields;e.sort((i,s)=>{const n=i[t.startTime],a=s[t.startTime],h=s[t.endTime],d=i[t.endTime].getTime()-n.getTime(),m=h.getTime()-a.getTime();return n.getTime()-a.getTime()||m-d})}return e}getSmallestMissingNumber(e){const t=Math.max(...e);for(let i=0;i<t;i++)if(-1===e.indexOf(i))return i;return t+1}splitEventByDay(e){const t=this.parent.eventFields,i=[],s=e[t.startTime],n=e[t.endTime];if(ge(new Date(s.getTime()))<ge(new Date(n.getTime()))){let o=new Date(s.getTime()),h=at(ge(new Date(s.getTime())),1);const d=0===n.getHours()&&0===n.getMinutes()?n:at(n,1);let m=1;const v=$V(s.getTime(),d.getTime());for(;h<=n&&o.getTime()!==h.getTime();){const C=ae({},e);C[t.startTime]=o,C[t.endTime]=h,C.data={index:m,count:v},C.Guid=this.generateGuid(),C.isSpanned=!0,i.push(C),o=h,ge(new Date(o.getTime())).getTime()===ge(new Date(n.getTime())).getTime()&&h.getTime()!==n.getTime()?(h=new Date(o.getTime()),h=new Date(h.setHours(n.getHours(),n.getMinutes(),n.getSeconds()))):h=at(ge(new Date(o.getTime())),1),m++}}else i.push(e);return i}splitEvent(e,t){const i=this.parent.eventFields;let s=ge(e[i.startTime]).getTime(),n=ge(e[i.endTime]).getTime();if(tm(e[i.endTime])<=0){const d=at(ge(e[i.endTime]),-1).getTime();n=s>d?s:d}const a=s,o=n,h=[];if(s!==n){s<t[0].getTime()&&(s=t[0].getTime()),n>t[t.length-1].getTime()&&(n=t[t.length-1].getTime());let d=s;for(let m=0;m<this.slots.length;m++){let v=this.slots[m];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){const w=[];for(const k of v)w.push(new Date(k));const S=this.getRenderedDates(w);if(!f(S)&&S.length>0){v=[];for(const k of S)v.push(k.getTime())}}if("number"==typeof v){const w=v;v=[],v.push(w)}const C=v[0];if(d=d<=C&&n>=C?C:d,d>n||C>n)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){const w=v.indexOf(d);if(-1!==w){let S=v.indexOf(n);const k=-1!==S;if(S=k?S:v.length-1,h.push(this.cloneEventObject(e,v[w],v[S],S-w+1,v[w]!==a,v[S]!==o)),k)break}}else if(this.dateInRange(d,v[0],v[v.length-1])){const w=[];for(let S=0;S<v.length;S++)this.dateInRange(v[S],a,o)&&w.push(v[S]);if(w.length>0)if(this.parent.activeViewOptions.group.byDate)for(const S of w)h.push(this.cloneEventObject(e,S,S,1,S!==a,S!==o));else h.push(this.cloneEventObject(e,w[0],w[w.length-1],w.length,w[0]!==a,w[w.length-1]!==o))}}}else h.push(this.cloneEventObject(e,s,n,1,!1,!1));return h}cloneEventObject(e,t,i,s,n,a){const o=this.parent.eventFields,h=ae({},e,null,!0),d={count:s,isLeft:n,isRight:a};return d[o.startTime]=e[o.startTime],d[o.endTime]=e[o.endTime],h.data=d,h[o.startTime]=new Date(t),h[o.endTime]=new Date(i),h}dateInRange(e,t,i){return t<=e&&e<=i}getSelectedEventElements(e){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(e);else if(this.parent.selectedElements.filter(i=>i.getAttribute("data-guid")===e.getAttribute("data-guid")).length<=0){const i='div[data-guid="'+e.getAttribute("data-guid")+'"]',s=[].slice.call(this.parent.element.querySelectorAll(i));for(const n of s)this.parent.selectedElements.push(n)}else{const i=this.parent.selectedElements.filter(s=>s.getAttribute("data-guid")!==e.getAttribute("data-guid"));this.parent.selectedElements=i}return e&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements),this.parent.selectedElements}getSelectedEvents(){const e=[],t=[];return[].slice.call(this.parent.element.querySelectorAll("."+tD)).filter(s=>{0===e.filter(a=>a.Guid===s.getAttribute("data-guid")).length&&e.push(this.getEventByGuid(s.getAttribute("data-guid"))),t.push(s)}),{event:e.length>1?e:e[0],element:t.length>1?t:t[0]}}removeSelectedAppointmentClass(){const e=this.getSelectedAppointments();for(const t of e)t.setAttribute("aria-selected","false");H(e,tD),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&H(e,uF)}addSelectedAppointments(e){for(const t of e)t.setAttribute("aria-selected","true");"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),L(e,tD)}getSelectedAppointments(){return[].slice.call(this.parent.element.querySelectorAll("."+tD+",."+Bt+":focus"))}focusElement(e){if(this.parent.eventWindow.dialogObject&&this.parent.eventWindow.dialogObject.visible)return;const t=document.activeElement,i=this.parent.getSelectedElements();if(i.length>0&&(t&&(this.parent.element.contains(t)||-1!==i.indexOf(t))||e)){if(this.parent.keyboardInteractionModule){const n=!f(this.parent.activeCellsData)&&this.parent.activeCellsData.element||i[i.length-1];this.parent.keyboardInteractionModule.selectCells(n instanceof Array,n)}return}const s=this.getSelectedAppointments();s.length>0&&s[s.length-1].focus()}selectWorkCellByTime(e){let t;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return t;if(e.length>0){const i=e[e.length-1],s=i[this.parent.eventFields.startTime];let n=new Date(+s).setMinutes(0,0,0);const a=this.isAllDayAppointment(i);let o;("Month"===this.parent.currentView||a)&&(n=new Date(+s).setHours(0,0,0,0)),o=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();let h='[data-date="'+new Date(n).getTime()+'"]';if(this.parent.activeViewOptions.group.resources.length>0&&(h+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),t=o.querySelector(h),t)return this.parent.activeCellsData=this.parent.getCellDetails(t),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,t),t}return t}getGroupIndexFromEvent(e){let t,i,s,n;for(let o=this.parent.resourceBase.resourceCollection.length-1;o>=0;o--)if(!f(e[this.parent.resourceBase.resourceCollection[o].field])){i=this.parent.resourceBase.resourceCollection[o],t=o,s=i.name,n=i.field;break}f(s)&&f(t)&&(s=this.parent.resourceCollection.slice(-1)[0].name,t=this.parent.resourceCollection.length-1,n=this.parent.resourceCollection.slice(-1)[0].field,i=this.parent.resourceCollection.filter((o,h)=>o.name===s?(t=h,o):null)[0]);const a=e[n]instanceof Array?e[n][0]:e[n];return t>0?this.parent.resourceBase.getIndexFromResourceId(a,s,i,e,this.parent.resourceCollection[t-1].field):this.parent.resourceBase.getIndexFromResourceId(a,s,i)}isAllDayAppointment(e){const t=this.parent.eventFields,i=e[t.isAllDay],s=(e[t.endTime].getTime()-e[t.startTime].getTime())/Xn>=1;return!!(i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&s)}addEventListener(){this.parent.on(em,this.appointmentBorderRemove,this)}removeEventListener(){this.parent.off(em,this.appointmentBorderRemove)}appointmentBorderRemove(e){const t=e.event.target;U(t,"."+Bt)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():U(t,"."+Jr)||this.removeSelectedAppointmentClass()}wireAppointmentEvents(e,t,i=!1){const s=!f(t)&&t[this.parent.eventFields.isReadonly];A.add(e,"click",this.eventClick,this),!this.parent.isAdaptive&&!this.parent.activeViewOptions.readonly&&!s&&(A.add(e,"touchstart",this.eventTouchClick,this),A.add(e,"dblclick",this.eventDoubleClick,this)),!this.parent.activeViewOptions.readonly&&!s&&!i&&(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(e),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(e))}eventTouchClick(e){setTimeout(()=>this.isDoubleTapped=!1,250),e.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(e):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(e))}renderResizeHandler(e,t,i){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!i)for(const s of Object.keys(t)){const n=Q("div",{className:sD});switch(s){case"isLeft":t.isLeft||(n.appendChild(Q("div",{className:"e-left-right-resize"})),L([n],this.parent.enableRtl?GR:$R),Mi([n],e));break;case"isRight":t.isRight||(n.appendChild(Q("div",{className:"e-left-right-resize"})),L([n],this.parent.enableRtl?$R:GR),Ge([n],e));break;case"isTop":t.isTop||(n.appendChild(Q("div",{className:"e-top-bottom-resize"})),L([n],gF),Mi([n],e));break;case"isBottom":t.isBottom||(n.appendChild(Q("div",{className:"e-top-bottom-resize"})),L([n],vF),Ge([n],e))}}}eventClick(e){const t=e.target;if(!t.classList.contains(cW)&&!t.classList.contains(mF))if((e.ctrlKey||e.metaKey)&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+tD));const i=U(e.target,"."+Bt);this.getSelectedEventElements(i),this.activeEventData(e,!1),this.parent.trigger(IR,{data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"});const n=ae(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(Yx,n)}else{this.removeSelectedAppointmentClass(),this.activeEventData(e,!0),this.parent.trigger(IR,{data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"});const s=ae(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(Yx,s,n=>{n.cancel?(this.removeSelectedAppointmentClass(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide()):(("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&L([this.parent.activeEventData.element],uF),this.parent.allowInline?this.parent.notify($x,{data:n.event,element:n.element,type:"Event"}):this.parent.notify(Yx,n))})}}eventDoubleClick(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===e.type&&this.activeEventData(e,!0),this.removeSelectedAppointmentClass(),!this.parent.activeEventData.element.classList.contains(nL)&&!this.parent.activeEventData.element.querySelector("."+Vc)&&(!f(this.parent.activeEventData.event)&&f(this.parent.activeEventData.event[this.parent.eventFields.recurrenceID])?this.parent.eventWindow.openEditor(this.parent.activeEventData.event,"Save"):(this.parent.currentAction="EditOccurrence",this.parent.quickPopup.openRecurrenceAlert()))}getEventByGuid(e){return this.parent.eventsProcessed.filter(t=>t.Guid===e)[0]}getEventById(e){return this.parent.eventsData.filter(t=>t[this.parent.eventFields.id]===e)[0]}generateGuid(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}getEventIDType(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"}getEventMaxID(e){if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;let t;const i=this.getEventIDType();if("string"===i&&(t=this.generateGuid()),"number"===i){const s=this.parent.eventsData.concat(this.parent.blockData);let n=Math.max(...s.map(a=>a[this.parent.eventFields.id]));n=f(e)?n:n+e,t=n+1}return t}activeEventData(e,t){const i=U(e.target,"."+Bt),s=i.getAttribute("data-guid");t&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+s+'"]'))),i.focus());let n=this.getEventByGuid(s);n&&n.isSpanned&&(n=this.parent.eventsData.filter(a=>a[this.parent.eventFields.id]===n[this.parent.eventFields.id])[0]),this.parent.activeEventData={event:n,element:i}}generateOccurrence(e,t,i,s){const n=e[this.parent.eventFields.startTime],o=e[this.parent.eventFields.recurrenceRule],h=e[this.parent.eventFields.endTime].getTime()-n.getTime();t=new Date((t||this.parent.activeView.startDate()).getTime()-h);const d=e[this.parent.eventFields.recurrenceException];let m;"Agenda"!==this.parent.currentView&&s&&(m=function(r,e){return Math.ceil((e.getTime()-r.getTime())/Xn)}(this.parent.activeView.startDate(),this.parent.activeView.endDate())+1);const v=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),S=LF(n,o,d,this.parent.activeViewOptions.firstDayOfWeek,m,t,this.parent.calendarMode,i,v);"Agenda"===this.parent.currentView&&-1===o.indexOf("COUNT")&&-1===o.indexOf("UNTIL")&&(f(e.generatedDates)?e.generatedDates={start:new Date(S[0]),end:new Date(S[S.length-1])}:(S[0]<e.generatedDates.start.getTime()&&(e.generatedDates.start=new Date(S[0])),S[S.length-1]>e.generatedDates.end.getTime()&&(e.generatedDates.end=new Date(S[S.length-1]))));const k=[];for(const O of S){const N=ae({},e,null,!0);N[this.parent.eventFields.startTime]=new Date(O),N[this.parent.eventFields.endTime]=new Date(new Date(O).setMilliseconds(h)),N[this.parent.eventFields.recurrenceID]=N[this.parent.eventFields.id],delete N[this.parent.eventFields.recurrenceException],delete N[this.parent.eventFields.followingID],N.Guid=this.generateGuid(),k.push(N)}return k}getParentEvent(e,t=!1){let i;do{(e=this.getFollowingEvent(e))&&(i=ae({},e,null,!0))}while(e&&t);if(t&&i){const s=this.getEventCollections(i);let n=s.follow.slice(-1)[0];s.occurrence.length>0&&!i[this.parent.eventFields.recurrenceException]&&(n=s.occurrence.slice(-1)[0]),n&&(i[this.parent.eventFields.recurrenceRule]=n[this.parent.eventFields.recurrenceRule])}return i}getEventCollections(e,t){const i=[];let s=[],n=e;do{n=this.getFollowingEvent(n,!0),n&&i.push(n),s=s.concat(this.getOccurrenceEvent(n||e))}while(n);let a={};if(t){const o=this.parent.eventFields;a={follow:i.filter(h=>h[o.startTime]>=t[o.startTime]),occurrence:s.filter(h=>h[o.startTime]>=t[o.startTime])}}else a={follow:i,occurrence:s};return a}getFollowingEvent(e,t){const i=this.parent.eventFields;let s;return s=t?e[i.id]:e[i.recurrenceID]||e[i.followingID],this.parent.eventsData.filter(a=>a[t?i.followingID:i.id]===s).shift()}isFollowingEvent(e,t){const i=e[this.parent.eventFields.startTime],s=t[this.parent.eventFields.startTime];return i.getHours()===s.getHours()&&i.getMinutes()===s.getMinutes()&&i.getSeconds()===s.getSeconds()}getOccurrenceEvent(e,t=!1,i=!1){const s=t?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,n=t?"Guid":this.parent.eventFields.id;return(t?this.parent.eventsProcessed:this.parent.eventsData).filter(o=>o[s]===e[n])}getOccurrencesByID(e){const t=this.parent.eventFields;let i=[];const s=this.parent.eventsData.filter(n=>n[t.id]===e);for(const n of s)f(n[t.recurrenceRule])||(i=i.concat(this.generateOccurrence(n)));return i}getOccurrencesByRange(e,t){const i=this.parent.eventFields;let s=[];for(const a of this.parent.eventsData)f(a[i.recurrenceRule])||(s=s.concat(this.generateOccurrence(a)));return s.filter(a=>a[i.startTime]>=e&&a[i.endTime]<=t&&!f(a[i.recurrenceID]))}getDeletedOccurrences(e){const t=this.parent.eventFields;let i;const s=[];if(i="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(n=>n[t.id]===e)[0]:ae({},e,null,!0),i[t.recurrenceException]){const n=i[t.recurrenceException].split(",");for(let a=0,o=n.length;a<o;a++)if(0===this.parent.eventsData.filter(d=>d[t.recurrenceID]===i[t.id]&&d[t.recurrenceException]===n[a]).length){const d=aL(n[a]),m=ae({},e,null,!0);m[t.recurrenceID]=i[t.id],delete m[t.followingID],m[t.recurrenceException]=n[a];const v=new Date(d.getTime()),C=i[t.endTime].getTime()-i[t.startTime].getTime(),w=new Date(v.getTime());w.setMilliseconds(C),m[t.startTime]=new Date(v.getTime()),m[t.endTime]=new Date(w.getTime()),s.push(m)}}return s}applyResourceColor(e,t,i,s,n){if(!this.parent.resourceBase)return;const o=this.parent.resourceBase.getResourceColor(t,s);var h,d;o&&(e.style[i]=f(n)?o:(d=n,h=(h=o).replace("#",""),`rgba(${parseInt(h.substring(0,h.length/3),16)}, ${parseInt(h.substring(h.length/3,2*h.length/3),16)}, ${parseInt(h.substring(2*h.length/3,3*h.length/3),16)}, ${d})`))}createBlockAppointmentElement(e,t){const i=e[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,s=Q("div",{className:eD,attrs:{"data-id":"Appointment_"+e[this.parent.eventFields.id],"aria-readonly":"true","aria-selected":"false"}});let n;if(f(this.parent.activeViewOptions.eventTemplate))n=[Q("div",{className:or,innerHTML:i})];else{const h=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";n=this.parent.getAppointmentTemplate()(e,this.parent,"eventTemplate",h,!1)}return Ge(n,s),this.setWrapperAttributes(s,t),s}setWrapperAttributes(e,t){f(this.cssClass)||L([e],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&e.setAttribute("data-group-index",t.toString())}getReadonlyAttribute(e){return(e[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()}isBlockRange(e){const t=e instanceof Array?e:[e];let i=!1;const s=this.parent.eventFields;for(const n of t){let a=[];f(n[s.recurrenceRule])||!f(n[s.recurrenceID])&&n[s.id]!==n[s.recurrenceID]?a.push(n):a=this.generateOccurrence(n);for(const o of a)if(this.filterBlockEvents(o).length>0){i=!0;break}}return this.parent.uiStateValues.isBlock=i,i}getFilterEventsList(e,t){return new ot(e).executeLocal((new kt).where(t))}getSeriesEvents(e,t){const i=this.parent.eventFields;let s,n;t=f(t)?e[i.startTime]:t;const a=[];let d,o=e[i.id],h=e[i.followingID];const m="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do{d=new Ni(i.followingID,"equal",o).and(new Ni(i.startTime,m,t)),n=this.getFilterEventsList(this.parent.eventsData,d),s=n.slice(-1)[0],f(s)||s[i.id]===h?h=null:(a.push(s),o=s[i.id],h=s[i.followingID])}while(1===n.length&&!f(s[i.followingID]));return a}getEditedOccurrences(e,t){const i=this.parent.eventFields;let n,s=[];for(const a of e){let o=new Ni(i.recurrenceID,"equal",a[i.id]).or(new Ni(i.recurrenceID,"equal",a[i.followingID]).and(new Ni(i.recurrenceID,"notequal",void 0)).and(new Ni(i.recurrenceID,"notequal",null)));("EditFollowingEvents"===this.parent.currentAction||"DeleteFollowingEvents"===this.parent.currentAction)&&(o=o.and(new Ni(i.startTime,"greaterthanorequal",t))),n=this.getFilterEventsList(this.parent.eventsData,o),s=s.concat(n)}return s}getRenderedDates(e){let s,t=0,i=e.length;if(e[0]<this.parent.minDate&&e[e.length-1]>this.parent.maxDate){for(let n=0;n<e.length;n++)ge(e[n]).getTime()===ge(new Date(this.parent.minDate)).getTime()&&(t=n),ge(e[n]).getTime()===ge(new Date(this.parent.maxDate)).getTime()&&(i=n);s=e.filter(n=>n>=e[t]&&n<=e[i])}return s}isValidEvent(e,t,i,s){const n=i.getTime()>s.startHour.getTime()&&t.getTime()<s.endHour.getTime(),a=s.startHour.getTime()<=t.getTime()&&e[this.parent.eventFields.startTime].getTime()>=s.startHour.getTime()&&e[this.parent.eventFields.endTime].getTime()<s.endHour.getTime()&&t.getTime()===i.getTime();return n||a}allDayExpandScroll(e,t){let i=0;[].slice.call(this.parent.element.querySelectorAll("."+yF)).forEach(a=>{[].slice.call(a.children).forEach(h=>{h.style.top=i+"px"}),i+=a.offsetHeight}),i=e.offsetHeight-i,this.parent.element.querySelector("."+Ms).style.height=i/12+"em";const n=this.parent.element.querySelector("."+li);this.parent.uiStateValues.expand&&(n.offsetWidth-n.clientWidth>0||t)?L([e],fI):H([e],fI)}unWireEvents(){const e=[].slice.call(this.parent.element.querySelectorAll("."+Bt));for(const t of e)A.clearEvents(t)}destroy(){this.unWireEvents(),this.parent=null}}class zF extends qF{constructor(e){super(e),this.dateRender=[],this.renderedEvents=[],this.renderedAllDayEvents=[],this.overlapEvents=[],this.moreEvents=[],this.overlapList=[],this.allDayEvents=[],this.slotCount=this.parent.activeViewOptions.timeScale.slotCount,this.interval=this.parent.activeViewOptions.timeScale.interval,this.allDayLevel=0,this.startHour=this.parent.activeView.getStartHour(),this.endHour=this.parent.activeView.getEndHour(),this.element=this.parent.activeView.getPanel(),this.fields=this.parent.eventFields,this.animation=new Gi({progress:this.animationUiUpdate.bind(this)}),this.addEventListener()}renderAppointments(){if(f(this.parent))return;this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea();const e=[].slice.call(this.parent.element.querySelectorAll("."+eD+",."+Bt+",."+nI)),t=!(!this.parent.crudModule||!this.parent.crudModule.crudObj.isCrudAction);for(const s of e)if(!t||s.classList.contains(po)||s.classList.contains(nI))nt(s);else{const n=parseInt(s.getAttribute("data-group-index"),10);for(let a=0,o=this.parent.crudModule.crudObj.sourceEvent.length;a<o;a++)(n===this.parent.crudModule.crudObj.sourceEvent[a].groupIndex||n===this.parent.crudModule.crudObj.targetEvent[a].groupIndex)&&nt(s)}if(!this.element.querySelector("."+Et)||(this.allDayElement=[].slice.call(this.element.querySelectorAll("."+Ms)),this.setAllDayRowHeight(0),0===this.parent.eventsProcessed.length&&0===this.parent.blockProcessed.length))return;const i=this.element.querySelector("."+rI);A.remove(i,"click",this.rowExpandCollapse),A.add(i,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter((s,n,a)=>n===a.map(o=>o.Guid).indexOf(s.Guid)),H(this.allDayElement,MF),this.slots.push(this.parent.activeView.renderDates.map(s=>+s)),this.renderEvents("allDayEvents")),this.parent.notify(vl,{}),L(this.allDayElement,MF),t&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}initializeValues(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(let e=0,t=this.resources.length;e<t;e++)this.dateRender[e]=this.resources[e].renderDates}getHeight(e,t){let i=(Zd(t)-Zd(e))/$a*(this.cellHeight*this.slotCount)/this.interval;return i=i<=0?this.cellHeight:i,i}appendEvent(e,t,i,s){const n=[].slice.call(this.element.querySelectorAll("."+hn));Ue(t,this.parent.enableRtl?{right:s}:{left:s});const a=t.classList.contains(eD)?"blockEvent":"event",o={data:ae({},e,null,!0),element:t,cancel:!1,type:a};this.parent.trigger(Yw,o,h=>{h.cancel||n[i].appendChild(t)})}processBlockEvents(){const e=this.getResourceList();let t=0;for(const i of e){const s=this.dateRender[i];for(let n=0,a=s.length;n<a;n++){const o=new Date(s[n].getTime()),h=at(s[n],1),d=this.filterEvents(o,h,this.parent.blockProcessed,this.resources[i]);for(const m of d)this.parent.resourceBase&&this.setValues(m,i),this.renderBlockEvents(m,n,i,t),this.cssClass=null,this.groupOrder=null;t+=1}}}renderBlockEvents(e,t,i,s){const n=this.isSpannedEvent(e,t,i),a=n[this.fields.startTime],o=n[this.fields.endTime],d=Pc(ge(new Date(this.dateRender[i][t].getTime())),this.startHour,this.endHour);if(a<=o&&this.isValidEvent(e,a,o,d)){let m,v;n[this.fields.isAllDay]?(v=fe(this.parent.element.querySelector("."+li+" table").offsetHeight),m=fe(0)):(v=fe(this.getHeight(a,o)),m=fe(this.getTopValue(a,t,i)));const C=this.createBlockAppointmentElement(e,i);Ue(C,{width:"100%",height:v,top:m}),this.appendEvent(e,C,this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:s,"0px")}}renderEvents(e){H(this.allDayElement,MF);const t="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,i=this.getResourceList();let n,s=0;for(const a of i){n=!0,this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!this.parent.uiStateValues.isGroupAdaptive&&0===this.parent.crudModule.crudObj.sourceEvent.filter(d=>d.groupIndex===a).length&&0===this.parent.crudModule.crudObj.targetEvent.filter(d=>d.groupIndex===a).length&&(n=!1),this.slots=[];const o=this.dateRender[a],h=this.getRenderedDates(o)||o;this.slots.push(o.map(d=>+d));for(let d=0,m=o.length;d<m&&o[d]<=h[h.length-1];d++){this.renderedEvents=[];const v=new Date(o[d].getTime()),C=at(o[d],1),w=this.filterEvents(v,C,t,this.resources[a]);if(n)for(const S of w){if(this.parent.resourceBase&&this.setValues(S,a),"allDayEvents"===e)this.renderAllDayEvents(S,d,a,s);else if(this.isAllDayAppointment(S))this.allDayEvents.push(ae({},S,null,!0));else{if(this.parent.eventSettings.enableMaxHeight&&this.getOverlapIndex(S,d,!1,a)>0)continue;this.renderNormalEvents(S,d,a,s)}this.cssClass=null,this.groupOrder=null}else for(const S of w)this.isAllDayAppointment(S)&&this.allDayEvents.push(ae({},S,null,!0));s+=1}}}setValues(e,t){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[t].cssClass,this.groupOrder=this.resources[t].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)}getResourceList(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map((t,i)=>i)}createAppointmentElement(e,t,i,s){const n=this.parent.eventFields,a=e[n.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),o=Q("div",{className:Bt,attrs:{"data-id":"Appointment_"+e[n.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&L([o],"e-read-only");const h=Q("div",{className:WR});let d;o.appendChild(h),this.parent.activeViewOptions.group.resources.length>0&&o.setAttribute("data-group-index",(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:s).toString());const m=i;if(f(this.parent.activeViewOptions.eventTemplate)){const v=Q("div",{className:or,innerHTML:a});if(t)if(e[n.isAllDay])d=[v];else{d=[];const C=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(e[n.startTime])}),w=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(e[n.endTime])});L([v],"e-text-center"),m.isLeft||d.push(C),d.push(v),m.isRight||d.push(w)}else{const C=this.parent.getTimeString(e[n.startTime])+" - "+this.parent.getTimeString(e[n.endTime]);d=[v,Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:C}),Q("div",{className:Av,innerHTML:e[n.location]||this.parent.eventSettings.fields.location.default||""})]}}else{const w=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";d=this.parent.getAppointmentTemplate()(e,this.parent,"eventTemplate",w,!1)}if(Ge(d,h),!(this.parent.isAdaptive||f(e[n.recurrenceRule])&&f(e[n.recurrenceID]))){const C=Q("div",{className:An+" "+(e[n.id]===e[n.recurrenceID]?iI:sI)});t?h.appendChild(C):o.appendChild(C)}return this.renderSpannedIcon(t?h:o,m),f(this.cssClass)||L([o],this.cssClass),this.applyResourceColor(o,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(o,m,e[this.fields.isReadonly]),o}createMoreIndicator(e,t,i){const s=i+t,n=e[s];if(n.childElementCount<=0){const a=Q("div",{className:nI,id:nI+"-"+s.toString()}),o=Q("div",{className:bl,attrs:{tabindex:"0",role:"list","data-index":s.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});a.appendChild(o),n.appendChild(a),A.add(o,"click",this.rowExpandCollapse,this)}else{const a=n.querySelector("."+bl),o=parseInt(a.getAttribute("data-count"),10)+1;a.setAttribute("data-count",o.toString()),a.innerHTML="+"+this.parent.globalize.formatNumber(o)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}}renderSpannedIcon(e,t){const i=Q("div",{className:zR+" "+An});if(t.isLeft){const s=i.cloneNode();L([s],oW),Mi([s],e)}if(t.isRight){const s=i.cloneNode();L([s],lW),Ge([s],e)}if(t.isTop){const s=i.cloneNode();L([s],"e-up-icon"),Mi([s],e)}if(t.isBottom){const s=i.cloneNode();L([s],"e-down-icon"),Ge([s],e)}}isSpannedEvent(e,t,i){let s=ge(this.dateRender[i][t]);const n=this.getRenderedDates(this.dateRender[i])||[s];0===n.filter(m=>m.getDay()===t).length&&(s=ge(n[0]));const o=this.parent.eventFields,h=Pc(s,this.startHour,this.endHour),d=ae({},e,null,!0);return d.isSpanned={isBottom:!1,isTop:!1},e[o.startTime].getTime()<h.startHour.getTime()&&(d[o.startTime]=h.startHour,d.isSpanned.isTop=!0),e[o.endTime].getTime()>h.endHour.getTime()&&(d[o.endTime]=h.endHour,d.isSpanned.isBottom=!0),d}renderAllDayEvents(e,t,i,s,n){let a=this.getRenderedDates(this.dateRender[i])||this.dateRender[i];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[i][t].getTime()],a=[this.dateRender[i][t]]);const o=this.splitEvent(e,a)[0],h=this.element.querySelector("."+Ms+":first-child"),d=h.offsetTop,m=new Date(o[this.parent.eventFields.startTime].getTime()),v=new Date(o[this.parent.eventFields.endTime].getTime());let C=0,w=1;const S=a[0].getTime()<=m.getTime()&&at(a.slice(-1)[0],1).getTime()>=m.getTime();if(m<=v&&S){let k=[];if(this.renderedAllDayEvents[i]&&(k=this.renderedAllDayEvents[i].filter(O=>O.Guid===e.Guid),this.parent.activeViewOptions.group.byDate&&(k=k.filter(O=>O[this.parent.eventFields.startTime]>=a[t]&&O[this.parent.eventFields.endTime]<=at(new Date(+a[t]),1)))),0===k.length){const O=o.data.count,N=this.getOverlapIndex(o,t,!0,i);o.Index=N,this.allDayLevel=this.allDayLevel<N?N:this.allDayLevel;const q=o.data.isRight?0:"Day"===this.parent.currentView?4:7;O>=0&&(C=100*O-q),f(this.renderedAllDayEvents[i])&&(this.renderedAllDayEvents[i]=[]),this.renderedAllDayEvents[i].push(ae({},o,null,!0));const z=[].slice.call(this.element.querySelector("."+Jd).children),Z=this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:s,Ce=this.element.querySelector("."+ip+":nth-child("+(Z+1)+")");let ce;ce=n?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,o.data,i),L([ce],po),this.parent.trigger(Yw,{data:e,element:ce,cancel:!1},Se=>{if(!Se.cancel){Ce.appendChild(ce);const Be=ce.offsetHeight;if(w+=(0===N?d:d+N*Be)+1,Ue(ce,{width:C+"%",top:fe(w)}),N>1){this.moreEvents.push(ce);for(let Ie=0,Pe=O;Ie<Pe;Ie++)this.createMoreIndicator(z,Ie,Z)}h.setAttribute("data-count",this.allDayLevel.toString()),this.setAllDayRowHeight(4+(!this.parent.uiStateValues.expand&&this.allDayLevel>2?3*Be:(this.allDayLevel+1)*Be)),this.addOrRemoveClass(),this.wireAppointmentEvents(ce,e)}})}}}renderNormalEvents(e,t,i,s,n){const a=this.isSpannedEvent(e,t,i),o=a[this.fields.startTime],h=a[this.fields.endTime];let d="0%",v=0;const w=Pc(ge(new Date(this.dateRender[i][t].getTime())),this.startHour,this.endHour),S=this.isValidEvent(e,o,h,w);if(o<=h&&S){const k=this.getHeight(o,h);o.getTime()>w.startHour.getTime()&&(v=this.getTopValue(o,t,i));const O=this.getOverlapIndex(a,t,!1,i);a.Index=O,this.overlapList.push(a),this.overlapList.length>1?(f(this.overlapEvents[O])&&(this.overlapEvents[O]=[]),this.overlapEvents[O].push(a)):(this.overlapEvents=[],this.overlapEvents.push([a])),d=this.getEventWidth();const q=this.adjustOverlapElements({index:O,left:"0%",width:d,day:t,dayIndex:s,record:a,resource:i});let z;d=q.appWidth,f(this.renderedEvents[i])&&(this.renderedEvents[i]=[]),this.renderedEvents[i].push(ae({},a,null,!0)),z=n?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,a.isSpanned,i),Ue(z,{width:this.parent.eventSettings.enableMaxHeight?"100%":q.appWidth,height:k+"px",top:v+"px"});const Z=15*z.querySelectorAll("."+zR).length,Ce=k-40-Z,ce=z.querySelector("."+or);!this.parent.isAdaptive&&ce&&(ce.style.maxHeight=fe(Ce)),this.appendEvent(e,z,this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:s,q.appLeft),this.wireAppointmentEvents(z,e),k<this.cellHeight&&[].slice.call(z.querySelectorAll("."+sD)).forEach(Be=>{Be.style.height=Math.ceil(k/Be.offsetHeight)+"px"})}}getEventWidth(){const t=(("Day"===this.parent.currentView?97:94)-this.overlapEvents.length)/this.overlapEvents.length;return(t<0?0:t)+"%"}getEventLeft(e,t){const i=(parseFloat(e)+1)*t;return(i>99?99:i)+"%"}getTopValue(e,t,i){const n=Pc(ge(this.dateRender[i][t]),this.startHour,this.endHour).startHour,a=60*(e.getHours()-n.getHours())+(e.getMinutes()-n.getMinutes());return this.parent.activeViewOptions.timeScale.enable?a*this.cellHeight*this.slotCount/this.interval:0}getOverlapIndex(e,t,i,s){const n=this.parent.eventFields;let a=[],o=-1;if(this.overlapEvents=[],i){if(!f(this.renderedAllDayEvents[s])){const h=ge(new Date(this.dateRender[s][t].getTime()));a=this.renderedAllDayEvents[s].filter(d=>ge(d[n.startTime]).getTime()<=h.getTime()&&ge(d[n.endTime]).getTime()>=h.getTime()),this.parent.activeViewOptions.group.resources.length>0&&(a=this.filterEventsByResource(this.resources[s],a))}}else{const h=f(this.renderedEvents[s])?[]:this.renderedEvents[s];let d=[];const m=e[n.startTime],v=e[n.endTime];this.overlapList=h.filter(C=>C[n.endTime]>m&&C[n.startTime]<=v||C[n.startTime]>=v&&C[n.endTime]<=m||C[n.endTime].getTime()===C[n.startTime].getTime()&&C[n.startTime].getTime()===m.getTime()&&C[n.endTime]<v),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[s],this.overlapList)),this.overlapList.forEach(C=>{let w=h.filter(k=>k[n.endTime]>C[n.startTime]&&k[n.startTime]<=C[n.endTime]);this.parent.activeViewOptions.group.resources.length>0&&(w=this.filterEventsByResource(this.resources[s],w));const S=w.filter(k=>-1===this.overlapList.indexOf(k));S.length>0&&(d=d.concat(S))});for(let C=0;C<d.length-1;C++)for(let w=C+1;w<d.length;w++)d[C][n.id]===d[w][n.id]&&(d.splice(w,1),w--);this.overlapList=this.overlapList.concat(d),a=this.overlapList;for(const C of a){const S=C.Index;f(this.overlapEvents[S])?this.overlapEvents[S]=[C]:this.overlapEvents[S].push(C)}}if(i||(a=a.filter(h=>h[n.startTime]===e[n.startTime]&&h[n.endTime]>e[n.endTime]||h[n.endTime]>e[n.startTime]&&h[n.startTime]<e[n.endTime]||h[n.endTime]===e[n.startTime]&&h[n.startTime]===e[n.endTime]||h[n.startTime].getTime()===e[n.startTime].getTime()&&h[n.endTime].getTime()===e[n.endTime].getTime()||h[n.startTime].getTime()===e[n.startTime].getTime()&&h[n.endTime].getTime()<e[n.endTime].getTime()||h[n.endTime].getTime()>e[n.endTime].getTime())),a.length>0){const h=a.map(d=>d.Index);o=h.length>0?this.getSmallestMissingNumber(h):0}return-1===o?0:o}adjustOverlapElements(e){const t={appWidth:e.width,appLeft:e.left};for(let i=0,s=this.overlapEvents.length;i<s;i++)if(!f(this.overlapEvents[i]))for(let n=0,a=this.overlapEvents[i].length;n<a;n++){const h=this.element.querySelector("#e-appointment-wrapper-"+(this.parent.activeViewOptions.group.byDate?this.resources.length*e.day+e.resource:e.dayIndex));if(h.childElementCount>0){const d=this.overlapEvents[i][n].Guid;if(h.querySelectorAll('div[data-guid="'+d+'"]').length>0&&d!==e.record.Guid){const m=h.querySelector('div[data-guid="'+d+'"]');parseFloat(e.width)<=parseFloat(m.style.width)&&(this.parent.enableRtl?m.style.right=this.getEventLeft(e.width,i):m.style.left=this.getEventLeft(e.width,i),m.style.width=parseFloat(e.width)+"%"),t.appWidth=m.style.width}else{let m=e.width;f(this.overlapEvents[i-1])&&(m=this.getEventWidth()),t.appWidth=m,t.appLeft=this.getEventLeft(m,e.index)}}}return t}setAllDayRowHeight(e){const t=this.parent.element.querySelector("."+yl);("auto"===this.parent.height||!this.parent.enableAllDayScroll)&&L([t],rL);const i=this.parent.element.querySelector("."+Jd);if(i.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)i.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(t);else{t.scrollTop=0;for(const s of this.allDayElement)s.style.height=e/12+"em";H([t],fI)}this.animation.animate(this.allDayElement[0])}addOrRemoveClass(){this.moreEvents.filter(i=>{!this.parent.uiStateValues.expand&&this.allDayLevel>2?(L([i],hW),i.setAttribute("tabindex","-1")):(H([i],hW),i.setAttribute("tabindex","0"))});const e=this.element.querySelector("."+rI);this.parent.uiStateValues.expand?(H([e],QR),L([e],uW)):(H([e],uW),L([e],QR)),this.allDayLevel>2?H([e],bs):L([e],bs),[].slice.call(this.element.querySelectorAll("."+nI)).forEach(i=>{!this.parent.uiStateValues.expand&&this.allDayLevel>2?H([i],bs):L([i],bs)})}getEventHeight(){const e=Q("div",{className:Bt,styles:"visibility:hidden"});this.element.querySelector("."+ip+":first-child").appendChild(e);const i=e.offsetHeight;return nt(e),i}rowExpandCollapse(){const e=this.element.querySelector("."+rI);let t;this.parent.uiStateValues.expand=e.classList.contains(QR),this.parent.uiStateValues.expand?(e.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),e.setAttribute("aria-label","Collapse section"),t=(this.allDayLevel+1)*this.getEventHeight()+4):(e.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),e.setAttribute("aria-label","Expand section"),t=3*this.getEventHeight()+4),this.setAllDayRowHeight(t),this.addOrRemoveClass(),this.animation.animate(e)}animationUiUpdate(){this.parent.notify(vl,{})}destroy(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,super.destroy())}}class oD extends qF{constructor(e){super(e),this.renderedEvents=[],this.monthHeaderHeight=0,this.moreIndicatorHeight=19,this.renderType="day",this.element=this.parent.activeView.getPanel(),this.fields=this.parent.eventFields,this.maxHeight=this.parent.eventSettings.enableMaxHeight&&!this.parent.eventSettings.enableIndicator&&!this.parent.rowAutoHeight,this.withIndicator=this.parent.eventSettings.enableMaxHeight&&this.parent.eventSettings.enableIndicator&&!this.parent.rowAutoHeight,this.maxOrIndicator=this.maxHeight||this.withIndicator,this.moreIndicatorHeight=this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace?0:this.moreIndicatorHeight,this.addEventListener()}removeEventWrapper(e){if(e.length>0){e="Month"===this.parent.currentView?e:[e[0]];for(const t of e)!t.classList.contains("e-more-indicator")&&t.parentElement&&t.parentElement.parentNode&&nt(t.parentElement)}}renderAppointments(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea();const e=this.parent.element.querySelector("."+li);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);const t=[].slice.call(this.element.querySelectorAll("."+hn));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(let s=0,n=this.parent.crudModule.crudObj.sourceEvent.length;s<n;s++){const a=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[s].groupIndex+'"]'));if(this.removeEventWrapper(a),this.parent.crudModule.crudObj.targetEvent[s]&&this.parent.crudModule.crudObj.sourceEvent[s].groupIndex!==this.parent.crudModule.crudObj.targetEvent[s].groupIndex){const o=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[s].groupIndex+'"]'));this.removeEventWrapper(o)}}else for(const s of t)nt(s);if(this.removeHeightProperty(ar),!this.element.querySelector("."+Et))return;if("Month"===this.parent.currentView){const s=Q("div",{className:hn}),n=this.parent.element.querySelector("."+Et);n.appendChild(s),this.monthHeaderHeight=s.offsetTop-n.offsetTop,n.removeChild(s)}this.eventHeight=$w(this.element,Bt);const i=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!f(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();const s={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&(this.parent.currentAction?(e.scrollTop=i,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(vl,{}),this.parent.notify(Lc,s),"Month"===this.parent.currentView&&this.parent.showWeekNumber){const n=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+HR)).forEach((o,h)=>{Ue(o,{height:n[h].offsetHeight+"px"})}),this.parent.element.querySelector("."+cF).scrollTop=this.parent.element.querySelector("."+li).scrollTop}}this.parent.renderTemplates()}renderEventsHandler(e,t,i){this.renderedEvents=[];let s,n,a=0;if(i?(a=i.groupIndex,this.cssClass=i.cssClass,this.groupOrder=i.groupOrder,s=this.parent.eventBase.filterEventsByResource(i,this.parent.eventsProcessed),n=this.parent.eventBase.filterEventsByResource(i,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+Et+'[data-group-index="'+a+'"]'))):(s=this.parent.eventsProcessed,n=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+Et))),this.sortByDateTime(s),this.sortByDateTime(n),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){const d=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),m="auto"===this.parent.height?(this.parent.element.querySelector(".e-content-wrap").clientHeight+this.parent.element.querySelector(".e-date-header-wrap").clientHeight)/d.length:this.parent.element.querySelector(".e-schedule-table").clientHeight/d.length;d.forEach(v=>{Ue(v,{height:m+"px"})})}const o=this.workCells.slice(-1)[0].getBoundingClientRect();this.cellWidth=o.width,this.cellHeight=o.height,this.dateRender=e;const h=this.getRenderedDates(e);this.getSlotDates(t),this.processBlockEvents(n,a,i);for(const d of s){this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(d));const m=this.splitEvent(d,h||this.dateRender);for(const v of m){if(this.maxHeight){const C="Month"===this.parent.currentView?v[this.fields.startTime]:this.getStartTime(v,v.data);if(this.getIndex(C)>0)continue}this.updateIndicatorIcon(v),this.renderEvents(v,a,s)}}this.cssClass=null,this.groupOrder=null}processBlockEvents(e,t,i){for(const s of e){this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(s));const n=[];if("day"!==this.renderType||s[this.fields.isAllDay])n.push(s);else{const a=ae({},s,null,!0);let o=this.isSameDate(a[this.fields.startTime],a[this.fields.endTime]);if(a.isBlockIcon=o,!o&&tm(a[this.fields.startTime])>0){const h=ae({},s,null,!0);h[this.fields.endTime]=at(ge(new Date(s[this.fields.startTime]+"")),1),h.isBlockIcon=!0,a[this.fields.startTime]=h[this.fields.endTime],n.push(h)}if(o=this.isSameDate(a[this.fields.startTime],a[this.fields.endTime]),!o&&tm(a[this.fields.endTime])>0){const h=ae({},s,null,!0);h[this.fields.startTime]=ge(new Date(s[this.fields.endTime]+"")),h.isBlockIcon=!0,n.push(h),a[this.fields.endTime]=h[this.fields.startTime]}n.push(a)}for(const a of n){const o=this.splitEvent(a,this.dateRender);for(const h of o)this.renderBlockEvents(h,t,!!a.isBlockIcon)}}}isSameDate(e,t){return new Date(+e).setHours(0,0,0,0)===new Date(+t).setHours(0,0,0,0)}renderBlockEvents(e,t,i){const s=e.data,n=this.getStartTime(e,s),a=this.getEndTime(e,s),o=this.parent.getIndexOfDate(this.dateRender,ge(new Date(n.getTime())));if(o<0||n>a)return;const h=this.getCellTd(o),d=this.getPosition(n,a,e[this.fields.isAllDay],o);if(i)this.renderBlockIndicator(h,d,t);else{let v=this.getEventWidth(n,a,e[this.fields.isAllDay],s.count);v=v<=0?this.cellWidth:v;const C=this.parent.enableRtl?0:d,w=this.parent.enableRtl?d:0,S=this.cellHeight-this.monthHeaderHeight,k=this.getRowTop(t),O=this.createBlockAppointmentElement(e,t);Ue(O,{width:v+"px",height:S+"px",left:C+"px",right:w+"px",top:k+"px"}),this.renderEventElement(e,O,h)}}renderBlockIndicator(e,t,i){const s=Q("div",{className:"e-icons "+jR});f(e.querySelector("."+jR))&&e.appendChild(s)}getStartTime(e,t){return e[this.fields.startTime]}getEndTime(e,t){return e[this.fields.endTime]}getCellTd(e){return this.workCells[e]}getEventWidth(e,t,i,s){return s*this.cellWidth-1}getPosition(e,t,i,s){return 0}getRowTop(e){return 0}updateIndicatorIcon(e){if(-1===this.parent.currentView.indexOf("Timeline")||"TimelineMonth"===this.parent.currentView||e[this.fields.isAllDay])return;const t=e.data,i=this.parent.activeView.getStartHour(),s=this.parent.activeView.getEndHour(),n=Pc(e[this.fields.startTime],i,s),a=Pc(e[this.fields.endTime],i,s),o=t[this.fields.startTime],h=t[this.fields.endTime];if(t.isLeft=t.isLeft||o.getTime()<n.startHour.getTime(),t.isRight=t.isRight||h.getTime()>a.endHour.getTime(),ge(o).getTime()!==ge(h).getTime()){const d=n.startHour,m=a.endHour,v=new Date(ge(o));if(v.setHours(m.getHours(),m.getMinutes(),m.getSeconds()),t.isLeft=t.isLeft||o.getTime()>=(d.getDate()===n.endHour.getDate()?v.getTime():at(v,1).getTime()),h.getTime()!==ge(h).getTime()){const C=new Date(ge(h));t.isRight=t.isRight||h.getTime()<=C.setHours(d.getHours(),d.getMinutes(),d.getSeconds())}}}renderResourceEvents(){const e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(let t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){const s=this.parent.crudModule.crudObj.sourceEvent[t];if(this.renderEventsHandler(s.renderDates,s.workDays,s),this.parent.crudModule.crudObj.sourceEvent[t].groupIndex!==this.parent.crudModule.crudObj.targetEvent[t].groupIndex){const n=this.parent.crudModule.crudObj.targetEvent[t];this.renderEventsHandler(n.renderDates,n.workDays,n)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(const t of e)this.renderEventsHandler(t.renderDates,t.workDays,t)}getSlotDates(e){this.slots=[];const t=this.dateRender.map(s=>+s),i=this.parent.activeViewOptions.showWeekend?7:e.length;for(;t.length>0;)this.slots.push(t.splice(0,i))}createAppointmentElement(e,t,i=!1){const s=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),n=ae({},e,e.data,!0),a={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(n,s)};i||(a["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(a["data-group-index"]=t.toString());const o=Q("div",{className:Bt,attrs:a});f(this.cssClass)||L([o],this.cssClass),e[this.fields.isReadonly]&&L([o],"e-read-only");const h=Q("div",{className:WR});let d;o.appendChild(h);const m=e.data,v=this.getEventData(e);if(f(this.parent.activeViewOptions.eventTemplate)){const C=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",w=Q("div",{className:or,innerHTML:s+(C?";&nbsp"+C:"")}),S=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(m[this.fields.startTime])}),k=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(m[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(d=[w],L([w],"e-text-center")):m.count<=1&&!m.isLeft&&!m.isRight?d=[S,w]:(d=[],L([w],"e-text-center"),m.isLeft||d.push(S),d.push(w),m.isRight||d.push(k));else{let O;if(e[this.fields.isAllDay])O=[w,Q("div",{className:Gu,innerHTML:this.parent.localeObj.getConstant("allDay")})];else{const q=this.parent.getTimeString(m[this.fields.startTime])+" - "+this.parent.getTimeString(m[this.fields.endTime]);O=[w,Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:q}),Q("div",{className:Av,innerHTML:C})]}const N=Q("div",{className:"e-inner-wrap"});Ge(O,N),d=[N]}}else{const S=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";d=this.parent.getAppointmentTemplate()(v,this.parent,"eventTemplate",S,!1)}return Ge(d,h),this.appendEventIcons(e,h),this.renderResizeHandler(o,e.data,e[this.fields.isReadonly]),o}appendEventIcons(e,t){const i=e.data;f(e[this.fields.recurrenceRule])&&f(e[this.fields.recurrenceID])||t.appendChild(Q("div",{className:An+" "+(e[this.fields.id]===e[this.fields.recurrenceID]?iI:sI)+(this.parent.isAdaptive?" "+bs:"")})),i.isLeft&&Mi([Q("div",{className:zR+" "+An+" "+oW})],t),i.isRight&&Ge([Q("div",{className:zR+" "+An+" "+lW})],t)}renderEvents(e,t,i){const s=e[this.fields.startTime],n=e[this.fields.endTime],a=this.parent.getIndexOfDate(this.dateRender,ge(s));if(a<0||s.getTime()<this.parent.minDate.getTime()||n.getTime()>this.parent.maxDate.getTime())return;const o=this.getIndex(s);e.Index=o;let h=this.eventHeight;this.renderedEvents.push(ae({},e,null,!0));const d=e.data.count;if(s.getTime()<=n.getTime()){const m=d*this.cellWidth-5,v=this.workCells[a],C=o*(h+0),w=this.monthHeaderHeight+(o+1)*(h+0)+this.moreIndicatorHeight,S=this.maxOrIndicator?o<1:this.cellHeight>w;if(this.parent.rowAutoHeight||S){let k;k=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,t),this.applyResourceColor(k,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(k,e),Ue(k,{width:m+"px",top:C+"px"}),this.renderEventElement(e,k,v),this.parent.rowAutoHeight&&this.updateCellHeight(v.parentElement.firstElementChild,w)}else for(let k=0;k<d;k++){const O=this.workCells[a+k];if(O&&f(O.querySelector("."+bl))){const N=new Date(this.dateRender[a+k].getTime()),q=at(this.dateRender[a+k],1),z=O.getAttribute("data-group-index"),Z=this.getFilteredEvents(N,q,z),Ce=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight;h=this.withIndicator?Ce:h;const ce=Math.floor(Ce/(h+0)),Se=this.getMoreIndicatorElement(Z.length-ce<=0?1:Z.length-ce,N,q);f(z)||Se.setAttribute("data-group-index",z),Se.style.top=Ce+"px",Se.style.width=this.cellWidth-2+"px",this.renderElement(O,Se),A.add(Se,"click",this.moreIndicatorClick,this)}}}}updateCellHeight(e,t){t>e.offsetHeight&&Ue(e,{height:t+"px"})}updateBlockElements(){const e=[].slice.call(this.element.querySelectorAll("."+eD));for(const t of e){const i=U(t,"tr");this.monthHeaderHeight=t.offsetParent.offsetTop-i.offsetTop,t.style.height=i.offsetHeight-1-this.monthHeaderHeight+"px";const s=i.firstElementChild,n=Math.round(t.offsetWidth/s.offsetWidth);t.style.width=s.offsetWidth*n+"px"}}getFilteredEvents(e,t,i,s){let n;if(f(i))n=this.filterEvents(e,t);else{const a=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)];n=this.filterEvents(e,t,f(s)?void 0:s,a)}return n}getOverlapEvents(e,t){const i=[];for(const s of t){const n=ge(e).getTime();ge(s[this.fields.startTime]).getTime()<=n&&ge(s[this.fields.endTime]).getTime()>=n&&i.push(s)}return i}getIndex(e){let t=-1;const i=this.renderedEvents;if(i.length>0){const n=this.getOverlapEvents(e,i).map(a=>a.Index);t=n.length>0?this.getSmallestMissingNumber(n):0}return-1===t?0:t}moreIndicatorClick(e){const t=U(e.target,"."+bl),i=new Date(parseInt(t.getAttribute("data-start-date"),10)),s=new Date(parseInt(t.getAttribute("data-end-date"),10)),n=t.getAttribute("data-group-index"),a={cancel:!1,event:e,element:t,isPopupOpen:!0,startTime:i,endTime:s,viewName:this.parent.getNavigateView()};n&&(a.groupIndex=parseInt(n,10)),this.parent.trigger("moreEventsClick",a,o=>{if(!o.cancel)if(o.isPopupOpen){const h=this.getFilteredEvents(i,s,n);this.parent.quickPopup.moreEventClick({date:i,event:h,element:e.target},s,n)}else this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(o.viewName,e)})}renderEventElement(e,t,i){const s=t.classList.contains(eD)?"blockEvent":"event",n=t.classList.contains(Bt),o={data:this.getEventData(e),element:t,cancel:!1,type:s};this.parent.trigger(Yw,o,h=>{h.cancel?this.renderedEvents.pop():this.renderElement(i,t,n)})}getEventData(e){const t=ae({},e,null,!0);return t[this.fields.startTime]=e.data[this.fields.startTime],t[this.fields.endTime]=e.data[this.fields.endTime],t}renderElement(e,t,i=!1){this.maxOrIndicator&&i&&this.setMaxEventHeight(t,e);const s=e.querySelector("."+hn);if(s)s.appendChild(t);else{const n=Q("div",{className:hn});n.appendChild(t),e.appendChild(n)}}getMoreIndicatorElement(e,t,i){return Q("div",{className:bl,innerHTML:"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more")),attrs:{tabindex:"0","data-start-date":t.getTime().toString(),"data-end-date":i.getTime().toString(),role:"list"}})}removeHeightProperty(e){const t=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr"));for(const i of t)i.firstElementChild.style.height=""}setMaxEventHeight(e,t){const i=QV(t.querySelector("."+iD));Ue(e,{height:t.offsetHeight-i-(this.maxHeight?0:this.moreIndicatorHeight)+"px","align-items":"center"})}destroy(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),super.destroy()}}class cD extends oD{constructor(e,t){super(e),this.startHour=this.parent.activeView.getStartHour(),this.endHour=this.parent.activeView.getEndHour(),this.slotCount=this.parent.activeViewOptions.timeScale.slotCount,this.interval=this.parent.activeViewOptions.timeScale.interval,this.day=0,this.rowIndex=0,this.renderType=t,this.eventContainers=[].slice.call(this.element.querySelectorAll("."+$u));const i=[].slice.call(this.element.querySelectorAll("."+ar+" tbody tr"));this.dayLength=0===i.length?0:i[0].children.length,this.content=this.parent.element.querySelector("."+ar)}getSlotDates(){this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(e=>+e)),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option?(this.renderType="day",this.cellWidth=this.content.offsetWidth/this.dateRender.length,this.slotsPerDay=1):this.slotsPerDay=this.dayLength/this.dateRender.length}getOverlapEvents(e,t){const i=[];if("day"===this.renderType)for(const s of t)ge(s[this.fields.startTime]).getTime()<=ge(new Date(e.getTime())).getTime()&&ge(s[this.fields.endTime]).getTime()>=ge(new Date(e.getTime())).getTime()&&i.push(s);else for(const s of t){const n=s.data;n.trimStartTime.getTime()<=e.getTime()&&n.trimEndTime.getTime()>e.getTime()&&i.push(s)}return i}getSortComparerIndex(e,t){let i=-1;const s=this.renderedEvents;if(s.length>0){const a=this.getOverlapSortComparerEvents(e,t,s).map(o=>o.Index);i=a.length>0?this.getSmallestMissingNumber(a):0}return-1===i?0:i}getOverlapSortComparerEvents(e,t,i){const s=[];for(const n of i)if("day"===this.renderType)ge(n[this.fields.startTime]).getTime()<=ge(new Date(e.getTime())).getTime()&&ge(n[this.fields.endTime]).getTime()>=ge(new Date(e.getTime())).getTime()&&s.push(n);else{const a=n.data;(a.trimStartTime.getTime()<=e.getTime()&&e.getTime()<a.trimEndTime.getTime()||e.getTime()<=a.trimStartTime.getTime()&&a.trimStartTime.getTime()<t.getTime())&&s.push(n)}return s}renderResourceEvents(){this.removeHeightProperty(FR);const e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(let t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){const s=this.parent.crudModule.crudObj.sourceEvent[t];if(this.rowIndex=s.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,s),this.parent.crudModule.crudObj.targetEvent[t]&&this.parent.crudModule.crudObj.sourceEvent[t].groupIndex!==this.parent.crudModule.crudObj.targetEvent[t].groupIndex){const n=this.parent.crudModule.crudObj.targetEvent[t];this.rowIndex=n.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,n)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(let t=0;t<e.length;t++)this.rowIndex=t,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[t])}renderEvents(e,t,i){let s=e[this.fields.startTime],n=e[this.fields.endTime];if(s.getTime()<this.parent.minDate.getTime()||n.getTime()>this.parent.maxDate.getTime())return;const a=e.data;if(s=this.getStartTime(e,a),n=this.getEndTime(e,a),this.day=this.parent.getIndexOfDate(this.dateRender,ge(new Date(s.getTime()))),this.day<0)return;const o=this.getCellTd(),h=f(this.parent.eventSettings.sortComparer)?this.getIndex(s):this.getSortComparerIndex(s,n);e.Index=h;const d=this.element.querySelector("."+Bt),m=d?d.getBoundingClientRect().height:0,v=d&&m>0?m:this.eventHeight,C=a.count,w=ae({},e,null,!0);w[this.fields.startTime]=a[this.fields.startTime],w[this.fields.endTime]=a[this.fields.endTime];const k=Pc(ge(new Date(this.dateRender[this.day].getTime())),this.startHour,this.endHour),O=this.isValidEvent(w,s,n,k);if(s<=n&&O){let N=this.getEventWidth(s,n,e[this.fields.isAllDay],C);N="day"===this.renderType?N-2:N;let q=0,z=0;const Z=this.getPosition(s,n,e[this.fields.isAllDay],this.day);N=N<=0?this.cellWidth:N,this.renderedEvents.push(ae({},e,null,!0));const Ce=this.getRowTop(t),ce=Ce+(this.maxHeight?0:2)+h*(v+2);q=this.parent.enableRtl?0:Z,z=this.parent.enableRtl?Z:0;const Fe=(h+1)*(v+2)+this.moreIndicatorHeight,Se=this.maxOrIndicator?h<1:this.cellHeight>Fe;if(this.parent.rowAutoHeight||Se){let Be;if(Be=f(this.inlineValue)?this.createAppointmentElement(e,t):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(Be,e,"backgroundColor",this.groupOrder),Ue(Be,{width:N+"px",left:q+"px",right:z+"px",top:ce+"px"}),this.wireAppointmentEvents(Be,e),this.renderEventElement(e,Be,o),this.parent.rowAutoHeight){const ht=this.getFirstChild(t);this.updateCellHeight(ht,Fe)}"TimelineMonth"!==this.parent.activeViewOptions.option&&this.parent.activeViewOptions.timeScale.enable&&N<this.cellWidth&&[].slice.call(Be.querySelectorAll("."+sD)).forEach(Ie=>{Ie.style.width=Math.ceil(N/Ie.getBoundingClientRect().width)+"px"})}else for(let Be=0;Be<C;Be++){const ht=o.querySelector("."+bl);let Ie=this.parent.enableRtl?z:q;Ie=Math.floor(Ie/this.cellWidth)*this.cellWidth;const Pe=this.interval/this.slotCount;let Le="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==Be?new Date(this.dateRender[this.day+Be].getTime()):new Date(s),pe=at(this.dateRender[this.day+Be],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){const ve=this.getPosition(Le,pe,e[this.fields.isAllDay],this.day+Be);this.renderTimelineMoreIndicator(s,Le,pe,v,Pe,t,i,Ce,q,z,o,ht,Ie,ve)}else{const ve=(Zd(n)-Zd(s))/$a*this.slotCount/this.interval;for(let Ae=0;Ae<ve&&(Le=0===Ae?new Date(Le.getTime()):new Date(Le.getTime()+6e4*Pe),pe=new Date(Le.getTime()+6e4*Pe),!(pe.getTime()>n.getTime()));Ae++){const de=this.getPosition(Le,pe,!1,this.day+Be);if(Ie>de)break;Ie=de,this.renderTimelineMoreIndicator(s,Le,pe,v,Pe,t,i,Ce,q,z,o,ht,Ie,de)}}}}this.parent.renderTemplates()}renderTimelineMoreIndicator(e,t,i,s,n,a,o,h,d,m,v,C,w,S){if(d=this.parent.enableRtl?m=S:S,w=this.parent.enableRtl?m:d,w=Math.floor(w/this.cellWidth)*this.cellWidth,v&&f(C)||!this.isAlreadyAvail(w,v)){const k="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):t,O=new Date(k.setMinutes(Math.floor(k.getMinutes()/n)*n)),N=new Date(O.getTime()+6e4*n);let q;this.parent.activeViewOptions.group.resources.length>0&&!f(a)&&(q=a.toString());const z=this.getFilterEvents(t,i,O,N,q,o),Z=this.cellHeight-this.moreIndicatorHeight;s=this.withIndicator?Z-2:s;const Ce=Math.floor(Z/(s+2)),ce=z.length-Ce<=0?1:z.length-Ce;let Fe;Fe="day"===this.renderType?this.getMoreIndicatorElement(ce,t,i):this.getMoreIndicatorElement(ce,O,N),f(q)||Fe.setAttribute("data-group-index",q),Fe.style.top=h+Z+"px",Fe.style.width=this.cellWidth+"px",Fe.style.left=Math.floor(d/this.cellWidth)*this.cellWidth+"px",Fe.style.right=Math.floor(m/this.cellWidth)*this.cellWidth+"px",this.renderElement(v,Fe),A.add(Fe,"click",this.moreIndicatorClick,this)}}updateCellHeight(e,t){if(t>e.getBoundingClientRect().height){if(Ue(e,{height:t+"px"}),this.parent.activeViewOptions.group.resources.length>0){const s=this.parent.element.querySelector("."+FR+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');s&&Ue(s,{height:t+"px"})}const i=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");i&&Ue(i,{height:t+"px"})}}getFirstChild(e){let i="";return this.parent.activeViewOptions.group.resources.length>0&&(i='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(".e-content-table tbody td"+i)}updateBlockElements(){const e=[].slice.call(this.element.querySelectorAll("."+eD));for(const i of e){const s=parseInt(i.getAttribute("data-group-index"),10),n=this.getFirstChild(s);i.style.height=n.offsetHeight+"px";const a=Math.round(i.offsetWidth/n.offsetWidth);i.style.width=n.offsetWidth*a+"px"}const t=[].slice.call(this.element.querySelectorAll("."+jR));for(const i of t){const s=parseInt(i.getAttribute("data-group-index"),10);i.style.top=this.getRowTop(s)+this.getFirstChild(s).offsetHeight-18+"px"}}getStartTime(e,t){let i=e[this.fields.startTime];const s=Pc(i,this.startHour,this.endHour);return i=s.startHour.getTime()>=t[this.fields.startTime]?s.startHour:s.endHour.getTime()<=t[this.fields.startTime]?this.getNextDay(s.startHour,t):t[this.fields.startTime],t.trimStartTime=e[this.fields.isAllDay]?s.startHour:t[this.fields.startTime],i}getNextDay(e,t){let i;for(let s=1;s<=this.dateRender.length;s++)if(i=at(e,s),-1!==this.parent.getIndexOfDate(this.dateRender,ge(new Date(e.getTime()))))return t.count=t.count-1,i;return i}getEndTime(e,t){let i=e[this.fields.endTime];const s=Pc(i,this.startHour,this.endHour);return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option?i=t[this.fields.endTime]:(i=t[this.fields.endTime],s.endHour.getTime()<=t[this.fields.endTime]&&(i=s.endHour),s.startHour.getTime()>=t[this.fields.endTime].getTime()&&!e.isAllDay&&(i=this.getPreviousDay(s.startHour,s.endHour,t))),t.trimEndTime=e[this.fields.isAllDay]?s.endHour:t[this.fields.endTime],i}getPreviousDay(e,t,i){for(let s=1;s<=this.dateRender.length;s++){let n=at(t,-s);if(-1!==this.parent.getIndexOfDate(this.dateRender,ge(new Date(e.getTime())))){n=ge(new Date(n.getTime())),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds());const a=i.count,o=i[this.fields.endTime];return i.count=0!==o.getHours()||0!==o.getMinutes()?a-1:a,n}}return i[this.fields.endTime]}getEventWidth(e,t,i,s){return"day"===this.renderType||i?s*this.slotsPerDay*this.cellWidth:this.isSameDay(e,t)?this.getSameDayEventsWidth(e,t):this.getSpannedEventsWidth(e,t,s)}getSameDayEventsWidth(e,t){return(Zd(t)-Zd(e))/$a*(this.cellWidth*this.slotCount)/this.interval}getSpannedEventsWidth(e,t,i){const s=i*this.slotsPerDay*this.cellWidth;let n;const a=Pc(ge(new Date(e.getTime())),this.startHour,this.endHour),o=this.getSameDayEventsWidth(a.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,ge(new Date(t.getTime()))))n=0;else{const d=Pc(ge(new Date(t.getTime())),this.startHour,this.endHour);n=this.getSameDayEventsWidth(t,d.endHour),n=this.slotsPerDay*this.cellWidth===n?0:n}const h=o+n;return s>h?s-h:s-o}isSameDay(e,t){return this.parent.getIndexOfDate(this.dateRender,ge(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,ge(new Date(t.getTime())))}getAppointmentLeft(e,t,i){const s=this.isSameDay(t,e.startHour)?(Zd(t)-Zd(e.startHour))/($a*this.interval)*this.slotCount:0;return 0===i?s:Math.round((Zd(e.endHour)-Zd(e.startHour))/$a/this.interval*this.slotCount)*i+s}getPosition(e,t,i,s){if("day"===this.renderType||i)return s*this.slotsPerDay*this.cellWidth;const a=Pc(ge(new Date(this.dateRender[s].getTime())),this.startHour,this.endHour);let o;return o=a.endHour.getTime()<=t.getTime()&&a.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(a,a.startHour,s):a.endHour.getTime()<=t.getTime()?this.getAppointmentLeft(a,e,s):a.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(a,a.startHour,s):this.getAppointmentLeft(a,e,s),o*this.cellWidth}getFilterEvents(e,t,i,s,n,a){return"day"===this.renderType?this.getFilteredEvents(e,t,n,a):this.getFilteredEvents(i,s,n,a)}isAlreadyAvail(e,t){const i=[].slice.call(t.querySelectorAll("."+bl));for(let s=0;s<i.length;s++){let n;if(i&&(n=this.parent.enableRtl?i[s].style.right:i[s].style.left),parseInt(n,10)===Math.floor(e))return!0}return!1}getRowTop(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+li+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0}getCellTd(){return this.eventContainers[this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex]}renderBlockIndicator(e,t,i){if(!(this.parent.headerRows.length>0&&("Hour"!==this.parent.headerRows[this.parent.headerRows.length-1].option||"Date"!==this.parent.headerRows[this.parent.headerRows.length-1].option)||(t=Math.floor(t/this.cellWidth)*this.cellWidth+this.cellWidth-22,this.isAlreadyAvail(t,e)))){const s=Q("div",{className:"e-icons "+jR});this.parent.activeViewOptions.group.resources.length>0&&s.setAttribute("data-group-index",i.toString()),this.parent.enableRtl?s.style.right=t+"px":s.style.left=t+"px",s.style.top=this.getRowTop(i)+this.cellHeight-18+"px",this.renderElement(e,s)}}setMaxEventHeight(e,t){Ue(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})}destroy(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,super.destroy(),this.parent=null}}class V7{constructor(e){this.parent=e,this.parent.on($x,this.inlineEdit,this)}inlineEdit(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();const t=this.parent.element.querySelector(".e-more-popup-wrapper ");t&&t.classList.contains(Jr)&&this.parent.quickPopup.morePopup.hide(),"Cell"===e.type?(this.removeInlineAppointmentElement(),this.cellEdit(e)):(this.parent.element.querySelector("."+Vc)!==e.element.querySelector("."+Vc)&&this.removeInlineAppointmentElement(),this.eventEdit(e))}cellEdit(e){const t=this.generateEventData();let i=e.element.cellIndex,s=this.getEventDaysCount(t);s>1&&(s=Math.round(s),s--,i-=s);const n=ge(new Date(""+t[this.parent.eventFields.startTime])).getTime(),a=ge(new Date(""+t[this.parent.eventFields.endTime])).getTime(),o=e.groupIndex||0;if("Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView){const d=t[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(t,d,o,i)}else"Month"===this.parent.currentView?this.createMonthViewInline(t,o,n,a):this.createTimelineViewInline(t,n,a,o);const h=this.parent.element.querySelector("."+Vc);h&&h.focus()}eventEdit(e){let i,t=e.element.querySelector("."+Vc);if(t)i=t.value;else{const s=e.element.querySelector("."+or),n=e.element.querySelector("."+Gu);if(i=s.innerText,t=Q("input",{className:Vc,attrs:{value:i}}),L([s],bs),U(e.element,"."+wv))e.element.insertBefore(t,s);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){const a=e.element.querySelector("."+hF);a.insertBefore(t,a.firstChild)}else{const a=["TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth"].indexOf(this.parent.currentView)>-1?".e-inner-wrap":".e-appointment-details";e.element.querySelector(a).insertBefore(t,n)}}t.focus(),t.setSelectionRange(i.length,i.length)}createVerticalViewInline(e,t,i,s){const n=this.getEventDaysCount(e),a=new zF(this.parent);a.initializeValues();const o=a.dateRender[i].map(h=>h.getDay()).indexOf(t);if(n>=1){a.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+Ms)),a.slots.push(...this.parent.activeView.renderDates.map(m=>+m));const h=[].slice.call(this.parent.element.querySelectorAll("."+po));let d=0;h.length>0&&(d=Math.floor(this.parent.element.querySelector("."+Jd).getBoundingClientRect().height/h[0].offsetHeight)-1),a.allDayLevel=d,a.renderAllDayEvents(e,o,i,s,this.parent.allowInline)}else a.renderNormalEvents(e,o,i,s,this.parent.allowInline)}createMonthViewInline(e,t,i,s){const n=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,i,s,n,!1,!1),o=new oD(this.parent);o.dateRender=this.parent.activeView.renderDates,o.inlineValue=this.parent.allowInline;let h=this.parent.activeView.renderDates,d=this.parent.activeViewOptions.workDays,m="."+Et;if(this.parent.activeViewOptions.group.resources.length>0){m+='[data-group-index="'+t+'"]';const S=this.parent.resourceBase.lastResourceLevel[t];h=S.renderDates,d=S.workDays}o.workCells=[].slice.call(this.parent.element.querySelectorAll(m)),o.cellWidth=o.workCells[0].offsetWidth,o.cellHeight=o.workCells[0].offsetHeight,o.eventHeight=$w(this.parent.monthModule.element,Bt),o.getSlotDates(d);const v=o.getRenderedDates(h),C=o.splitEvent(a,v||h);for(const S of C)o.renderEvents(S,t);this.parent.element.querySelector("."+Vc).focus()}createTimelineViewInline(e,t,i,s){const n=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,t,i,n,!1,!1),o=new cD(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");o.dateRender=this.parent.activeView.renderDates,o.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+$u));const h=this.parent.element.querySelector("."+Et);o.inlineValue=this.parent.allowInline,o.cellWidth=h.offsetWidth,o.cellHeight=h.offsetHeight;const d=0===this.parent.element.querySelectorAll("."+ar+" tbody tr").length?0:this.parent.element.querySelectorAll("."+ar+" tbody tr")[0].children.length;o.slotsPerDay=d/o.dateRender.length,o.eventHeight=$w(o.element,Bt),o.renderEvents(a,s)}getEventDaysCount(e){const t=e[this.parent.eventFields.startTime];return Math.abs(e[this.parent.eventFields.endTime].getTime()-t.getTime())/Xn}generateEventData(e){const t=this.parent.element.querySelector("."+Vc),i=t?t.value:e?e.innerHTML:"",s={};return s[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),s[this.parent.eventFields.subject]=i,s[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,s[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,s[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(s),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(s,this.parent.activeCellsData.groupIndex),s}documentClick(){const e=this.parent.element.querySelector("."+Vc);e&&""!==e.value&&this.inlineCrudActions(e)}inlineCrudActions(e){if(U(e,"."+nL)){const t=this.generateEventData(e);this.parent.addEvent(t)}else{const t=U(e,"."+Bt),i=this.parent.getEventDetails(t);let s;i[this.parent.eventFields.subject]=e.value,i[this.parent.eventFields.id]===i[this.parent.eventFields.recurrenceID]&&(s="EditOccurrence",i[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(i,s)}this.removeInlineAppointmentElement()}createInlineAppointmentElement(e){const t=Q("div",{className:Bt+" "+nL}),i=Q("div",{className:WR});t.appendChild(i);const s=Q("input",{className:Vc});return i.appendChild(s),e&&this.parent.eventBase.applyResourceColor(t,e,"backgroundColor"),t}removeInlineAppointmentElement(){const e=[].slice.call(this.parent.element.querySelectorAll("."+nL));e.length>0&&e.forEach(i=>nt(i));const t=this.parent.element.querySelector("."+Vc);t&&(H([U(t,"."+Bt).querySelector("."+or)],bs),nt(t))}destroy(){this.parent.off($x,this.inlineEdit)}}class e3{renderFormValidator(e,t,i,s){this.element=i,this.formObj=new Pr(e,{locale:s,customPlacement:(n,a)=>{this.errorPlacement(n,a)},rules:t,validationComplete:n=>{this.validationComplete(n)},focusout:n=>{this.focusOut(n)}})}focusOut(e){const t=e.relatedTarget;this.ignoreError=!(!t||!(t.classList.contains("e-dlg-closeicon-btn")||t.classList.contains("e-close")||t.classList.contains(Ms)||t.classList.contains(ea)||t.classList.contains(KR)||t.classList.contains(Et)||t.classList.contains(bW)))}validationComplete(e){const t=this.element.querySelector("#"+e.inputName+"_Error");t&&(t.style.display="failure"===e.status?"":"none")}errorPlacement(e,t){const i=t.getAttribute("for"),s=this.element.querySelector("#"+i+"_Error");!s&&!this.ignoreError&&this.createTooltip(e,t,i,""),f(s)||(s.querySelector(".e-error").innerHTML=t.innerHTML)}createTooltip(e,t,i,s){let n,a;const o=e.getBoundingClientRect();this.element.classList.contains(Iv)?(n=this.element,a=this.element.getBoundingClientRect()):(n=this.element.querySelector(".e-schedule-dialog .e-dlg-content"),a=n.getBoundingClientRect());const h=Q("div",{className:"e-tooltip-wrap e-popup "+DW,id:i+"_Error",styles:"display:"+s+";top:"+(o.bottom-a.top+n.scrollTop+9)+"px;left:"+(o.left-a.left+n.scrollLeft+o.width/2)+"px;"}),d=Q("div",{className:"e-tip-content"});d.appendChild(t);const m=Q("div",{className:"e-arrow-tip e-tip-top"});m.appendChild(Q("div",{className:"e-arrow-tip-outer e-tip-top"})),m.appendChild(Q("div",{className:"e-arrow-tip-inner e-tip-top"})),h.appendChild(d),h.appendChild(m),n.appendChild(h),h.style.left=parseInt(h.style.left,10)-h.offsetWidth/2+"px"}destroyToolTip(){if(this.element){const e=[].slice.call(this.element.querySelectorAll("."+DW));for(const t of e)nt(t)}this.formObj&&this.formObj.element&&this.formObj.reset()}destroy(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null}}class t3{constructor(e){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=e,this.l10n=this.parent.localeObj,this.fieldValidator=new e3,this.render(),this.addEventListener()}render(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()}renderQuickPopup(){const e=Q("div",{className:Iv+" e-popup-close"});this.parent.isAdaptive?(document.body.appendChild(e),L([e],Qw)):this.parent.element.appendChild(e),this.quickPopup=new Wn(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})}renderMorePopup(){const e=`<div class="${EC}"><div class="e-more-event-header"><div class="${SF}" title="${this.l10n.getConstant("close")}" tabindex="0"></div><div class="${DF}"><div class="${fW}"></div><div class="${rD} ${CC}" tabindex="0"></div></div></div></div>`,t=Q("div",{className:wv+" e-popup-close",innerHTML:e});this.parent.isAdaptive?(document.body.appendChild(t),L([t],Qw)):this.parent.element.appendChild(t),this.morePopup=new Wn(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2});const i=this.morePopup.element.querySelector("."+SF);this.renderButton("e-round",An+" "+sL,!1,i,this.closeClick),A.add(this.morePopup.element.querySelector("."+rD),"click",this.navigationClick,this)}renderQuickDialog(){const e=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){const n={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};e.splice(1,0,n)}this.quickDialog=new Si({animationSettings:{effect:"Zoom"},buttons:e,cssClass:"e-quick-dialog",closeOnEscape:!0,enableRtl:this.parent.enableRtl,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});const t=Q("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(t),this.quickDialog.appendTo(t);const i=this.quickDialog.element.querySelector("."+Dv);i&&(i.setAttribute("aria-label",this.l10n.getConstant("occurrence")),i.setAttribute("aria-label",i.innerHTML));const s=this.quickDialog.element.querySelector("."+sp);s&&(s.setAttribute("aria-label",this.l10n.getConstant("series")),s.setAttribute("aria-label",s.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))}renderButton(e,t,i,s,n){new ll({cssClass:e,disabled:i,enableRtl:this.parent.enableRtl,iconCss:t}).appendTo(s),A.add(s,"click",n,this),H([s],An)}quickDialogClass(e){const t=[AF,xF,IF,aI,vW,bs],i=this.quickDialog.element.querySelector("."+Dv),s=this.quickDialog.element.querySelector("."+sp),n=this.quickDialog.element.querySelector("."+kF);switch(H([i,s],t),L([this.quickDialog.element.querySelector("."+aI)],bs),this.parent.eventSettings.editFollowingEvents&&(L([n],bs),H([this.quickDialog.element],gW)),e){case"Recurrence":L([i],AF),L([s],xF),this.parent.eventSettings.editFollowingEvents&&(H([n],bs),L([this.quickDialog.element],gW),L([n],mW));break;case"Delete":L([i],IF),L([s],aI);break;case"Alert":L([i],[Dv,vW]),L([s],[sp,bs])}}applyFormValidation(){const e=this.quickPopup.element.querySelector("."+Tv),t={};t[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(e,t,this.quickPopup.element,this.parent.locale)}openRecurrenceAlert(){const e=this.quickDialog.element.querySelector("."+Dv);e&&(e.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteEvent":"editEvent"),e.setAttribute("aria-label",e.innerHTML));const t=this.quickDialog.element.querySelector("."+kF);t&&(t.innerHTML=this.l10n.getConstant("editFollowingEvent"),t.setAttribute("aria-label",t.innerHTML));const i=this.quickDialog.element.querySelector("."+sp);i&&(i.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteSeries":"editSeries"),i.setAttribute("aria-label",i.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence");const s=this.parent.activeEventData.event;this.parent.eventSettings.editFollowingEvents&&"EditOccurrence"===this.parent.currentAction&&!f(s[this.parent.eventFields.recurrenceID])&&s[this.parent.eventFields.recurrenceID]!==s[this.parent.eventFields.id]&&L([this.quickDialog.element.querySelector("."+kF)],bs),this.showQuickDialog("RecurrenceAlert")}openRecurrenceValidationAlert(e){this.quickDialogClass("Alert");const t=this.quickDialog.element.querySelector("."+Dv);t.innerHTML=this.l10n.getConstant("ok"),t.setAttribute("aria-label",t.innerHTML);const i=this.quickDialog.element.querySelector("."+sp);let s;switch(i.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",i.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert"),e){case"wrongPattern":L([i],bs),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":L([i],bs),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":L([i],bs),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":s=this.quickDialog.element.querySelector("."+aI),H([i,s],bs),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),t.innerHTML=this.l10n.getConstant("yes"),i.innerHTML=this.l10n.getConstant("no"),s.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":L([i],bs),this.quickDialog.content=this.l10n.getConstant("occurenceAlert")}(!this.parent.enableRecurrenceValidation&&"wrongPattern"===e||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")}openDeleteAlert(){if(this.parent.activeViewOptions.readonly)return;const e=this.quickDialog.element.querySelector("."+Dv);e&&(e.innerHTML=this.l10n.getConstant("delete"),e.setAttribute("aria-label",e.innerHTML));const t=this.quickDialog.element.querySelector("."+sp);t&&(t.innerHTML=this.l10n.getConstant("cancel"),t.setAttribute("aria-label",t.innerHTML)),this.quickDialog.content=this.l10n.getConstant(this.parent.activeEventData.event.length>1?"deleteMultipleContent":"deleteContent"),this.quickDialog.header=this.l10n.getConstant(this.parent.activeEventData.event.length>1?"deleteMultipleEvent":"deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}openValidationError(e,t){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(e);const i=this.quickDialog.element.querySelector("."+Dv);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));const s=this.quickDialog.element.querySelector("."+sp);s&&(s.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",s.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog("ValidationAlert",t)}showQuickDialog(e,t){this.quickDialog.dataBind();const i={type:e,cancel:!1,element:this.quickDialog.element,data:ae({},t||this.parent.activeEventData.event,null,!0)};this.parent.trigger(kR,i,s=>{s.cancel||this.quickDialog.show()})}createMoreEventList(e,t,i){const s=this.parent.eventFields,n=Q("div",{className:ZR});let a=Q("div",{className:TF});if(0===e.length)a=Q("div",{className:ZR,innerHTML:this.l10n.getConstant("emptyContainer")});else for(const o of e){const h=o[s.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),d=Q("div",{className:Bt,attrs:{"data-id":""+o[s.id],"data-guid":o.Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(o),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(o)}});let m;if(f(this.parent.activeViewOptions.eventTemplate))d.appendChild(Q("div",{className:or,innerHTML:h}));else{const C=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";m=this.parent.getAppointmentTemplate()(o,this.parent,"eventTemplate",C,!1),Ge(m,d)}f(i)||d.setAttribute("data-group-index",i),f(o[s.recurrenceRule])||d.appendChild(Q("div",{className:An+" "+(o[s.id]===o[s.recurrenceID]?iI:sI)}));const v={data:ae({},o,null,!0),element:d,cancel:!1};this.parent.trigger(Yw,v,C=>{C.cancel||(a.appendChild(d),this.parent.eventBase.wireAppointmentEvents(d,o,this.parent.isAdaptive||"Year"===this.parent.currentView),this.parent.eventBase.applyResourceColor(d,o,"backgroundColor",t))})}return n.appendChild(a),n}tapHoldEventPopup(e){const t=U(e.target,"."+Bt);this.isMultipleEventSelect=!1,this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(t),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();const i=t.getAttribute("data-guid"),s=this.parent.eventBase.getEventByGuid(i);if(f(s))return;const n=s[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),a=`<div class="e-multiple-event-popup"><div class="${EF}"><button class="${TC}" title="${this.l10n.getConstant("close")}"></button><div class="${or}">${n}</div><button class="${SC}" title="${this.l10n.getConstant("edit")}"></button><button class="${hI}" title="${this.l10n.getConstant("delete")}"></button></div></div>`;this.quickPopup.element.innerHTML=a;const o=this.quickPopup.element.querySelector("."+TC);this.renderButton("e-flat e-round e-small",An+" "+sL,!1,o,this.closeClick);const h=this.parent.activeViewOptions.readonly||s[this.parent.eventFields.isReadonly],d=!this.parent.eventSettings.allowEditing||h,m=!this.parent.eventSettings.allowDeleting||h,v=this.quickPopup.element.querySelector("."+SC);v&&this.renderButton("e-flat e-round e-small",An+" "+iL,d,v,this.editClick);const C=this.quickPopup.element.querySelector("."+hI);C&&this.renderButton("e-flat e-round e-small",An+" "+wW,m,C,this.deleteClick),this.beforeQuickPopupOpen(t)}isCellBlocked(e){const t={};if(t[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,t[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,t[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){const s=parseInt((e.element instanceof Array?e.element[0]:e.element).getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(t,isNaN(s)?null:s)}return this.parent.eventBase.isBlockRange(t)}cellClick(e){const t=new Date(e.startTime.getTime());if(!this.parent.showQuickInfo||!this.parent.eventSettings.allowAdding||"MonthAgenda"===this.parent.currentView||this.isCellBlocked(e)||!this.parent.isMinMaxDate(new Date(t.setHours(0,0,0,0))))return void this.quickPopupHide();const i=e.event.target;if(this.parent.isAdaptive){this.quickPopupHide();let C=this.parent.element.querySelector("."+YR);f(C)&&(C=Q("div",{className:YR,innerHTML:`<div class="e-title">+ ${this.l10n.getConstant("newEvent")}</div>`}));const w=U(i,"."+Et+",."+Ms);return void(w&&w.appendChild(C))}const s=U(i,"."+Et+",."+Ms+",."+ea);if(f(s)||i.classList.contains(bl))return;if(this.quickPopup.relateTo===s&&this.quickPopup.element.classList.contains(Jr)){const C=this.quickPopup.element.querySelector("."+or);return void(C&&C.focus())}const a={};a[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,a[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,a[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;const o=Q("div",{className:bF});o.appendChild(this.getPopupHeader("Cell",a)),o.appendChild(this.getPopupContent("Cell",e,a)),o.appendChild(this.getPopupFooter("Cell",a));const h=o.querySelector("."+or);h&&me.createInput({element:h,properties:{placeholder:this.l10n.getConstant("addTitle")}}),f(this.parent.eventSettings.fields.subject.default)||(h.value=this.parent.eventSettings.fields.subject.default);const d=o.querySelector("."+TC);d&&this.renderButton("e-flat e-round e-small",An+" "+sL,!1,d,this.popupClose);const m=o.querySelector("."+KR);m&&this.renderButton("e-flat","",!1,m,this.detailsClick);const v=o.querySelector("."+XR);v&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,v,this.saveClick),this.quickPopup.content=o,this.quickPopup.dataBind(),this.applyFormValidation(),this.morePopup&&this.morePopup.hide(),this.quickPopup.relateTo=s,this.beforeQuickPopupOpen(s)}isSameEventClick(e){if(this.quickPopup.relateTo===U(e.element,"."+Bt)&&this.quickPopup.element.classList.contains(Jr)){const i=this.quickPopup.element.querySelector("."+SC);if(i&&i.focus(),!this.parent.isAdaptive){const s=this.quickPopup.element.querySelector("."+nD);s&&s.focus()}return!0}return!1}isQuickTemplate(e){return"Both"===this.parent.quickInfoTemplates.templateType||this.parent.quickInfoTemplates.templateType===e}eventClick(e){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),this.parent.showQuickInfo)if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup(U(e.element,"."+Bt));else{if(this.isSameEventClick(e))return;const i=e.event,s=Q("div",{className:CF});s.appendChild(this.getPopupHeader("Event",i)),s.appendChild(this.getPopupContent("Event",e,i)),s.appendChild(this.getPopupFooter("Event",i));const n=this.parent.activeViewOptions.readonly||i[this.parent.eventFields.isReadonly],a=!this.parent.eventSettings.allowEditing||n,o=!this.parent.eventSettings.allowDeleting||n,h=s.querySelector("."+SC),d="e-flat e-round e-small";h&&this.renderButton(d,An+" "+iL,a,h,this.editClick);const m=s.querySelector("."+hI);m&&this.renderButton(d,An+" "+wW,o,m,this.deleteClick);const v=s.querySelector("."+TC);v&&this.renderButton(d,An+" "+sL,!1,v,this.popupClose);const C=s.querySelector("."+nD);C&&this.renderButton("e-flat e-primary","",a,C,this.editClick);const w=s.querySelector("."+rm);w&&this.renderButton("e-flat","",o,w,this.deleteClick),this.quickPopup.content=s,this.quickPopup.dataBind(),this.morePopup&&!U(e.element,"."+TF)&&this.morePopup.hide(),this.quickPopup.relateTo=this.parent.isAdaptive?document.body:U(e.element,"."+Bt),this.beforeQuickPopupOpen(e.element)}}getPopupHeader(e,t){const i=Q("div",{className:EF});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.header){const s=ae({},t,{elementType:e.toLowerCase()},!0),n=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(s,this.parent,"header",n+"_headerTemplate",!1));Ge([].slice.call(a),i)}else{let s,n;switch(e){case"Cell":s=`<div class="${dW}"><button class="${TC}" title="${this.l10n.getConstant("close")}"></button></div>`;break;case"Event":n=this.getFormattedString(t),s=`<div class="${dW}"><button class="${SC+" "+An}" title="${this.l10n.getConstant("edit")}"></button><button class="${hI+" "+An}" title="${this.l10n.getConstant("delete")}"></button><button class="${TC}" title="${this.l10n.getConstant("close")}"></button></div><div class="${hF}"><div class="${or} ${fo}" title="${n.eventSubject}">${n.eventSubject}</div></div >`}const a=Q("div",{innerHTML:s});Ge([].slice.call(a.childNodes),i)}return i}getPopupContent(e,t,i){const s=Q("div",{className:"e-popup-content"});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.content){const n=ae({},i,{elementType:e.toLowerCase()},!0),a=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesContent()(n,this.parent,"content",a+"_contentTemplate",!1));Ge([].slice.call(o),s)}else{let n,a,o;const h=this.getResourceText(t,e.toLowerCase());switch(e){case"Cell":a=this.getFormattedString(i),n=`<table class="e-popup-table"><tbody><tr><td><form class="${Tv}" onsubmit="return false;"><input class="${or} e-field" type="text" name="${this.parent.eventFields.subject}" /></form></td></tr><tr><td><div class="${dF}"><div class="${OW} ${An}"></div><div class="${pW} ${fo}">${a.details}</div></div>${this.parent.activeViewOptions.group.resources.length>0?`<div class="${IW}"><div class="${kW} ${An} "></div><div class="${MW} ${fo}">${h}</div></div>`:""}</td></tr></tbody></table>`;break;case"Event":o=this.getFormattedString(i),n='<div class="'+dF+'"><div class="'+OW+" "+An+'"></div><div class="e-date-time-wrapper '+fo+'"><div class="'+pW+" "+fo+'">'+o.details+"</div>",i[this.parent.eventFields.recurrenceRule]&&(n+='<div class="e-recurrence-summary '+fo+'">'+this.getRecurrenceSummary(i)+"</div>"),n+="</div></div>",i[this.parent.eventFields.location]&&(n+='<div class="'+Av+'"><div class="e-location-icon '+An+'"></div><div class="e-location-details '+fo+'">'+i[this.parent.eventFields.location]+"</div></div>"),(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&(n+='<div class="'+wC+'"><div class="e-time-zone-icon '+An+'"></div><div class="e-time-zone-details '+fo+'">'+this.getTimezone(i)+"</div></div>"),i[this.parent.eventFields.description]&&(n+='<div class="'+DC+'"><div class="e-description-icon '+An+'"></div><div class="e-description-details '+fo+'">'+i[this.parent.eventFields.description]+"</div></div>"),this.parent.resourceCollection.length>0&&(n+='<div class="'+IW+'"><div class="'+kW+" "+An+'"></div><div class="'+MW+" "+fo+'">'+h+"</div></div>")}const d=Q("div",{innerHTML:n});Ge([].slice.call(d.childNodes),s)}return s}getPopupFooter(e,t){const i=Q("div",{className:wF});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.footer){const s=ae({},t,{elementType:e.toLowerCase()},!0),n=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(s,this.parent,"footer",n+"_footerTemplate",!1));Ge([].slice.call(a),i)}else{let s;switch(e){case"Cell":s=`<button class="${KR+" "+fo}" title="${this.l10n.getConstant("moreDetails")}">${this.l10n.getConstant("moreDetails")}</button><button class="${XR} ${fo}" title="${this.l10n.getConstant("save")}">${this.l10n.getConstant("save")}</button>`;break;case"Event":s=this.parent.isAdaptive?"":`<button class="${nD} ${fo}" title="${this.l10n.getConstant("edit")}">${this.l10n.getConstant("edit")}</button><button class="${rm} ${fo}" title="${this.l10n.getConstant("delete")}">${this.l10n.getConstant("delete")}</button>`}const n=Q("div",{innerHTML:s});Ge([].slice.call(n.childNodes),i)}return i}getResourceText(e,t){if(0===this.parent.resourceCollection.length)return null;let i="";if(0===this.parent.activeViewOptions.group.resources.length){const s=this.parent.resourceBase.resourceCollection.slice(-1)[0],n=s.dataSource;if("event"===t){const a=e.event;for(const o of n){const h=a[s.field];if(h instanceof Array){if(h.indexOf(o[s.idField])>-1){const d=h[h.indexOf(o[s.idField])],m=n.filter(v=>v[s.idField]===d)[0];i+=""===i?m[s.textField]:", "+m[s.textField]}}else o[s.idField]===h&&(i=o[s.textField].toString())}}else i=n[0][s.textField].toString()}else if("event"===t){const s=e.event;let n,a;for(let d=this.parent.resourceBase.resourceCollection.length-1;d>=0;d--)if(n=s[this.parent.resourceBase.resourceCollection[d].field],!f(n)){a=this.parent.resourceBase.resourceCollection[d];break}Array.isArray(n)||(n=[n]);const o=[],h=a.dataSource;n.forEach(d=>{let m;const v=Gx(h,a.idField,d);v>-1&&(m=h[v][a.textField]),m&&o.push(m)}),i=o.join(", ")}else{const s=e,n=f(s.groupIndex)?0:s.groupIndex,a=this.parent.resourceBase.lastResourceLevel[n];i=a.resourceData[a.resource.textField]}return i}getFormattedString(e){const t=this.parent.eventFields,i=e[t.subject]||this.l10n.getConstant("noTitle"),s=e[t.startTime],n=e[t.endTime],a=this.getDateFormat(s,"long"),o=e[t.isAllDay]&&0===n.getHours()&&0===n.getMinutes()?this.getDateFormat(at(new Date(n.getTime()),-1),"long"):this.getDateFormat(n,"long"),h=this.parent.getTimeString(s),d=this.parent.getTimeString(n);let m="";const v=n.getDate()!==s.getDate()&&(n.getTime()-s.getTime())/36e5<24?1:0;return e[t.isAllDay]?(m=a+" ("+this.l10n.getConstant("allDay")+")",(n.getTime()-s.getTime())/Xn>1&&(m+="&nbsp;-&nbsp;"+o+" ("+this.l10n.getConstant("allDay")+")")):m=(n.getTime()-s.getTime())/Xn>=1||v>0?a+" ("+h+")&nbsp;-&nbsp;"+o+" ("+d+")":a+" ("+h+"&nbsp;-&nbsp;"+d+")",{eventSubject:i,details:m}}moreEventClick(e,t,i){this.quickPopupHide(!0);const s=this.morePopup.element.querySelector("."+ZR);s&&nt(s);const n=e.date.getTime().toString(),a=U(e.element,"."+bl+",."+Et),o=this.parent.globalize.formatDate(e.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+fW).innerHTML=ks(o,"single");const h=this.morePopup.element.querySelector("."+rD);let d;h.innerHTML=this.getDateFormat(e.date,"d"),h.setAttribute("data-date",n),h.setAttribute("data-end-date",t.getTime().toString()),f(i)||(h.setAttribute("data-group-index",i),d=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)].groupOrder);const m=this.createMoreEventList(e.event,d,i);if(this.morePopup.element.querySelector("."+EC).appendChild(m),H(this.morePopup.element.querySelector("."+DF).childNodes,ZV),ge(e.date).getTime()===ge(this.parent.getCurrentTime()).getTime()&&L(this.morePopup.element.querySelector("."+DF).childNodes,ZV),!this.parent.isAdaptive)if(-1!==this.parent.currentView.indexOf("Timeline")){const C=a.getAttribute("data-group-index"),w=new Date(parseInt(a.getAttribute("data-start-date"),10));w.setHours(w.getHours(),w.getMinutes(),0);const S=w.getTime().toString();if(f(C))this.morePopup.relateTo=this.parent.element.querySelector("."+li+' tbody tr td[data-date="'+S+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+li+' tbody tr td[data-group-index="'+C+'"][data-date="'+S+'"]'),f(this.morePopup.relateTo)){const k=[].slice.call(this.parent.element.querySelectorAll("."+li+' tbody tr td[data-group-index="'+C+'"]'));for(let O=0;O<k.length;O++)k[O].getAttribute("data-date")<S&&(this.morePopup.relateTo=k[O])}}else this.morePopup.relateTo=U(a,"."+Et);this.parent.renderTemplates(),this.parent.trigger(kR,{type:"EventContainer",cancel:!1,element:this.morePopup.element,data:e},C=>{C.cancel||this.morePopup.show()})}saveClick(e){this.dialogEvent=e,this.isCrudAction=!0,this.quickPopupHide()}detailsClick(e){const t=this.quickPopup.element.querySelector("."+or);t&&""!==t.value&&ae(this.parent.activeCellsData,{subject:t.value}),this.dialogEvent=e,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")}editClick(e){this.dialogEvent=e,this.quickPopupHide(!0);const t=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",f(t[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(t,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())}deleteClick(e){this.dialogEvent=e,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()}updateMoreEventContent(){if(this.morePopup.element.classList.contains("e-popup-close"))return;const e=this.morePopup.element.querySelector("."+ZR);e&&nt(e);const t=this.morePopup.element.querySelector("."+rD),i=new Date(parseInt(t.getAttribute("data-date"),10)),s=new Date(parseInt(t.getAttribute("data-end-date"),10)),n=t.getAttribute("data-group-index");let a,o;f(n)||(a=this.parent.resourceBase.lastResourceLevel[parseInt(n,10)],o=a.groupOrder);const h=this.parent.eventBase.filterEvents(i,s,this.parent.eventsProcessed,a),d=this.createMoreEventList(h,o,n);this.morePopup.element.querySelector("."+EC).appendChild(d)}closeClick(e){this.dialogEvent=e,this.quickPopupHide(),this.morePopup.hide()}dialogButtonClick(e){this.dialogEvent=e,this.quickDialog.hide();const t=e.target,i=this.quickDialog.element.querySelector("."+sp),s=this.parent.activeEventData.event;if(t.classList.contains(AF))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(s,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(s,this.parent.currentAction)}else if(t.classList.contains(mW))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(s,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(s,this.parent.currentAction)}else if(t.classList.contains(xF))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(s,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(s,this.parent.currentAction)}else t.classList.contains(IF)?this.parent.crudModule.deleteEvent(s,this.parent.currentAction):!i.classList.contains(bs)&&(t.classList.contains(Dv)||t.classList.contains(sp)&&!i.classList.contains(aI))&&(this.parent.uiStateValues.isIgnoreOccurrence=t.classList.contains(sp),this.parent.eventWindow.eventSave(e,this.l10n.getConstant("ok")))}updateTapHoldEventPopup(e){const t=this.parent.eventBase.getSelectedEventElements(e);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),t.length>0){const i=this.parent.eventBase.getEventByGuid(t[0].getAttribute("data-guid")),s=1===t.length?i[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+t.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+or).innerHTML=s,t.length>1?L([this.quickPopup.element.querySelector("."+iL)],mo):H([this.quickPopup.element.querySelector("."+iL)],mo)}else this.parent.selectedElements=[],this.quickPopupHide()}getTimezone(e){let t="";return t+=e[this.parent.eventFields.startTimezone]||"",t+=""===t?"":" - ",t+=e[this.parent.eventFields.endTimezone]||"",t}getRecurrenceSummary(e){const t=this.parent.eventWindow.getRecurrenceEditorInstance();if(t){const i=t.getRuleSummary(e[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""}getDateFormat(e,t){return ks(this.parent.globalize.formatDate(e,{skeleton:t,calendar:this.parent.getCalendarMode()}),"single")}getDataFromTarget(e){if(e.classList.contains(Bt))return this.parent.activeEventData.event;const t={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex};return this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,t),t}beforeQuickDialogClose(e){const t={event:e.event||this.dialogEvent,type:f(this.parent.activeEventData.event)?"ValidationAlert":f(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(jV,t,i=>{i.cancel||this.parent.eventBase.focusElement(!0)})}beforeQuickPopupOpen(e){this.parent.renderTemplates();const t=this.quickPopup.element.querySelector("."+CF),i=this.parent.isAdaptive?t?"ViewEventInfo":"EditEventInfo":"QuickInfo",s={type:i,cancel:!1,data:ae({},this.getDataFromTarget(e),null,!0),target:e,element:this.quickPopup.element};this.parent.trigger(kR,s,n=>{if(n.cancel)this.quickPopupHide(),this.destroyPopupButtons("quickPopup"),n.element.classList.contains(Jr)&&this.quickPopupClose(),Xd(this.quickPopup.element),this.isMultipleEventSelect=!1;else{const a=this.quickPopup.element.style.display;if(this.quickPopup.element.style.display="block",this.parent.isAdaptive)this.quickPopup.element.removeAttribute("style"),this.quickPopup.element.style.display="block",this.quickPopup.element.style.height=fe("EditEventInfo"===i?65:window.innerHeight);else{this.quickPopup.offsetX=10,this.quickPopup.collision={X:this.parent.enableRtl?"flip":"none",Y:"fit"},this.quickPopup.position={X:this.parent.enableRtl?"left":"right",Y:this.parent.enableRtl?"bottom":"top"},this.quickPopup.dataBind(),this.quickPopup.refreshPosition(null,!0);const o=Cc(this.quickPopup.element,this.parent.element);if(o.indexOf(this.parent.enableRtl?"left":"right")>-1&&(this.quickPopup.offsetX=-e.offsetWidth-10-this.quickPopup.element.offsetWidth,this.quickPopup.dataBind(),Cc(this.quickPopup.element,this.parent.element).indexOf("left")>-1&&(this.quickPopup.position={X:"center",Y:"center"},this.quickPopup.collision={X:"fit",Y:"fit"},this.quickPopup.offsetX=-this.quickPopup.element.offsetWidth/2,this.quickPopup.dataBind())),this.parent.virtualScrollModule&&(o.indexOf("top")>-1||o.indexOf("bottom")>-1)){const d=qj(this.parent.element.querySelector("."+li+" table"));this.quickPopup.offsetY=d,this.quickPopup.dataBind()}}t&&this.applyEventColor(),this.quickPopup.element.style.display=a,this.quickPopup.dataBind(),this.quickPopup.show()}})}applyEventColor(){let e="";e="Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView?this.parent.enableRtl?"border-right-color":"border-left-color":"background-color";let t=this.parent.activeEventData.element.style[e];if(""===t)return;let i=this.quickPopup.element.querySelector("."+EF);const s=this.quickPopup.element.querySelector("."+wF);s&&s.offsetParent&&(i=this.quickPopup.element.querySelector("."+or),i&&(i.style.borderLeftColor=t,t=`rgba(${t.match(/\d+/g).join()},0.3)`)),i&&(i.style.backgroundColor=t)}quickPopupOpen(){if(this.parent.isAdaptive)this.quickPopup.element.style.top="0px";else if(this.quickPopup.element.querySelector("."+bF)){const e=this.quickPopup.element.querySelector("."+or);e&&e.focus()}else{const e=this.quickPopup.element.querySelector("."+nD);e&&e.focus();const t=this.quickPopup.element.querySelector("."+SC);t&&t.focus()}}quickPopupClose(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo=Et,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),Xd(this.quickPopup.element)}morePopupOpen(){if(this.parent.isAdaptive)return this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",void(this.morePopup.element.style.height=fe(window.innerHeight));this.morePopup.element.querySelector("."+rD).focus(),this.morePopup.refreshPosition()}morePopupClose(){const e=this.parent.element.querySelector("."+TF);e&&nt(e)}popupClose(e){this.dialogEvent=e,this.isCrudAction=!1,this.quickPopupHide(!0)}quickPopupHide(e){if(!this.quickPopup.element.classList.contains(Jr))return;const t=this.quickPopup.element.querySelector("."+bF);let i;if(t){const a=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&a&&!a.ej2_instances[0].validate())return;const o=this.parent.eventFields,h=this.parent.eventWindow.getObjectFromFormData(Iv);this.parent.eventWindow.setDefaultValueToObject(h),h[o.id]=this.parent.eventBase.getEventMaxID(),h[o.startTime]=this.parent.activeCellsData.startTime,h[o.endTime]=this.parent.activeCellsData.endTime,h[o.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(h),i=h}else i=this.parent.activeEventData.event;const s=this.quickPopup.element.querySelector("."+CF);this.parent.trigger(jV,{event:this.dialogEvent,type:this.parent.isAdaptive?s?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:i,element:this.quickPopup.element,target:t?this.parent.activeCellsData.element:this.parent.activeEventData.element},a=>{if(!a.cancel&&this.quickPopup.element.classList.contains("e-popup-open")){if(t&&this.isCrudAction&&(this.parent.currentAction="Add",this.parent.crudModule.addEvent(a.data)),e){const o=this.quickPopup.hideAnimation;this.quickPopup.hideAnimation=null,this.quickPopup.hide(),this.quickPopup.hideAnimation=o}else this.quickPopup.hide();this.isMultipleEventSelect=!1,this.isCrudAction=!1}})}navigationClick(e){if(!f(U(e.target,"."+CC))){const i=this.parent.getDateFromElement(e.currentTarget);f(i)||(this.closeClick(e),this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(this.parent.getNavigateView(),e))}}documentClick(e){const t=e.event.target,i="."+Iv+",."+ea+",."+Ms+",."+Et+",."+Bt+",.e-popup",s=this.parent.element.querySelector("."+Iv);(s&&s.childElementCount>0&&!U(t,i)||!U(t,i))&&(this.quickPopupHide(),this.parent.removeNewEventElement());const n=this.parent.element.querySelector("."+Vc);n&&n!==t&&this.parent.allowInline&&this.parent.inlineModule.documentClick(),U(t,"."+Bt+",."+ea)&&this.parent.removeNewEventElement(),!U(t,"."+wv)&&t.classList&&!t.classList.contains(bl)&&!U(t,"."+Jr)&&!U(t,"."+Et)&&this.morePopup.hide()}onClosePopup(e){f(e)||(this.dialogEvent=e),this.quickPopupHide(),this.parent.eventBase.focusElement()}addEventListener(){this.parent.on(yv,this.cellClick,this),this.parent.on(Yx,this.eventClick,this),this.parent.on(em,this.documentClick,this),this.parent.on(Nh,this.updateMoreEventContent,this)}removeEventListener(){this.parent.off(yv,this.cellClick),this.parent.off(Yx,this.eventClick),this.parent.off(em,this.documentClick),this.parent.off(Nh,this.updateMoreEventContent)}destroyPopupButtons(e){const i=[].slice.call(("quickPopup"===e?this.quickPopup:this.morePopup).element.querySelectorAll(".e-control.e-btn"));for(const s of i){const n=s.ej2_instances[0];n&&n.destroy()}}refreshQuickDialog(){this.destroyQuickDialog(),this.renderQuickDialog()}refreshQuickPopup(){this.destroyQuickPopup(),this.renderQuickPopup()}refreshMorePopup(){this.destroyMorePopup(),this.renderMorePopup()}destroyQuickDialog(){this.quickDialog.element&&(this.quickDialog.destroy(),nt(this.quickDialog.element),this.quickDialog=null)}destroyQuickPopup(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),nt(this.quickPopup.element),this.quickPopup=null)}destroyMorePopup(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),nt(this.morePopup.element),this.morePopup=null)}destroy(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null}}class $F{constructor(e){this.parent=e,this.tooltipObj=new gs({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" e-schedule-event-tooltip",target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onBeforeClose.bind(this),enableRtl:this.parent.enableRtl}),this.tooltipObj.appendTo(this.parent.element)}getTargets(){const e=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&e.push("."+Nc),this.parent.eventSettings.enableTooltip&&e.push("."+Bt),e.join(",")}onBeforeRender(e){if(!f(e.target.getAttribute("data-tooltip-id")))return;if(e.target.classList.contains(Nc)&&this.parent.activeViewOptions.group.resources.length>0){let i;if(this.parent.activeView.isTimelineView()){const h=parseInt(e.target.getAttribute("data-group-index"),10);i=this.parent.resourceBase.lastResourceLevel[h]}else{const h=e.target.parentNode.sectionRowIndex,d=e.target.cellIndex;i=this.parent.activeView.getColumnLevels()[h][d]}const s={resource:i.resource,resourceData:i.resourceData},n=Q("div"),a=this.parent.element.id+"_headerTooltipTemplate";return Ge([].slice.call(this.parent.getHeaderTooltipTemplate()(s,this.parent,"headerTooltipTemplate",a,!1)),n),this.setContent(n),void this.parent.renderTemplates()}const t=this.parent.eventBase.getEventByGuid(e.target.getAttribute("data-guid"));if(!f(t)){if(f(this.parent.eventSettings.tooltipTemplate)){const i=this.parent.globalize,s=this.parent.eventFields,n=new Date(""+t[s.startTime]);let a=new Date(""+t[s.endTime]);a=0===a.getHours()&&0===a.getMinutes()?new Date(a.setMilliseconds(-1e3)):a;const o=ge(new Date(""+n)),h=ge(new Date(""+a)),d=t[s.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),m=f(t[s.location])?"":t[s.location];let v="",C="",w="";v=i.formatDate(n,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),C=i.formatDate(n,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),w=i.formatDate(a,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),v=ks(v,"single"),C=ks(C,"single"),w=ks(w,"single");const S="short",k=i.formatDate(n,{type:"time",skeleton:S,calendar:this.parent.getCalendarMode()}),O=i.formatDate(a,{type:"time",skeleton:S,calendar:this.parent.getCalendarMode()});let N;o.getTime()===h.getTime()?(N=i.formatDate(n,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),N=ks(N,"single")):N=o.getFullYear()===h.getFullYear()?v+" - "+w:C+" - "+w;const q=t[s.isAllDay]?this.parent.localeObj.getConstant("allDay"):k+" - "+O;this.setContent('<div><div class="e-subject">'+d+'</div><div class="e-location">'+m+'</div><div class="e-details">'+N+'</div><div class="e-all-day">'+q+"</div></div>")}else{const i=Q("div"),s=this.parent.element.id+"_tooltipTemplate";Ge([].slice.call(this.parent.getEventTooltipTemplate()(t,this.parent,"tooltipTemplate",s,!1)),i),this.setContent(i)}this.parent.renderTemplates()}}onBeforeClose(){this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])}setContent(e){this.tooltipObj.setProperties({content:e},!0)}close(){this.tooltipObj.close()}destroy(){this.tooltipObj.destroy(),L([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null}}var Hh=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};const rp="e-input-wrapper",GF="e-input-wrapper-side",QF="e-repeat-element",hL="e-repeat-interval",i3="e-interval",ap="e-days",uL="e-non-week",dL="e-year-expander",s3="e-year-expander-element",KF="e-month-expander",n3="e-month-expander-element",r3="e-month-expander-checkbox-wrapper",vI="e-form-left",pL="e-form-right",a3="e-month-day",o3="e-month-expander-wrapper",l3="e-month-pos",c3="e-month-week",XF="e-end-on",h3="e-end-on-element",ZF="e-end-on-date",u3="e-until-date",JF="e-end-on-count",fL="e-recurrence-count",op="e-hide-recurrence-element",IC="e-primary",p3="e-active",f3="e-recurrence-table",m3="e-repeat-content",yI="none",bI="daily",CI="weekly",EI="monthly",wI="yearly",hD="never",uD="until",dD="count",mL="text",gL="value",w3="MONTHLY",Bh=";",c9={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},vL={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},O3=[ap,uL,XF,i3,dL,KF],h9=[uL],u9=[ap,dL],d9=[ap],p9=[ap,uL,dL,KF],R3=[ZF,JF],f9=[ZF],m9=[JF];let Cl=class extends hs{constructor(e,t){super(e,t),this.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},this.renderStatus=!1,this.dayButtons=[],this.monthButtons=[]}startState(e,t,i){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(t),this.selectMonthDay(i),this.updateUntilDate(i),this.onMonthDay.setProperties({checked:!0})}preRender(){this.localeObj=new Gs(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=BF(this.calendarMode)}applyCustomClass(e){e&&L([this.element],e.split(" "))}initialize(){L([this.element],"e-"+this.getModuleName()),this.renderComponent(),f(this.value)||""===this.value?(f(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),hD,this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)}triggerChangeEvent(){if(this.renderStatus){const e=this.getRecurrenceRule();this.trigger("change",{value:e},t=>this.setProperties({value:t.value},!1))}}resetDayButton(){[].slice.call(this.element.querySelectorAll(".e-days button")).forEach(t=>H([t],[p3,IC]))}daySelection(e){this.resetDayButton();const t=[0,1,2,3,4,5,6];this.rotateArray(t,this.firstDayOfWeek);const i=this.element.querySelector('.e-days button[data-index="'+t.indexOf(e)+'"]');i&&L([i],[p3,IC])}rtlClass(e){e?L([this.element],"e-rtl"):H([this.element],"e-rtl")}updateUntilDate(e){const t=new Date(e.getTime());t.setDate(t.getDate()+60),this.untilDateObj.setProperties({value:t})}selectMonthDay(e){this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:vL[["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())}updateForm(e){this.repeatType.setProperties({value:e});const t=this.element.querySelector("."+XF);switch(e===bI?On(t,[vI],[pL]):On(t,[pL],[vI]),e){case yI:O3.forEach(i=>L([this.element.querySelector("."+i)],op));break;case CI:h9.forEach(i=>L([this.element.querySelector("."+i)],op));break;case EI:u9.forEach(i=>L([this.element.querySelector("."+i)],op));break;case wI:d9.forEach(i=>L([this.element.querySelector("."+i)],op));break;case bI:p9.forEach(i=>L([this.element.querySelector("."+i)],op))}}updateEndOnForm(e){switch(this.endType.setProperties({value:e}),e){case hD:R3.forEach(t=>L([this.element.querySelector("."+t)],op));break;case uD:m9.forEach(t=>L([this.element.querySelector("."+t)],op));break;case dD:f9.forEach(t=>L([this.element.querySelector("."+t)],op))}}freshOnEndForm(){R3.forEach(e=>{const t=this.element.querySelector("."+e);t&&H([t],op)})}showFormElement(){O3.forEach(e=>{const t=this.element.querySelector("."+e);t&&H([t],op)})}renderDropdowns(){const e=this;this.repeatType=new fs({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:mL,value:gL},placeholder:this.localeObj.getConstant("repeat"),htmlAttributes:{title:this.localeObj.getConstant("repeat")},change:i=>{e.setProperties({selectedType:this.frequencies.indexOf(i.value)},!1),e.element.querySelector("."+m3).innerHTML=e.localeObj.getConstant(c9[i.value]),e.showFormElement(),e.updateForm(i.value),e.resetFormValues(),e.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+QF)),this.endType=new fs({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:mL,value:gL},change:i=>{e.freshOnEndForm(),e.updateEndOnForm(i.value),e.resetFormValues(),e.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector("."+h3));const t=i=>new fs({dataSource:i,popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,fields:{text:mL,value:gL},index:1,change:s=>{e.onWeekDay.setProperties({checked:!0}),e.resetFormValues(),e.triggerChangeEvent()}});this.monthWeekPos=t(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector("."+l3)),this.monthWeekDays=t(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector("."+c3)),this.monthValue=new fs({dataSource:this.getMonthData(),fields:{text:mL,value:gL},enableRtl:this.enableRtl,index:7,change:i=>{e.resetFormValues(),e.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector("."+s3))}setDefaultValue(){const e=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox"));for(const t of e){const i=t.ej2_instances[0];i.element.classList.contains(hL)?(i.value=1,i.dataBind()):i.element.classList.contains(fL)&&(i.value=10,i.dataBind())}}resetFormValues(){const e=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]'));for(const t of e){let i;if(t.classList.contains("e-datepicker"))i=t.ej2_instances[0],i.value?(i.value=i.value,i.dataBind()):this.updateUntilDate(this.startDate);else if(t.classList.contains("e-dropdownlist"))i=t.ej2_instances[0],i.index=i.index||0,i.dataBind();else if(t.classList.contains("e-numerictextbox")){let s;i=t.ej2_instances[0],s=i.element.classList.contains(hL)?1:i.element.classList.contains(fL)?10:this.startDate.getDate(),i.value=i.value||s,i.dataBind()}}}getPopupWidth(){return G.isDevice?"100%":"auto"}renderDatePickers(){const e=this;this.untilDateObj=new Es({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:f(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:t=>{t.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector("."+u3))}getFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?X(e+".short",Ca(this.getCalendarMode())):X("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",Ps),t}dayButtonRender(){const e=[].slice.call(this.element.querySelectorAll(".e-days button")),t=this;for(const i of e){const s=new ll({isToggle:!0,enableRtl:this.enableRtl},i);this.dayButtons.push(s),A.add(i,"click",n=>{const a=[].slice.call(this.element.querySelectorAll(".e-days button."+IC)),o=n.target;o.classList.contains(IC)?a.length>1&&(H([o],IC),t.triggerChangeEvent()):(L([o],IC),t.triggerChangeEvent())})}}radioButtonRender(){const e=this;this.onMonthDay=new io({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:()=>{e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector("."+n3)),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new io({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:()=>{e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector("."+o3)),this.monthButtons.push(this.onWeekDay)}numericTextboxRender(){const e=this;this.recurrenceCount=new mf({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:()=>{e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+fL)),this.monthDate=new mf({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:()=>{e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector("."+a3)),this.repeatInterval=new mf({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:()=>{e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector("."+hL))}renderComponent(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()}rotateArray(e,t){let i;for(let s=0;s<t;s++)i=e.shift(),e.push(i)}getEndData(){const t=this,i=[];return[hD,uD,dD].forEach(s=>{i.push({text:t.localeObj.getConstant(s),value:s})}),i}getDayPosition(e){let t=new Date(e.getTime()),i=new Date(e.getTime());const s=e.getDay(),n=[];for(t=this.calendarUtil.getMonthStartDate(t),i=this.calendarUtil.getMonthEndDate(i);t<i;)t.getDay()===s&&n.push(t.getTime()),t.setDate(t.getDate()+1);return n.indexOf(e.getTime())===n.length-1?-1:n.indexOf(e.getTime())+1}getRepeatData(){const e=[],t=this;return this.frequencies.forEach(i=>{e.push({text:t.localeObj.getConstant(i===yI?hD:i),value:i})}),e}getMonthPosData(){const t={first:1,second:2,third:3,fourth:4,last:-1},i=this,s=[];return["first","second","third","fourth","last"].forEach(n=>{s.push({text:i.localeObj.getConstant(n),value:t[n]})}),s}getDayData(e){const t=["sun","mon","tue","wed","thu","fri","sat"],i=[];let s;this.rotateArray(t,this.firstDayOfWeek),s="en"===this.locale||"en-US"===this.locale?X("days.stand-alone."+e,Ca(this.getCalendarMode())):X("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e,Ps);for(const n of t){const a=X(n,s);i.push({text:"narrow"===e?a:ks(a,"single"),value:vL[n]})}return i}getMonthData(){const e=[];let t;t="en"===this.locale||"en-US"===this.locale?X("months.stand-alone.wide",Ca(this.getCalendarMode())):X("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide",Ps);for(const i of Object.keys(t))e.push({text:ks(X(i,t),"single"),value:i});return e}setTemplate(){const e=this.getDayData("narrow"),t=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="'+rp+" "+vI+'"><input type="text" tabindex="0" class="'+QF+'"label="'+QF.substr(2)+'" /></div><div class="'+rp+" "+i3+" "+pL+'"><table  class="'+f3+' e-repeat-content-wrapper"><tr><td><input type="text" tabindex="0" class="'+hL+'"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="'+m3+'"></span></td></tr></table></div><div class="'+GF+" "+ap+" "+vI+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+t[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+t[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+t[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+t[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+t[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+t[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+t[6].text+'">'+e[6].text+'</button></div><div class="'+GF+" "+uL+" "+vI+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="'+dL+'"><input class="'+s3+'" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="'+KF+'"><table class="'+f3+' e-month-expand-wrapper"><tr><td><div class="'+rp+" "+r3+'"><input class="'+n3+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+rp+' e-monthday-element"><input type="text" tabindex="0" class="'+a3+'"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+rp+" "+r3+'" style="min-width: 30px;margin-bottom:18px;"><input class="'+o3+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+rp+' e-week-position" ><input type="text" tabindex="0" class="'+l3+'"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+rp+'" style="min-width: 120px;"><input type="text" tabindex="0" class="'+c3+'"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="'+GF+" "+XF+" "+pL+'"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+rp+' e-end-on-left"><input type="text" tabindex="0" class="'+h3+'"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+rp+" "+ZF+'" ><input type="text" tabindex="0" class="'+u3+'"title="'+this.localeObj.getConstant(uD)+'" /></div><div class="'+rp+" "+JF+'"><input type="text" tabindex="0" class="'+fL+'"title="'+this.localeObj.getConstant(dD)+'" /></div></div></div></div>'}getSelectedDaysData(){let e="BYDAY=";const t=[].slice.call(this.element.querySelectorAll(".e-days button."+IC)),i=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(i,this.firstDayOfWeek);for(let s=0;s<t.length;s++)e+=i[parseInt(t[s].getAttribute("data-index"),10)]+(s===t.length-1?"":",");return e+Bh}getSelectedMonthData(){let e;return e=this.onWeekDay.checked?"BYDAY="+this.monthWeekDays.value+";BYSETPOS="+this.monthWeekPos.value+Bh:"BYMONTHDAY="+this.monthDate.value+Bh,e}getIntervalData(){return"INTERVAL="+this.repeatInterval.value+Bh}getEndOnCount(){return"COUNT="+this.recurrenceCount.value+Bh}getYearMonthRuleData(){return"BYMONTH="+this.monthValue.value+Bh}updateWeekButton(e){const t=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(t,this.firstDayOfWeek);for(const i of this.dayButtons){const s=parseInt(i.element.getAttribute("data-index"),10);-1!==e.indexOf(t[s])?i.setProperties({isPrimary:!0}):i.setProperties({isPrimary:!1})}}updateMonthUI(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(const e of Object.keys(vL))if(vL[e]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}}updateUI(e,t){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),t){case uD:this.untilDateObj.setProperties({value:this.ruleObject.until});break;case dD:this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case CI:this.updateWeekButton(this.ruleObject.day);break;case wI:this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case EI:this.updateMonthUI()}}getUntilData(){return this.untilDateObj.value?"UNTIL="+om(this.untilDateObj.value)+Bh:""}destroyComponents(){this.recurrenceCount.isDestroyed||this.recurrenceCount.destroy(),this.monthDate.isDestroyed||this.monthDate.destroy(),this.repeatInterval.isDestroyed||this.repeatInterval.destroy(),this.untilDateObj.isDestroyed||this.untilDateObj.destroy(),this.repeatType.isDestroyed||this.repeatType.destroy(),this.endType.isDestroyed||this.endType.destroy(),this.monthWeekPos.isDestroyed||this.monthWeekPos.destroy(),this.monthWeekDays.isDestroyed||this.monthWeekDays.destroy(),this.monthValue.isDestroyed||this.monthValue.destroy(),this.dayButtons.forEach(e=>{e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(e=>{e.isDestroyed||e.destroy()}),this.monthButtons=[]}resetFields(){this.startState(yI,hD,this.startDate),this.setDefaultValue()}updateRuleUntilDate(e){if(this.untilDateObj.value&&e){const t=this.untilDateObj.value,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:i})}}getCalendarMode(){return this.calendarMode.toLowerCase()}getRuleSummary(e=this.getRecurrenceRule()){return function(r,e,t,i="Gregorian"){const s=HF(r);let a,o,n=e.getConstant("every")+" ";const h=i.toLowerCase();if("en"===t||"en-US"===t){const m="days.stand-alone.abbreviated";o=X("months.stand-alone.abbreviated",Ca(h)),a=X(m,Ca(h))}else{const m="main."+t+".dates.calendars."+h+".days.stand-alone.abbreviated";o=X("main."+t+".dates.calendars."+h+".months.stand-alone.abbreviated",Ps),a=X(m,Ps)}switch(s.interval>1&&(n+=s.interval+" "),s.freq){case"DAILY":n+=e.getConstant("summaryDay");break;case"WEEKLY":n+=e.getConstant("summaryWeek")+" "+e.getConstant(WF)+" ",s.day.forEach((d,m)=>{n+=ks(X(ZW[d],a),"single"),n+=s.day.length-1===m?"":", "});break;case"MONTHLY":n+=e.getConstant("summaryMonth")+" "+e.getConstant(WF)+" ",n+=WW(s,a,e);break;case"YEARLY":n+=e.getConstant("summaryYear")+" "+e.getConstant(WF)+" ",n+=ks(X(s.month[0].toString(),o),"single")+" ",n+=WW(s,a,e)}if(s.count)n+=", "+s.count+" "+e.getConstant("summaryTimes");else if(s.until){const d=s.until;n+=", "+e.getConstant("summaryUntil")+" "+d.getDate()+" "+ks(X((d.getMonth()+1).toString(),o),"single")+" "+d.getFullYear()}return n}(e,this.localeObj,this.locale,this.calendarMode)}getRecurrenceDates(e,t,i,s,n){return n=f(n)?this.startDate:n,LF(e,t,i,this.firstDayOfWeek,s,n,this.calendarMode)}getRecurrenceRule(){let e="FREQ=";switch(this.repeatType.value){case bI:e+="DAILY;";break;case CI:e+="WEEKLY;"+this.getSelectedDaysData();break;case EI:e+=w3+Bh+this.getSelectedMonthData();break;case wI:e+="YEARLY;"+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case yI:return""}switch(e+=this.getIntervalData(),this.endType.value){case uD:e+=this.getUntilData();break;case dD:e+=this.getEndOnCount()}return e}setRecurrenceRule(e,t=this.startDate){if(!e)return void this.repeatType.setProperties({value:yI});this.renderStatus=!1,this.ruleObject=HF(e);const i=this.ruleObject.count?dD:this.ruleObject.until?uD:hD;switch(this.ruleObject.freq){case"DAILY":this.startState(bI,i,t),this.updateUI(bI,i);break;case"WEEKLY":this.startState(CI,i,t),this.updateUI(CI,i);break;case w3:this.startState(EI,i,t),this.updateUI(EI,i);break;case"YEARLY":this.startState(wI,i,t),this.updateUI(wI,i)}this.renderStatus=!0,this.triggerChangeEvent()}destroy(){this.destroyComponents(),super.destroy();let e=["e-"+this.getModuleName()];for(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),H([this.element],e);this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}getModuleName(){return"recurrenceeditor"}getPersistData(){return this.addOnPersist([])}render(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":t.cssClass&&H([this.element],t.cssClass.split(" ")),e.cssClass&&L([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=BF(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}}};Hh([T(["none","daily","weekly","monthly","yearly"])],Cl.prototype,"frequencies",void 0),Hh([T(0)],Cl.prototype,"firstDayOfWeek",void 0),Hh([T(new Date)],Cl.prototype,"startDate",void 0),Hh([T()],Cl.prototype,"dateFormat",void 0),Hh([T("Gregorian")],Cl.prototype,"calendarMode",void 0),Hh([T()],Cl.prototype,"cssClass",void 0),Hh([T()],Cl.prototype,"value",void 0),Hh([T(new Date(1900,0,1))],Cl.prototype,"minDate",void 0),Hh([T(new Date(2099,11,31))],Cl.prototype,"maxDate",void 0),Hh([T(0)],Cl.prototype,"selectedType",void 0),Hh([$()],Cl.prototype,"change",void 0),Cl=Hh([oi],Cl);const cm="e-field",DI="e-recurrence-container",pD="e-hide";class L3{constructor(e){this.parent=e,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}renderEventWindow(){this.element=Q("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);const e={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:Sv,enableRtl:this.parent.enableRtl,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(e.cssClass=Sv+" "+Qw,e.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>'):(e.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:rm,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+tL,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:bW,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}],e.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>"),this.dialogObject=new Si(e,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),L([this.element.parentElement],Sv+"-container"),this.parent.isAdaptive&&(A.add(this.element.querySelector(".e-back-icon"),"click",this.dialogClose,this),A.add(this.element.querySelector("."+yW),"click",this.eventSave,this)),A.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()}refresh(){this.destroy(!0),this.renderEventWindow()}refreshRecurrenceEditor(){if(this.recurrenceEditor){const e=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(e)}}setRecurrenceEditor(e){this.parent.editorTemplate&&(this.recurrenceEditor=e)}openEditor(e,t,i,s){if(this.parent.currentAction=t,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),"Add"===t){let n={};this.cellClickAction=!i,this.parent.activeCellsData=e;const a=e;this.cellClickAction?this.convertToEventData(a,n):(this.parent.activeCellsData={startTime:a.startTime||a[this.fields.startTime],endTime:a.endTime||a[this.fields.endTime],isAllDay:a.isAllDay||a[this.fields.isAllDay],element:a.element,groupIndex:a.groupIndex},n=a),e=n}switch(f(this.parent.editorTemplate)||this.renderFormElements(this.element.querySelector(".e-schedule-form"),e),!this.parent.isAdaptive&&f(this.parent.editorTemplate)&&H([this.dialogObject.element.querySelector(".e-recurrenceeditor")],bs),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),t){case"Add":this.onCellDetailsUpdate(e,s);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":"EditOccurrence"===t&&!this.parent.isAdaptive&&f(this.parent.editorTemplate)&&L([this.dialogObject.element.querySelector(".e-recurrenceeditor")],bs),this.cellClickAction=!1,this.onEventDetailsUpdate(e)}}setDialogContent(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind()}preventEventSave(e){this.parent&&!this.parent.allowKeyboardInteraction&&"Enter"===e.code&&(this.isEnterKey=!0)}onBeforeOpen(e){const t={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(t.duration=this.getSlotDuration());const i=this.getInstance(tL);i&&(i.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),i.dataBind());const s=this.getInstance(rm);s&&(s.disabled=!this.parent.eventSettings.allowDeleting,s.dataBind());const n=new Tg;return this.parent.trigger(kR,t,a=>{if(e.cancel=a.cancel,this.duration=this.cellClickAction?a.duration:null,this.refreshDateTimePicker(this.duration),this.cellClickAction&&a.duration!==this.getSlotDuration()&&f(this.parent.editorTemplate)){const o=this.getInstance(am),h=this.getInstance(xv);h.value=new Date(o.value.getTime()+$a*a.duration),h.dataBind()}this.parent.editorTemplate&&this.element.querySelector(".e-recurrenceeditor")&&!this.recurrenceEditor&&(this.recurrenceEditor=this.getInstance("e-recurrenceeditor")),n.resolve(e)}),n}onBeforeClose(e){e.isInteracted&&(this.isCrudAction=!1);const t={type:"Editor",event:e.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},i=new Tg;return this.parent.trigger(jV,t,s=>{e.cancel=s.cancel,s.cancel||(this.isCrudAction&&(e.cancel=this.processCrudActions(s.data),this.isCrudAction=e.cancel),this.isCrudAction||(this.resetForm(),this.parent.eventBase.focusElement(!0),this.eventCrudData=null)),i.resolve(e)}),i}getEventWindowContent(){const e=Q("div",{className:"e-form-container"}),t=Q("form",{id:this.parent.element.id+"EditForm",className:Tv,attrs:{onsubmit:"return false;"}});return this.renderFormElements(t),e.appendChild(t),e}renderFormElements(e,t){if(f(this.parent.editorTemplate))e.appendChild(this.getDefaultEventWindowContent());else{if(t){this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents();const n=[].slice.call(e.children);for(const a of n)nt(a)}const i=this.parent.element.id+"_editorTemplate";Ge([].slice.call(this.parent.getEditorTemplate()(t||{},this.parent,"editorTemplate",i,!1)),e),this.parent.renderTemplates()}}getDefaultEventWindowContent(){const e=this.createDivElement("e-dialog-parent"),t=this.createDivElement("e-title-location-row");e.appendChild(t),t.appendChild(this.renderTextBox(or)),t.querySelector("."+or).setAttribute("title",this.parent.editorTitles.subject),t.appendChild(this.renderTextBox(Av)),t.querySelector("."+Av).setAttribute("title",this.parent.editorTitles.location);const i=this.createDivElement("e-start-end-row");e.appendChild(i),i.appendChild(this.renderDateTimePicker(am,this.onTimeChange.bind(this))),i.querySelector("."+am).setAttribute("title",this.parent.editorTitles.startTime),i.appendChild(this.renderDateTimePicker(xv)),i.querySelector("."+xv).setAttribute("title",this.parent.editorTitles.endTime);const s=this.createDivElement("e-all-day-time-zone-row");e.appendChild(s),s.appendChild(this.renderCheckBox(JR)),s.appendChild(this.renderCheckBox(wC));const n=this.createDivElement(oI);e.appendChild(n),n.appendChild(this.renderDropDown(lI)),n.appendChild(this.renderDropDown(cI));const a=this.createDivElement("e-repeat-parent-row");e.appendChild(a);const o=this.renderCheckBox(eL),h=Q("span",{className:DI}),d=Q("button",{className:"e-recurrence-edit-button",attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new ll({iconCss:"e-recurrence-edit e-icons",cssClass:"e-medium "+this.parent.cssClass}),h.appendChild(d),this.buttonObj.appendTo(d),o.appendChild(h),a.appendChild(o),this.parent.isAdaptive?A.add(d,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(e),this.parent.resourceCollection.length>0){const C=this.createDivElement("e-resources-row");for(const w of this.parent.resourceBase.resourceCollection)C.appendChild(this.renderResourceDetails(w));e.appendChild(C)}const m=this.createDivElement(DC+"-row");m.appendChild(this.renderTextBox(DC)),m.querySelector("."+DC).setAttribute("title",this.parent.editorTitles.description),e.appendChild(m);const v=Q("button",{attrs:{type:"hidden",title:"submit",style:"display:none"}});return e.appendChild(v),e}createRecurrenceEditor(e){const t=this.createDivElement();e.appendChild(t),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(t),this.updateMinMaxDateToEditor()}createDivElement(e){return Q("div",{className:e})}createInputElement(e,t,i){return Q(i||"input",{className:e,attrs:{type:"text",name:t,value:"",id:t,title:""===this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))?t:this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))}})}getSlotDuration(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount}renderDateTimePicker(e,t){const i=this.createDivElement(e+"-container"),s=this.getFieldName(e),n=this.createInputElement(e+" "+cm,s);return i.appendChild(n),new is({change:t,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",timeFormat:this.parent.activeViewOptions.timeFormat,format:(f(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(e),step:this.getSlotDuration(),width:"100%"}).appendTo(n),i}refreshDateTimePicker(e){const i=[].slice.call(this.element.querySelectorAll(".e-start,.e-end"));for(const s of i){const n=s.ej2_instances[0];n.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,n.timeFormat=this.parent.activeViewOptions.timeFormat,n.step=e||this.getSlotDuration(),n.dataBind()}}onTimeChange(){const e=this.getInstance(am);if(e.element.parentElement.classList.contains("e-input-focus")){const t=this.getInstance(xv);let i=0;this.cellClickAction?(i=$a*this.duration,this.eventWindowTime.startTime=e.value):i=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();const s=f(e.value)?null:new Date(e.value.getTime()+i);this.cellClickAction&&(this.eventWindowTime.endTime=s),t.value=s,t.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)}renderResourceDetails(e){const t=e.field,i="e-"+t,s=e.title,n=this.createDivElement(i+"-container e-resources"),a=this.createInputElement(i+" "+cm,t);n.appendChild(a);const o='<div class="e-resource-template"><div class="e-resource-color" style="background-color:${'+e.colorField+'}"></div><div class="e-resource-text">${'+e.textField+"}</div></div>";return e.allowMultiple?new Mt({cssClass:this.parent.cssClass||"",dataSource:e.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:o,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:s,name:t},floatLabelType:"Always",placeholder:s,popupHeight:"230px",popupWidth:"447px",mode:"Box"}).appendTo(a):new fs({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:e.dataSource,enableRtl:this.parent.enableRtl,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:s,name:t},floatLabelType:"Always",placeholder:s,popupHeight:"230px",popupWidth:"447px",itemTemplate:o}).appendTo(a),n}renderDropDown(e){const t=this.getFieldName(e),i=this.createDivElement(e+"-container"),s=this.createInputElement(e+" "+cm,t);return i.appendChild(s),new fs({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:a=>{let o=new kt;o=""!==a.text?o.where("Text","contains",a.text,!0):o,a.updateData(this.parent.timezoneDataSource,o)},htmlAttributes:{title:this.getFieldLabel(e),name:t},floatLabelType:"Always",placeholder:this.getFieldLabel(e),popupHeight:"230px"}).appendTo(s),i}onMultiselectResourceChange(e){if(!e.value||!this.parent.activeViewOptions.group.byGroupID||this.parent.resourceCollection.length<=1)return;const t=this.parent.resourceBase.resourceCollection,i=e.element.getAttribute("name")||this.getColumnName(e.element);for(let s=0;s<t.length;s++)if(t[s].field===i&&s<t.length-1){const n=this.createInstance(s);let a=[];for(let o=0;o<e.value.length;o++){const h=t[s+1],m=h.dataSource.filter(C=>C[h.groupIDField]===e.value[o])[0][t[s+1].groupIDField],v=this.filterDatasource(s,m);a=a.concat(v)}n.dataSource=a,n.dataBind()}}createInstance(e){return this.element.querySelector(".e-"+this.parent.resourceBase.resourceCollection[e+1].field).ej2_instances[0]}onDropdownResourceChange(e){if(!e.value||this.parent.resourceCollection.length<=1||!this.parent.activeViewOptions.group.byGroupID)return;const t=e.element.getAttribute("name")||this.getColumnName(e.element),i=this.parent.resourceBase.resourceCollection;for(let s=0;s<i.length;s++)if(s<i.length-1&&i[s].field===t){const n=this.createInstance(s);n.dataSource=this.filterDatasource(s,e.itemData[i[s].idField]),n.dataBind();const o=n.dataSource[0][i[s+1].idField];n.value=i[s+1].allowMultiple?[o]:o,n.dataBind()}}filterDatasource(e,t){const i=this.parent.resourceBase.resourceCollection[e+1];return i.dataSource.filter(s=>s[i.groupIDField]===t)}onTimezoneChange(e){if((e.element.getAttribute("name")||this.getColumnName(e.element))===this.parent.eventFields.startTimezone){const i=this.getInstance(lI),s=this.getInstance(cI);s.value=i.value,s.dataBind()}}renderCheckBox(e){const t=this.createDivElement(e+"-container"),i=this.getFieldName(e),s=this.createInputElement(e+" "+cm,i);t.appendChild(s);const n=new xo({change:this.onChange.bind(this),cssClass:e+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,label:this.getFieldLabel(e)});return n.appendTo(s),s.setAttribute("name",i),"Repeat"===i&&(this.repeatStatus=n),t}renderTextBox(e){const t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=this.createInputElement(e+" "+cm,i,e===DC?"textarea":"input");return t.appendChild(n),me.createInput({element:n,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(e)}}),t}getFieldName(e){let t="";switch(e){case or:t=this.fields.subject;break;case Av:t=this.fields.location;break;case am:t=this.fields.startTime;break;case xv:t=this.fields.endTime;break;case DC:t=this.fields.description;break;case JR:t=this.fields.isAllDay;break;case lI:t=this.fields.startTimezone;break;case cI:t=this.fields.endTimezone;break;case wC:t="Timezone";break;case eL:t="Repeat"}return t}getFieldLabel(e){let t="";switch(e){case or:t=this.parent.editorTitles.subject;break;case Av:t=this.parent.editorTitles.location;break;case DC:t=this.parent.editorTitles.description;break;case am:t=this.parent.editorTitles.startTime;break;case xv:t=this.parent.editorTitles.endTime;break;case lI:t=this.parent.editorTitles.startTimezone;break;case cI:t=this.parent.editorTitles.endTimezone;break;case eL:t=this.parent.editorTitles.recurrenceRule;break;case JR:t=this.parent.editorTitles.isAllDay;break;case wC:t=this.l10n.getConstant("timezone")}return t}onChange(e){const t=e.event.target;t.classList.contains(JR)?this.onAllDayChange(e.checked):t.classList.contains(wC)?this.timezoneChangeStyle(e.checked):t.classList.contains(eL)&&this.onRepeatChange(e.checked)}renderRepeatDialog(){const e=Q("div");this.repeatDialogObject=new Si({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,isModal:!0,cssClass:"e-recurrence-dialog",open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(e),this.repeatDialogObject.appendTo(e),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))}loadRecurrenceEditor(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)}onRepeatChange(e){e?(this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor()):(this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule)),L([this.element.querySelector("."+DI)],pD))}repeatSaveDialog(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();const e=this.element.querySelector("."+DI);this.recurrenceEditor.getRecurrenceRule()?H([e],pD):(L([e],pD),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()}closeRepeatDialog(){this.repeatDialogObject.hide()}repeatCancelDialog(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})}repeatOpenDialog(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()}onCellDetailsUpdate(e,t){if(!this.parent.eventSettings.allowAdding)return;this.element.querySelector("."+Tv).removeAttribute("data-id"),this.element.querySelector("."+CW).innerHTML=this.l10n.getConstant("newEvent"),e.Timezone=!1,this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",f(this.parent.eventSettings.fields.subject.default)||(e[this.fields.subject]=this.parent.eventSettings.fields.subject.default),f(this.parent.eventSettings.fields.location.default)||(e[this.fields.location]=this.parent.eventSettings.fields.location.default),f(this.parent.eventSettings.fields.description.default)||(e[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]);const i=this.element.querySelector("."+rm);if(i&&L([i],bs),this.recurrenceEditor&&this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime],selectedType:f(t)?f(e[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:t}),this.parent.isAdaptive&&f(this.parent.editorTemplate))L([this.element.querySelector("."+DI)],pD),this.updateRepeatLabel(this.repeatRule);else{const s=this.element.querySelector("."+tL);this.disableButton(s,!1)}this.dialogObject.show()}convertToEventData(e,t){e.subject&&(t[this.fields.subject]=e.subject),t[this.fields.startTime]=e.startTime,t[this.fields.endTime]=e.endTime,t[this.fields.isAllDay]=e.isAllDay,e.RecurrenceRule&&(t[this.fields.recurrenceRule]=e.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(t)}applyFormValidation(){const e=s=>s&&Object.keys(s).length>0?s:void 0,t=this.element.querySelector("."+Tv),i={};i[this.parent.eventSettings.fields.subject.name]=e(this.parent.eventSettings.fields.subject.validation),i[this.parent.eventSettings.fields.location.name]=e(this.parent.eventSettings.fields.location.validation),i[this.parent.eventSettings.fields.startTime.name]=e(this.parent.eventSettings.fields.startTime.validation),i[this.parent.eventSettings.fields.endTime.name]=e(this.parent.eventSettings.fields.endTime.validation),i[this.parent.eventSettings.fields.description.name]=e(this.parent.eventSettings.fields.description.validation),this.fieldValidator=new e3,this.fieldValidator.renderFormValidator(t,i,this.element,this.parent.locale)}showDetails(e){const t=ae({},e,null,!0);0===t[this.fields.endTime].getHours()&&0===t[this.fields.endTime].getMinutes()&&this.trimAllDay(t),this.eventData=t;const i=this.getFormElements(Sv),s=Object.keys(t);for(const n of i){const a=n.name||this.getColumnName(n);!f(a)&&""!==a&&(-1!==s.indexOf(a)?this.setValueToElement(n,t[a]):this.setDefaultValueToElement(n))}if(f(this.parent.editorTemplate)){this.onAllDayChange(t[this.fields.isAllDay]);const n=this.getInstance(wC+"."+cm);f(t[this.fields.startTimezone])&&f(t[this.fields.endTimezone])||(n.checked=!0,n.dataBind()),this.timezoneChangeStyle(n.checked),delete t.Timezone}}getColumnName(e){let t=e.getAttribute("data-name")||"";if(""===t){let i=!1,s="";e.classList.contains("e-dropdownlist")?(s="e-ddl",i=!0):e.classList.contains("e-multiselect")?(s="e-multiselect",i=!0):e.classList.contains("e-datetimepicker")?s="e-datetimepicker":e.classList.contains("e-datepicker")?s="e-datepicker":e.classList.contains("e-checkbox")&&(s="e-checkbox");const a=U(e,i?`.${s}:not(.e-control)`:`.${s}`)||e.querySelector(`.${s}`);if(a){const o=a.querySelector("[name]");o&&(t=o.name)}}return t}onAllDayChange(e){const t=this.getInstance(am),i=this.getInstance(xv),s=this.element.querySelector(".e-time-zone-container");let n;e?(n=f(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,L(this.element.querySelectorAll(".e-time-icon"),EW),L([s],bs),this.element.querySelector("."+oI)&&H([this.element.querySelector("."+oI)],Cv),t.format=i.format=n):(n=f(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,H(this.element.querySelectorAll(".e-time-icon"),EW),H([s],bs),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&L([this.element.querySelector("."+oI)],Cv),t.format=i.format=n),this.cellClickAction&&this.updateDateTime(e,t,i),t.dataBind(),i.dataBind(),f(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(t.value)}updateDateTime(e,t,i){let s,n;if(e)if(s=ge(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){const a=at(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();n=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else n=ge(new Date(this.eventWindowTime.endTime.getTime()));else{const a=this.parent.activeCellsData.startTime;if(s=new Date(this.eventWindowTime.startTime.getTime()),s.setHours(a.getHours(),a.getMinutes(),a.getSeconds()),this.parent.activeCellsData.isAllDay){const o=this.parent.getStartEndTime(this.parent.workHours.start);s.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),n=new Date(s.getTime()),n.setMilliseconds($a*this.getSlotDuration())}else n=new Date(s.getTime()),n.setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(s.getTime()),endTime:new Date(n.getTime())},t.value=s,i.value=n,t.dataBind(),i.dataBind()}getFormat(e){let t;return t="en"===this.parent.locale||"en-US"===this.parent.locale?X(e+".short",Ca(this.parent.getCalendarMode())):X(`main.${this.parent.locale}.dates.calendars.${this.parent.getCalendarMode()}.${e}.short`,Ps),t}onEventDetailsUpdate(e){if(!this.parent.eventSettings.allowEditing)return;if(this.parent.isAdaptive||H([this.element.querySelector("."+rm)],bs),this.element.querySelector("."+CW).innerHTML=this.l10n.getConstant("editEvent"),this.element.querySelector("."+Tv).setAttribute("data-id",e[this.fields.id].toString()),f(this.parent.editorTemplate)){e=ae({},e,null,!0);const i=this.getInstance(wC+"."+cm);let s;e[this.fields.startTimezone]||e[this.fields.endTimezone]?(s=!0,this.parent.eventBase.timezoneConvert(e)):s=!1,e.Timezone=s,i.checked=s,i.dataBind()}if(this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",e[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]),this.parent.isAdaptive&&f(this.parent.editorTemplate)){const i=this.element.querySelector("."+DI);e[this.fields.recurrenceRule]?(H([i],pD),this.repeatStatus.setProperties({checked:!0})):(L([i],pD),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}const t=this.parent.readonly||e[this.fields.isReadonly];if(this.parent.isAdaptive){const i=this.element.querySelector("."+yW);i&&(t?L([i],LW):H([i],LW))}else{const i=this.element.querySelector("."+tL),s=this.element.querySelector("."+rm);this.disableButton(i,t),this.disableButton(s,t)}this.dialogObject.show()}disableButton(e,t){e&&(e.ej2_instances[0].disabled=t)}renderRecurrenceEditor(){return new Cl({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})}updateMinMaxDateToEditor(){const e=this.element.querySelector(".e-start"),t=this.element.querySelector(".e-end");if(e&&t){const i=e.ej2_instances[0],s=t.ej2_instances[0];i.min=this.parent.minDate,i.max=this.parent.maxDate,s.min=this.parent.minDate,s.max=this.parent.maxDate,i.dataBind(),s.dataBind()}if(this.recurrenceEditor){const i=this.recurrenceEditor.element.querySelector(".e-until-date");if(i){const s=i.ej2_instances[0];s.min=this.parent.minDate,s.max=this.parent.maxDate,s.dataBind()}}}updateRepeatLabel(e){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();const t=e?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(e):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:t})}dialogClose(e){this.isEnterKey?this.isEnterKey=!1:(this.dialogEvent=e,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide())}resetForm(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),!this.parent.isAdaptive&&this.recurrenceEditor&&!this.recurrenceEditor.isDestroyed&&this.recurrenceEditor.resetFields()}timezoneChangeStyle(e){const t=this.element.querySelector("."+oI),i=this.parent.tzModule.getLocalTimezoneName();if(e){L([t],Cv);const s=this.getInstance(lI),n=this.getInstance(cI),a=s.dataSource;(!s.value||!this.parent.timezone)&&(a.some(h=>h.Value===i)||(a.push({Value:i,Text:i}),s.dataSource=a,n.dataSource=a,s.dataBind(),n.dataBind())),s.value=s.value||this.parent.timezone||i,n.value=n.value||this.parent.timezone||i,s.dataBind(),n.dataBind()}else H([t],Cv)}resetFormFields(){const e=this.getFormElements(Sv);for(const t of e){const i=t.name||this.getColumnName(t);!f(i)&&""!==i&&this.setDefaultValueToElement(t)}}eventSave(e,t){if(this.isEnterKey)return void(this.isEnterKey=!1);const i=this.element.querySelector("."+Tv);if(i&&i.classList.contains("e-formvalidator")&&!i.ej2_instances[0].validate())return;const s=this.getEventDataFromEditor();this.processEventValidation(s.tempData,t)||(this.eventCrudData=s.eventData,this.dialogEvent=e,this.isCrudAction=!0,this.dialogObject.hide())}getEventDataFromEditor(){const e=ae({},this.getObjectFromFormData(Sv));e.Timezone||(e[this.fields.startTimezone]=null,e[this.fields.endTimezone]=null),delete e.Timezone,delete e.Repeat,this.setDefaultValueToObject(e),e[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;const t=ae({},e,null,!0);return e[this.fields.isAllDay]&&(e[this.fields.startTime]=f(e[this.fields.startTime])?null:ge(new Date(e[this.fields.startTime].getTime())),e[this.fields.endTime]=f(e[this.fields.endTime])?null:at(ge(new Date(e[this.fields.endTime].getTime())),1)),{eventData:e,tempData:t}}processEventValidation(e,t){let i;if(f(this.parent.editorTemplate)){if(!e[this.fields.startTime]||!e[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(e[this.fields.startTime]>e[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&""!==this.recurrenceEditor.value){i=this.recurrenceValidation(e[this.fields.startTime],e[this.fields.endTime],t);let s=!0;if("seriesChangeAlert"===i&&this.parent.uiStateValues.isIgnoreOccurrence&&(s=!1),!f(i)&&s&&(!this.parent.enableRecurrenceValidation&&"wrongPattern"===i||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(i),!0}return!1}processCrudActions(e){this.parent.uiStateValues.isBlock=!1;const t=this.getResourceData(e),i=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!f(t),s=this.getEventIdFromForm();if(f(s))this.parent.currentAction="Add",i?this.resourceSaveEvent(e,this.parent.currentAction):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(e));else{let o,n="string"===this.parent.eventBase.getEventIDType()?s:parseInt(s,10),a=this.parent.eventsData.filter(h=>h[this.fields.id]===n)[0];if(f(a)&&(a=this.parent.blockData.filter(h=>h[this.fields.id]===n)[0]),(e=ae({},a,e))[this.fields.isReadonly])return!1;if(!f(a[this.fields.recurrenceRule])){if(o=this.parent.currentAction,e.Guid=this.parent.activeEventData.event.Guid,"EditOccurrence"===this.parent.currentAction&&(e[this.fields.recurrenceID]?(n=e[this.fields.recurrenceID],o=null):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(n,e)))return!0;"EditSeries"===this.parent.currentAction||e[this.fields.id]!==a[this.fields.id]?e[this.fields.recurrenceID]=a[this.fields.id]:"EditFollowingEvents"===this.parent.currentAction&&(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e[this.fields.followingID]=a[this.fields.id])}i?this.resourceSaveEvent(e,"Save",o):this.parent.saveEvent(e,o)}return this.parent.uiStateValues.isBlock}getResourceData(e){let t=null;return!f(this.parent.resourceBase)&&!f(this.parent.resourceBase.resourceCollection)&&this.parent.resourceBase.resourceCollection.length>0&&(t=e[this.parent.resourceBase.resourceCollection.slice(-1)[0].field]),t}getObjectFromFormData(e){const t=this.getFormElements(e),i={};for(const s of t){const n=s.name||this.getColumnName(s);!f(n)&&""!==n&&(i[n]=this.getValueFromElement(s))}return i}setDefaultValueToObject(e){f(e[this.fields.subject])||(e[this.fields.subject]=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),f(e[this.fields.location])||(e[this.fields.location]=e[this.fields.location]||this.parent.eventSettings.fields.location.default),f(e[this.fields.description])||(e[this.fields.description]=e[this.fields.description]||this.parent.eventSettings.fields.description.default)}recurrenceValidation(e,t,i){let s;const n=this.recurrenceEditor,a=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(i!==this.l10n.getConstant("ok")){const o=this.parent.activeEventData.event;let h=[];if(("EditSeries"===this.parent.currentAction||"EditFollowingEvents"===this.parent.currentAction)&&!f(o)){const d=o[this.parent.eventFields.startTime],m=this.parent.eventBase.getSeriesEvents(this.eventData,d);if(m.length>0)h=this.parent.eventBase.getEditedOccurrences(m,d);else{const v=this.parent.eventBase.getEventById(o[this.parent.eventFields.id]);h=this.parent.eventBase.getEditedOccurrences([v],d)}"EditSeries"===this.parent.currentAction&&!f(this.eventData[this.parent.eventFields.recurrenceException])&&h.push(this.eventData)}if(h.length>0&&(s="seriesChangeAlert"),"until"===this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value&&this.getInstance("e-end-on-date .e-datepicker").value<e&&(s="wrongPattern"),f(s)){let d=n.value.split(";")[1].split("=")[1].split(",");const m={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},v=[],C=[];let w;switch(n.value.split(";")[0].split("=")[1]){case"DAILY":(t.getTime()-e.getTime())/36e5>24*a&&(s="createError");break;case"WEEKLY":d=n.value.split(";")[1].split("=")[1].split(",");for(let S=0;S<d.length*(a+1);S++)v[S]=d.length>S?m[d[S]]:v[S-d.length]+7*a;w=v.sort((S,k)=>S-k);for(let S=1;S<w.length;S++)C.push(w[S]-w[S-1]);((t.getTime()-e.getTime())/36e5>=24*Math.min(...C)||f(a))&&(s="createError");break;case"MONTHLY":t.getTime()>=new Date(+e).setMonth(e.getMonth()+a)&&(s="createError");break;case"YEARLY":t.getTime()>=new Date(+e).setFullYear(e.getFullYear()+a)&&(s="createError")}}}else t.getTime()>=new Date(+e).setMonth(e.getMonth()+a)&&(s="createError"),f(s)&&this.parent.quickPopup.quickDialog.hide();return f(a)&&(s="createError"),s}getRecurrenceIndex(e,t){let i;for(let s=0;s<e.length;s++)if(t[this.fields.startTime].valueOf()===e[s][this.fields.startTime].valueOf()){i=s;break}return i}trimAllDay(e){if(e[this.fields.isAllDay]){const t=at(new Date(+e[this.fields.endTime]),-1).getTime();e[this.fields.endTime]=+e[this.fields.startTime]>t?e[this.fields.endTime]:new Date(t)}}editOccurrenceValidation(e,t,i){void 0===i&&(i=this.eventData);const s=this.parent.getOccurrencesByID(e);this.parent.eventsData.filter(o=>o[this.fields.recurrenceID]===e).map(o=>s.push(ae({},o))),t=ae({},t),this.trimAllDay(t);for(const o of s)this.trimAllDay(o);this.parent.eventBase.sortByTime(s);const a=this.getRecurrenceIndex(s,i);if(f(a))return!1;if(0===a){if(!f(s[a+1])){if(!(ge(new Date(+s[a+1][this.fields.startTime])).getTime()>ge(new Date(+t[this.fields.endTime])).getTime())&&ge(new Date(+s[s.length-1][this.fields.endTime])).getTime()>=ge(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(ge(new Date(+s[s.length-1][this.fields.endTime])).getTime()<ge(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1}if(a===s.length-1){if(!(ge(new Date(+s[a-1][this.fields.endTime])).getTime()<ge(new Date(+t[this.fields.startTime])).getTime())&&ge(new Date(+s[s.length-1-a][this.fields.startTime])).getTime()<=ge(new Date(+t[this.fields.endTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(ge(new Date(+s[s.length-1-a][this.fields.endTime])).getTime()>ge(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}else{if(!(ge(new Date(+s[a-1][this.fields.endTime])).getTime()<ge(new Date(+t[this.fields.startTime])).getTime()||ge(new Date(+s[0][this.fields.startTime])).getTime()>ge(new Date(+t[this.fields.startTime])).getTime())||!(ge(new Date(+s[a+1][this.fields.startTime])).getTime()>ge(new Date(+t[this.fields.endTime])).getTime()||ge(new Date(+s[s.length-1][this.fields.endTime])).getTime()<ge(new Date(+t[this.fields.startTime])).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(ge(new Date(+s[a+1][this.fields.endTime])).getTime()<ge(new Date(+t[this.fields.startTime])).getTime()||ge(new Date(+s[a-1][this.fields.startTime])).getTime()>ge(new Date(+t[this.fields.endTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1}resourceSaveEvent(e,t,i){const s=this.parent.resourceBase.resourceCollection.slice(-1)[0];let n=e[s.field];n=n instanceof Array?n:[n];const a=this.parent.resourceBase.lastResourceLevel,o=[];for(let h=0;h<n.length;h++){const d=ae({},e,null,!0);d[this.fields.id]=this.parent.eventBase.getEventMaxID();const m=[],v=()=>{if("Save"===t&&h===n.length-1)if(m.length>0){m[0][this.fields.id]=e[this.fields.id];for(let C=1;C<m.length;C++)m[C][this.fields.id]=this.parent.eventBase.getEventMaxID(h),o.push(m[C]),this.parent.saveEvent(m[0],i)}else d[this.fields.id]=e[this.fields.id],this.parent.saveEvent(d,i);else if(m.length>0)for(let C=0;C<m.length;C++)m[C][this.fields.id]=this.parent.eventBase.getEventMaxID(C),o.push(m[C]);else d[this.fields.id]=this.parent.eventBase.getEventMaxID(h),o.push(d)};if(this.parent.activeViewOptions.group.byGroupID&&!f(a)){const C=s.dataSource,w=this.parent.resourceCollection;let S;if(S=w.length>1?Gx(C,s.idField,n[h],d,w):Gx(C,s.idField,n[h]),S<0)return;const k=C[S][s.groupIDField],N=a.filter(q=>q.resourceData[s.idField]===n[h]).filter(q=>q.resourceData[s.groupIDField]===k)[0].groupOrder;for(let q=0;q<this.parent.resourceBase.resourceCollection.length;q++)d[this.parent.resourceBase.resourceCollection[q].field]=N[q]instanceof Array?N[q][0]:N[q];v()}else{for(let C=0;C<this.parent.resourceBase.resourceCollection.length-1;C++){const w=this.parent.resourceBase.resourceCollection[C].field;if(d[w]instanceof Array&&d[w].length>1)for(let S=0;S<d[w].length;S++){const k=ae({},d,null,!0);k[w]=e[w][S],k[s.field]=n[h],m.push(k)}else if(0===m.length)d[w]=e[w]instanceof Array?e[w][0]:e[w],d[s.field]=n[h];else for(let S=0;S<m.length;S++)m[S][w]=e[w]instanceof Array?e[w][0]:e[w]}d[s.field]=n[h],v()}}if(o.length>0){for(const h of o)h[this.fields.recurrenceException]=null,h[this.fields.recurrenceID]=null;this.parent.addEvent(o)}}getEventIdFromForm(){return this.element.querySelector("."+Tv).getAttribute("data-id")}getFormElements(e){let t=[];return t=[].slice.call(e===Sv?this.element.querySelectorAll("."+cm):this.parent.element.querySelectorAll("."+e+" ."+cm)),t}getValueFromElement(e){let t;return t=e.classList.contains("e-datepicker")||e.classList.contains("e-datetimepicker")||e.classList.contains("e-dropdownlist")||e.classList.contains("e-multiselect")?e.ej2_instances[0].value:e.classList.contains("e-checkbox")?e.ej2_instances[0].checked:"checkbox"===e.type?e.checked:nn.sanitize(e.value),t}setValueToElement(e,t){if(e.classList.contains("e-datepicker")){const i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-datetimepicker")){const i=e.ej2_instances[0];i.element.classList.contains(am)?this.eventWindowTime.startTime=new Date(""+t):this.eventWindowTime.endTime=new Date(""+t),i.value=t,i.dataBind()}else if(e.classList.contains("e-dropdownlist")){const i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-multiselect")){const i=e.ej2_instances[0];i.value=[],i.value=t instanceof Array?t:[t],i.dataBind()}else if(e.classList.contains("e-checkbox")){const i=e.ej2_instances[0];i.checked=t,i.dataBind()}else"checkbox"!==e.type?e.value=t||"":e.checked=t}setDefaultValueToElement(e){if(e.classList.contains("e-datepicker")){const t=e.ej2_instances[0];t.value=this.parent.getCurrentTime(),t.dataBind()}else if(e.classList.contains("e-datetimepicker")){const t=e.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},t.value=i,t.dataBind()}else if(e.classList.contains("e-dropdownlist")){const t=e.ej2_instances[0];t.value=null,t.dataBind()}else if(e.classList.contains("e-multiselect")){const t=e.ej2_instances[0];t.value=[],t.dataBind()}else if(e.classList.contains("e-checkbox")){const t=e.ej2_instances[0];t.checked=!1,t.dataBind()}else"checkbox"===e.type?e.checked=!1:e.value=""}getInstance(e){const t=this.element.querySelector("."+e);return t?t.ej2_instances[0]:null}eventDelete(e){if(this.isEnterKey)this.isEnterKey=!1;else{switch(this.parent.currentAction){case"EditOccurrence":this.parent.currentAction=f(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"Delete":"DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":f(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents")}this.dialogEvent=e,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()}}getRecurrenceEditorInstance(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor}destroyComponents(){const e=this.getFormElements(Sv);for(const t of e){let i;(t.classList.contains("e-datetimepicker")||t.classList.contains("e-datepicker")||t.classList.contains("e-checkbox")||t.classList.contains("e-dropdownlist")||t.classList.contains("e-multiselect"))&&(i=t.ej2_instances),i&&i[0]&&i[0].destroy()}this.buttonObj&&this.buttonObj.destroy()}destroy(e){this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.dialogObject&&(this.dialogObject.element&&A.remove(this.dialogObject.element,"keydown",this.preventEventSave),this.dialogObject.destroy(),this.dialogObject=null),this.element&&(nt(this.element),this.element=null),e||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null)}}class b9{constructor(e){this.translateY=0,this.itemSize=60,this.bufferCount=3,this.renderedLength=0,this.averageRowHeight=0,this.isScrollHeightNull=!0,this.parent=e,this.addEventListener()}addEventListener(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(MR,this.virtualScrolling,this)}removeEventListener(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(MR,this.virtualScrolling)}getRenderedCount(){return this.setItemSize(),Math.ceil(this.parent.element.clientHeight/this.itemSize)+this.bufferCount}setTranslateValue(){const e=this.parent.element.querySelector("."+tc),t=this.parent.element.querySelector("."+li),i=this.parent.element.querySelector("."+im),s=this.parent.element.querySelector("."+yC);this.renderVirtualTrackHeight(t,e),this.setTranslate(e,t,i,s)}renderVirtualTrackHeight(e,t){if(this.parent.resourceBase.setExpandedResources(),this.isScrollHeightNull){const i=Q("div",{className:bC}),s=[].slice.call(t.querySelectorAll("table td")),n=parseInt(s[0].getAttribute("data-group-index"),10),a=parseInt(s[s.length-1].getAttribute("data-group-index"),10);this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources.filter(h=>h.groupIndex>=n&&h.groupIndex<=a),this.setItemSize(),i.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px",this.isScrollHeightNull=!1;const o=this.parent.element.querySelector("."+bC);f(o)||nt(o),e.appendChild(i)}}renderVirtualTrack(e){const t=Q("div",{className:bC});t.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px",e.appendChild(t)}updateVirtualScrollHeight(){const e=this.parent.element.querySelector("."+bC);if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex!==this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex){const s=this.parent.element.querySelector("."+ar);this.renderedLength=s.querySelector("tbody").children.length,e.style.height=s.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*s.offsetHeight/this.renderedLength+"px"}else e.style.height="";this.averageRowHeight=e.offsetHeight/this.parent.resourceBase.expandedResources.length}updateVirtualTrackHeight(e){const t=this.parent.resourceBase.renderedResources.length;if(t!==this.getRenderedCount()){e.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";const i=this.parent.element.querySelector("."+tc),s=this.parent.element.querySelector("."+li),n=this.parent.element.querySelector("."+im);this.translateY=0,this.setTranslate(i,s,n)}else{let n=t+(this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex-this.parent.resourceBase.renderedResources[t-1].groupIndex);n=n>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:n,e.style.height=n*this.itemSize+"px"}}setItemSize(){this.itemSize=$w(this.parent.activeView.element,Et)||this.itemSize}renderEvents(){this.setTabIndex(),this.parent.refreshEvents(!1),this.parent.notify(vl,{}),this.parent.hideSpinner()}virtualScrolling(){this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());const e=this.parent.element.querySelector("."+tc),t=this.parent.element.querySelector("."+li),i=this.parent.element.querySelector("."+im),s=this.parent.element.querySelector("."+yC),n=this.parent.element.querySelector("."+ar);this.renderedLength=e.querySelector("tbody").children.length;const a=parseInt(e.querySelector("tbody td").getAttribute("data-group-index"),10),o=this.parent.rowAutoHeight?n.offsetHeight-t.offsetHeight:this.bufferCount*this.itemSize;L([t],"e-transition");let h=[];if(t.scrollTop-this.translateY<0?h=this.upScroll(t,a):t.scrollTop-this.translateY>o&&(h=this.downScroll(t,a)),!f(h)&&h.length>0){this.parent.showSpinner();const d=this.parent.getSelectedElements();this.focusedEle=d[d.length-1]||this.focusedEle,this.updateContent(e,t,i,h),this.setTranslate(e,t,i,s),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(()=>{this.renderEvents()},250)}}upScroll(e,t){let i=0;i=~~(e.scrollTop/this.itemSize)+Math.ceil(e.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>t?t-this.bufferCount:i),i=i>0?i:0;const s=this.getBufferCollection(i,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=s,0===t)this.translateY=e.scrollTop;else{let n=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;n=n>0?n:this.itemSize,this.translateY=e.scrollTop-this.bufferCount*n>0?e.scrollTop-this.bufferCount*n:0}return s}downScroll(e,t){if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return null;let n=0;n=~~(e.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(n=~~((e.scrollTop-this.translateY)/this.averageRowHeight)+t,n=n>t+this.bufferCount?n:t+this.bufferCount);let a=n+this.renderedLength;a=a>this.parent.resourceBase.expandedResources.length?n+(this.parent.resourceBase.expandedResources.length-n):a;const o=this.getBufferCollection(a-this.renderedLength,a);return this.translateY=e.scrollTop,o}updateContent(e,t,i,s){const n=e.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains(Nc)&&(this.isResourceCell=!0,this.parent.element.focus());for(let d=0;d<n;d++)nt(e.querySelector("tbody tr")),nt(t.querySelector("tbody tr")),nt(i.querySelector("div"));this.parent.resourceBase.renderedResources=s;const a=this.parent.resourceBase.getContentRows(s,!0),o=this.parent.activeView.getContentRows(),h=this.parent.activeView.getEventRows(s.length);Ge(a,e.querySelector("tbody")),Ge(o,t.querySelector("tbody")),Ge(h,i)}getBufferCollection(e,t){return this.parent.resourceBase.expandedResources.slice(e,t)}setTranslate(e,t,i,s){Ue(e.querySelector("table"),{transform:`translateY(${this.translateY}px)`}),Ue(t.querySelector("table"),{transform:`translateY(${this.translateY}px)`}),Ue(i,{transform:`translateY(${this.translateY}px)`}),f(s)||Ue(s,{transform:`translateY(${this.translateY}px)`})}updateFocusedWorkCell(){if(this.focusedEle){const e=parseInt(this.focusedEle.getAttribute("data-date"),10),t=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector(`.${Et}[data-date="${e}"][data-group-index="${t}"]`);i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}}setTabIndex(){const e=this.parent.element.querySelector("."+tc),t=[].slice.call(this.parent.element.querySelectorAll("."+Nc));t&&e&&t.forEach(s=>{s.getBoundingClientRect().top>=e.getBoundingClientRect().top&&s.setAttribute("tabindex","0")});const i=this.parent.element.querySelector(`.${Nc}[tabindex="0"]`);this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)}destroy(){this.removeEventListener()}}class C9{constructor(e){this.parent=e}render(e,t=!0){this.initializeLayout(e),this.parent.activeView&&t&&this.parent.crudModule.refreshDataManager()}initializeLayout(e){switch(this.parent.activeView&&(this.parent.resetTemplates(),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()),e){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-day-view";break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-work-week-view";break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-week-view";break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule}if(f(this.parent.activeView)){const t=this.parent.viewCollections[0].option;if(t)return this.parent.setProperties({currentView:t},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),this.initializeLayout(t);throw Error("Inject required modules")}this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(e),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),-1!==this.parent.currentView.indexOf("Timeline")&&-1===this.parent.currentView.indexOf("Year")&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new b9(this.parent),this.parent.uiStateValues.top=0),this.updateHeader(),this.parent.activeView.renderLayout(JV),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new $F(this.parent))}updateHeader(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?L([this.parent.element],dI):this.parent.element.classList.contains(dI)&&H([this.parent.element],dI),this.parent.headerModule.updateDateRange(this.parent.activeView.getDateRangeText()),this.parent.headerModule.updateHeaderItems("remove"))}updateLabelText(e){const t=this.parent.activeView.getLabelText(e);this.parent.element.setAttribute("role","main"),this.parent.element.setAttribute("aria-label",t)}}var oH=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class yL extends hi{}oH([T(!0)],yL.prototype,"highlight",void 0),oH([T("09:00")],yL.prototype,"start",void 0),oH([T("18:00")],yL.prototype,"end",void 0);var SI=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class fD extends hi{}SI([T(!0)],fD.prototype,"enable",void 0),SI([T(60)],fD.prototype,"interval",void 0),SI([T(2)],fD.prototype,"slotCount",void 0),SI([T()],fD.prototype,"minorSlotTemplate",void 0),SI([T()],fD.prototype,"majorSlotTemplate",void 0);var bL=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class TI extends hi{}bL([T("Both")],TI.prototype,"templateType",void 0),bL([T()],TI.prototype,"header",void 0),bL([T()],TI.prototype,"content",void 0),bL([T()],TI.prototype,"footer",void 0);var _3=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class lH extends hi{}_3([T()],lH.prototype,"option",void 0),_3([T()],lH.prototype,"template",void 0);class E9{constructor(e){this.parent=e,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}getQuery(){const e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(e,t)}getTable(){return this.parent.eventSettings.query?this.parent.eventSettings.query.clone().fromTable:null}refreshDataManager(){if(!this.parent.activeView)return;const e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(e,t)).then(s=>this.dataManagerSuccess(s)).catch(s=>this.dataManagerFailure(s))}dataManagerSuccess(e){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger("dataBinding",e,t=>{const i=ae([],t.result,null,!0);this.parent.eventsData=i.filter(s=>!s[this.parent.eventFields.isBlock]),this.parent.blockData=i.filter(s=>s[this.parent.eventFields.isBlock]),this.parent.refreshEvents(!1),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),this.parent.trigger("dataBound",null,()=>{this.parent.hideSpinner(),this.parent.isPrinting&&this.parent.notify("print",{})})})}dataManagerFailure(e){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(Wj,{error:e},()=>this.parent.hideSpinner())}refreshData(e){const t={requestType:e.requestType,cancel:!1,data:e.data,addedRecords:e.editParams.addedRecords,changedRecords:e.editParams.changedRecords,deletedRecords:e.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.activeViewOptions.group.allowGroupEdit&&!this.parent.rowAutoHeight&&!this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.byGroupID&&("eventCreated"===e.requestType||"eventRemoved"===e.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];const i=e.data instanceof Array?0===e.data.length&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:e.data:"string"!=typeof e.data&&"number"!=typeof e.data||"eventRemoved"!==e.requestType?[e.data]:e.editParams.deletedRecords;for(const s of i){this.crudObj.isCrudAction=!("eventRemoved"===e.requestType&&!f(s.parent));const n=this.parent.eventBase.getGroupIndexFromEvent(s);n>-1&&0===this.parent.crudModule.crudObj.sourceEvent.filter(a=>a.groupIndex===n).length&&this.crudObj.isCrudAction&&this.crudObj.sourceEvent.push(this.parent.resourceBase.lastResourceLevel[n])}this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(Jf,t,i=>{i.cancel||this.refreshDataManager()}):e.promise.then(()=>{!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(Jf,t,i=>{i.cancel||this.refreshDataManager()})}).catch(i=>{!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(Wj,{error:i})})}addEvent(e){if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);const t=e instanceof Array?e:[e];this.parent.trigger(ml,{requestType:"eventCreate",cancel:!1,data:t,addedRecords:t,changedRecords:[],deletedRecords:[]},s=>{if(!s.cancel){const n=this.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]};let o;if(s.addedRecords instanceof Array){for(let d of s.addedRecords){d=this.parent.eventBase.updateEventDateTime(d);const m=ae({},this.parent.eventBase.processTimezone(d,!0),null,!0);a.addedRecords.push(m)}o=this.parent.dataModule.dataManager.saveChanges(a,n.id,this.getTable(),this.getQuery())}else{const d=this.parent.eventBase.processTimezone(s.addedRecords,!0);a.addedRecords.push(d),o=this.parent.dataModule.dataManager.insert(d,this.getTable(),this.getQuery())}this.refreshData({requestType:"eventCreated",cancel:!1,data:s.addedRecords,promise:o,editParams:a})}})}}saveEvent(e,t){if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);if(this.parent.currentAction=t,t)switch(t){case"Save":this.processSave(e);break;case"EditOccurrence":this.processOccurrences(e,t);break;case"EditFollowingEvents":this.processFollowSeries(e,t);break;case"EditSeries":this.processEntireSeries(e,t)}else this.parent.trigger(ml,{requestType:"eventChange",cancel:!1,data:e,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]},n=>{if(!n.cancel){let a;const o=this.parent.eventFields,h={addedRecords:[],changedRecords:[],deletedRecords:[]};if(n.changedRecords instanceof Array){for(let m of n.changedRecords){m=this.parent.eventBase.updateEventDateTime(m);const v=ae({},this.parent.eventBase.processTimezone(m,!0),null,!0);h.changedRecords.push(v)}a=this.parent.dataModule.dataManager.saveChanges(h,o.id,this.getTable(),this.getQuery())}else{const m=this.parent.eventBase.processTimezone(n.changedRecords,!0);h.changedRecords.push(m),a=this.parent.dataModule.dataManager.update(o.id,m,this.getTable(),this.getQuery())}this.refreshData({requestType:"eventChanged",cancel:!1,data:n.changedRecords,promise:a,editParams:h})}})}}deleteEvent(e,t){if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=t;let i=[];if(i="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(s=>s[this.parent.eventFields.id]===e):e instanceof Array?e:[e],t)switch(t){case"Delete":this.processDelete(i);break;case"DeleteOccurrence":this.processOccurrences(i,t);break;case"DeleteFollowingEvents":this.processFollowSeries(i,t);break;case"DeleteSeries":this.processEntireSeries(i,t)}else this.parent.trigger(ml,{requestType:"eventRemove",cancel:!1,data:e,addedRecords:[],changedRecords:[],deletedRecords:i},n=>{if(!n.cancel){let a;const o=this.parent.eventFields,h={addedRecords:[],changedRecords:[],deletedRecords:[]};n.deletedRecords.length>1?(h.deletedRecords=h.deletedRecords.concat(n.deletedRecords),a=this.parent.dataModule.dataManager.saveChanges(h,o.id,this.getTable(),this.getQuery())):(h.deletedRecords.push(n.deletedRecords[0]),a=this.parent.dataModule.dataManager.remove(o.id,n.deletedRecords[0],this.getTable(),this.getQuery())),this.parent.eventBase.selectWorkCellByTime(n.deletedRecords),this.refreshData({requestType:"eventRemoved",cancel:!1,data:n.deletedRecords,promise:a,editParams:h})}})}}processOccurrences(e,t){let i=[],s=!1;if(e instanceof Array)for(const o of e)i.push({occurrence:o,parent:this.getParentEvent(o)});else i={occurrence:e,parent:this.getParentEvent(e)};const a={requestType:"EditOccurrence"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};a.data=i,this.parent.trigger(ml,a,o=>{if(!o.cancel){const h=this.parent.eventFields,d={addedRecords:[],changedRecords:[],deletedRecords:[]},m=i instanceof Array?i:[i];for(let w=0,S=o.changedRecords.length;w<S;w++){const k=o.changedRecords[w],O=m[w].parent,N=O[h.recurrenceException];let q,z;switch(t){case"EditOccurrence":q=this.parent.eventsProcessed.filter(Z=>Z.Guid===k.Guid)[0],z=this.excludeDateCheck(q[h.startTime],N),z!==O[h.recurrenceException]?(O[h.recurrenceException]=z,k[h.recurrenceException]=om(q[h.startTime]),k[h.recurrenceID]=O[h.id],k[h.followingID]=null,d.changedRecords.push(this.parent.eventBase.processTimezone(O,!0)),d.addedRecords.push(this.parent.eventBase.processTimezone(k,!0))):d.changedRecords.push(this.parent.eventBase.processTimezone(k,!0));break;case"DeleteOccurrence":k[h.recurrenceException]||(O[h.recurrenceException]=this.excludeDateCheck(k[h.startTime],N),d.changedRecords.push(this.parent.eventBase.processTimezone(O,!0))),k[h.id]!==O[h.id]&&(d.deletedRecords.push(k),s=!0)}}const v=this.parent.dataModule.dataManager.saveChanges(d,h.id,this.getTable(),this.getQuery());this.parent.eventBase.selectWorkCellByTime(o.changedRecords),this.refreshData({requestType:"EditOccurrence"===t?"eventChanged":"eventRemoved",cancel:!1,data:s?o.deletedRecords:o.changedRecords,promise:v,editParams:d})}})}processFollowSeries(e,t){let i=[];if(e instanceof Array)for(const a of e)i.push({occurrence:a,parent:this.getParentEvent(a)});else i={occurrence:e,parent:this.getParentEvent(e)};const n={requestType:"EditFollowingEvents"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};n.data=i,this.parent.trigger(ml,n,a=>{if(!a.cancel){const o=this.parent.eventFields,h={addedRecords:[],changedRecords:[],deletedRecords:[]},d=i instanceof Array?i:[i];for(let C=0,w=a.changedRecords.length;C<w;C++){const S=a.changedRecords[C],k=d[C].parent,O=this.parent.eventBase.getEventCollections(k,S);let N;switch(t){case"EditFollowingEvents":if(this.processRecurrenceRule(k,S),N=!this.parent.eventBase.isFollowingEvent(k,S),S[o.followingID]=N?null:k[o.id],S[o.recurrenceID]=null,h.addedRecords.push(this.parent.eventBase.processTimezone(S,!0)),h.changedRecords.push(this.parent.eventBase.processTimezone(k,!0)),!this.parent.uiStateValues.isIgnoreOccurrence){if(S[o.recurrenceException]=null,O.occurrence.length>0){const q=O.occurrence.slice(-1)[0][o.recurrenceRule];-1===q.indexOf("COUNT")&&(S[o.recurrenceRule]=q)}O.follow.length>0&&(S[o.recurrenceRule]=O.follow.slice(-1)[0][o.recurrenceRule],h.deletedRecords=h.deletedRecords.concat(O.follow)),N&&(O.occurrence=O.occurrence.filter(q=>q[o.recurrenceID]===S[o.id])),h.deletedRecords=h.deletedRecords.concat(O.occurrence)}break;case"DeleteFollowingEvents":this.processRecurrenceRule(k,S[o.startTime]),h.changedRecords.push(this.parent.eventBase.processTimezone(k,!0)),h.deletedRecords=h.deletedRecords.concat(O.occurrence).concat(O.follow)}}const m=this.parent.dataModule.dataManager.saveChanges(h,o.id,this.getTable(),this.getQuery());this.parent.eventBase.selectWorkCellByTime(a.changedRecords),this.refreshData({requestType:"EditFollowingEvents"===t?"eventChanged":"eventRemoved",cancel:!1,data:a.changedRecords,promise:m,editParams:h})}})}processEntireSeries(e,t){let i=[],s=!1;if(e instanceof Array)for(const o of e)i.push(this.getParentEvent(o,!0));else i=this.getParentEvent(e,!0);const a={requestType:"EditSeries"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};a.data=i,this.parent.trigger(ml,a,o=>{if(!o.cancel){const h=this.parent.eventFields,d={addedRecords:[],changedRecords:[],deletedRecords:[]},m=i instanceof Array?i:[i];for(let w=0,S=o.changedRecords.length;w<S;w++){const k=o.changedRecords[w],O=m[w],N=this.parent.eventBase.getEventCollections(O),q=N.follow.concat(N.occurrence);switch(t){case"EditSeries":if(k[h.startTime]>O[h.startTime]&&k[h.recurrenceRule]&&this.processRecurrenceRule(O,k),k[h.id]=O[h.id],k[h.recurrenceID]=null,k[h.followingID]=null,this.parent.uiStateValues.isIgnoreOccurrence&&k[h.recurrenceException]){const z=this.parent.eventsData.filter(Z=>Z[h.id]===k[h.id]);z.length>0&&(k[h.recurrenceRule]=z[0][h.recurrenceRule])}else k[h.recurrenceException]=null,d.deletedRecords=d.deletedRecords.concat(q);d.changedRecords.push(this.parent.eventBase.processTimezone(k,!0)),this.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":d.deletedRecords=d.deletedRecords.concat(q.concat(O)),s=!0}}const v=this.parent.dataModule.dataManager.saveChanges(d,h.id,this.getTable(),this.getQuery());this.parent.eventBase.selectWorkCellByTime(o.changedRecords),this.refreshData({requestType:"EditSeries"===t?"eventChanged":"eventRemoved",cancel:!1,data:s?o.deletedRecords:o.changedRecords,promise:v,editParams:d})}})}processDelete(e){const t=[];for(const s of e)t.push(s[this.parent.eventFields.recurrenceRule]?{occurrence:s,parent:this.getParentEvent(s)}:s);const i={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:e};i.data=t,this.parent.trigger(ml,i,s=>{if(!s.cancel){const n=this.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]};for(let d=0,m=s.deletedRecords.length;d<m;d++){let v=f(s.deletedRecords[d][this.parent.eventFields.recurrenceRule]);if(!v){const C=t[d].parent,w=a.changedRecords.filter(k=>k[n.id]===C[n.id]),S=s.deletedRecords[d][n.startTime];if(w.length>0){const k=w[0];k[n.recurrenceException]=this.excludeDateCheck(S,k[n.recurrenceException])}else C[n.recurrenceException]=this.excludeDateCheck(S,C[n.recurrenceException]);0===w.length&&a.changedRecords.push(this.parent.eventBase.processTimezone(C,!0)),v=s.deletedRecords[d][n.id]!==C[n.id]}v&&a.deletedRecords.push(s.deletedRecords[d])}const o=this.parent.dataModule.dataManager.saveChanges(a,n.id,this.getTable(),this.getQuery());this.refreshData({requestType:"eventRemoved",cancel:!1,data:s.deletedRecords,promise:o,editParams:a})}})}processSave(e){const t=e instanceof Array?e:[e],i=[];for(const n of t)i.push(n[this.parent.eventFields.recurrenceRule]?{occurrence:n,parent:this.getParentEvent(n)}:n);const s={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:t,deletedRecords:[]};s.data=i,this.parent.trigger(ml,s,n=>{if(!n.cancel){const a=this.parent.eventFields,o={addedRecords:[],changedRecords:[],deletedRecords:[]};for(const m of n.changedRecords)if(!f(m[a.recurrenceRule])&&f(m[a.recurrenceException])){const v=om(m[a.startTime]),C=this.getParentEvent(m);C[a.recurrenceException]=f(C[a.recurrenceException])?v:C[a.recurrenceException].concat(","+v),m[a.id]=this.parent.getEventMaxID(),m[a.recurrenceException]=v,o.addedRecords.push(this.parent.eventBase.processTimezone(m,!0)),o.changedRecords.push(this.parent.eventBase.processTimezone(C,!0))}else o.changedRecords.push(this.parent.eventBase.processTimezone(m,!0));const h=this.parent.dataModule.dataManager.saveChanges(o,a.id,this.getTable(),this.getQuery());this.refreshData({requestType:"eventChanged",cancel:!1,data:n.changedRecords,promise:h,editParams:o})}})}getParentEvent(e,t=!1){const i=this.parent.eventBase.getParentEvent(e,t)||e;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i}excludeDateCheck(e,t){const i=om(e);return f(t)?t=i:-1===t.indexOf(i)&&(t=f(t)?i:t+","+i),t}processRecurrenceRule(e,t){const i=this.parent.eventFields,s=e[i.recurrenceRule];let n;if(t instanceof Date)n=new Date(+t);else{n=new Date(+t[i.startTime]);const a=t[i.recurrenceRule],o=e[i.startTime],d=LF(o,a,"DeleteFollowingEvents"===this.parent.currentAction?t[i.recurrenceException]:null,this.parent.activeViewOptions.firstDayOfWeek),m=new Date(d.slice(-1)[0]);m.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),n.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),t[i.recurrenceRule]=this.getUpdatedRecurrenceRule(a,new Date(+m),!1)}e[i.recurrenceRule]=this.getUpdatedRecurrenceRule(s,at(new Date(n.getTime()),-1),!0)}getUpdatedRecurrenceRule(e,t,i){const s=e.split(";");let n="";for(let a of s)if(""!==a){const o=a.split("=")[0];let h=a.split("=")[1];("COUNT"===o||"UNTIL"===o)&&(h=om(t),a=a.replace(a,"UNTIL="+h)),n+=a+";"}return i&&-1===n.indexOf("UNTIL")&&(n+="UNTIL="+om(t)),n}isBlockEvent(e){const t=e instanceof Array?e:[e];let i=!1;for(const s of t)i=s[this.parent.eventFields.isBlock]||!1;return i}destroy(){this.crudObj=null,this.parent=null}}class w9{constructor(e){this.parent=e,A.add(this.parent.element,"mouseover",this.onHover,this)}cellMouseDown(e){this.isPreventAction(e)||this.parent.notify(qV,{event:e})}cellClick(e){if(this.isPreventAction(e))return;const i=U(e.target,".e-work-cells,.e-all-day-cells,.e-header-cells");if(f(i))return;if(!f(U(e.target,"."+YR)))return void this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add");const s=U(e.target,"."+CC),n=this.parent.getNavigateView(),a=this.parent.currentView===n;if(f(s)||a||f(this.parent.viewOptions[n.charAt(0).toLowerCase()+n.slice(1)])){if(this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView)return void(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide());if(this.parent.isAdaptive&&(e.target.classList.contains(bl)||U(e.target,"."+bl)))return;const o=i.classList.contains(Et)||i.classList.contains(Ms);if(o&&e.shiftKey&&1===e.which&&this.parent.keyboardInteractionModule)return void this.parent.keyboardInteractionModule.onMouseSelection(e);this.parent.activeCellsData=this.parent.getCellDetails(i);const h=ae(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(yv,h,d=>{d.cancel?this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide():(o&&this.parent.selectCell(i),this.parent.allowInline?this.parent.notify($x,{element:d.element,groupIndex:d.groupIndex,type:"Cell"}):this.parent.notify(yv,d))})}else{const o=this.parent.getDateFromElement(i);!f(o)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(o)&&(this.parent.setProperties({selectedDate:o},!0),this.parent.changeView(this.parent.getNavigateView(),e))}}cellDblClick(e){const i=U(e.target,".e-work-cells,.e-all-day-cells,.e-header-cells");if(this.parent.activeViewOptions.readonly||this.isPreventAction(e)||f(i))return;const s=ae(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellDoubleClick"});this.parent.trigger("cellDoubleClick",s,n=>{const a=new Date(n.startTime.getTime());!this.parent.isMinMaxDate(new Date(a.setHours(0,0,0,0)))||n.cancel||this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")})}onHover(e){const i=U(e.target,".e-work-cells,.e-time-slots,.e-all-day-cells,.e-header-cells,.e-resource-cells,.e-appointment,.e-week-number,.e-month-header");i&&this.parent.trigger("hover",{element:i,event:e})}isPreventAction(e){if(U(e.target,"."+CC))return!1;if(U(e.target,"."+hn)&&!U(e.target,"."+bl))return!0;let t=U(e.target,"."+Bt+",."+Xw);return!(f(t)&&(t=U(e.target,"."+ea),!this.parent.activeView.isTimelineView()||f(t)))}destroy(){A.remove(this.parent.element,"mouseover",this.onHover)}}var CL=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class El extends hi{}CL([T()],El.prototype,"name",void 0),CL([T()],El.prototype,"default",void 0),CL([T()],El.prototype,"title",void 0),CL([T({})],El.prototype,"validation",void 0);var wl=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class Wo extends hi{}wl([T("Id")],Wo.prototype,"id",void 0),wl([T("IsBlock")],Wo.prototype,"isBlock",void 0),wl([Ht({name:"Subject"},El)],Wo.prototype,"subject",void 0),wl([Ht({name:"StartTime"},El)],Wo.prototype,"startTime",void 0),wl([Ht({name:"EndTime"},El)],Wo.prototype,"endTime",void 0),wl([Ht({name:"StartTimezone"},El)],Wo.prototype,"startTimezone",void 0),wl([Ht({name:"EndTimezone"},El)],Wo.prototype,"endTimezone",void 0),wl([Ht({name:"Location"},El)],Wo.prototype,"location",void 0),wl([Ht({name:"Description"},El)],Wo.prototype,"description",void 0),wl([Ht({name:"IsAllDay"},El)],Wo.prototype,"isAllDay",void 0),wl([Ht({name:"RecurrenceID"},El)],Wo.prototype,"recurrenceID",void 0),wl([Ht({name:"RecurrenceRule"},El)],Wo.prototype,"recurrenceRule",void 0),wl([Ht({name:"RecurrenceException"},El)],Wo.prototype,"recurrenceException",void 0),wl([T("IsReadonly")],Wo.prototype,"isReadonly",void 0),wl([T("FollowingID")],Wo.prototype,"followingID",void 0);var Uo=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class go extends hi{}Uo([T()],go.prototype,"template",void 0),Uo([T([])],go.prototype,"dataSource",void 0),Uo([T()],go.prototype,"query",void 0),Uo([Ht({},Wo)],go.prototype,"fields",void 0),Uo([T(!1)],go.prototype,"enableTooltip",void 0),Uo([T()],go.prototype,"tooltipTemplate",void 0),Uo([T("AllDayRow")],go.prototype,"spannedEventPlacement",void 0),Uo([T()],go.prototype,"resourceColorField",void 0),Uo([T(!1)],go.prototype,"editFollowingEvents",void 0),Uo([T(!0)],go.prototype,"allowAdding",void 0),Uo([T(!0)],go.prototype,"allowEditing",void 0),Uo([T(!0)],go.prototype,"allowDeleting",void 0),Uo([T(!1)],go.prototype,"enableMaxHeight",void 0),Uo([T(!1)],go.prototype,"enableIndicator",void 0),Uo([T(!1)],go.prototype,"ignoreWhitespace",void 0),Uo([T()],go.prototype,"sortComparer",void 0);var mD=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class kC extends hi{}mD([T(!1)],kC.prototype,"byDate",void 0),mD([T(!0)],kC.prototype,"byGroupID",void 0),mD([T(!1)],kC.prototype,"allowGroupEdit",void 0),mD([T([])],kC.prototype,"resources",void 0),mD([T(!0)],kC.prototype,"enableCompactView",void 0),mD([T()],kC.prototype,"headerTooltipTemplate",void 0);var Dl=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};class qo extends hi{}Dl([T()],qo.prototype,"field",void 0),Dl([T()],qo.prototype,"title",void 0),Dl([T()],qo.prototype,"name",void 0),Dl([T(!1)],qo.prototype,"allowMultiple",void 0),Dl([T([])],qo.prototype,"dataSource",void 0),Dl([T()],qo.prototype,"query",void 0),Dl([T("Id")],qo.prototype,"idField",void 0),Dl([T("Text")],qo.prototype,"textField",void 0),Dl([T("Expanded")],qo.prototype,"expandedField",void 0),Dl([T("GroupID")],qo.prototype,"groupIDField",void 0),Dl([T("Color")],qo.prototype,"colorField",void 0),Dl([T("StartHour")],qo.prototype,"startHourField",void 0),Dl([T("EndHour")],qo.prototype,"endHourField",void 0),Dl([T("WorkDays")],qo.prototype,"workDaysField",void 0),Dl([T("CssClass")],qo.prototype,"cssClassField",void 0);class D9{constructor(e){this.resourceCollection=[],this.leftPixel=25,this.parent=e}renderResourceHeaderIndent(e){const t=Q("td",{className:"e-resource-left-td"}),i=Q("div",{className:iF});this.parent.activeViewOptions.headerIndentTemplate?this.parent.renderHeaderIndentTemplate({className:[t.className],type:"emptyCells"},t):t.appendChild(i),this.parent.trigger(gl,{elementType:"emptyCells",element:t}),e.appendChild(t)}hideResourceRows(e){if(this.resourceCollection.length<=1||this.parent.virtualScrollModule)return;const t=this.lastResourceLevel.length;for(let i=0;i<t;i++){const s=this.lastResourceLevel[i].resourceData,n=this.lastResourceLevel[i].resource;s.ClassName!==ep||s[n.expandedField]||f(s[n.expandedField])||L([].slice.call(e.children).slice(i+1,i+(parseInt(s.Count,10)+1)),mo)}}createResourceColumn(){const e=this.resourceCollection,t=Q("div",{className:tc}),i=this.parent.activeView.createTableLayout(FR);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&L([i],OF);const s=i.querySelector("tbody");let n=this.generateTreeData(!0);if(this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){const a=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),n=this.expandedResources.slice(0,a),this.renderedResources=n}return Ge(this.getContentRows(n),s),this.hideResourceRows(s),i.appendChild(s),t.appendChild(i),t}setRenderedResources(){const e=this.resourceCollection;this.generateTreeData(!0),this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel}setExpandedResources(){const e=[];for(let t=0;t<this.lastResourceLevel.length;t++){const i=this.lastResourceLevel[t].resourceData,s=i.Count;e.push(this.lastResourceLevel[t]);const n=i[this.lastResourceLevel[t].resource.expandedField];!f(n)&&!n&&s>0&&(t+=s)}this.expandedResources=e}getContentRows(e,t){const i=[];let s,n;const a=this.resourceCollection,o=Q("tr"),h=Q("td",{attrs:{tabindex:t?"-1":"0"}});for(let d=0;d<e.length;d++){const m=h.cloneNode();if(n=Gx(a,"name",e[d].resource.name),n===a.length-1?(ae(e[d].resourceData,{ClassName:Kj}),this.renderedResources[d].className=[Kj]):(ae(e[d].resourceData,{ClassName:ep}),this.renderedResources[d].className=[ep]),s=n*this.leftPixel+"px",e[d].resourceData.ClassName===ep&&!f(e[d].resourceData.Count)&&e[d].resourceData.Count>0){let S;S=e[d].resourceData[a[n].expandedField]||f(e[d].resourceData[a[n].expandedField])?sm:Zw;const k=Q("div");L([k],[Jw,S]),this.setMargin(k,s),m.appendChild(k),this.resourceCollection.length>1&&A.add(k,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(m,e[d],iF),m.setAttribute("data-group-index",e[d].groupIndex.toString()),m.setAttribute("aria-label",e[d].resourceData[e[d].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(m.querySelector("."+iF),s),L([m],[Nc,e[d].resourceData.ClassName]),this.parent.trigger(gl,{elementType:"resourceHeader",element:m,groupIndex:e[d].groupIndex});const w=o.cloneNode();w.appendChild(m),i.push(w)}return i}setMargin(e,t){this.parent.enableRtl?e.style.marginRight=t:e.style.marginLeft=t}countCalculation(e,t){let i;for(let s=0;s<e.length;s++){const n=e[e.length-(s+1)].dataSource;for(let a=0;a<n.length;a++){let o=0;if(this.parent.activeViewOptions.group.byGroupID){const h=(new kt).where(t[t.length-1].groupIDField,"equal",n[a][e[e.length-(s+1)].idField]);i=new ot(t[t.length-1].dataSource).executeLocal(h)}else i=t[t.length-1].dataSource;for(let h=0;h<i.length;h++)o+=parseInt(i[h].Count,10);o+=parseInt(n[a].Count,10),ae(n[a],{Count:o})}t=t.slice(0,-1)}}onTreeIconClick(e){this.parent.eventTooltip&&this.parent.eventTooltip.close();const t=e.target;let i;const s=U(t,"."+ep).parentElement,n=parseInt(s.children[0].getAttribute("data-group-index"),10);let a={cancel:!1,event:e,groupIndex:n,requestType:t.classList.contains(sm)?"resourceCollapse":"resourceExpand"};this.parent.trigger(ml,a,o=>{if(!o.cancel){t.classList.contains(sm)?(On(t,[Zw],[sm]),i=!0):(On(t,[sm],[Zw]),i=!1);const h=[].slice.call(this.parent.element.querySelectorAll("."+Bt));for(const m of h)nt(m);this.parent.virtualScrollModule?this.updateVirtualContent(n,i,e,t):this.updateContent(n,i);const d={cssProperties:this.parent.getCssProperties(),module:"scroll"};this.parent.notify(Lc,d),a={cancel:!1,event:e,groupIndex:n,requestType:t.classList.contains(sm)?"resourceExpanded":"resourceCollapsed"},this.parent.refreshEvents(!1),this.parent.trigger(Jf,a)}})}updateContent(e,t){const i=[],s=[],n=[];let a;const o=this.lastResourceLevel[e].resourceData,h=[].slice.call(this.parent.element.querySelectorAll("."+tc+" tr")),d=[].slice.call(this.parent.element.querySelectorAll("."+li+" tbody tr")),m=[].slice.call(this.parent.element.querySelectorAll("."+li+" ."+$u));for(let C=0;C<o.Count;C++)i.push(h[e+C+1]),s.push(d[e+C+1]),n.push(m[e+C+1]);const v=this.lastResourceLevel;for(let C=0;C<i.length;C++){let w=!0;if(a=i[C].children[0].classList.contains(ep),v[e].resourceData[v[e].resource.expandedField]=!t,t){if(a){const S=i[C].querySelector("."+Jw);S&&On(S,[Zw],[sm])}i[C].classList.contains(mo)||L([i[C],s[C],n[C]],mo)}else{if(a){const S=i[C].rowIndex;if(!v[S].resourceData[v[S].resource.expandedField]&&!f(v[S].resourceData[v[S].resource.expandedField])&&(i.splice(C+1,parseInt(v[S].resourceData.Count,10)),s.splice(C+1,parseInt(v[S].resourceData.Count,10)),n.splice(C+1,parseInt(v[S].resourceData.Count,10)),w=!1),w){const k=i[C].querySelector("."+Jw);k&&On(k,[sm],[Zw])}}i[C].classList.contains(mo)&&H([i[C],s[C],n[C]],mo)}}}updateVirtualContent(e,t,i,s){this.lastResourceLevel[e].resourceData[this.lastResourceLevel[e].resource.expandedField]=!t,this.setExpandedResources();const n=this.parent.virtualScrollModule.getRenderedCount(),a=this.expandedResources.indexOf(this.renderedResources[0]);if(this.renderedResources=this.expandedResources.slice(a,a+n),this.renderedResources.length<n){let C=this.expandedResources.length-n;C=C>0?C:0,this.renderedResources=this.expandedResources.slice(C,this.expandedResources.length)}const o=this.parent.element.querySelector("."+bC);this.parent.virtualScrollModule.updateVirtualTrackHeight(o);const h=this.parent.element.querySelector("."+tc+" table"),d=this.parent.element.querySelector("."+li+" table"),m=this.parent.element.querySelector("."+im);this.parent.virtualScrollModule.updateContent(h,d,m,this.renderedResources);const v=this.parent.element.querySelector("."+yC);f(v)||(v.style.height=this.parent.element.querySelector("."+ar).offsetHeight+"px")}renderResourceHeader(){const e=Q("div",{className:Zx});if(e.innerHTML='<div class="'+lF+'"><div class="'+SW+'"><div class="e-icons '+TW+'"></div></div><div class="'+AW+'"></div></div>',"MonthAgenda"===this.parent.currentView){const t=this.parent.activeView.getPanel().querySelector("."+li);t.insertBefore(e,t.querySelector("."+eI))}else this.parent.element.insertBefore(e,this.parent.element.querySelector("."+Yu));this.renderResourceHeaderText(),A.add(e.querySelector("."+TW),"click",this.menuClick,this)}renderResourceTree(){this.popupOverlay=Q("div",{className:xW});const e=Q("div",{className:uI+" e-popup-close"});if("MonthAgenda"===this.parent.currentView){const i=this.parent.activeView.getPanel().querySelector("."+eI);i.insertBefore(e,i.children[0]),i.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+Yu).appendChild(e),this.parent.element.querySelector("."+Yu).appendChild(this.popupOverlay);const t=Q("div",{className:"e-resource-tree"});e.appendChild(t),this.treeViewObj=new si({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this)}),this.treeViewObj.appendTo(t),this.treeViewObj.expandAll(),this.treePopup=new Wn(e,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+("MonthAgenda"===this.parent.currentView?eI:Yu))}),this.parent.on(em,this.documentClick,this)}generateTreeData(e){const t=[],i=[];let s=0;for(let n=0,a=this.resourceTreeLevel.length;n<a;n++){const o=(h,d,m)=>{const v=this.resourceCollection[d];let C,w;e?(w={type:"resourceHeader",resource:h.resource,resourceData:h.resourceData,groupIndex:s,groupOrder:h.groupOrder},i.push(w),s++):C={resourceId:m,resourceName:h.resourceData[v.textField],resource:h.resource,resourceData:h.resourceData},h.child.length>0&&!e&&(C.resourceChild=[]);let S=1;for(const k of h.child)e?o(k,d+1,m+"-"+S):C.resourceChild.push(o(k,d+1,m+"-"+S)),S+=1;return e&&ae(w.resourceData,{Count:S-1}),C};e?o(this.resourceTreeLevel[n],0,(n+1).toString()):t.push(o(this.resourceTreeLevel[n],0,(n+1).toString()))}return e?(this.lastResourceLevel=i,i):t}renderResourceHeaderText(){const e=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],t=[];for(let n=0,a=e.groupOrder.length;n<a;n++){const o=this.resourceCollection[n],h=o.dataSource.filter(v=>v[o.idField]===e.groupOrder[n]),d=Q("div",{className:iW,innerHTML:h[0][o.textField]});t.push(d);const m=Q("div",{className:"e-icons e-icon-next"});t.push(m)}t.pop();const s=("MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element).querySelector("."+AW);Xd(s);for(const n of t)s.appendChild(n);1===this.lastResourceLevel.length&&L([this.parent.element.querySelector("."+SW)],bs)}menuClick(e){if(this.parent.element.querySelector("."+uI).classList.contains(Jr))this.treePopup.hide(),H([this.popupOverlay],Cv);else{const t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));H(t,"e-active"),L([t[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),L([this.popupOverlay],Cv)}}selectResourceByIndex(e){this.lastResourceLevel&&e>-1&&e<this.lastResourceLevel.length&&this.triggerEvents(e)}resourceClick(e){if(!e.node.classList.contains("e-has-child")){this.treePopup.hide(),H([this.popupOverlay],Cv);const i=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")).indexOf(e.node);this.triggerEvents(i,e),e.event.preventDefault()}}triggerEvents(e,t){let i={cancel:!1,event:t?t.event:null,groupIndex:e,requestType:"resourceChange"};this.parent.trigger(ml,i,s=>{s.cancel||(this.parent.uiStateValues.groupIndex=s.groupIndex,this.parent.renderModule.render(this.parent.currentView),i={cancel:!1,event:t?t.event:null,groupIndex:this.parent.uiStateValues.groupIndex,requestType:"resourceChanged"},this.parent.trigger(Jf,i))})}documentClick(e){if(U(e.event.target,"."+uI))return;const t=this.parent.element.querySelector("."+uI);t&&t.classList.contains(Jr)&&(this.treePopup.hide(),H([this.popupOverlay],Cv))}bindResourcesData(e){this.parent.showSpinner();const t=[];for(const i of this.parent.resources){const s=new VW(i.dataSource,i.query);t.push(s.getData(s.generateQuery()))}Promise.all(t).then(i=>this.dataManagerSuccess(i,e)).catch(i=>this.parent.crudModule.dataManagerFailure(i))}dataManagerSuccess(e,t){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.parent.resourceCollection=[];for(let i=0,s=e.length;i<s;i++){const a=this.getResourceModel(this.parent.resources[i],e[i].result);this.parent.resourceCollection.push(a)}this.refreshLayout(t)}}getResourceModel(e,t){return{field:e.field,title:e.title,name:e.name,allowMultiple:e.allowMultiple,dataSource:t||e.dataSource,idField:e.idField,textField:e.textField,groupIDField:e.groupIDField,colorField:e.colorField,startHourField:e.startHourField,endHourField:e.endHourField,workDaysField:e.workDaysField,expandedField:e.expandedField,cssClassField:e.cssClassField}}refreshLayout(e){(f(this.parent.uiStateValues.groupIndex)||!this.parent.enablePersistence)&&(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(e)}setResourceCollection(){let e=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(const i of this.parent.activeViewOptions.group.resources){const s=Gx(this.parent.resourceCollection,"name",i);s>=0&&e.push(this.parent.resourceCollection[s])}else this.parent.resourceCollection.length>0&&(e=this.parent.resourceCollection);let t=0;for(const i of e){const s=this.getResourceModel(i);i.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=t),t++,this.resourceCollection.push(s)}f(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)}generateResourceLevels(e,t){const s=[];let n=[];const a=(o,h,d,m,v)=>{const C=[],w=o[0];if(w){let S;if(m&&this.parent.activeViewOptions.group.byGroupID){const k=m[d.idField];S=w.dataSource.filter(O=>O[w.groupIDField]===k)}else S=w.dataSource;for(let k=0;k<S.length;k++){let O=[];v&&v.length>0&&(O=O.concat(v)),O.push(S[k][w.idField]);const N=a(o.slice(1),h+1,w,S[k],O);if(0===h&&0===N.length&&this.resourceCollection.length>1)continue;let Z,q=[],z=this.parent.activeView.renderDates;if(!this.parent.activeViewOptions.group.byDate&&h+1===this.resourceCollection.length){const Fe=S[k][w.workDaysField],Se=S[k][w.startHourField],Be=S[k][w.endHourField];Fe&&Fe.length>0?(z=this.parent.activeView.getRenderDates(Fe),Z=Fe,q=this.parent.activeView.getDateSlots(z,Fe)):(Z=this.parent.activeViewOptions.workDays,q=e);const ht=this.generateCustomHours(q,Se,Be,O);n=n.concat(ht)}C.push({type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:h,groupOrder:O,resource:w,resourceData:S[k],colSpan:this.parent.activeViewOptions.group.byDate?1:q.length,renderDates:z,workDays:Z,cssClass:S[k][w.cssClassField],child:N})}return s[h]||(s[h]=[]),C.length>0&&s[h].push(C),C}return[]};return this.resourceTreeLevel=a(this.resourceCollection,0),t?[]:this.generateHeaderLevels(s,n,e)}generateCustomHours(e,t,i,s){const n=ae([],e,null,!0);for(const a of n)t&&(a.startHour=this.parent.getStartEndTime(t)),i&&(a.endHour=this.parent.getStartEndTime(i)),s&&(a.groupOrder=s);return n}generateHeaderLevels(e,t,i){const s=[];for(let d=e.length-1;d>=0;d--){let m=0;for(const v of e[d])for(const C of v){if(e[d+1]&&e[d+1].length>0){const w=e[d+1][m];if(!w)continue;let S=0;for(const k of w)(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&k.resourceData[k.resource.groupIDField]===C.resourceData[C.resource.idField])&&(S+=k.colSpan);C.colSpan=S}C.groupIndex=m,m++,s[C.resourceLevelIndex]=s[C.resourceLevelIndex]||[],s[C.resourceLevelIndex].push(C)}}if(this.lastResourceLevel=s.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){let d=0;for(const m of this.lastResourceLevel)for(let v=0;v<m.colSpan;v++)t[d].groupIndex=m.groupIndex,d++;return s.push(t),s}const n=[],a=ae([],s,null,!0);let o=0;for(const d of a[0])o+=d.colSpan;const h=[];for(const d of i){d.colSpan=o,h.push(d);const m=ae([],a,null,!0);for(let v=0,C=m.length;v<C;v++){if(v===m.length-1)for(const w of m[v])w.date=d.date,w.workDays=d.workDays,w.startHour=this.parent.getStartEndTime(w.resourceData[w.resource.startHourField])||d.startHour,w.endHour=this.parent.getStartEndTime(w.resourceData[w.resource.endHourField])||d.endHour;n[v]||(n[v]=[]),n[v]=n[v].concat(m[v])}}return n.unshift(h),n}setResourceValues(e,t){const i=(s,n,a)=>{e[n]=this.resourceCollection[s].allowMultiple&&this.parent.activeViewOptions.group.allowGroupEdit?[a]:a};if(void 0===t&&(t=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!f(t)){const s=this.lastResourceLevel[t].groupOrder;for(let n=0;n<this.resourceCollection.length;n++)i(n,this.resourceCollection[n].field,s[n])}else if(this.parent.resourceCollection.length>0)for(let s=0;s<this.resourceCollection.length;s++){const n=this.resourceCollection[s].dataSource[0];n&&i(s,this.resourceCollection[s].field,n[this.resourceCollection[s].idField])}}getResourceColor(e,t){const i=!f(t)&&this.colorIndex>t.length-1?t.length-1:this.colorIndex,s=this.resourceCollection[i];if(f(t)&&this.parent.activeViewOptions.group.allowGroupEdit&&s.allowMultiple)return;const n=f(t)?e[s.field]:t[i],a=this.filterData(s.dataSource,s.idField,n);return a.length>0?a[0][s.colorField]:void 0}getCssClass(e){const t=this.resourceCollection.slice(-1)[0];if(this.parent.activeViewOptions.group.allowGroupEdit&&t.allowMultiple)return;const i=this.filterData(t.dataSource,t.idField,e[t.field]);return i.length>0?i[0][t.cssClassField]:void 0}getResourceRenderDates(){const i=[].concat.apply([],this.lastResourceLevel.map(s=>s.renderDates)).filter((n,a,o)=>o.map(h=>h.getTime()).indexOf(n.getTime())===a);return i.sort((s,n)=>s.getTime()-n.getTime()),i}filterData(e,t,i){return e.filter(s=>s[t]===i)}getResourceData(e,t,i){if(this.parent.activeViewOptions.group.allowGroupEdit){const s={};for(const n of i){const a=this.lastResourceLevel[n].groupOrder;for(let o=0,h=a.length;o<h;o++){const d=this.resourceCollection[o].field;f(s[d])&&(s[d]=[]),s[d].push(a[o])}}e=ae(e,s)}else for(let s=0,n=this.resourceCollection.length;s<n;s++)this.lastResourceLevel[t]&&(e[this.resourceCollection[s].field]=this.lastResourceLevel[t].groupOrder[s])}addResource(e,t,i){const s=e instanceof Array?e:[e];for(const n of this.parent.resourceCollection)if(n.name===t){s.forEach((a,o)=>new ot({json:n.dataSource}).insert(a,null,null,i+o));break}this.refreshLayout(!0)}removeResource(e,t){const i=e instanceof Array?e:[e];for(const s of this.parent.resourceCollection)if(s.name===t){i.forEach(n=>new ot({json:s.dataSource}).remove(s.idField,n));break}this.refreshLayout(!0)}getIndexFromResourceId(e,t,i,s,n){if(t=t||this.parent.resourceCollection.slice(-1)[0].name,f(i)&&f(i=this.resourceCollection.filter(o=>o.name===t)[0]))return null;const a=i.dataSource.filter(o=>s&&o[i.idField]===e?o[i.groupIDField]===s[n]?o[i.idField]===e:null:o[i.idField]===e)[0];return this.lastResourceLevel.map(o=>o.resourceData).indexOf(a)}resourceExpand(e,t,i){const s=this.parent.resourceCollection.filter(h=>h.name===t?h:null)[0];let n=0;const a=s.dataSource.filter(h=>h[s.idField]===e)[0];n=this.parent.activeViewOptions.group.byGroupID?this.lastResourceLevel.map(h=>h.resourceData).indexOf(a):this.getIndexFromResourceId(e,t,s);const o=this.parent.element.querySelector(`.e-resource-column-wrap [data-group-index="${n}"] .e-resource-tree-icon`);o&&(o.classList.contains(Zw)&&!i||o.classList.contains(sm)&&i)&&o.click()}resourceScroll(e,t){if(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)return;const i=t||this.parent.resourceCollection.slice(-1)[0].name;let s=this.parent.resourceCollection.length-1;const n=this.parent.resourceCollection.filter((h,d)=>h.name===i?(s=d,h):null)[0],a=this.parent.element.querySelector("."+li);let o=0;if(this.parent.activeView.isTimelineView()){if(this.parent.activeViewOptions.group.byGroupID){const h=n.dataSource.filter(d=>d[n.idField]===e)[0];o=this.lastResourceLevel.map(d=>d.resourceData).indexOf(h)}else o=this.getIndexFromResourceId(e,i,n);if(this.parent.virtualScrollModule){const h=this.parent.element.querySelector("."+bC),d=Math.round(h.offsetHeight/this.expandedResources.length);if(this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=o*d-(this.parent.virtualScrollModule.bufferCount-1)*d,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight){const m=this.parent.element.querySelector(`.${Et}[data-group-index="${o}"]`);m&&!m.parentElement.classList.contains(mo)&&(a.scrollTop=a.scrollTop<m.offsetTop?m.offsetTop:a.scrollTop+m.offsetTop)}else a.scrollTop=o*d}else{const h=this.parent.element.querySelector(`.${Et}[data-group-index="${o}"]`);h&&!h.parentElement.classList.contains(mo)&&(a.scrollTop=h.offsetTop)}}else{o=this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?this.lastResourceLevel.map(m=>m.resourceData[n.idField]).indexOf(e):n.dataSource.map(m=>m[n.idField]).indexOf(e):this.getIndexFromResourceId(e,i,n);const h=this.parent.element.querySelector(`.${yF}:nth-child(${s+1})`),d=[].slice.call(h.children).map(m=>m.offsetLeft);a.scrollLeft=d[o]}}destroy(){this.parent.off(em,this.documentClick),this.treeViewObj&&(this.treeViewObj.destroy(),this.treeViewObj=null),this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,nt(this.parent.element.querySelector("."+uI)),nt(this.parent.element.querySelector("."+xW)));const e=this.parent.element.querySelector("."+Zx);e&&nt(e)}}var ut=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n};let cH=(()=>{let r=class extends hs{constructor(t,i){super(t,i)}render(){const t=[],i=[];if(t.push(_R),this.enableRtl?t.push(KV):i.push(KV),this.isAdaptive?t.push(Qw):i.push(Qw),this.allowMultiDrag?t.push(XV):i.push(XV),this.cssClass){const s=this.cssClass.split(" ");for(const n of s)t.push(n)}On(this.element,t,i),this.validateDate(),wc({target:this.element}),this.scrollModule=new s7(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new C9(this),this.eventBase=new qF(this),this.workCellAction=new w9(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new NW(this)),this.inlineModule=new V7(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()}renderTableContainer(){this.element.querySelector("."+Yu)||this.element.appendChild(this.createElement("div",{className:Yu}))}renderTemplates(){this.isReact&&this.renderReactTemplates()}resetTemplates(t){(this.isAngular||this.isReact)&&this.clearTemplate(t)}initializeResources(t=!1){this.resources.length>0?(this.resourceBase=new D9(this),this.resourceBase.bindResourcesData(t)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(t))}renderElements(t){if(t)return this.initializeView(this.currentView),void this.eventWindow.refresh();this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new RF(this)),this.renderTableContainer(),(G.isDevice||G.isTouch)&&(this.scheduleTouchModule=new n7(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()}validateDate(t=this.selectedDate){let i=t instanceof Date?new Date(t.getTime()):new Date(t);const s=this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),n=this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(!(s<=n))throw Error("minDate should be equal or less than maxDate");i<s&&(i=s),i>n&&(i=n),this.setProperties({selectedDate:new Date(""+i),minDate:new Date(""+s),maxDate:new Date(""+n)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor()}getViewIndex(t){for(let i=0;i<this.viewCollections.length;i++)if(this.viewCollections[i].option===t)return i;return-1}setViewOptions(t=!1){let i,s;this.viewOptions={},this.viewCollections=[];const n=this.viewIndex;let a=0;this.viewIndex=-1;for(const o of this.views){const h="string"!=typeof o;"string"==typeof o?(i=o,this.currentView===i&&(s=i,this.viewIndex=a)):(i=o.option,o.isSelected&&(s=i,this.viewIndex=a));const d=ae({option:i},h?o:{}),m=i.charAt(0).toLowerCase()+i.slice(1);d.cellHeaderTemplateName=d.cellHeaderTemplate?d.option:"",d.dateHeaderTemplateName=d.dateHeaderTemplate?d.option:"",d.cellTemplateName=d.cellTemplate?d.option:"",d.dayHeaderTemplateName=d.dayHeaderTemplate?d.option:"",d.monthHeaderTemplateName=d.monthHeaderTemplate?d.option:"",d.resourceHeaderTemplateName=d.resourceHeaderTemplate?d.option:"",d.headerIndentTemplateName=d.headerIndentTemplate?d.option:"",d.eventTemplateName=d.eventTemplate?d.option:"",!f(d.firstDayOfWeek)&&0===d.firstDayOfWeek&&delete d.firstDayOfWeek,!f(d.interval)&&1===d.interval&&delete d.interval,this.viewCollections.push(d),f(this.viewOptions[m])?this.viewOptions[m]=[d]:this.viewOptions[m].push(d),a++}if(!t&&s&&this.setProperties({currentView:s},!0),-1===this.viewIndex){const o=this.getViewIndex(this.currentView);this.viewIndex="string"==typeof this.views[0]||f(n)||-1===n?-1===o?0:o:n}}getActiveViewOptions(){const t={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},s={byDate:!(this.viewCollections[this.viewIndex].option.indexOf("Year")>-1)&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView},o=this.viewCollections[this.viewIndex],h=ae({dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:this.viewCollections[this.viewIndex].workDays?[]:this.workDays,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:t,timeFormat:this.internalTimeFormat,group:s,headerRows:this.headerRows,orientation:"Horizontal"},o,void 0,!0);return 0!==this.firstDayOfWeek&&o.firstDayOfWeek&&this.firstDayOfWeek!==o.firstDayOfWeek&&(h.firstDayOfWeek=this.firstDayOfWeek),h}initializeDataModule(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new VW(this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new E9(this)}setEditorTitles(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}}initializeView(t){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(t)}initializeTemplates(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)}initializePopups(){this.eventWindow=new L3(this),this.quickPopup=new t3(this)}getDayNames(t){const i=[];let s,n="";"en"===this.locale||"en-US"===this.locale?(n="days.stand-alone.",s=X(n+t,Ca(this.getCalendarMode()))):(n="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+t,s=X(n,Ps));for(const a of Object.keys(s))i.push(X(a,s));return i}setCldrTimeFormat(){this.internalTimeFormat=f(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?X("timeFormats.short",Ca(this.getCalendarMode())):X("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",Ps):this.timeFormat}getCalendarMode(){return this.calendarMode.toLowerCase()}getTimeString(t){return this.globalize.formatDate(t,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()}getDateTime(t){return t instanceof Date?new Date(t.getTime()):new Date(t)}setCalendarMode(){this.calendarUtil="Islamic"===this.calendarMode?new HW:new FW}changeView(t,i,s,n){if(f(n)&&(n=this.getViewIndex(t)),!s&&n===this.viewIndex&&this.currentView===t||n<0)return;this.viewIndex=n;let a={requestType:"viewNavigate",cancel:!1,event:i};this.trigger(ml,a,o=>{o.cancel||this.trigger(BV,{action:"view",cancel:!1,currentDate:this.selectedDate,previousView:this.currentView,currentView:t,viewIndex:this.viewIndex},d=>{d.cancel||(this.viewIndex=d.viewIndex,this.setProperties({currentView:t},!0),this.headerModule&&(this.headerModule.updateActiveView(),this.headerModule.setCalendarDate(this.selectedDate),this.headerModule.setCalendarView()),this.initializeView(this.currentView),this.animateLayout(),a={requestType:"viewNavigate",cancel:!1,event:i},this.trigger(Jf,a))})})}changeDate(t,i){let s={requestType:"dateNavigate",cancel:!1,event:i};this.trigger(ml,s,n=>{n.cancel||this.trigger(BV,{action:"date",cancel:!1,previousDate:this.selectedDate,currentDate:t},o=>{o.cancel||(this.uiStateValues.isInitial=!!this.activeView.isTimelineView()||this.uiStateValues.isInitial,this.validateDate(o.currentDate),this.headerModule&&this.headerModule.setCalendarDate(o.currentDate),this.initializeView(this.currentView),this.animateLayout(),s={requestType:"dateNavigate",cancel:!1,event:i},this.trigger(Jf,s))})})}isMinMaxDate(t=this.selectedDate){return t.getTime()>=this.minDate.getTime()&&t.getTime()<=this.maxDate.getTime()}isSelectedDate(t){return t.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)}getCurrentTime(t=new Date){return this.timezone?this.tzModule.convert(t,this.tzModule.getLocalTimezoneName(),this.timezone):t}getNavigateView(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"}animateLayout(){!this.activeView.element||new Gi({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)}requiredModules(){const t=[];this.setViewOptions(!0);for(let i of Object.keys(this.viewOptions))i="timelineDay"===i||"timelineWeek"===i||"timelineWorkWeek"===i?"timelineViews":i,t.push({member:i,args:[this]});return this.allowDragAndDrop&&t.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&t.push({member:"resize",args:[this]}),t.push({member:"excelExport",args:[this]}),t.push({member:"iCalendarExport",args:[this]}),t.push({member:"iCalendarImport",args:[this]}),t.push({member:"print",args:[this]}),t}preRender(){this.isAdaptive=G.isDevice||window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1,this.globalize=new Ns(this.locale),this.tzModule=new BW,(this&&f(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1}),this.activeCellsData={startTime:this.getCurrentTime(),endTime:this.getCurrentTime(),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new Gs(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()}getDefaultLocale(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}}wireEvents(){A.add(window,"resize",this.onScheduleResize,this),A.add(window,"orientationchange",this.onScheduleResize,this),A.add(document,G.touchStartEvent,this.onDocumentClick,this)}removeSelectedClass(){const t=this.getSelectedElements();for(const i of t)i.setAttribute("aria-selected","false"),i.removeAttribute("tabindex");H(t,Jx)}addSelectedClass(t,i,s){for(const n of t)n.setAttribute("aria-selected","true");L(t,Jx),i&&(i.setAttribute("tabindex","0"),i.focus({preventScroll:s||!1}))}selectCell(t){this.removeSelectedClass(),this.addSelectedClass([t],t)}getAllDayRow(){return this.element.querySelector("."+Jd)}getContentTable(){return this.activeView.element.querySelector("."+ar+" tbody")}getTableRows(){return[].slice.call(this.element.querySelectorAll("."+ar+" tbody tr:not(."+mo+")"))}getWorkCellElements(){return[].slice.call(this.element.querySelectorAll("."+Et))}getIndexOfDate(t,i){return t.map(Number).indexOf(+i)}isAllDayCell(t){return!!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||t.classList.contains(Ms)||t.classList.contains(ea)||!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)}getDateFromElement(t){let i;if(f(t)||(i=t.getAttribute("data-date")),!f(i)){const s=parseInt(i,10);return new Date(s)}}getTargetElement(t,i,s){const n=document.elementFromPoint(i,s);let a;return n&&(a=n.closest(t)),a?[a]:null}getCellHeaderTemplate(){return this.cellHeaderTemplateFn}getDayHeaderTemplate(){return this.dayHeaderTemplateFn}getMonthHeaderTemplate(){return this.monthHeaderTemplateFn}getCellTemplate(){return this.cellTemplateFn}getDateHeaderTemplate(){return this.dateHeaderTemplateFn}getMajorSlotTemplate(){return this.majorSlotTemplateFn}getMinorSlotTemplate(){return this.minorSlotTemplateFn}getAppointmentTemplate(){return this.appointmentTemplateFn}getEventTooltipTemplate(){return this.eventTooltipTemplateFn}getHeaderTooltipTemplate(){return this.headerTooltipTemplateFn}getEditorTemplate(){return this.editorTemplateFn}getQuickInfoTemplatesHeader(){return this.quickInfoTemplatesHeaderFn}getQuickInfoTemplatesContent(){return this.quickInfoTemplatesContentFn}getQuickInfoTemplatesFooter(){return this.quickInfoTemplatesFooterFn}getResourceHeaderTemplate(){return this.resourceHeaderTemplateFn}getHeaderIndentTemplate(){return this.headerIndentTemplateFn}getCssProperties(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}}removeNewEventElement(){const t=this.element.querySelector("."+YR);f(t)||nt(t)}getStartEndTime(t){if(!f(t)&&""!==t){const i=ge(this.getCurrentTime()),s=t.split(":");return 2===s.length&&i.setHours(parseInt(s[0],10),parseInt(s[1],10),0),i}return null}onDocumentClick(t){this.notify(em,{event:t})}onScheduleResize(){f(this.activeView)||(this.isAdaptive||window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1)&&document.activeElement&&document.activeElement.classList.contains(or)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.activeView.resetColWidth(),this.notify(Lc,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1)):this.notify(vl,{}))}templateParser(t){if(t)try{if(document.querySelectorAll(t).length)return us(document.querySelector(t).innerHTML.trim())}catch(i){return us(t)}}getAnnouncementString(t,i){let s;if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){const m='"s event - ';s=this.quickPopup.getResourceText({event:t},"event")+m}const n=i||t[this.eventFields.subject]||this.eventSettings.fields.subject.default,a="full",o=this.globalize.formatDate(t[this.eventFields.startTime],{type:"dateTime",skeleton:a,calendar:this.getCalendarMode()}),h=this.globalize.formatDate(t[this.eventFields.endTime],{type:"dateTime",skeleton:a,calendar:this.getCalendarMode()});let d=n+" "+this.localeObj.getConstant("beginFrom")+" "+o+" "+this.localeObj.getConstant("endAt")+" "+h;return s&&(d=s+" "+d),d}boundaryValidation(t,i){const n={left:!1,right:!1,top:!1,bottom:!1},a=this.element.querySelector("."+li).getBoundingClientRect();return t<a.top+30+window.pageYOffset&&t>a.top+window.pageYOffset&&(n.top=!0),t>a.bottom-30+window.pageYOffset&&t<a.bottom+window.pageYOffset&&(n.bottom=!0),i<a.left+30+window.pageXOffset&&i>a.left+window.pageXOffset&&(n.left=!0),i>a.right-30+window.pageXOffset&&i<a.right+window.pageXOffset&&(n.right=!0),n}getWeekNumberContent(t){let i;if("FirstDay"===this.weekRule){const s=OR(t.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(YV(s))}else if("FirstFourDayWeek"===this.weekRule){const a=function(r,e){return new Date(e.valueOf()-(e.valueOf()-r.valueOf())/2)}(Vh(t.slice(-1)[0],this.firstDayOfWeek),OR(t.slice(-1)[0],this.firstDayOfWeek));i=this.globalize.formatNumber(YV(a))}else if("FirstFullWeek"===this.weekRule){const s=Vh(t.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(YV(s))}return i}renderHeaderIndentTemplate(t,i){if(this.activeViewOptions.headerIndentTemplate){const a=this.element.id+"_"+this.activeViewOptions.headerIndentTemplateName+"headerIndentTemplate";Ge([].slice.call(this.getHeaderIndentTemplate()(t,this,"headerIndentTemplate",a,!1)),i)}}unWireEvents(){A.remove(window,"resize",this.onScheduleResize),A.remove(window,"orientationchange",this.onScheduleResize),A.remove(document,G.touchStartEvent,this.onDocumentClick)}getModuleName(){return"schedule"}getPersistData(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])}onPropertyChanged(t,i){if(this.isReact&&f(this.activeView))return;const s={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1};for(const n of Object.keys(t))switch(n){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),s.isView=!0;break;case"currentView":s.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":s.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange(this.activeView.getDateRangeText());break;case"showHeaderBar":this.destroyHeaderModule(),t.showHeaderBar&&(this.headerModule=new RF(this),this.headerModule.updateDateRange(this.activeView.getDateRangeText())),this.notify(Lc,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"showWeekend":case"workDays":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":s.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new Ns(this.locale),this.localeObj=new Gs(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),s.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=t.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),s.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=t.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),s.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=t.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),s.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=t.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),s.isLayout=!0;break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=t.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),s.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=t.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),s.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=t.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),s.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(i.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),s.isRefresh=!0;break;default:this.extendedPropertyChange(n,t,i,s)}this.propertyChangeAction(s)}propertyChangeAction(t){t.isRefresh?this.refresh():t.isResource?this.initializeResources(!0):t.isView?this.changeView(this.currentView,null,!0):t.isDate?this.changeDate(this.selectedDate):t.isLayout?this.initializeView(this.currentView):t.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",H([this.element],tp)),this.crudModule.refreshDataManager())}allDayRowScrollUpdate(){const t=this.element.querySelector("."+yl),i=this.element.querySelector("."+Jd);if("auto"!==this.height&&this.enableAllDayScroll)t.classList.contains(rL)&&H([t],rL),this.eventBase.allDayExpandScroll(t,!0);else if(L([t],rL),t.classList.contains(fI)&&H([t],fI),this.uiStateValues.expand){const s=[].slice.call(this.element.querySelectorAll("."+Ms));s[0].style.height=i.style.height?i.style.height:s[1].style.height}this.uiStateValues.expand||(i.style.height="")}extendedPropertyChange(t,i,s,n){switch(t){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(UV,{module:"scroll",properties:{width:i.width,height:i.height}});break;case"cssClass":s.cssClass&&H([this.element],s.cssClass.split(" ")),i.cssClass&&L([this.element],i.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),n.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(i.eventSettings,s.eventSettings,n);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),i.allowKeyboardInteraction&&(this.keyboardInteractionModule=new NW(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":f(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(i.group,s.group,n);break;case"resources":n.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=i.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=i.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":n.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=i.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=i.monthsCount,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=i.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new RF(this),this.headerModule.updateDateRange(this.activeView.getDateRangeText())),n.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=i.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),n.isLayout=!0}}setRtlClass(){this.enableRtl?L([this.element],"e-rtl"):H([this.element],"e-rtl")}onGroupSettingsPropertyChanged(t,i,s){for(const n of Object.keys(t))"headerTooltipTemplate"===n?this.headerTooltipTemplateFn=this.templateParser(t[n]):(s.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())}onEventSettingsPropertyChanged(t,i,s){for(const n of Object.keys(t))switch(n){case"dataSource":case"query":case"fields":this.initializeDataModule(),s.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=t.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),s.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),t.enableTooltip&&(this.eventTooltip=new $F(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),s.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":s.isLayout=!0}}destroyHeaderModule(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)}destroyPopups(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)}showSpinner(){so(this.element)}hideSpinner(){no(this.element)}setWorkHours(t,i,s,n){let a=[];a=this.getWorkHourCells(t,i,s,n),L(a,Kw)}resetWorkHours(t=this.activeView.renderDates,i,s,n){H(t&&i&&s?this.getWorkHourCells(t,i,s,n):[].slice.call(this.element.querySelectorAll("."+Kw)),Kw)}getWorkHourCells(t,i,s,n){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];let a=this.getStartEndTime(i),o=this.getStartEndTime(s);const h=this.getContentTable();if(f(a)||f(o)||!h)return[];a.setMilliseconds(0),o.setMilliseconds(0);const d=this.activeView.getStartHour();a<d&&(a=d);const m=this.activeView.getEndHour();o>m&&(o=m);const C=this.activeViewOptions.timeScale.interval*$a/this.activeViewOptions.timeScale.slotCount;let w=Math.round((a.getTime()-d.getTime())/C),S=Math.ceil((o.getTime()-d.getTime())/C);const k=w,O=S,N=[];for(let q of t){q=this.getDateTime(q),ge(q);let z=this.activeView.renderDates;!f(n)&&this.resourceBase&&!this.activeView.isTimelineView()&&(z=this.resourceBase.lastResourceLevel[n].renderDates);const Z=this.getIndexOfDate(z,q);if(Z>=0){if(this.activeView.isTimelineView()){const Ce=Math.round((m.getTime()-d.getTime())/C);w=k+Z*Ce,S=O+Z*Ce}for(let Ce=w;Ce<S;Ce++)if(this.activeView.isTimelineView()){const ce=f(n)?0:n;N.push(h.rows[ce].cells[Ce])}else if(f(n))N.push(h.rows[Ce].cells[Z]);else{const Fe=[].slice.call(h.rows[Ce].querySelectorAll("."+Et+'[data-group-index="'+n+'"]'));N.push(Fe[Z])}}}return N}getCellDetails(t){const i=t instanceof Array?t:[t],s=vd(i[0]),n=vd(i.slice(-1)[0]),a=this.getDateFromElement(s);let o=this.getDateFromElement(n);if(f(a)||f(o))return;const h=this.activeView.isTimelineView()&&!f(n.getAttribute("colSpan"))&&this.headerRows.length>0,d=h?parseInt(n.getAttribute("colSpan"),10):1;o=!this.activeViewOptions.timeScale.enable||h||n.classList.contains(Ms)||n.classList.contains(ea)?at(new Date(o.getTime()),d):this.activeView.getEndDateFromStartDate(o);const m={startTime:a,endTime:o,isAllDay:this.isAllDayCell(s),element:t},v=s.getAttribute("data-group-index");return f(v)||(m.groupIndex=parseInt(v,10)),m}getSelectedElements(){return[].slice.call(this.element.querySelectorAll("."+Jx))}getResourceCollections(){return this.resourceCollection}setResourceCollections(t){this.setProperties({resources:t},!1)}changeCurrentView(t,i){let s=this.getViewIndex(t);const n=t.charAt(0).toLowerCase()+t.slice(1),a=this.viewOptions[n];a&&(s=this.viewCollections.indexOf(a[i||0])),-1!==s&&s!==this.viewIndex&&this.changeView(t,null,null,s)}getCurrentViewIndex(){return this.viewIndex}getResourcesByIndex(t){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(t<0||t>=this.resourceBase.lastResourceLevel.length)return;const i=this.resourceBase.lastResourceLevel[t],s={};return this.resourceBase.setResourceValues(s,t),{resource:i.resource,resourceData:i.resourceData,groupData:s}}}expandResource(t,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(t,i,!1)}collapseResource(t,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(t,i,!0)}scrollTo(t,i){this.activeView.scrollToDate&&f(t)&&i?this.activeView.scrollToDate(i):this.activeView.scrollToHour&&this.activeView.scrollToHour(t,i)}scrollToResource(t,i){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(t,i)}exportToICalendar(t,i){if(!this.iCalendarExportModule)throw Error("Inject ICalendarExport module");this.iCalendarExportModule.initializeCalendarExport(t,i)}importICalendar(t){if(!this.iCalendarImportModule)throw Error("Inject ICalendarImport module");this.iCalendarImportModule.initializeCalendarImport(t)}addEvent(t){this.crudModule.addEvent(t)}exportToExcel(t){if(!this.excelExportModule)throw Error("Inject ExcelExport module");this.excelExportModule.initializeExcelExport(t||{})}print(t){if(!this.printModule)throw Error("Inject Print module");this.printModule.print(t)}saveEvent(t,i){this.crudModule.saveEvent(t,i)}deleteEvent(t,i){this.crudModule.deleteEvent(t,i)}getEvents(t,i,s){let n=[];return n=s?this.eventBase.getProcessedEvents():this.eventsData,t&&(t=this.getDateTime(t)),i&&(i=this.getDateTime(i)),n=this.eventBase.filterEventsByRange(n,t,i),n}getBlockEvents(t,i,s){let n=[];return n=s?this.eventBase.getProcessedEvents(this.blockData):this.blockData,t&&(t=this.getDateTime(t)),i&&(i=this.getDateTime(i)),n=this.eventBase.filterEventsByRange(n,t,i),n}getOccurrencesByID(t){return this.eventBase.getOccurrencesByID(t)}getOccurrencesByRange(t,i){return t=this.getDateTime(t),i=this.getDateTime(i),this.eventBase.getOccurrencesByRange(t,i)}getCurrentViewDates(){return this.activeView?this.activeView.renderDates:[]}setRecurrenceEditor(t){this.eventWindow.setRecurrenceEditor(t)}getEventMaxID(){return this.eventBase.getEventMaxID()}getDeletedOccurrences(t){return this.eventBase.getDeletedOccurrences(t)}getCurrentViewEvents(){return this.eventsProcessed}refreshEvents(t=!0){if(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",H([this.element],tp)),t)this.crudModule.refreshDataManager();else{const n=(this.eventsData||[]).concat(this.blockData||[]);this.notify(Nh,{processedData:this.eventBase?this.eventBase.processData(n):[]})}}refreshTemplates(t){switch(t?this.resetTemplates([t]):this.resetTemplates(),t){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new t3(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new L3(this),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new $F(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}}refreshLayout(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()}getEventDetails(t){const i=(t=vd(t)).getAttribute("data-guid");return i?this.eventBase.getEventByGuid(i):{}}isSlotAvailable(t,i,s){let n,a,o=this.activeEventData.event;if(t instanceof Date||"string"==typeof t?(n=t,a=i):(o=t,n=t[this.eventFields.startTime],a=t[this.eventFields.endTime],this.resourceBase&&(s=this.eventBase.getGroupIndexFromEvent(t))),f(n)||f(a))return!0;n=this.getDateTime(n),a=this.getDateTime(a);let h=this.eventBase.filterEvents(n,a);return!f(s)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(h=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[s],h)),o&&(h=h.filter(o.Guid?d=>d.Guid!==o.Guid:d=>d[this.eventFields.id]!==o[this.eventFields.id])),!(h.length>0)}openEditor(t,i,s,n){"Add"!==i||s?(t[this.eventFields.startTime]=this.getDateTime(t[this.eventFields.startTime]),t[this.eventFields.endTime]=this.getDateTime(t[this.eventFields.endTime])):(t.startTime=this.getDateTime(t.startTime),t.endTime=this.getDateTime(t.endTime),f(t.element)||(t.element=vd(t.element))),this.currentAction=i,"Add"!==i&&(this.activeEventData.event=t),this.eventWindow.openEditor(t,i,s,n)}closeEditor(){this.eventWindow&&this.eventWindow.dialogClose()}closeQuickInfoPopup(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)}selectResourceByIndex(t){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(t)}getIndexFromResourceId(t,i){return this.resourceBase?this.resourceBase.getIndexFromResourceId(t,i):null}addResource(t,i,s){this.resourceBase.addResource(t,i,s)}removeResource(t,i){this.resourceBase.removeResource(t,i)}destroy(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.unWireEvents(),this.destroyHeaderModule(),this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),super.destroy();const t=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"];for(const s of t)this[s]=null;Xd(this.element);let i=[_R,KV,Qw,XV];this.cssClass&&(i=i.concat(this.cssClass.split(" "))),H([this.element],i)}};return ut([T("auto")],r.prototype,"width",void 0),ut([T("auto")],r.prototype,"height",void 0),ut([T(!0)],r.prototype,"showHeaderBar",void 0),ut([T(!0)],r.prototype,"showTimeIndicator",void 0),ut([T("Week")],r.prototype,"currentView",void 0),ut([T(["Day","Week","WorkWeek","Month","Agenda"])],r.prototype,"views",void 0),ut([T(new Date)],r.prototype,"selectedDate",void 0),ut([T(new Date(1900,0,1))],r.prototype,"minDate",void 0),ut([T(new Date(2099,11,31))],r.prototype,"maxDate",void 0),ut([T()],r.prototype,"dateFormat",void 0),ut([T("Gregorian")],r.prototype,"calendarMode",void 0),ut([T(!0)],r.prototype,"showWeekend",void 0),ut([T(0)],r.prototype,"firstDayOfWeek",void 0),ut([T("FirstDay")],r.prototype,"weekRule",void 0),ut([T([1,2,3,4,5])],r.prototype,"workDays",void 0),ut([T(12)],r.prototype,"monthsCount",void 0),ut([T("00:00")],r.prototype,"startHour",void 0),ut([T("24:00")],r.prototype,"endHour",void 0),ut([T(null)],r.prototype,"timeFormat",void 0),ut([T(!1)],r.prototype,"enableAllDayScroll",void 0),ut([T(!1)],r.prototype,"enableAdaptiveUI",void 0),ut([T(!0)],r.prototype,"allowResizing",void 0),ut([Ht({},yL)],r.prototype,"workHours",void 0),ut([Ht({},fD)],r.prototype,"timeScale",void 0),ut([T(!0)],r.prototype,"allowKeyboardInteraction",void 0),ut([T(!0)],r.prototype,"allowDragAndDrop",void 0),ut([T()],r.prototype,"dateHeaderTemplate",void 0),ut([T()],r.prototype,"cellHeaderTemplate",void 0),ut([T()],r.prototype,"dayHeaderTemplate",void 0),ut([T()],r.prototype,"monthHeaderTemplate",void 0),ut([T()],r.prototype,"cellTemplate",void 0),ut([T(!1)],r.prototype,"readonly",void 0),ut([T(!0)],r.prototype,"showQuickInfo",void 0),ut([T(!1)],r.prototype,"allowInline",void 0),ut([T(!0)],r.prototype,"allowMultiCellSelection",void 0),ut([T(!0)],r.prototype,"allowMultiRowSelection",void 0),ut([T(!1)],r.prototype,"quickInfoOnSelectionEnd",void 0),ut([T(!1)],r.prototype,"showWeekNumber",void 0),ut([T(!1)],r.prototype,"rowAutoHeight",void 0),ut([T(!1)],r.prototype,"allowMultiDrag",void 0),ut([T(0)],r.prototype,"firstMonthOfYear",void 0),ut([T()],r.prototype,"editorTemplate",void 0),ut([Ht({},TI)],r.prototype,"quickInfoTemplates",void 0),ut([T(7)],r.prototype,"agendaDaysCount",void 0),ut([T(!0)],r.prototype,"hideEmptyAgendaDays",void 0),ut([T(!0)],r.prototype,"enableRecurrenceValidation",void 0),ut([T()],r.prototype,"timezone",void 0),ut([Ht({},go)],r.prototype,"eventSettings",void 0),ut([T(jW)],r.prototype,"timezoneDataSource",void 0),ut([T()],r.prototype,"resourceHeaderTemplate",void 0),ut([T()],r.prototype,"headerIndentTemplate",void 0),ut([Ht({},kC)],r.prototype,"group",void 0),ut([Va([],qo)],r.prototype,"resources",void 0),ut([Va([],lH)],r.prototype,"headerRows",void 0),ut([T()],r.prototype,"cssClass",void 0),ut([T()],r.prototype,"eventDragArea",void 0),ut([$()],r.prototype,"created",void 0),ut([$()],r.prototype,"destroyed",void 0),ut([$()],r.prototype,"cellClick",void 0),ut([$()],r.prototype,"cellDoubleClick",void 0),ut([$()],r.prototype,"moreEventsClick",void 0),ut([$()],r.prototype,"hover",void 0),ut([$()],r.prototype,"select",void 0),ut([$()],r.prototype,"actionBegin",void 0),ut([$()],r.prototype,"actionComplete",void 0),ut([$()],r.prototype,"actionFailure",void 0),ut([$()],r.prototype,"navigating",void 0),ut([$()],r.prototype,"renderCell",void 0),ut([$()],r.prototype,"eventClick",void 0),ut([$()],r.prototype,"eventRendered",void 0),ut([$()],r.prototype,"dataBinding",void 0),ut([$()],r.prototype,"popupOpen",void 0),ut([$()],r.prototype,"popupClose",void 0),ut([$()],r.prototype,"dragStart",void 0),ut([$()],r.prototype,"drag",void 0),ut([$()],r.prototype,"dragStop",void 0),ut([$()],r.prototype,"resizeStart",void 0),ut([$()],r.prototype,"resizing",void 0),ut([$()],r.prototype,"resizeStop",void 0),ut([$()],r.prototype,"dataBound",void 0),r=ut([oi],r),r})();class P3{constructor(e){this.daysVariation=0,this.parent=e,this.actionObj={X:0,Y:0,groupIndex:0,cellWidth:0,cellHeight:0,slotInterval:0,interval:0,actionIndex:0,cloneElement:[],originalElement:[],action:null,isAllDay:null,excludeSelectors:null,index:0,navigationInterval:null,scrollInterval:null},this.scrollArgs={element:null,width:0,height:0},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1}}getChangedData(e){const t=ae({},this.actionObj.event,null,!0);if(t[this.parent.eventFields.startTime]=this.actionObj.start,t[this.parent.eventFields.endTime]=this.actionObj.end,f(this.actionObj.isAllDay)||(t[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay),this.parent.activeViewOptions.group.resources.length>0){const i=this.getOriginalElement(this.actionObj.element);if(i){let s=i.map(n=>parseInt(n.getAttribute("data-group-index"),10));if(-1===s.indexOf(this.actionObj.groupIndex)||!f(e)&&e.length>0){const n=parseInt(this.actionObj.clone.getAttribute("data-group-index"),10);s=s.filter(a=>a!==n),s.push(this.actionObj.groupIndex),e&&e.length>0?e.forEach(a=>{this.parent.resourceBase.getResourceData(a,this.actionObj.groupIndex,s)}):this.parent.resourceBase.getResourceData(t,this.actionObj.groupIndex,s)}}}return t}saveChangedData(e,t=!1){this.parent.activeEventData.event=this.actionObj.event,this.parent.currentAction="Save";let i,s=[e.data];t&&(s=e.selectedData);for(const n of s){const a=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(this.actionObj.element.getAttribute("data-group-index"),10)===this.actionObj.groupIndex;if(+n[this.parent.eventFields.startTime]==+this.actionObj.event[this.parent.eventFields.startTime]&&+n[this.parent.eventFields.endTime]==+this.actionObj.event[this.parent.eventFields.endTime]&&a)return;if(n[this.parent.eventFields.recurrenceRule]){const o=n[this.parent.eventFields.recurrenceID]||n[this.parent.eventFields.id];if(n[this.parent.eventFields.id]===n[this.parent.eventFields.recurrenceID]&&(n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),i="EditOccurrence"),this.parent.enableRecurrenceValidation&&this.parent.eventWindow.editOccurrenceValidation(o,n,this.actionObj.event))return}else i=null;(n[this.parent.eventFields.startTimezone]||n[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(n),this.parent.crudModule.saveEvent(n,i)}}calculateIntervalTime(e){const t=new Date(+e);return t.setMinutes(Math.floor(t.getMinutes()/this.actionObj.interval)*this.actionObj.interval),t}getContentAreaDimension(){const e=this.parent.element.querySelector("."+li);let t=[].slice.call(e.querySelector("tr").children);!this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.isAdaptive&&!this.parent.enableAdaptiveUI&&(t=this.getResourceElements(t));const i=t[0].getBoundingClientRect(),s=t.slice(-1)[0].getBoundingClientRect();return{bottom:e.scrollHeight-5,left:this.parent.enableRtl?s.left:i.left,right:this.parent.enableRtl?i.right:s.right,top:0,leftOffset:this.parent.enableRtl?s.right:i.right,rightOffset:this.parent.enableRtl?i.left:s.left}}getPageCoordinates(e){const t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e}getIndex(e){const t=[].slice.call(this.parent.getContentTable().querySelector("tr").children),i={minIndex:0,maxIndex:t.length-1};if("resize"===this.actionObj.action&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeView.isTimelineView()){const s=this.getResourceElements(t);i.minIndex=s[0].cellIndex,i.maxIndex=s.slice(-1)[0].cellIndex}return e<i.minIndex&&(e=i.minIndex),e>i.maxIndex&&(e=i.maxIndex),e}updateTimePosition(e,t){let i=0;for(const a of this.actionObj.cloneElement){const o=a.querySelector("."+Gu);if(o){let h=this.actionObj.start,d=this.actionObj.end;t&&t.length>0&&(h=t[i][this.parent.eventFields.startTime],d=t[i][this.parent.eventFields.endTime]),o.innerHTML=this.parent.getTimeString(h)+" - "+this.parent.getTimeString(d)}i++}if(!this.parent.activeViewOptions.timeScale.enable||!this.parent.isAdaptive||"Month"===this.parent.currentView||"TimelineMonth"===this.parent.currentView)return;let s=this.parent.element.querySelector("."+fF);if(!s){s=Q("div",{className:fF});const a=this.parent.activeView.isTimelineView()?yl:sF;this.parent.element.querySelector("."+a).appendChild(s)}s.innerHTML=this.parent.getTimeString(e);let n=0;if(this.parent.activeView.isTimelineView())if(this.parent.enableRtl){const a=parseInt(this.actionObj.clone.style.right,10);n="drag"===this.actionObj.action||this.resizeEdges.left?a+this.actionObj.clone.offsetWidth:a,s.style.right=fe(n)}else{const a=parseInt(this.actionObj.clone.style.left,10);n="drag"===this.actionObj.action||this.resizeEdges.left?a:a+this.actionObj.clone.offsetWidth,s.style.left=fe(n)}else n="drag"===this.actionObj.action||this.resizeEdges.top?this.actionObj.clone.offsetTop:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight,s.style.top=fe(n)}getResourceElements(e){return e.filter(t=>parseInt(t.getAttribute("data-group-index"),10)===this.actionObj.groupIndex)}getOriginalElement(e){let t;const i=e.getAttribute("data-guid");if(e.offsetParent&&e.offsetParent.classList.contains(EC)||this.parent.activeView.isTimelineView())t=[].slice.call(this.parent.element.querySelectorAll('[data-guid="'+i+'"]'));else{const n=U(e,"tr");n&&(t=[].slice.call(n.querySelectorAll('[data-guid="'+i+'"]')))}return t}createCloneElement(e){const i=Q("div",{innerHTML:e.outerHTML}).children[0],s=[Ev];s.push("drag"===this.actionObj.action?cW:mF),("Month"===this.parent.currentView||"TimelineMonth"===this.parent.currentView)&&s.push("e-month-event"),L([i],s),L([e],tp),f(e.parentElement)||e.parentElement.appendChild(i),i.style.width=fe(i.offsetWidth-2);const n=document.querySelector(this.parent.eventDragArea);return this.parent.eventDragArea&&"drag"===this.actionObj.action&&n&&n.appendChild(i),Ue(i,{border:"0px"}),i}removeCloneElementClasses(){let e=this.actionObj.originalElement;("Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView||"Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView)&&(e=[].slice.call(this.parent.element.querySelectorAll("."+tp))),H(e,tp)}removeCloneElement(){this.actionObj.originalElement=[];const e=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone"));for(const i of e)nt(i);for(const i of this.actionObj.cloneElement)f(i.parentNode)||nt(i);this.actionObj.cloneElement=[];const t=this.parent.element.querySelector("."+fF);t&&nt(t)}getCursorElement(e){const t=this.getPageCoordinates(e);return document.elementFromPoint(t.clientX,t.clientY)}autoScroll(){const e=this.parent.element.querySelector("."+li),s=e.offsetHeight<=e.scrollHeight&&e.scrollTop>=0&&e.scrollTop+e.offsetHeight<=e.scrollHeight;let n=e.offsetWidth<=e.scrollWidth&&e.scrollLeft>=0&&e.scrollLeft+e.offsetWidth<=e.scrollWidth;if("resize"===this.actionObj.action&&this.scrollEdges.right&&e.scrollLeft+e.offsetWidth>e.scrollWidth){const a=[].slice.call(this.parent.getContentTable().querySelector("tr").children).length-1;n=Math.ceil((this.actionObj.clone.offsetLeft+this.actionObj.clone.offsetWidth)/this.actionObj.cellWidth)===a}s&&(this.scrollEdges.top||this.scrollEdges.bottom)&&(e.scrollTop+=this.scrollEdges.top?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollHeight!==e.offsetHeight+e.scrollTop&&e.scrollTop>0&&(this.actionObj.Y+=this.scrollEdges.top?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy)),n&&(this.scrollEdges.left||this.scrollEdges.right)&&(e.scrollLeft+=this.scrollEdges.left?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollWidth!==e.offsetWidth+e.scrollLeft&&e.scrollLeft>0&&(this.actionObj.X+=this.scrollEdges.left?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy))}autoScrollValidation(){if(!this.actionObj.scroll.enable)return!1;const e=this.parent.boundaryValidation(this.actionObj.pageY,this.actionObj.pageX);return this.scrollEdges=e,e.bottom||e.top||e.left||e.right}actionClass(e){"addClass"===e?L([this.parent.element],tp):H([this.parent.element],tp)}updateScrollPosition(e){this.actionObj.scroll.enable&&f(this.actionObj.scrollInterval)&&(this.actionObj.scrollInterval=window.setInterval(()=>{if(this.autoScrollValidation()&&!this.actionObj.clone.classList.contains(po)){if(this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.actionObj.groupIndex<0)return;this.autoScroll(),"drag"===this.actionObj.action?this.parent.dragAndDropModule.updateDraggingDateTime(e):this.parent.resizeModule.updateResizingDirection(e)}},this.actionObj.scroll.timeDelay))}updateOriginalElement(e){let t='[data-id="'+e.getAttribute("data-id")+'"]';this.parent.activeViewOptions.group.resources.length>0&&(t=t.concat('[data-group-index = "'+e.getAttribute("data-group-index")+'"]')),L([].slice.call(this.parent.element.querySelectorAll(t)),tp),H([].slice.call(this.parent.element.querySelectorAll("."+Ev)),tp)}getUpdatedEvent(e,t,i){const s=JSON.parse(JSON.stringify(i));return s[this.parent.eventFields.startTime]=e,s[this.parent.eventFields.endTime]=t,s}dynamicYearlyEventsRendering(e,t=!1){let i=this.actionObj.cellWidth-7;if(t&&(this.resizeEdges.left||this.resizeEdges.right)&&(i=this.actionObj.cellWidth*e.count),!t&&"Horizontal"===this.parent.activeViewOptions.orientation&&0===this.parent.activeViewOptions.group.resources.length){const h=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);h[this.parent.eventFields.startTime].getTime()===h[this.parent.eventFields.endTime].getTime()&&(h.isSpanned.count=1),i=h.isSpanned.count*this.actionObj.cellWidth}const s=this.createAppointmentElement(this.actionObj.groupIndex,e[this.parent.eventFields.subject]);s.setAttribute("drag","true"),L([s],Ev),Ue(s,{width:i+"px",border:"0px","pointer-events":"none",position:"absolute",overflow:"hidden",padding:"3px"}),""!==this.actionObj.clone.style.backgroundColor&&Ue(s,{backgroundColor:this.actionObj.clone.style.backgroundColor});const n=ge(e[this.parent.eventFields.startTime]).getTime();let a="."+Et+'[data-date="'+n+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(a="."+Et+'[data-date="'+n+'"][data-group-index="'+this.actionObj.groupIndex+'"]');const o=this.parent.element.querySelector(a);if(!f(o)){if(t){const h=o.querySelector("."+iD);let d=this.actionObj.cellHeight*e.count-(h?h.offsetHeight:0)-7;(this.resizeEdges.right||this.resizeEdges.left)&&(d=parseInt(this.actionObj.clone.style.height,10)),Ue(s,{height:d+"px"})}this.renderDynamicElement(o,s,!0),this.actionObj.cloneElement.push(s)}}renderDynamicElement(e,t,i=!1){if(e.querySelector("."+hn))e.querySelector("."+hn).appendChild(t);else{const s=Q("div",{className:hn});s.appendChild(t),e.appendChild(s)}}createAppointmentElement(e,t){const i=Q("div",{className:Bt,innerHTML:t});return this.parent.activeViewOptions.group.resources.length>0&&i.setAttribute("data-group-index",e.toString()),i}dynamicEventsRendering(e){let n,t=this.parent.activeView.renderDates,i=[].slice.call(this.parent.element.querySelectorAll("."+Et)),s=this.parent.activeViewOptions.workDays;if(this.parent.activeViewOptions.group.resources.length>0){const o=this.parent.resourceBase.lastResourceLevel.filter(d=>d.groupIndex===this.actionObj.groupIndex);t=o[0].renderDates,i=[].slice.call(this.parent.element.querySelectorAll(`.${Et}[data-group-index="${this.actionObj.groupIndex}"]`)),s=o[0].workDays,n=o[0].groupOrder}if(this.monthEvent.dateRender=t,this.monthEvent.getSlotDates(s),this.resizeEdges.left||this.resizeEdges.right){const o=[].slice.call(this.parent.element.querySelectorAll("."+Ev));for(const h of o)nt(h)}const a=this.monthEvent.splitEvent(e,t);for(const o of a){const h=this.parent.getIndexOfDate(t,ge(o[this.monthEvent.fields.startTime])),m=o.data.count*this.actionObj.cellWidth-7,v=this.monthEvent.createAppointmentElement(o,this.actionObj.groupIndex,!0);v.setAttribute("drag","true"),L([v],Ev),this.monthEvent.applyResourceColor(v,o,"backgroundColor",n),Ue(v,{width:m+"px",border:"0px","pointer-events":"none"});const C=i[h];C&&f(this.parent.eventDragArea)&&(this.monthEvent.renderElement(C,v,!0),this.actionObj.cloneElement.push(v))}}destroy(){!this.parent||this.parent&&this.parent.isDestroyed||(this.actionObj={},this.scrollArgs={},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1})}}class N3 extends cD{constructor(e){super(e,"day"),this.isResource=!1}renderAppointments(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.fields=this.parent.eventFields;const t=[].slice.call(this.parent.element.querySelectorAll("Year"===this.parent.currentView?"."+Bt:"."+hn+",."+bl));for(const i of t)nt(i);this.renderedEvents=[],"Year"===this.parent.currentView?this.yearViewEvents():(this.removeCellHeight(),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?(this.isResource=!0,this.timelineResourceEvents()):this.timelineYearViewEvents()),this.parent.renderTemplates(),this.parent.notify(vl,{})}yearViewEvents(){const e=this.getMonths();for(const t of e){const i=`.e-month-calendar:nth-child(${e.indexOf(t)+1}) td.e-work-cells`,s=[].slice.call(this.parent.element.querySelectorAll(i)),n=new Date(this.parent.selectedDate.getFullYear(),t,1),a=this.parent.calendarUtil.getMonthStartDate(new Date(n.getTime())),o=this.parent.calendarUtil.getMonthEndDate(new Date(n.getTime()));let h=Vh(a,this.parent.firstDayOfWeek);const d=at(OR(o,this.parent.firstDayOfWeek),1);for(let m=0;h.getTime()<d.getTime();m++){const v=ge(new Date(h.getTime())),C=at(new Date(v.getTime()),1);if(this.parent.eventBase.filterEvents(v,C).length>0){const S=s[m];S&&S.appendChild(Q("div",{className:Bt}))}h=at(new Date(h.getTime()),1)}}}timelineYearViewEvents(){const e=this.parent.element.querySelector("."+Et);this.cellWidth=e.offsetWidth,this.cellHeader=QV(e.querySelector("."+iD));const t=this.parent.element.querySelector("."+im);this.eventHeight=$w(t,Bt);const i=[].slice.call(this.parent.element.querySelectorAll("."+$u)),s=this.getMonths();for(let n=0;n<s.length;n++){const a=i[n];let o=n+1;const h=Q("div",{className:hn});a.appendChild(h);let d=new Date(this.parent.selectedDate.getFullYear(),s[n],1);const m=new Date(d.getFullYear(),d.getMonth()+1,0);let v=d.getDay();const C=[];for("Horizontal"===this.parent.activeViewOptions.orientation&&(this.renderedEvents=[]);d.getTime()<=m.getTime();){let w,S;if("Vertical"===this.parent.activeViewOptions.orientation){const Z=i[v];o=v+1;let Ce=Z.querySelector("."+hn);Ce||(Ce=Q("div",{className:hn}),Z.appendChild(Ce)),this.parent.enableRtl?S=n*this.cellWidth:w=n*this.cellWidth}else this.parent.enableRtl?S=(v+d.getDate()-1)*this.cellWidth:w=(v+d.getDate()-1)*this.cellWidth;const k=this.parent.element.querySelector(`.e-content-wrap tr:nth-child(${o}) td`);this.cellHeight=k.offsetHeight;const O=ge(new Date(d.getTime())),N=at(new Date(O.getTime()),1);let q;this.parent.uiStateValues.isGroupAdaptive&&(q=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]);let z=this.parent.eventBase.filterEvents(O,N,void 0,q);z=this.parent.eventBase.sortByDateTime(z);for(let Z=0,Ce=z.length;Z<Ce;Z++){const ce=ae({},z[Z],null,!0);this.updateSpannedEvents(ce,O,N);const Fe=this.getIndex(O);ce.Index=Fe;const Se=this.cellHeader+this.eventHeight*(Fe+1)+2+this.moreIndicatorHeight,ht=Math.floor((this.cellHeight-this.cellHeader-this.moreIndicatorHeight)/(this.eventHeight+2)),Ie=Ce-ht<=0?1:Ce-ht;if("Horizontal"===this.parent.activeViewOptions.orientation){const Le=this.renderedEvents.filter(ve=>ve.Guid===ce.Guid),pe=C.filter(ve=>ve.Guid===ce.Guid);if(Le.length>0&&Le[0].MoreIndicator||pe.length>0&&pe[0].MoreIndicator){this.renderMoreIndicator(h,Ie,O,"Horizontal"===this.parent.activeViewOptions.orientation?n:v,w,S);continue}if(Le.length>0||pe.length>0)continue}this.parent.rowAutoHeight&&"Horizontal"===this.parent.activeViewOptions.orientation||this.cellHeight>Se?(this.renderEvent(h,ce,n,w,S,d,v),this.updateCellHeight(k,Se),C.push(ce)):(this.renderMoreIndicator(h,Ie,O,"Horizontal"===this.parent.activeViewOptions.orientation?n:v,w,S),"Horizontal"===this.parent.activeViewOptions.orientation&&(ce.MoreIndicator=!0,this.renderedEvents.push(ce),C.push(ce)))}d=at(new Date(d.getTime()),1),"Vertical"===this.parent.activeViewOptions.orientation&&(v++,this.renderedEvents=[])}}}updateSpannedEvents(e,t,i){const s=this.isResource&&"Vertical"===this.parent.activeViewOptions.orientation||!this.isResource&&"Horizontal"===this.parent.activeViewOptions.orientation,n={isLeft:!0,isRight:!0,isBottom:!0,isTop:!0};t.getTime()<=e[this.fields.startTime].getTime()&&(s?n.isLeft=!1:n.isTop=!1),(i.getTime()>=e[this.fields.endTime].getTime()||s&&!this.isResource&&at(i,-1).getMonth()===e[this.fields.endTime].getMonth())&&(s?n.isRight=!1:n.isBottom=!1),e.data=n}timelineResourceEvents(){const e=this.parent.element.querySelector("."+Et);this.cellWidth=e.offsetWidth,this.cellHeader=0;const t=this.parent.element.querySelector("."+im);this.eventHeight=$w(t,Bt);const i=[].slice.call(this.parent.element.querySelectorAll("."+$u)),s=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel,n=this.getMonths();if("Horizontal"===this.parent.activeViewOptions.orientation)for(let a=0;a<n.length;a++){const o=new Date(this.parent.selectedDate.getFullYear(),n[a],1);for(let h=0,d=s.length;h<d;h++)this.renderedEvents=[],this.renderResourceEvent(i[a],s[h],a,h,o)}else for(let a=0,o=s.length;a<o;a++){this.renderedEvents=[];for(let h=0;h<n.length;h++){const d=new Date(this.parent.selectedDate.getFullYear(),n[h],1);this.renderResourceEvent(i[a],s[a],h,a,d)}}}renderResourceEvent(e,t,i,s,n){const a=Q("div",{className:hn});e.appendChild(a);const o=at(Gw(new Date(n.getTime())),1),h=this.parent.eventBase.filterEvents(n,o,void 0,t),m=this.parent.element.querySelector(`.e-content-wrap tr:nth-child(${("Vertical"===this.parent.activeViewOptions.orientation?s:i)+1}) td`);this.cellHeight=m.offsetHeight;for(let v=0;v<h.length;v++){let w;const S=ae({},h[v],null,!0);if(this.parent.activeViewOptions.group.resources.length>0){const N=this.isSpannedEvent(S,n);w=this.getIndex(N[this.fields.startTime]),S.Index=w}else w=this.getIndex(S[this.fields.startTime]),S.Index=w;const k=this.cellHeader+this.eventHeight*(v+1)+2+this.moreIndicatorHeight,O="Vertical"===this.parent.activeViewOptions.orientation?i*this.cellWidth:s*this.cellWidth;if(!(this.parent.rowAutoHeight||this.cellHeight>k)){if(this.renderMoreIndicator(a,h.length-v,n,"Horizontal"===this.parent.activeViewOptions.orientation?i:s,O,O,s),"Horizontal"===this.parent.activeViewOptions.orientation)for(let q=s;q<h.length;q++)this.renderedEvents.push(ae({},h[q],{Index:w+q},!0));break}this.renderEvent(a,S,i,O,O,n,s),this.updateCellHeight(m,k)}}renderEvent(e,t,i,s,n,a,o){const h=this.isSpannedEvent(t,a),d=this.createEventElement(h);let m,v;if(1===h.isSpanned.count){const k=at(h[this.fields.endTime],-1);h[this.fields.endTime]=k>h[this.fields.startTime]?k:h[this.fields.endTime]}if(h[this.fields.startTime]>h[this.fields.endTime])return;"Horizontal"===this.parent.activeViewOptions.orientation?(v=i+1,h[this.fields.startTime].getTime()===h[this.fields.endTime].getTime()&&(h.isSpanned.count=1),m=h.isSpanned.count*this.cellWidth):(v=o+1,m=this.cellWidth);const w=this.parent.element.querySelector(`.e-content-wrap tr:nth-child(${v}) td`).offsetTop+this.cellHeader+this.eventHeight*h.Index+2;Ue(d,{width:m+"px",height:this.eventHeight+"px",left:s+"px",right:n+"px",top:w+"px"}),this.parent.trigger(Yw,{data:h,element:d,cancel:!1,type:"event"},k=>{k.cancel||(e.appendChild(d),this.wireAppointmentEvents(d,h),(this.parent.activeViewOptions.group.resources.length>0||"Vertical"===this.parent.activeViewOptions.orientation||(h.isSpanned.isRight||h.isSpanned.isLeft)&&"Horizontal"===this.parent.activeViewOptions.orientation||!h.isSpanned.isRight)&&this.renderedEvents.push(ae({},h,null,!0)))})}renderMoreIndicator(e,t,i,s,n,a,o){if(0===this.parent.activeViewOptions.group.resources.length&&e.querySelector('[data-start-date="'+i.getTime()+'"]'))return;let h;h=at(this.parent.activeViewOptions.group.resources.length>0?Gw(new Date(i.getTime())):new Date(i.getTime()),1);const d=this.getMoreIndicatorElement(t,i,h),v=this.parent.element.querySelector(`.e-content-wrap tr:nth-child(${s+1})`).offsetTop+(this.cellHeight-this.moreIndicatorHeight);n=Math.floor(n/this.cellWidth)*this.cellWidth,a=Math.floor(a/this.cellWidth)*this.cellWidth,Ue(d,{width:this.cellWidth+"px",left:n+"px",right:a+"px",top:v+"px"}),f(o)||d.setAttribute("data-group-index",o.toString()),e.appendChild(d),A.add(d,"click",this.moreIndicatorClick,this)}createEventElement(e){const t=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),i=Q("div",{className:Bt,attrs:{"data-id":"Appointment_"+e[this.fields.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(e)}});if(this.cssClass&&L([i],this.cssClass),e[this.fields.isReadonly]&&L([i],dI),this.parent.activeViewOptions.group.resources.length>0){const o=this.getGroupIndexFromEvent(e);i.setAttribute("data-group-index",o.toString())}let s=[];const n=ae({},e,null,!0);if(this.parent.activeViewOptions.eventTemplate){const o=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";s=this.parent.getAppointmentTemplate()(n,this.parent,"eventTemplate",o,!1)}else{const o=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",h=Q("div",{className:or,innerHTML:t+(o?";&nbsp"+o:"")}),d=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(n[this.fields.startTime])}),m=Q("div",{className:Gu+(this.parent.isAdaptive?" "+bs:""),innerHTML:this.parent.getTimeString(n[this.fields.endTime])});L([h],"e-text-center"),e[this.fields.isAllDay]?s=[h]:n.isLeft||n.isRight?(n.isLeft||s.push(d),s.push(h),n.isRight||s.push(m)):s=[d,h,m]}const a=Q("div",{className:WR});return Ge(s,a),i.appendChild(a),this.renderResizeHandler(i,e.data,e[this.fields.isReadonly]),this.applyResourceColor(i,n,"backgroundColor",this.groupOrder),i}isSpannedEvent(e,t){const i=new Date(t.getFullYear(),t.getMonth(),1),s=at(new Date(t.getFullYear(),t.getMonth()+1,0),1),n=ae({},e,null,!0),a=n[this.fields.startTime],o=n[this.fields.endTime],h={isLeft:!1,isRight:!1,count:1};if(this.isResource&&this.updateSpannedEvents(e,i,s),a.getTime()<i.getTime()&&(n[this.fields.startTime]=i,h.isLeft=!0),o.getTime()>s.getTime()&&(n[this.fields.endTime]=s,h.isRight=!0),0===this.parent.activeViewOptions.group.resources.length){let d=ge(n[this.fields.endTime]).getTime();const m=ge(n[this.fields.startTime]).getTime();(e[this.fields.isAllDay]&&d===e[this.fields.endTime].getTime()||h.isRight)&&(d=at(new Date(d),-1).getTime()),h.count=Math.ceil((d-m)/Xn)+1}return n.isSpanned=h,ge(a).getTime()<ge(this.parent.minDate).getTime()&&(n[this.fields.startTime]=this.parent.minDate),ge(o).getTime()>ge(this.parent.maxDate).getTime()&&(n[this.fields.endTime]=this.parent.maxDate),n}getOverlapEvents(e,t){const i=[];let s,n;if(this.parent.activeViewOptions.group.resources.length>0){const a=this.parent.calendarUtil.getMonthStartDate(new Date(e.getTime())),o=at(this.parent.calendarUtil.getMonthEndDate(new Date(e.getTime())),-1);s=ge(new Date(a.getTime())).getTime(),n=ge(new Date(o.getTime())).getTime()}else this.parent.rowAutoHeight?(s=ge(new Date(e.getTime())).getTime(),n=at(ge(new Date(e.getTime())),1).getTime()):s=n=ge(new Date(e.getTime())).getTime();for(const a of t){const o=new Date(a[this.fields.startTime].getTime()),h=new Date(a[this.fields.endTime].getTime());"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0?ge(o).getTime()>=s&&ge(h).getTime()<=n&&i.push(a):(ge(o).getTime()<=s&&ge(h).getTime()>s||ge(o).getTime()>=s&&ge(h).getTime()<=n)&&i.push(a)}return i}getMonths(){return Array.apply(null,{length:this.parent.monthsCount}).map((e,t)=>this.parent.firstMonthOfYear+t)}removeCellHeight(){const t=[].slice.call(this.element.querySelectorAll(`.e-month-header-wrapper tbody tr,.${FR} tbody tr,.${ar} tbody tr`));for(const i of t)i.firstElementChild.style.height=""}destroy(){super.destroy(),this.parent=null}}class wL{constructor(e){this.parent=e}isTimelineView(){return-1!==this.parent.currentView.indexOf("Timeline")}getContentRows(){return[]}refreshHeader(){}refreshResourceHeader(){nt(this.element.querySelector("tbody").lastElementChild.firstElementChild);const e=Q("td");e.appendChild(this.parent.resourceBase.createResourceColumn()),Mi([e],this.element.querySelector("tbody").lastElementChild),this.parent.notify(vl,{})}getDayName(e){return this.parent.getDayNames("abbreviated")[e.getDay()]}getDate(e){return this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})}getTime(e){return this.parent.isAdaptive?this.parent.globalize.formatDate(e,"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?{format:"H",calendar:this.parent.getCalendarMode()}:{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(e)}getTimelineDate(e){return ks(this.parent.globalize.formatDate(e,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[e.getDay()],"multiple")}createEventTable(e){const t=Q("div",{className:im});return Ge(this.getEventRows(e),t),t}getEventRows(e){const t=[];let i;for(let s=0;s<e;s++)i=Q("div",{className:$u}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&i.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[s].groupIndex.toString()),t.push(i);return t}collapseRows(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(e.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(e.querySelector("."+im)))}createTableLayout(e){const i=Q("table",{className:"e-schedule-table "+(e||""),attrs:{role:"table"}}),s=Q("tbody");return i.appendChild(s),i}createColGroup(e,t){let i=t.length;t[0]&&t[0].colSpan&&(i=t.map(n=>n.colSpan).reduce((n,a)=>n+a));const s=Q("colgroup");for(let n=0;n<i;n++)s.appendChild(Q("col"));Mi([s],e)}getScrollXIndent(e){return e.offsetHeight-e.clientHeight>0?LR():0}scrollTopPanel(e){this.getDatesHeaderElement().firstElementChild.scrollLeft=e.scrollLeft}scrollHeaderLabels(e){const t=this.element.querySelector(".e-date-header-wrap table"),i=t.offsetWidth/t.querySelectorAll("colgroup col").length,s=(a,o)=>{let h,d=0,m=0;const v=o?-e.scrollLeft:e.scrollLeft;for(const C of a){if(m+=parseInt(C.getAttribute("colSpan"),10),m>Math.floor(v/i)){h=C;break}d+=C.offsetWidth}f(h)||(h.children[0].style[o?"right":"left"]=v-d+"px")},n=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"];for(const a of n){const o=[].slice.call(this.element.querySelectorAll(a));if(o.length>0){for(const h of o)h.children[0].style[this.parent.enableRtl?"right":"left"]="";s(o,this.parent.enableRtl)}}}addAttributes(e,t){e.template&&Ge(e.template,t),e.colSpan&&t.setAttribute("colspan",e.colSpan.toString()),e.className&&L([t],e.className)}getHeaderBarHeight(){let e=2;if(this.parent.headerModule&&(e+=QV(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){const t=this.parent.element.querySelector("."+lF);t&&(e+=t.offsetHeight)}return e}renderPanel(e){e===eF?Mi([this.element],this.parent.element.querySelector("."+Yu)):this.parent.element.querySelector("."+Yu).appendChild(this.element)}setPanel(e){this.element=e}getPanel(){return this.element}getDatesHeaderElement(){return this.element.querySelector("."+Qx)}getDateSlots(e,t){return[]}generateColumnLevels(){return[]}getColumnLevels(){return this.colLevels}highlightCurrentTime(){}startDate(){return this.renderDates[0]}endDate(){return at(this.renderDates[this.renderDates.length-1],1)}getStartHour(){let e=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return f(e)&&(e=new Date(2e3,0,0,0)),e}getEndHour(){let e=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return f(e)&&(e=new Date(2e3,0,0,0)),e}isCurrentDate(e){return e.setHours(0,0,0,0)===this.parent.getCurrentTime().setHours(0,0,0,0)}isCurrentMonth(e){return e.getFullYear()===this.parent.getCurrentTime().getFullYear()&&e.getMonth()===this.parent.getCurrentTime().getMonth()}isWorkDay(e,t=this.parent.activeViewOptions.workDays){return t.indexOf(e.getDay())>=0}isWorkHour(e,t,i,s){return!(f(t)||f(i)||(t.setMilliseconds(0),i.setMilliseconds(0),tm(e)<tm(t)||tm(e)>=tm(i)||!this.isWorkDay(e,s)))}getRenderDates(e){const t=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView){let s=Vh(ge(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek);for(let n=0,a=7*this.parent.activeViewOptions.interval;n<a;n++)(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,e))&&t.push(s),s=at(s,1)}else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView){let i=Vh(ge(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek);for(let s=0,n=7*this.parent.activeViewOptions.interval;s<n;s++)this.isWorkDay(i,e)&&t.push(i),i=at(i,1)}else{const i="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval;let s=ge(this.parent.selectedDate);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,e))&&t.push(s),s=at(s,1)}while(i!==t.length)}return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t}getNextPreviousDate(e){if("Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){const i=this.parent.activeViewOptions.interval;return at(this.parent.selectedDate,"next"===e?i:-i)}{let i;if("next"===e)for(i=at(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=at(i,1);else{i=at(this.renderDates[0],-1);let s=0;do{this.isWorkDay(i)&&(s+=1),this.parent.activeViewOptions.interval!==s&&(i=at(i,-1))}while(this.parent.activeViewOptions.interval!==s)}return i}}return at(this.parent.selectedDate,("next"===e?7:-7)*this.parent.activeViewOptions.interval)}getLabelText(e){const t=e.charAt(0).toLowerCase()+e.substring(1);return this.parent.localeObj.getConstant(t)+" of "+ks(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")}getDateRangeText(){return this.parent.isAdaptive?ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y",calendar:this.parent.getCalendarMode()}),"single"):this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])}formatDateRange(e,t){const i=this.parent.globalize,s=this.parent.getCalendarMode();if(e===t&&(t=null),!f(this.parent.activeViewOptions.dateFormat)){let h="";return t?(h=i.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:s})+" - "+i.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:s}),ks(h,"multiple")):(h=i.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:s}),ks(h,"multiple"))}let n,a;if(a="en"===this.parent.locale||"en-US"===this.parent.locale?X("dateFormats.long",Ca(s)):X("main."+this.parent.locale+".dates.calendars."+s+".dateFormats.long",Ps),!t)return ks(i.formatDate(e,{format:a,calendar:s}),"single");const o=a.trim().toLocaleLowerCase();return n="d"===o.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?i.formatDate(e,{format:"dd",calendar:s})+" - "+i.formatDate(t,{format:"dd MMMM yyyy",calendar:s}):i.formatDate(e,{format:"dd MMM",calendar:s})+" - "+i.formatDate(t,{format:"dd MMM yyyy",calendar:s}):i.formatDate(e,{format:"dd MMM yyyy",calendar:s})+" - "+i.formatDate(t,{format:"dd MMM yyyy",calendar:s}):"m"===o.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?i.formatDate(e,{format:"MMMM dd",calendar:s})+" - "+i.formatDate(t,{format:"dd, yyyy",calendar:s}):i.formatDate(e,{format:"MMM dd",calendar:s})+" - "+i.formatDate(t,{format:"MMM dd, yyyy",calendar:s}):i.formatDate(e,{format:"MMM dd, yyyy",calendar:s})+" - "+i.formatDate(t,{format:"MMM dd, yyyy",calendar:s}):i.formatDate(e,{format:a,calendar:s})+" - "+i.formatDate(t,{format:a,calendar:s}),ks(n,"multiple")}getMobileDateElement(e,t){return Q("div",{className:t,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+ks(this.parent.globalize.formatDate(e,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})}setResourceHeaderContent(e,t,i=fo){if(this.parent.activeViewOptions.resourceHeaderTemplate){const s={resource:t.resource,resourceData:t.resourceData},o=this.parent.element.id+"_"+this.parent.activeViewOptions.resourceHeaderTemplateName+"resourceHeaderTemplate";Ge([].slice.call(this.parent.getResourceHeaderTemplate()(s,this.parent,"resourceHeaderTemplate",o,!1)),e)}else e.appendChild(Q("div",{className:i,innerHTML:t.resourceData[t.resource.textField]}))}renderResourceMobileLayout(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())}addAutoHeightClass(e){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&L([e],OF)}getColElements(){return[].slice.call(this.element.querySelectorAll("."+li+" col, ."+yl+" col"))}setColWidth(e){if(this.isTimelineView()){const t=this.getColElements(),i=this.element.querySelector("."+ar+" tbody"),s=Math.ceil(i.offsetWidth/(t.length/2));if(t.forEach(n=>Ue(n,{width:fe(s)})),e.offsetHeight!==e.clientHeight){const n=this.parent.element.querySelector("."+tc);f(n)||Ue(n,{height:fe(e.clientHeight)})}}}resetColWidth(){const e=this.getColElements();for(const t of e)t.style.width=""}getContentAreaElement(){return this.element.querySelector("."+li)}wireExpandCollapseIconEvents(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1){const e=[].slice.call(this.element.querySelectorAll("."+Jw));for(const t of e)A.clearEvents(t),A.add(t,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}}scrollToDate(e){if(-1===["Month","TimelineMonth"].indexOf(this.parent.currentView)||f(e))return;const t=this.getContentAreaElement(),i=new Date(ge(new Date(+e)).getTime()).getTime(),s=t.querySelector(`.${Et}[data-date="${i}"]`);"Month"===this.parent.currentView&&s&&(t.scrollTop=s.offsetTop),"TimelineMonth"===this.parent.currentView&&s&&(t.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-s.offsetLeft-s.offsetWidth):s.offsetLeft)}setPersistence(){if(this.parent.enablePersistence){const e=this.element.querySelector(".e-content-wrap");f(e)||(this.parent.scrollLeft=e.scrollLeft,this.parent.scrollTop=e.scrollTop)}}retainScrollPosition(){if(this.parent.enablePersistence){const e=this.parent.element.querySelector(".e-content-wrap");!f(e)&&!f(this.parent.scrollLeft)&&!f(this.parent.scrollTop)&&(e.scrollTop=this.parent.scrollTop,e.scrollLeft=this.parent.scrollLeft)}}getViewStartDate(){let e=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=this.parent.resourceBase.getResourceRenderDates()[0]),e}getViewEndDate(){let e=at(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=at(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),e}destroy(){this.element&&this.element.parentNode&&nt(this.element),this.element=null,this.renderDates=null,this.colLevels=null}}class DL extends wL{constructor(e){super(e),this.viewClass="e-day-view",this.isInverseTableSelect=!0,this.baseCssClass="e-vertical-view",this.appointment=null}getModuleName(){return"verticalView"}addEventListener(){this.parent.on(Lc,this.scrollUiUpdate,this),this.parent.on(Nh,this.renderEvents,this)}removeEventListener(){this.parent&&(this.parent.off(Lc,this.scrollUiUpdate),this.parent.off(Nh,this.renderEvents))}renderEvents(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new zF(this.parent):new oD(this.parent),this.appointment.renderAppointments(),this.parent.notify(bv,{})}onContentScroll(e){this.parent.removeNewEventElement();const t=e.target;this.parent.notify(MR,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,f(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()}onAdaptiveMove(e){this.parent.uiStateValues.action&&e.preventDefault()}onAdaptiveScroll(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)}scrollLeftPanel(e){const t=this.getLeftPanelElement();f(t)||(t.scrollTop=e.scrollTop)}scrollUiUpdate(e){if(!this.parent)return;const t=this.parent.element.querySelector("."+yl),i=this.getHeaderBarHeight(),s=this.getLeftPanelElement(),n=this.getScrollableElement(),a=this.getDatesHeaderElement(),o=this.parent.element.offsetHeight-i-a.offsetHeight;this.setColWidth(n),this.setContentHeight(n,s,o);const h=LR();a.firstElementChild.style[e.cssProperties.rtlBorder]="",a.style[e.cssProperties.rtlPadding]="";const d=!this.parent.enableAllDayScroll||!(n.offsetWidth-n.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll"));n.offsetWidth-n.clientWidth>0&&d?(a.firstElementChild.style[e.cssProperties.border]=h>0?"1px":"0px",a.style[e.cssProperties.padding]=h>0?h-1+"px":"0px"):(a.firstElementChild.style[e.cssProperties.border]="",a.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(s&&(s.scrollTop=this.parent.uiStateValues.top),n.scrollTop=this.parent.uiStateValues.top,n.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}setContentHeight(e,t,i){this.parent.isAdaptive&&!this.isTimelineView()||f(t)||(t.style.height="auto"===this.parent.height?"auto":fe(i-this.getScrollXIndent(e))),e.style.height="auto"===this.parent.height?"auto":fe(i)}scrollToWorkHour(){if(this.parent.workHours.highlight){const e=this.element.querySelector("."+Kw);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}}scrollToHour(e,t){const i=this.parent.getStartEndTime(e);f(i)||!f(t)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(i))}generateColumnLevels(){const e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);let t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){const i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];t=[this.getDateSlots(i.renderDates,i.workDays,i.resourceData[i.resource.startHourField],i.resourceData[i.resource.endHourField])]}}else t.push(e);return this.colLevels=t,t}getDateSlots(e,t,i=this.parent.workHours.start,s=this.parent.workHours.end){const n=[],a=this.parent.getStartEndTime(i),o=this.parent.getStartEndTime(s);for(const h of e){const d=[ea];this.isCurrentDate(h)&&d.push(VR),n.push({date:h,type:"dateHeader",className:d,colSpan:1,workDays:t,startHour:new Date(+a),endHour:new Date(+o)})}return n}isWorkHourRange(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()}highlightCurrentTime(){if(!(this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option))if(this.parent.showTimeIndicator&&this.isWorkHourRange(this.parent.getCurrentTime()))if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+Et)).length>0&&this.changeCurrentTimePosition(),f(this.currentTimeIndicatorTimer)){const i=this.parent.getCurrentTime(),s=$a-(1e3*i.getSeconds()+i.getMilliseconds());s<=59e3&&window.setTimeout(()=>{f(this.currentTimeIndicatorTimer)||(this.clearCurrentTimeIndicatorTimer(),this.changeCurrentTimePosition(),this.updateCurrentTimeIndicatorTimer())},s),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer();else this.clearCurrentTimeIndicatorTimer()}getCurrentTimeIndicatorIndex(){const e=[];if(!f(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){let t=0;for(const i of this.parent.resourceBase.lastResourceLevel){const s=this.parent.getIndexOfDate(i.renderDates,ge(this.parent.getCurrentTime()));s>=0&&e.push(this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*s+t:t+s),t+=this.parent.activeViewOptions.group.byDate?1:i.renderDates.length}}else{const i=this.parent.getIndexOfDate(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,ge(this.parent.getCurrentTime()));i>=0&&e.push(i)}return e}clearCurrentTimeIndicatorTimer(){f(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())}updateCurrentTimeIndicatorTimer(){this.currentTimeIndicatorTimer=window.setInterval(()=>{this.changeCurrentTimePosition()},$a)}removeCurrentTimeIndicatorElements(){const t=[].slice.call(this.element.querySelectorAll(".e-previous-timeline,.e-current-timeline,.e-current-time"));for(const i of t)nt(i)}changeCurrentTimePosition(){if(!this.parent||this.parent&&this.parent.isDestroyed)return;this.removeCurrentTimeIndicatorElements();const e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],i=this.getTopFromDateTime(this.parent.getCurrentTime()),s=fe(i),n=Math.floor(i/t.cells[0].offsetHeight),a=this.getLeftPanelElement(),o=[].slice.call(a.querySelectorAll("tr"));if(f(n)||isNaN(n)||n===o.length)return;const h=[].slice.call(this.element.querySelectorAll("."+eW));for(let m=0,v=e[0];m<v;m++)h[m].appendChild(Q("div",{className:"e-previous-timeline",styles:"top:"+s}));for(const m of e)h[m].appendChild(Q("div",{className:yC,styles:"top:"+s}));const d=Q("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:"e-current-time",styles:"top:"+s});n<=o.length&&(H(a.querySelectorAll("."+rF),rF),o[n]&&L([o[n].lastElementChild],rF),Mi([d],a),d.style.top=fe(d.offsetTop-d.offsetHeight/2))}getTopFromDateTime(e){const t=this.getStartHour();return(60*(e.getHours()-t.getHours())+(e.getMinutes()-t.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval}getWorkCellHeight(){return parseFloat(this.element.querySelector("."+Et).getBoundingClientRect().height.toFixed(2))}getTdContent(e,t,i){let s;const n=Q("div");let a="";const o=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){a="dateHeaderTemplate";const h={date:e,type:t},d=this.parent.activeViewOptions.dateHeaderTemplateName;s=[].slice.call(this.parent.getDateHeaderTemplate()(h,this.parent,a,o+d+a,!1))}else n.innerHTML=this.parent.activeView.isTimelineView()?`<span class="e-header-date e-navigate">${this.getTimelineDate(e)}</span>`:`<div class="e-header-day">${ks(this.getDayName(e),"single")}</div><div class="e-header-date e-navigate" role="link">${this.getDate(e)}</div>`,s=[].slice.call(n.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){a="majorSlotTemplate";const h={date:e,type:t};s=[].slice.call(this.parent.getMajorSlotTemplate()(h,this.parent,a,o+a,!1))}else n.innerHTML=`<span>${this.getTime(e)}</span>`,s=[].slice.call(n.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){a="minorSlotTemplate";const h={date:e,type:t};s=[].slice.call(this.parent.getMinorSlotTemplate()(h,this.parent,a,o+a,!1))}else s=[].slice.call(n.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){const h=this.parent.activeViewOptions.cellTemplateName;a="cellTemplate";const d={date:e,type:t,groupIndex:i};s=[].slice.call(this.parent.getCellTemplate()(d,this.parent,a,o+h+a,!1))}}return s}refreshHeader(){nt(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(vl,{})}renderLayout(e){this.setPanel(Q("div",{className:UR}));const t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||L([this.element],["e-timescale-disable",this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&t.push(RW),this.parent.eventSettings.ignoreWhitespace&&t.push(_W),this.renderPanel(e),L([this.element],t),this.element.appendChild(this.createTableLayout(qR)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+Zx)&&this.renderResourceMobileLayout(),this.parent.notify(vl,{})}renderHeader(){const e=Q("tr"),t=Q("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){const i=Q("td",{className:"e-left-indent"});i.appendChild(this.renderLeftIndent()),e.appendChild(i)}e.appendChild(t),Mi([e],this.element.querySelector("tbody"))}renderContent(){const e=Q("tr"),t=Q("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");const i=Q("div",{className:aF});this.parent.activeViewOptions.timeScale.enable&&i.appendChild(this.renderTimeCells()),i.appendChild(this.renderContentArea()),t.appendChild(i),A.add(i,"scroll",this.onAdaptiveScroll,this),A.add(i,G.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{if(t.appendChild(this.renderContentArea()),this.parent.activeViewOptions.timeScale.enable){const i=Q("td");i.appendChild(this.renderTimeCells()),e.appendChild(i)}e.appendChild(t)}this.element.querySelector("tbody").appendChild(e)}renderLeftIndent(){const e=Q("div",{className:"e-left-indent-wrap"}),t=this.createTableLayout(),i=Q("tr"),s=this.colLevels.length;let n;for(let d=0;d<s;d++){const m=i.cloneNode(),v={className:[this.colLevels[d][0]&&this.colLevels[d][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==v.className.indexOf(ea)){v.className.push(HR);const C=this.parent.getWeekNumberContent(this.renderDates);v.template=[Q("span",{innerHTML:""+C,attrs:{title:this.parent.localeObj.getConstant("week")+" "+C}})]}n=this.createTd(v),this.parent.renderHeaderIndentTemplate(v,n),m.appendChild(n),t.querySelector("tbody").appendChild(m)}const a=i.cloneNode(),o=Q("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:rI+" "+QR+" "+An+" "+bs}),h={className:[Ms],type:"emptyCells"};return n=this.createTd(h),n.appendChild(o),this.parent.renderHeaderIndentTemplate(h,n),a.appendChild(n),t.querySelector("tbody").appendChild(a),e.appendChild(t),e}renderDatesHeader(){const e=Q("div",{className:Qx}),t=Q("div",{className:yl});e.appendChild(t);const i=this.createTableLayout(),s=Q("tr"),n=this.colLevels.length,a=this.colLevels[n-1];for(let o=0;o<n;o++){const h=s.cloneNode();L([h],yF);const d=this.colLevels[o];for(let m=0;m<d.length;m++)h.appendChild(this.createTd(d[m]));i.querySelector("tbody").appendChild(h)}return this.createAllDayRow(i,a),this.createColGroup(i,a),t.appendChild(i),e}createAllDayRow(e,t){const i=Q("tr");L([i],Jd);for(let n=0;n<t.length;n++){const a=ae({},t[n]);a.className=[Ms],a.type="alldayCells";const o=this.createTd(a);o.setAttribute("data-date",a.date.getTime().toString()),f(a.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&o.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):o.setAttribute("data-group-index",""+a.groupIndex),this.wireCellEvents(o),i.appendChild(o)}e.querySelector("tbody").appendChild(i);const s=Q("thead");s.appendChild(this.createEventWrapper("allDay")),Mi([s],e)}createTd(e){const t=Q("td");if(this.addAttributes(e,t),e.date&&e.type){const s=this.getTdContent(e.date,e.type,e.groupIndex);s&&s.length&&Ge(s,t)}return this.parent.isMinMaxDate(ge(new Date(""+e.date)))||L([t],aD),"resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type&&e.className.indexOf(ea)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),f(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t)),this.parent.trigger(gl,{elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex}),t}wireCellEvents(e){A.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)}wireMouseEvents(e){A.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||A.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)}renderTimeCells(){const e=Q("div",{className:sF}),t=this.createTableLayout(),i=Q("tr");return this.getTimeSlotRows(n=>{n.type=n.first?"majorSlot":"minorSlot",n.className=n.last?["e-time-cells",Xx]:[Xx];const a=i.cloneNode();return a.appendChild(this.createTd({date:n.date,type:n.type,className:n.className})),t.querySelector("tbody").appendChild(a),n}),e.appendChild(t),e}renderContentArea(){const e=Q("div",{className:li}),t=this.createTableLayout(ar);return this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),A.add(e,"scroll",this.onContentScroll,this),A.add(e,G.touchMoveEvent,this.onAdaptiveMove,this),e}renderContentTable(e){const t=Q("tr",{attrs:{role:"row"}}),i=Q("td",{attrs:{role:"gridcell","aria-selected":"false"}}),s=e.querySelector("tbody");this.getTimeSlotRows(a=>{const o=t.cloneNode();for(const h of this.colLevels[this.colLevels.length-1]){const d=this.createContentTd(h,a,i);o.appendChild(d)}return s.appendChild(o),a}),this.renderContentTableHeader(e)}createContentTd(e,t,i){const s=i.cloneNode();e.colSpan&&s.setAttribute("colspan",e.colSpan.toString());const n=this.getContentTdClass(t),a=ge(e.date);this.parent.isMinMaxDate(a)||n.push(aD),RR(a,tm(t.date));let o="workCells";if(-1!==e.className.indexOf(ep)&&(n.push(Xw),o="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(a,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(a,e.workDays))&&n.push(Kw),L([s],n),this.parent.activeViewOptions.cellTemplate){const d={date:a,type:o,groupIndex:e.groupIndex},C=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate";Ge([].slice.call(this.parent.getCellTemplate()(d,this.parent,"cellTemplate",C,!1)),s)}return s.setAttribute("data-date",a.getTime().toString()),(!f(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive)&&s.setAttribute("data-group-index",""+(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex)),this.parent.trigger(gl,{elementType:o,element:s,date:a,groupIndex:e.groupIndex}),s}getContentTdClass(e){return e.last?[Et]:[Et,"e-alternate-cells"]}renderContentTableHeader(e){const t=Q("thead");t.appendChild(this.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.createEventWrapper("timeIndicator")),Mi([t],e)}createEventWrapper(e=""){const t=Q("tr"),i=this.colLevels.slice(-1)[0];for(let s=0,n=i.length;s<n;s++){const a=i[s],o=Q("td",{className:"allDay"===e?ip:"timeIndicator"===e?eW:oF,attrs:{"data-date":a.date.getTime().toString()}});if(f(a.groupIndex)||o.setAttribute("data-group-index",a.groupIndex.toString()),""===e){const h=Q("div",{id:hn+"-"+s.toString(),className:hn});o.appendChild(h)}t.appendChild(o)}return t}getScrollableElement(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+aF):this.getContentAreaElement()}getLeftPanelElement(){return this.element.querySelector("."+sF)}getEndDateFromStartDate(e){const i=this.parent.activeViewOptions.timeScale.interval*$a/this.parent.activeViewOptions.timeScale.slotCount,s=new Date(e.getTime());return s.setMilliseconds(s.getMilliseconds()+i),s}getTimeSlotRows(e){const t=[],i=this.getStartHour(),s=this.getEndHour(),n=this.parent.activeViewOptions.timeScale.interval*$a,a=n/this.parent.activeViewOptions.timeScale.slotCount;let o=Math.round(Xn/a);const h=i.getTime(),d=s.getTime();h!==d&&(o=Math.abs(d-h)/a-(new Date(d).getTimezoneOffset()-new Date(h).getTimezoneOffset())/(60/this.parent.activeViewOptions.timeScale.slotCount)),this.parent.activeViewOptions.timeScale.enable||(o=1);const m=this.parent.getStartEndTime(this.parent.workHours.start),v=this.parent.getStartEndTime(this.parent.workHours.end);for(let C=0;C<o;C++){let w=new Date(h+a*C);if(f8(w)||new Date(h).getTimezoneOffset()!==w.getTimezoneOffset()){const O=new Date(h).getTimezoneOffset()-w.getTimezoneOffset();w=new Date(w.getTime()-6e4*O)}const S=C%(n/a),k={date:new Date(""+w),startHour:m,endHour:v,first:0===S,middle:S<this.parent.activeViewOptions.timeScale.slotCount-1,last:S===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(k),t.push(k)}return t}destroy(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);const e=this.getContentAreaElement();e&&(A.remove(e,"scroll",this.onContentScroll),A.remove(e,G.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),super.destroy()}}}class j3 extends wL{constructor(e){super(e)}createAgendaContentElement(e,t,i,s,n){let a;const o=this.parent.eventFields;if("noEvents"===e){const h=[{subject:this.parent.localeObj.getConstant("noEvents")}];a=Ti.createList(this.parent.createElement,h,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:"<div class=e-no-event>${subject}</div>"})}else a=Ti.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass}),[].slice.call(a.children).forEach((d,m)=>{const v=Q("div",{className:Bt,attrs:{"data-id":"Appointment_"+t[m][this.parent.eventFields.id],"data-guid":t[m].Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(t[m]),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(t[m])}});let C;if(f(n)||v.setAttribute("data-group-index",n.toString()),this.parent.eventBase.applyResourceColor(v,t[m],"borderColor",s),f(this.parent.activeViewOptions.eventTemplate))C=this.createAppointment(t[m]);else{L([v],"e-template");const O=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";C=this.parent.getAppointmentTemplate()(t[m],this.parent,"eventTemplate",O,!1),f(t[m][o.recurrenceRule])||v.appendChild(Q("div",{className:An+" "+(t[m][o.id]===t[m][o.recurrenceID]?iI:sI)}))}Ge([].slice.call(C),v),Xd(d),d.appendChild(v);const w={data:ae({},t[m],null,!0),element:d,cancel:!1};this.parent.trigger(Yw,w,S=>{S.cancel&&nt(d)})});return i.appendChild(a),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&L([i],rW),this.parent.renderTemplates(),i}createAppointment(e){const t=this.parent.eventFields;let i=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle");const s=e[t.location]||this.parent.eventSettings.fields.location.default,n=Q("div",{className:hF});!f(s)&&""!==s&&(i+=","),n.appendChild(Q("div",{className:or,innerHTML:i})),!f(s)&&""!==s&&n.appendChild(Q("div",{className:Av,innerHTML:s})),f(e[t.recurrenceRule])||n.appendChild(Q("div",{className:An+" "+(e[t.id]===e[t.recurrenceID]?iI:sI)}));const a=e[t.startTime],o=e[t.endTime],h=e[t.isAllDay];let d=this.parent.localeObj.getConstant("allDay");const m=this.parent.getTimeString(a)+" - "+this.parent.getTimeString(o);f(e.data)||(d=((o.getTimezoneOffset()!==a.getTimezoneOffset()?o.getTime()-a.getTime()+36e5:o.getTime()-a.getTime())/Xn>=1?d:m)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")");const v=!f(e.data)||h?d:m;return[n,Q("div",{className:dF,innerHTML:v})]}processAgendaEvents(e){let t=[];if(f(e))return t;for(const i of e){const s=this.parent.eventBase.splitEventByDay(i);t=t.concat(s.length>1?s:i)}return t}wireEventActions(){const e=[].slice.call(this.parent.element.querySelectorAll("."+Bt));for(const i of e)this.parent.eventBase.wireAppointmentEvents(i,null,!0);const t=[].slice.call(this.parent.element.querySelectorAll(".e-m-date"));for(const i of t)A.add(i,"click",this.parent.agendaModule.dayNavigationClick,this)}calculateResourceTableElement(e,t,i){if(f(this.parent.resourceBase.lastResourceLevel)){const m=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(m)}const s=at(new Date(i.getTime()),t),n=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?t:1,a=this.parent.resourceBase.resourceCollection,o=this.parent.resourceBase.lastResourceLevel,h=i;for(let m=0;m<n;m++){const v=[],C=[];let S,k,w=0;const O=at(h,m),N=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?at(O,1):s,q=this.parent.eventBase.filterEvents(O,N);if(q.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(let ce=0;ce<o.length;ce++){t=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:t;const Fe=[],Se=this.parent.eventBase.filterEvents(i=O,s,q,o[ce]);if(Se.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(let Be=0;Be<t;Be++){const ht=this.parent.eventBase.filterEvents(i,at(i,1),Se,void 0);if((ht.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(Fe.push(ht[0]),S={rowSpan:1,type:"eventColumn",resource:a[a.length-1],groupIndex:o[ce].groupIndex,groupOrder:o[ce].groupOrder,resourceData:o[ce].resourceData,eventData:ht,date:i},k={rowSpan:1,type:"dateColumn",resource:a[a.length-1],groupOrder:o[ce].groupOrder,resourceData:o[ce].resourceData,date:i},v[w]||(v[w]=[]),v[w].push(S),v[w].push(k),w++),(i=at(i,1)).getTime()>=s.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){v[v.length-1][1].cssClass=rW;const Ie={rowSpan:Fe.length,type:"resourceColumn",resource:a[a.length-1],groupOrder:o[ce].groupOrder.slice(0,-1),resourceData:o[ce].resourceData,groupIndex:v.length-Fe.length,className:[iW],date:i};v[v.length-Fe.length].push(Ie),C.push(ae({},Ie,null,!0));break}}}const z=a.slice(0,-1);let Z=[],Ce=0;for(let ce=0;ce<z.length;ce++){const Fe=z[z.length-(ce+1)].dataSource;for(let Se=0;Se<Fe.length;Se++){let Be=0;for(let ht=0;ht<C.length;ht++)C[ht].groupOrder[z.length-(ce+1)]===Fe[Se][z[z.length-(ce+1)].idField]&&(Ce+=C[ht].rowSpan,Z.push(ae({},C[ht],null,!0))),++Be===C.length&&Z.length>0&&(Z[0].rowSpan=Ce,Z[0].type="parentColumnLevel_"+(ce+1),Z[0].resource=z[z.length-(ce+1)],Z[0].resourceData=Fe[Se],Z[0].date=i,v[Z[0].groupIndex].push(Z[0]),Z=[],Ce=0)}}this.createResourceTableRow(v,e)}}0===this.parent.eventBase.filterEvents(h,s).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,h)}createResourceTableRow(e,t){const i=Q("tr",{attrs:{role:"row"}});let s;const n=Q("td",{attrs:{role:"gridcell","aria-selected":"false"}});let a,h,o=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){let d=[];const m=this.parent.resourceBase.resourceCollection.slice(0,-1);for(let C=0;C<e.length;C++)d=d.concat(e[C]);h=m.length>0?"parentColumnLevel_"+m.length:"resourceColumn";const v=d.filter(C=>C.type===h);for(let C=0;C<v.length;C++)o+=v[C].rowSpan}for(let d=0;d<e.length;d++){s=i.cloneNode();for(let m=e[d].length-1;m>=0;m--){const v=e[d][m];let C=n.cloneNode();if("dateColumn"===v.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){a=e[d][m];continue}C.setAttribute("data-date",v.date.getTime().toString()),C.appendChild(this.createDateHeaderElement(v.date));const w=[nm,nW];v.cssClass&&w.push(v.cssClass),L([C],w),s.appendChild(C)}else"eventColumn"===v.type?(C=this.createAgendaContentElement(0===v.eventData.length?"noEvents":"data",v.eventData,C,v.groupOrder,v.groupIndex),C.setAttribute("data-date",v.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&L([C],[nm,"e-day-padding"]),s.appendChild(C)):(C.setAttribute("rowspan",v.rowSpan.toString()),L([C],"e-resource-column"),this.setResourceHeaderContent(C,v,v.className[0]),s.appendChild(C))}if(this.parent.activeViewOptions.group.byDate&&0===d&&"MonthAgenda"!==this.parent.currentView){const m=n.cloneNode();m.setAttribute("data-date",a.date.getTime().toString()),m.setAttribute("rowspan",o.toString()),m.appendChild(this.createDateHeaderElement(a.date)),L([m],[nm,nW,"e-date-border"]);const v=$V(this.parent.selectedDate.getTime(),a.date.getTime());if(s.setAttribute("aria-rowindex",v.toString()),this.parent.element.querySelector(`.e-agenda-view tr[aria-rowindex="${v}"]`))break;s.insertBefore(m,s.childNodes[0])}t.appendChild(s)}}createDateHeaderElement(e){let t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=Q("div",{className:sW});const i={date:e,type:"dateHeader"},a=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate";Ge([].slice.call(this.parent.getDateHeaderTemplate()(i,this.parent,"dateHeaderTemplate",a,!1)),t)}else t=this.getMobileDateElement(e,sW);return t}renderEmptyContent(e,t){const i=this.createTableRowElement(t,"noEvents"),s=i.children[0],n=Q("div",{className:"e-empty-event",innerHTML:this.parent.localeObj.getConstant("noEvents")});s.appendChild(n),e.appendChild(i)}createTableRowElement(e,t){const i=$V(this.parent.selectedDate.getTime(),e.getTime()),s=Q("tr",{attrs:{role:"row","aria-rowindex":i.toString()}}),n=Q("td",{attrs:{class:"monthHeader"===t?"e-month-header":nm,role:"gridcell","aria-selected":"false","aria-colindex":i.toString(),"data-date":e.getTime().toString()}}),a=n.cloneNode(),o=n.cloneNode();return s.appendChild(a),"noEvents"!==t&&s.appendChild(o),s}destroy(){super.destroy()}}const G3=["dateHeaderTemplate"],Q3=["dayHeaderTemplate"],K3=["cellHeaderTemplate"],X3=["cellTemplate"],M9=["eventTemplate"],Z3=["monthHeaderTemplate"],J3=["resourceHeaderTemplate"],eU=["headerIndentTemplate"],tU=["timeScaleMinorSlotTemplate"],iU=["timeScaleMajorSlotTemplate"],sU=["groupHeaderTooltipTemplate"],O9=["template"],R9=["eventSettingsTooltipTemplate"],L9=["eventSettingsTemplate"],_9=["editorTemplate"],P9=["quickInfoTemplatesHeader"],N9=["quickInfoTemplatesContent"],V9=["quickInfoTemplatesFooter"];var Qu=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},Ku=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let F9=["allowVirtualScrolling","cellHeaderTemplate","cellTemplate","dateFormat","dateHeaderTemplate","dayHeaderTemplate","displayName","endHour","eventTemplate","firstDayOfWeek","firstMonthOfYear","group","headerIndentTemplate","headerRows","interval","isSelected","monthHeaderTemplate","monthsCount","option","orientation","readonly","resourceHeaderTemplate","showWeekNumber","showWeekend","startHour","timeFormat","timeScale","workDays"],H9=[],B9=(()=>{class r extends Ry{constructor(t){super(),this.viewContainerRef=t,Oy("currentInstance",this,this.viewContainerRef),this.registerEvents(H9),this.directivePropList=F9}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ViewContainerRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-view"]],contentQueries:function(t,i,s){if(1&t&&(b.\u0275\u0275contentQuery(s,G3,5),b.\u0275\u0275contentQuery(s,Q3,5),b.\u0275\u0275contentQuery(s,K3,5),b.\u0275\u0275contentQuery(s,X3,5),b.\u0275\u0275contentQuery(s,M9,5),b.\u0275\u0275contentQuery(s,Z3,5),b.\u0275\u0275contentQuery(s,J3,5),b.\u0275\u0275contentQuery(s,eU,5),b.\u0275\u0275contentQuery(s,tU,5),b.\u0275\u0275contentQuery(s,iU,5),b.\u0275\u0275contentQuery(s,sU,5)),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.dateHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.dayHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.cellHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.cellTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.eventTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.monthHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.resourceHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.headerIndentTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.timeScale_minorSlotTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.timeScale_majorSlotTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.group_headerTooltipTemplate=n.first)}},inputs:{allowVirtualScrolling:"allowVirtualScrolling",cellHeaderTemplate:"cellHeaderTemplate",cellTemplate:"cellTemplate",dateFormat:"dateFormat",dateHeaderTemplate:"dateHeaderTemplate",dayHeaderTemplate:"dayHeaderTemplate",displayName:"displayName",endHour:"endHour",eventTemplate:"eventTemplate",firstDayOfWeek:"firstDayOfWeek",firstMonthOfYear:"firstMonthOfYear",group:"group",headerIndentTemplate:"headerIndentTemplate",headerRows:"headerRows",interval:"interval",isSelected:"isSelected",monthHeaderTemplate:"monthHeaderTemplate",monthsCount:"monthsCount",option:"option",orientation:"orientation",readonly:"readonly",resourceHeaderTemplate:"resourceHeaderTemplate",showWeekNumber:"showWeekNumber",showWeekend:"showWeekend",startHour:"startHour",timeFormat:"timeFormat",timeScale:"timeScale",workDays:"workDays"},features:[b.\u0275\u0275InheritDefinitionFeature]}),Qu([Vs(),Ku("design:type",Object)],r.prototype,"dateHeaderTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"dayHeaderTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"cellHeaderTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"cellTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"eventTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"monthHeaderTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"resourceHeaderTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"headerIndentTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"timeScale_minorSlotTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"timeScale_majorSlotTemplate",void 0),Qu([Vs(),Ku("design:type",Object)],r.prototype,"group_headerTooltipTemplate",void 0),r})(),j9=(()=>{class r extends NS{constructor(){super("views")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-views"]],contentQueries:function(t,i,s){if(1&t&&b.\u0275\u0275contentQuery(s,B9,4),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.children=n)}},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})(),W9=["allowMultiple","colorField","cssClassField","dataSource","endHourField","expandedField","field","groupIDField","idField","name","query","startHourField","textField","title","workDaysField"],U9=[],q9=(()=>{class r extends Ry{constructor(t){super(),this.viewContainerRef=t,Oy("currentInstance",this,this.viewContainerRef),this.registerEvents(U9),this.directivePropList=W9}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ViewContainerRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-resource"]],inputs:{allowMultiple:"allowMultiple",colorField:"colorField",cssClassField:"cssClassField",dataSource:"dataSource",endHourField:"endHourField",expandedField:"expandedField",field:"field",groupIDField:"groupIDField",idField:"idField",name:"name",query:"query",startHourField:"startHourField",textField:"textField",title:"title",workDaysField:"workDaysField"},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})(),z9=(()=>{class r extends NS{constructor(){super("resources")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-resources"]],contentQueries:function(t,i,s){if(1&t&&b.\u0275\u0275contentQuery(s,q9,4),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.children=n)}},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})(),G9=["option","template"],Q9=[],nU=(()=>{class r extends Ry{constructor(t){super(),this.viewContainerRef=t,Oy("currentInstance",this,this.viewContainerRef),this.registerEvents(Q9),this.directivePropList=G9}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ViewContainerRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-header-row"]],contentQueries:function(t,i,s){if(1&t&&b.\u0275\u0275contentQuery(s,O9,5),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.template=n.first)}},inputs:{option:"option",template:"template"},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})();!function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);s>3&&n&&Object.defineProperty(e,t,n)}([Vs(),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],nU.prototype,"template",void 0);let K9=(()=>{class r extends NS{constructor(){super("headerrows")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["e-header-rows"]],contentQueries:function(t,i,s){if(1&t&&b.\u0275\u0275contentQuery(s,nU,4),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.children=n)}},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})();var vo=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},yo=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const X9=["actionBegin","actionComplete","actionFailure","cellClick","cellDoubleClick","created","dataBinding","dataBound","destroyed","drag","dragStart","dragStop","eventClick","eventRendered","hover","moreEventsClick","navigating","popupClose","popupOpen","renderCell","resizeStart","resizeStop","resizing","select","currentViewChange","selectedDateChange"],Z9=["currentView","selectedDate"];let ka=(()=>{let r=class extends cH{constructor(t,i,s,n){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=n,this.tags=["views","resources","headerRows"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let a=this.injector.get("ScheduleDay");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleWeek");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleWorkWeek");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleMonth");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleYear");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleAgenda");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleMonthAgenda");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineViews");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineMonth");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineYear");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleResize");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleDragAndDrop");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleExcelExport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleICalendarExport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleICalendarImport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("SchedulePrint");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}this.registerEvents(X9),this.addTwoWay.call(this,Z9),Oy("currentInstance",this,this.viewContainerRef),this.context=new ME}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childViews,this.childResources&&(this.tagObjects[1].instance=this.childResources),this.childHeaderRows&&(this.tagObjects[2].instance=this.childHeaderRows),this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(b.ViewContainerRef),b.\u0275\u0275directiveInject(b.Injector))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["ejs-schedule"]],contentQueries:function(t,i,s){if(1&t&&(b.\u0275\u0275contentQuery(s,G3,5),b.\u0275\u0275contentQuery(s,Q3,5),b.\u0275\u0275contentQuery(s,X3,5),b.\u0275\u0275contentQuery(s,K3,5),b.\u0275\u0275contentQuery(s,R9,5),b.\u0275\u0275contentQuery(s,L9,5),b.\u0275\u0275contentQuery(s,_9,5),b.\u0275\u0275contentQuery(s,Z3,5),b.\u0275\u0275contentQuery(s,tU,5),b.\u0275\u0275contentQuery(s,iU,5),b.\u0275\u0275contentQuery(s,J3,5),b.\u0275\u0275contentQuery(s,eU,5),b.\u0275\u0275contentQuery(s,P9,5),b.\u0275\u0275contentQuery(s,N9,5),b.\u0275\u0275contentQuery(s,V9,5),b.\u0275\u0275contentQuery(s,sU,5),b.\u0275\u0275contentQuery(s,j9,5),b.\u0275\u0275contentQuery(s,z9,5),b.\u0275\u0275contentQuery(s,K9,5)),2&t){let n;b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.dateHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.dayHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.cellTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.cellHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.eventSettings_tooltipTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.eventSettings_template=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.editorTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.monthHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.timeScale_minorSlotTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.timeScale_majorSlotTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.resourceHeaderTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.headerIndentTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.quickInfoTemplates_header=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.quickInfoTemplates_content=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.quickInfoTemplates_footer=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.group_headerTooltipTemplate=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.childViews=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.childResources=n.first),b.\u0275\u0275queryRefresh(n=b.\u0275\u0275loadQuery())&&(i.childHeaderRows=n.first)}},inputs:{agendaDaysCount:"agendaDaysCount",allowDragAndDrop:"allowDragAndDrop",allowInline:"allowInline",allowKeyboardInteraction:"allowKeyboardInteraction",allowMultiCellSelection:"allowMultiCellSelection",allowMultiDrag:"allowMultiDrag",allowMultiRowSelection:"allowMultiRowSelection",allowResizing:"allowResizing",calendarMode:"calendarMode",cellHeaderTemplate:"cellHeaderTemplate",cellTemplate:"cellTemplate",cssClass:"cssClass",currentView:"currentView",dateFormat:"dateFormat",dateHeaderTemplate:"dateHeaderTemplate",dayHeaderTemplate:"dayHeaderTemplate",editorTemplate:"editorTemplate",enableAdaptiveUI:"enableAdaptiveUI",enableAllDayScroll:"enableAllDayScroll",enablePersistence:"enablePersistence",enableRecurrenceValidation:"enableRecurrenceValidation",enableRtl:"enableRtl",endHour:"endHour",eventDragArea:"eventDragArea",eventSettings:"eventSettings",firstDayOfWeek:"firstDayOfWeek",firstMonthOfYear:"firstMonthOfYear",group:"group",headerIndentTemplate:"headerIndentTemplate",headerRows:"headerRows",height:"height",hideEmptyAgendaDays:"hideEmptyAgendaDays",locale:"locale",maxDate:"maxDate",minDate:"minDate",monthHeaderTemplate:"monthHeaderTemplate",monthsCount:"monthsCount",quickInfoOnSelectionEnd:"quickInfoOnSelectionEnd",quickInfoTemplates:"quickInfoTemplates",readonly:"readonly",resourceHeaderTemplate:"resourceHeaderTemplate",resources:"resources",rowAutoHeight:"rowAutoHeight",selectedDate:"selectedDate",showHeaderBar:"showHeaderBar",showQuickInfo:"showQuickInfo",showTimeIndicator:"showTimeIndicator",showWeekNumber:"showWeekNumber",showWeekend:"showWeekend",startHour:"startHour",timeFormat:"timeFormat",timeScale:"timeScale",timezone:"timezone",timezoneDataSource:"timezoneDataSource",views:"views",weekRule:"weekRule",width:"width",workDays:"workDays",workHours:"workHours"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",cellClick:"cellClick",cellDoubleClick:"cellDoubleClick",created:"created",dataBinding:"dataBinding",dataBound:"dataBound",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",dragStop:"dragStop",eventClick:"eventClick",eventRendered:"eventRendered",hover:"hover",moreEventsClick:"moreEventsClick",navigating:"navigating",popupClose:"popupClose",popupOpen:"popupOpen",renderCell:"renderCell",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",select:"select",currentViewChange:"currentViewChange",selectedDateChange:"selectedDateChange"},features:[b.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();vo([Vs(),yo("design:type",Object)],ka.prototype,"dateHeaderTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"dayHeaderTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"cellTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"cellHeaderTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"eventSettings_tooltipTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"eventSettings_template",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"editorTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"monthHeaderTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"timeScale_minorSlotTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"timeScale_majorSlotTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"resourceHeaderTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"headerIndentTemplate",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"quickInfoTemplates_header",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"quickInfoTemplates_content",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"quickInfoTemplates_footer",void 0),vo([Vs(),yo("design:type",Object)],ka.prototype,"group_headerTooltipTemplate",void 0),ka=vo([dM([ME]),yo("design:paramtypes",[b.ElementRef,b.Renderer2,b.ViewContainerRef,b.Injector])],ka);let uH=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[[ke.CommonModule]]}),r})();const rU={provide:"ScheduleDay",useValue:class extends DL{constructor(e){super(e),this.viewClass="e-day-view"}getModuleName(){return"day"}}},aU={provide:"ScheduleWeek",useValue:class extends DL{constructor(e){super(e),this.viewClass="e-week-view"}startDate(){return this.getViewStartDate()}endDate(){return this.getViewEndDate()}getModuleName(){return"week"}}},oU={provide:"ScheduleWorkWeek",useValue:class extends DL{constructor(e){super(e),this.viewClass="e-work-week-view"}startDate(){return this.getViewStartDate()}endDate(){return this.getViewEndDate()}getModuleName(){return"workWeek"}}},lU={provide:"ScheduleMonth",useValue:class extends wL{constructor(e){super(e),this.dayNameFormat="wide",this.viewClass="e-month-view",this.isInverseTableSelect=!1,this.monthEvent=null,this.monthDates={}}addEventListener(){this.parent.on(Lc,this.onScrollUIUpdate,this),this.parent.on(Nh,this.onDataReady,this),this.parent.on(yv,this.onCellClick,this)}removeEventListener(){this.parent&&(this.parent.off(Lc,this.onScrollUIUpdate),this.parent.off(Nh,this.onDataReady),this.parent.off(yv,this.onCellClick))}onDataReady(e){this.monthEvent=new oD(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(bv,{})}onCellClick(e){}onContentScroll(e){this.parent.removeNewEventElement(),this.parent.notify(MR,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.setPersistence()}scrollLeftPanel(e){const t=this.getLeftPanelElement();t&&(t.scrollTop=e.scrollTop)}getLeftPanelElement(){return this.element.querySelector("."+cF)}onScrollUIUpdate(e){const t=this.getHeaderBarHeight(),i=this.getDatesHeaderElement(),s=this.getContentAreaElement(),n=this.parent.element.offsetHeight-t-i.offsetHeight,a=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(s,a,n);const o=LR();if(i.firstElementChild.style[e.cssProperties.rtlBorder]="",i.style[e.cssProperties.rtlPadding]="",s.offsetWidth-s.clientWidth>0?(i.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",i.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(i.firstElementChild.style[e.cssProperties.border]="",i.style[e.cssProperties.padding]=""),this.setColWidth(s),e.scrollPosition)a&&(a.scrollTop=e.scrollPosition.top),s.scrollTop=e.scrollPosition.top,s.scrollLeft=e.scrollPosition.left;else{const h=this.element.querySelector("."+ea+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]');s.scrollLeft=f(h)?0:this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-h.offsetLeft-h.offsetWidth):h.offsetLeft}this.retainScrollPosition()}setContentHeight(e,t,i){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=fe(i)),t&&("MonthAgenda"===this.parent.currentView&&(i=this.element.querySelector("."+ar).offsetHeight),t.style.height="auto",t.style.height=fe(i-this.getScrollXIndent(e)))}generateColumnLevels(){let e=[];const t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),"MonthAgenda"===this.parent.currentView&&(e=[t]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){const i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];e=[this.getDateSlots(i.renderDates,i.workDays)]}}else e.push(t);return this.colLevels=e,e}getDateSlots(e,t){const i=this.parent.activeViewOptions.showWeekend?7:t.length,s=[];for(let n=0;n<i;n++){const a=[ea],o=e.slice(0,i).map(h=>h.getDay());this.isCurrentMonth(this.parent.selectedDate)&&o.indexOf(this.parent.getCurrentTime().getDay())===n&&a.push(VR),s.push({date:e[n],type:"monthDay",className:a,colSpan:1,workDays:t})}return s}getDayNameFormat(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"}renderLayout(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel(Q("div",{className:UR}));const t=[this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.allowVirtualScrolling&&t.push(RW),this.parent.eventSettings.ignoreWhitespace&&t.push(_W),L([this.element],t),this.renderPanel(e),this.element.appendChild(this.createTableLayout(qR)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();const i="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!i.querySelector("."+Zx)&&this.renderResourceMobileLayout(),this.parent.notify(vl,{})}refreshHeader(){nt(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(vl,{})}wireCellEvents(e){A.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),A.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||A.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)}renderHeader(){const e=Q("tr");this.renderLeftIndent(e);const t=Q("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),Mi([e],this.element.querySelector("tbody"))}renderLeftIndent(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild(Q("td",{className:"e-left-indent"}))}renderContent(){const e=Q("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());const t=Q("td"),i=Q("div",{className:li}),s=this.renderContentArea();if("Month"===this.parent.currentView)i.appendChild(s);else{const n=Q("div",{className:Yu});n.appendChild(s),i.appendChild(n)}A.add(i,"scroll",this.onContentScroll,this),t.appendChild(i),e.appendChild(t),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()}renderWeekNumberContent(){const e=this.renderDates.map(a=>new Date(+a)),t=Q("td"),i=Q("div",{className:cF});t.appendChild(i);const s=this.createTableLayout();i.appendChild(s);const n=this.parent.activeViewOptions.showWeekend?7:this.parent.activeViewOptions.workDays.length;for(let a=0,o=this.renderDates.length/n;a<o;a++){const h=e.splice(0,n),d=this.parent.getWeekNumberContent(h);s.querySelector("tbody").appendChild(this.createWeekNumberElement(d))}return t}renderAppointmentContainer(){}renderDatesHeader(){const e=Q("div",{className:Qx}),t=Q("div",{className:yl});e.appendChild(t);const i=this.createTableLayout();this.createColGroup(i,this.colLevels[this.colLevels.length-1]);const s=Q("tr");for(let n=0;n<this.colLevels.length;n++){const a=this.colLevels[n],o=s.cloneNode();for(let h=0;h<a.length;h++)o.appendChild(this.createHeaderCell(a[h]));i.querySelector("tbody").appendChild(o)}return t.appendChild(i),e}createHeaderCell(e){const t=Q("td");if(this.addAttributes(e,t),"monthDay"===e.type){const s=Q("span",{innerHTML:ks(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});t.appendChild(s)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type){if(L([t],iD),t.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){const s={date:e.date,type:e.type},o=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate",h=[].slice.call(this.parent.getDateHeaderTemplate()(s,this.parent,"dateHeaderTemplate",o,!1));h&&h.length&&Ge(h,t)}else{const s=Q("span",{className:CC}),a=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});s.setAttribute("title",ks(a,"multiple"));const o=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});s.innerHTML=ks(o,"single"),t.appendChild(s)}this.wireCellEvents(t)}return this.parent.trigger(gl,{elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex}),t}getContentSlots(){if(!this.colLevels[this.colLevels.length-1]||!this.colLevels[this.colLevels.length-1][0])return[];const e=[],t=(s,n,a,o)=>{const h={date:new Date(+n),groupIndex:a.groupIndex,workDays:a.workDays,type:"monthCells",className:o||[Et]};e[s]||(e[s]=[]),e[s].push(h)},i="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!i||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate){const s=this.renderDates.map(a=>new Date(+a)),n=this.parent.activeViewOptions.showWeekend?7:this.parent.activeViewOptions.workDays.length;for(let a=0;a<this.renderDates.length/n;a++){const o=s.splice(0,n);for(const h of o)if(i){const d=this.colLevels[this.colLevels.length-1],m=d.slice(0,d.length/n);for(let v=0;v<m.length;v++){let C;0!==v&&(C=[Et,"e-disable-date"]),t(a,h,m[v],C)}}else t(a,h,this.colLevels[this.colLevels.length-1][0])}}else for(const s of this.colLevels[this.colLevels.length-2]){const n=s.renderDates.map(o=>new Date(+o)),a=this.parent.activeViewOptions.showWeekend?7:s.workDays.length;for(let o=0;o<s.renderDates.length/a;o++){const h=n.splice(0,a);for(const d of h)t(o,d,s)}}return e}updateClassList(e){this.isOtherMonth(e.date)&&e.className.push("e-other-month"),this.parent.isMinMaxDate(e.date)||e.className.push(aD),"MonthAgenda"===this.parent.currentView&&this.parent.isSelectedDate(e.date)&&e.className.push(Jx)}isOtherMonth(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()}renderContentArea(){const e=this.createTableLayout(ar);this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);const t=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(t),end:this.parent.calendarUtil.lastDateOfMonth(zu(t,this.parent.activeViewOptions.interval-1))};const i=e.querySelector("tbody");return Ge(this.getContentRows(),i),this.wireCellEvents(i),e}getContentRows(){const e=[],t=Q("tr",{attrs:{role:"row"}}),i=Q("td",{attrs:{role:"gridcell","aria-selected":"false"}}),s=this.getContentSlots();for(let n=0;n<s.length;n++){const a=t.cloneNode();for(let o=0;o<s[n].length;o++){const h=this.createContentTd(s[n][o],i);a.appendChild(h)}e.push(a)}return e}createContentTd(e,t){const i=t.cloneNode();e.colSpan&&i.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);let s=e.type;if(-1!==e.className.indexOf(ep)&&(e.className.push(Xw),s="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push("e-work-days"),this.isCurrentDate(e.date)&&e.className.push(ZV),L([i],e.className),i.setAttribute("data-date",e.date.getTime().toString()),(!f(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive)&&i.setAttribute("data-group-index",""+(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex)),this.renderDateHeaderElement(e,i),this.parent.activeViewOptions.cellTemplate){const a={date:e.date,type:s,groupIndex:e.groupIndex},d=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate";Ge([].slice.call(this.parent.getCellTemplate()(a,this.parent,"cellTemplate",d,!1)),i)}return this.parent.trigger(gl,{elementType:s,element:i,date:e.date,groupIndex:e.groupIndex}),i}renderDateHeaderElement(e,t){if("TimelineMonth"===this.parent.currentView)return;const i=Q("div",{className:iD});if(this.parent.activeViewOptions.cellHeaderTemplate){const s={date:e.date,type:e.type,groupIndex:e.groupIndex},o=this.parent.element.id+"_"+this.parent.activeViewOptions.cellHeaderTemplateName+"cellHeaderTemplate";Ge([].slice.call(this.parent.getCellHeaderTemplate()(s,this.parent,"cellHeaderTemplate",o,!1)),i)}else{const s=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});i.innerHTML=ks(s,"single")}if(t.appendChild(i),"month"===this.getModuleName()){L([i],CC);const n=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",n)}}getMonthStart(e){const t=Vh(this.parent.calendarUtil.firstDateOfMonth(e),this.parent.activeViewOptions.firstDayOfWeek);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getMonthEnd(e){const t=zu(e,this.parent.activeViewOptions.interval-1);return at(Vh(this.parent.calendarUtil.lastDateOfMonth(t),this.parent.activeViewOptions.firstDayOfWeek),6)}getRenderDates(e){const t=[],i=ge(this.parent.selectedDate);let s=this.getMonthStart(i);const n=this.getMonthEnd(i);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,e))&&t.push(s),s=at(s,1),s.getHours()>0&&(s=ge(s))}while(s.getTime()<=n.getTime());return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t}getNextPreviousDate(e){return zu(this.parent.selectedDate,"next"===e?this.parent.activeViewOptions.interval:-this.parent.activeViewOptions.interval)}getEndDateFromStartDate(e){return at(new Date(e.getTime()),1)}getDateRangeText(){if(this.parent.isAdaptive||f(this.parent.activeViewOptions.dateFormat)){if(this.parent.activeViewOptions.interval>1){const t=zu(Gw(this.parent.selectedDate),this.parent.activeViewOptions.interval-1);return this.parent.selectedDate.getFullYear()===t.getFullYear()?ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()}),"single"):ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+this.parent.selectedDate.getFullYear()+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()}),"single")}return ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)}getLabelText(e){return this.parent.localeObj.getConstant(e)+" of "+ks(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")}createWeekNumberElement(e){const t=Q("tr"),i=Q("td",{className:HR,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});return t.appendChild(i),this.parent.trigger(gl,{elementType:"weekNumberCell",element:i}),t}unWireEvents(){const e=this.element.querySelector("."+li);e&&A.remove(e,"scroll",this.onContentScroll)}getModuleName(){return"month"}destroy(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),super.destroy())}}},cU={provide:"ScheduleAgenda",useValue:class extends j3{constructor(e){super(e),this.viewClass="e-agenda-view",this.isInverseTableSelect=!1,this.agendaDates={},this.virtualScrollTop=1}getModuleName(){return"agenda"}renderLayout(){this.agendaDates={},this.element=Q("div",{className:UR}),L([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(qR)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+Yu).appendChild(this.element);const e=Q("tr");this.element.querySelector("tbody").appendChild(e);const t=Q("td");e.appendChild(t);const i=Q("div",{className:li});t.appendChild(i);const s=this.createTableLayout(ar);i.appendChild(s);const n=s.querySelector("tbody"),a=ge(this.parent.selectedDate);this.renderEmptyContent(n,a),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+Zx)&&this.renderResourceMobileLayout(),this.parent.notify(vl,{})}eventLoad(e){this.dataSource=ae([],this.parent.eventsData,null,!0);for(const a of this.parent.eventsData)delete a.generatedDates;let t=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){const a=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(a,this.dataSource),t=this.parent.eventBase.filterEventsByResource(a,t)}this.parent.eventsProcessed=this.processAgendaEvents(t);const i=ge(this.parent.selectedDate),s=this.element.querySelector("."+ar+" tbody");Xd(s),this.renderInitialContent(s,i),this.wireEventActions(),U(s,"."+li).scrollTop=1,this.parent.notify(bv,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()}refreshEvent(e){let t=[];const i=this.parent.eventFields;for(const s of this.dataSource)f(s[i.recurrenceID])&&!f(s[i.recurrenceRule])&&!f(s.generatedDates)&&e>=s.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(s,e)));this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))}refreshHeader(){const e=this.element.querySelector("."+ar+" tbody");this.parent.activeViewOptions.group.byDate?Xd(e):nt(e.firstElementChild);const t=ge(this.parent.selectedDate),i=Q("tbody"),s=new Date(t.getTime()),n=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):at(s,this.parent.agendaDaysCount);this.renderContent(i,s,n),Ge([].slice.call(i.childNodes),e)}renderInitialContent(e,t){const i=Q("tbody");let s=new Date(t.getTime()),n=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):at(s,this.parent.agendaDaysCount);if(this.renderContent(i,s,n),Ge([].slice.call(i.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0){const a=this.getContentAreaElement(),o=a.querySelector(".e-content-table");for(;a.offsetWidth<=a.clientWidth&&!(this.parent.isAdaptive&&o.offsetHeight>=a.clientHeight);){const h=Q("tbody");if(n=s,s=at(n,-this.parent.agendaDaysCount),this.renderContent(h,s,n),Mi([].slice.call(h.childNodes),e),s<=this.parent.minDate)break}}e.childNodes.length<=0&&this.renderEmptyContent(e,t)}renderContent(e,t,i){const s=this.parent.eventFields,n=new Date(t.getTime()),a=this.appointmentFiltering(n,i);let o;if(a.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(t=a[0][s.startTime],t=new Date(new Date(t.getTime()).setHours(0,0,0,0)),this.updateHeaderText(a[0][s.startTime])),!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&a.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){let h=t;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,h=n,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(this.parent.activeView.getDateRangeText()),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,h)}else for(let h=0;h<this.parent.agendaDaysCount;h++){const d=this.appointmentFiltering(t),m=this.createTableRowElement(t,"data");if(this.element.querySelector('tr[aria-rowindex="'+parseInt(m.getAttribute("aria-rowindex"),10)+'"]')){t=at(t,1);continue}const v=m.children[0],C=m.children[1];if(d.length>0||!this.parent.hideEmptyAgendaDays&&0===d.length){const w=this.parent.hideEmptyAgendaDays||0!==d.length?"data":"noEvents";v.appendChild(this.createDateHeaderElement(t)),m.appendChild(v);const S=this.createAgendaContentElement(w,d,C);m.appendChild(S),S.querySelectorAll("li").length>0&&e.appendChild(m)}else this.parent.activeViewOptions.allowVirtualScrolling&&h--;if(this.isCurrentDate(new Date(t.getTime()))&&L(v.childNodes,"e-current-day"),(t=at(t,1)).getTime()>i.getTime())break}o=new Date(t.getTime()-Xn)}this.agendaDates={start:n,end:o}}agendaScrolling(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()}virtualScrolling(e){const t=e.target,i=t.scrollTop,s=t.scrollHeight,a=i+t.clientHeight,o=this.virtualScrollTop<i?"next":"previous",h=t.querySelector("tbody"),d=Q("tbody"),m=this.getElementFromScrollerPosition(e),v=this.parent.getDateFromElement(m);let C,w;if(0===i){if(C=this.getPreviousNextDate(at(v,-1),o),w=this.appointmentFiltering(C.start,C.end),w.length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(d,C.start,C.end),Mi([].slice.call(d.childNodes),h),this.wireEventActions();for(let k=0,O=h.children;k<O.length;k++)if(O[k].getAttribute("aria-rowindex")===m.getAttribute("aria-colindex")){const N=O[k].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;t.scrollTop=N;break}this.updateHeaderText(v)}}else a>=s-5?(C=this.getPreviousNextDate(at(v,1),o),w=this.appointmentFiltering(C.start,C.end),(w.length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(d,C.start,C.end),Ge([].slice.call(d.childNodes),h),this.wireEventActions(),this.updateHeaderText(v))):this.updateHeaderText(v);this.virtualScrollTop=i;const S=this.parent.eventBase.getSelectedAppointments();S.length>0&&S[S.length-1].focus()}getElementFromScrollerPosition(e){let t;const i=e.target,s=i.scrollTop,n=i.scrollHeight,o=s+i.clientHeight,h=[].slice.call(i.querySelectorAll(".e-agenda-item"));let d,m;if(h.length>0)if(0===s)d=h[0],t=U(d,"."+nm);else if(o===n)d=h[h.length-1],t=U(d,"."+nm);else for(let v=0,C=h.length;v<C;v++)if(d=h[v],m=d.getBoundingClientRect(),m.top>=0){t=U(d,"."+nm);break}return t}updateHeaderText(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(this.getDateRangeText(e))}getPreviousNextDate(e,t){let i=new Date(e.getTime());const s=this.getStartDateFromEndDate(e),n=this.getEndDateFromStartDate(e);let a=0;do{if((this.appointmentFiltering(i).length>0||!this.parent.hideEmptyAgendaDays)&&a++,i=at(i,"next"===t?1:-1),i<s||i>n)break}while(a!==this.parent.agendaDaysCount);const o=at(i,"next"===t?-1:1);return"next"===t?{start:e,end:at(o,1)}:{start:o,end:at(e,1)}}appointmentFiltering(e,t){let i,s;!f(e)&&f(t)?(i=ge(new Date(e.getTime())),s=RR(new Date(i.getTime()),Xn)):(i=new Date(e.getTime()),s=new Date(t.getTime()));let n=this.parent.eventBase.filterEvents(i,s);return 0===n.length&&(this.refreshEvent(e),n=this.parent.eventBase.filterEvents(i,s)),n}getStartDateFromEndDate(e){let t;const i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){const s=Math.min(...this.parent.eventsProcessed.map(n=>n[i.startTime].getTime()));t=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?zu(e,-1):this.parent.minDate;return ge(t)}getEndDateFromStartDate(e){let t;const i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){const s=Math.max(...this.parent.eventsProcessed.map(n=>n[i.endTime].getTime()));t=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?zu(e,1):this.parent.maxDate;return ge(at(t,1))}getNextPreviousDate(e){return at(this.parent.selectedDate,"next"===e?1:-1)}startDate(){return ge(this.parent.selectedDate)}endDate(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):at(this.startDate(),this.parent.agendaDaysCount)}getDateRangeText(e){const t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){const i=f(e)?this.parent.selectedDate:e;return ks(this.parent.globalize.formatDate(i,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}{const i=this.parent.selectedDate,s=at(i,this.parent.agendaDaysCount-1);return this.formatDateRange(i,s)}}dayNavigationClick(e){const t=U(e.currentTarget,"."+nm),i=this.parent.getDateFromElement(t);!f(i)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(i)&&(this.parent.setProperties({selectedDate:i},!0),this.parent.changeView("Day",e))}wireEvents(){A.add(this.element.querySelector("."+li),"scroll",this.agendaScrolling,this)}unWireEvents(){A.remove(this.element.querySelector("."+li),"scroll",this.agendaScrolling);const e=[].slice.call(this.element.querySelectorAll(".e-m-date"));for(const t of e)A.remove(t,"click",this.dayNavigationClick)}addEventListener(){this.parent.on(Lc,this.onAgendaScrollUiUpdate,this),this.parent.on(Nh,this.eventLoad,this)}removeEventListener(){this.parent&&(this.parent.off(Lc,this.onAgendaScrollUiUpdate),this.parent.off(Nh,this.eventLoad))}onAgendaScrollUiUpdate(){const e=this.getHeaderBarHeight();this.parent.headerModule&&this.parent.headerModule.updateHeaderItems(this.parent.activeViewOptions.allowVirtualScrolling?"add":"remove");const t=this.element.querySelector("."+li);"auto"!==this.parent.height&&(t.style.height=fe(this.parent.element.offsetHeight-e))}destroy(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),super.destroy())}}},hU={provide:"ScheduleResize",useValue:class extends P3{wireResizeEvent(e){const t=[].slice.call(e.querySelectorAll("."+sD));for(const i of t)A.add(i,G.touchStartEvent,this.resizeStart,this)}resizeHelper(){if(this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.allowGroupEdit)for(let e=0,t=this.actionObj.originalElement.length;e<t;e++){const i=this.createCloneElement(this.actionObj.originalElement[e]);this.actionObj.cloneElement[e]=i,this.actionObj.element===this.actionObj.originalElement[e]&&(this.actionObj.clone=i)}else this.actionObj.element&&(this.actionObj.clone=this.createCloneElement(this.actionObj.element)),this.actionObj.cloneElement=[this.actionObj.clone],this.actionObj.originalElement=[this.actionObj.element]}resizeStart(e){this.actionObj.action="resize",this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;const t=U(e.target,"."+sD);this.actionObj.element=U(t,"."+Bt),this.actionObj.event=this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute("data-guid"));const i=ae({},this.actionObj.event,null,!0);this.parent.trigger("resizeStart",{cancel:!1,data:i,element:this.actionObj.element,event:e,interval:this.actionObj.interval,scroll:{enable:!0,scrollBy:30,timeDelay:100}},n=>{if(n.cancel)return;this.actionClass("addClass"),this.parent.uiStateValues.action=!0,this.resizeEdges={left:t.classList.contains($R),right:t.classList.contains(GR),top:t.classList.contains(gF),bottom:t.classList.contains(vF)},this.actionObj.groupIndex=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:0;const a=this.parent.element.querySelector("."+Et);this.actionObj.cellWidth=a.offsetWidth,this.actionObj.cellHeight=a.offsetHeight;const o=this.parent.activeViewOptions.headerRows.map(m=>m.option);if(this.parent.activeView.isTimelineView()&&o.length>0&&["Date","Hour"].indexOf(o.slice(-1)[0])<0){const m=this.parent.getContentTable().querySelector("tr");let v=0;const C=[].slice.call(m.children);for(const w of C)v+=parseInt(w.getAttribute("colspan"),10);this.actionObj.cellWidth=m.offsetWidth/v,this.actionObj.cellHeight=m.offsetHeight}const h=this.getPageCoordinates(e);this.actionObj.X=h.pageX,this.actionObj.Y=h.pageY,this.actionObj.groupIndex=parseInt(this.actionObj.element.getAttribute("data-group-index")||"0",10),this.actionObj.interval=n.interval,this.actionObj.scroll=n.scroll,this.actionObj.start=new Date(i[this.parent.eventFields.startTime].getTime()),this.actionObj.end=new Date(i[this.parent.eventFields.endTime].getTime()),this.actionObj.originalElement=this.getOriginalElement(this.actionObj.element),"Month"===this.parent.currentView&&(this.daysVariation=-1,this.monthEvent=new oD(this.parent));const d=this.parent.element.querySelector("."+li);this.scrollArgs={element:d,width:d.scrollWidth,height:d.scrollHeight},A.add(document,G.touchMoveEvent,this.resizing,this),A.add(document,G.touchEndEvent,this.resizeStop,this)})}resizing(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),0===this.parent.element.querySelectorAll("."+mF).length&&this.resizeHelper(),!f(e.target)&&e.target.classList.contains(aD))return;const t=this.getPageCoordinates(e);this.actionObj.pageX=t.pageX,this.actionObj.pageY=t.pageY,this.updateScrollPosition(e),this.updateResizingDirection(e);const s={cancel:!1,data:ae({},this.actionObj.event,null,!0),element:this.actionObj.element,event:e,startTime:this.actionObj.start,endTime:this.actionObj.end};this.parent.group.resources.length>0&&(s.groupIndex=this.actionObj.groupIndex),this.parent.trigger("resizing",s)}updateResizingDirection(e){if("Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView)return void this.monthResizing();const t=this.resizeValidation(e);if(this.resizeEdges.left){if(t){const i=this.getLeftRightStyles(e,!0);if(parseInt(i.width,10)<1)return;for(const s of this.actionObj.cloneElement)Ue(s,i),L([s],$R)}this.horizontalResizing(!this.parent.enableRtl)}if(this.resizeEdges.right){if(t){const i=this.getLeftRightStyles(e,!1);if(parseInt(i.width,10)<1)return;for(const s of this.actionObj.cloneElement)Ue(s,i),L([s],GR)}this.horizontalResizing(this.parent.enableRtl)}if(this.resizeEdges.top){if(t){const i=this.getTopBottomStyles(e,!0);if(parseInt(i.height,10)<1)return;for(const s of this.actionObj.cloneElement)Ue(s,i),L([s],gF)}this.verticalResizing(!0)}if(this.resizeEdges.bottom){if(t){const i=this.getTopBottomStyles(e,!1);if(parseInt(i.height,10)<1)return;for(const s of this.actionObj.cloneElement)Ue(s,i),L([s],vF)}this.verticalResizing(!1)}}monthResizing(){if(this.removeCloneElement(),f(this.actionObj.pageX)||f(this.actionObj.pageY))return;const e=document.elementFromPoint(this.actionObj.pageX,this.actionObj.pageY);if(f(e))return;const t=this.parent.getDateFromElement(e),i=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(e.getAttribute("data-group-index"),10)===this.actionObj.groupIndex;let s=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),n=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());if(!this.parent.enableRtl&&this.resizeEdges.left||this.parent.enableRtl&&this.resizeEdges.right||this.resizeEdges.top?s=t:(!this.parent.enableRtl&&this.resizeEdges.right||this.parent.enableRtl&&this.resizeEdges.left||this.resizeEdges.bottom)&&(n=at(t,1)),i&&s<n){this.actionObj.start=s,this.actionObj.end=n;const a=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event);"TimelineYear"===this.parent.currentView?this.yearEventsRendering(a):this.dynamicEventsRendering(a),this.updateOriginalElement(this.actionObj.clone)}}yearEventsRendering(e){const t=[].slice.call(this.parent.element.querySelectorAll("."+Ev));for(const n of t)nt(n);let i=new Date(e[this.parent.eventFields.endTime]),s=0;0===this.parent.activeViewOptions.group.resources.length&&(s=this.getMonthDiff(e[this.parent.eventFields.startTime],at(i,-1)));for(let n=0;n<=s;n++){let a;0===this.parent.activeViewOptions.group.resources.length?a=this.getEventCount(e,this.actionObj.start.getMonth()+n):(a=ae({},e,null,!0),i=this.resizeEdges.left||this.resizeEdges.right?at(i,-1):i,a.count=this.getMonthDiff(e[this.parent.eventFields.startTime],i)+1),this.dynamicYearlyEventsRendering(a,!0)}}getMonthDiff(e,t){let i;return i=12*(t.getFullYear()-e.getFullYear()),i-=e.getMonth(),i+=t.getMonth(),i<=0?0:i}getEventCount(e,t){const i=ae({},e,null,!0),s=i[this.parent.eventFields.startTime],n=i[this.parent.eventFields.endTime],a=new Date(this.parent.selectedDate.getFullYear(),t,1),o=at(new Date(this.parent.selectedDate.getFullYear(),t+1,0),1);let h=1;return s.getTime()<a.getTime()&&(i[this.parent.eventFields.startTime]=a),n.getTime()>o.getTime()&&(i[this.parent.eventFields.endTime]=o),0===this.parent.activeViewOptions.group.resources.length&&(h=Math.ceil((i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime())/Xn)),i.count=h,i}resizeStop(e){A.remove(document,G.touchMoveEvent,this.resizing),A.remove(document,G.touchEndEvent,this.resizeStop),clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.removeCloneElementClasses(),this.removeCloneElement(),this.actionClass("removeClass"),this.parent.uiStateValues.action=!1;const t={cancel:!1,data:this.getChangedData(),element:this.actionObj.element,event:e};this.parent.trigger("resizeStop",t,i=>{i.cancel||(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.rowAutoHeight&&!this.parent.activeViewOptions.group.allowGroupEdit&&!this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.byGroupID&&(this.parent.crudModule.crudObj.sourceEvent=[this.parent.resourceBase.lastResourceLevel[parseInt(i.element.getAttribute("data-group-index"),10)]],this.parent.crudModule.crudObj.targetEvent=this.parent.crudModule.crudObj.sourceEvent,this.parent.crudModule.crudObj.isCrudAction=!0),this.saveChangedData(i))})}verticalResizing(e){let t=this.actionObj.clone.offsetTop;e||(t+=this.actionObj.clone.offsetHeight);const i=t/this.actionObj.cellHeight*this.actionObj.slotInterval,s=this.actionObj.clone.offsetParent;if(f(s))return;const n=ge(this.parent.getDateFromElement(s));n.setHours(this.parent.activeView.getStartHour().getHours()),n.setMinutes(i+this.parent.activeView.getStartHour().getMinutes()),e?this.actionObj.start=this.calculateIntervalTime(n):this.actionObj.end=this.calculateIntervalTime(n),this.updateTimePosition(n)}horizontalResizing(e){const t=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),i=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());let s,n=!1;const a=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1,o="TimelineMonth"===this.parent.currentView,h=o||a&&!this.parent.activeViewOptions.timeScale.enable;if(this.parent.activeView.isTimelineView()){const d=this.parent.getContentTable().querySelector("tr");let m=this.parent.currentView;if(this.parent.activeViewOptions.headerRows.length>0){const k=this.parent.activeViewOptions.headerRows.map(O=>O.option);m=k.slice(-1)[0],o&&"Hour"===m&&(m=k.slice(-2)[0]||"Month")}s=e?t:i;let v=0;const C=[].slice.call(d.children);let S,w=!1;if(-1!==["Year","Month","Week","Date"].indexOf(m)){let k=0;for(const N of C)k+=parseInt(N.getAttribute("colspan"),10);let O=this.parent.enableRtl?parseInt(this.actionObj.clone.style.right,10):parseInt(this.actionObj.clone.style.left,10);e||(O+=this.actionObj.clone.offsetWidth-this.actionObj.cellWidth),v=Math.floor(O/Math.floor(d.offsetWidth/k)),n=a&&"Date"===m,v=e?v:o||n?v+1:v,w=v===C.length,v=v<0?0:v>=k?k-1:v}else{const k=this.actionObj.cellWidth;if(v=e?Math.floor(this.actionObj.clone.offsetLeft/this.actionObj.cellWidth):Math.ceil((this.actionObj.clone.offsetLeft+(this.actionObj.clone.offsetWidth-k))/this.actionObj.cellWidth),this.parent.enableRtl){let O=0;("TimelineMonth"===m||!this.parent.activeViewOptions.timeScale.enable&&!o)&&(O=this.actionObj.cellWidth);const N=Math.floor(parseInt(this.actionObj.clone.style.right,10)/this.actionObj.cellWidth)*this.actionObj.cellWidth+(e?0:this.actionObj.clone.offsetWidth-O);v=Math.floor(N/this.actionObj.cellWidth)}w=v===C.length,v=this.getIndex(v)}if(S=-1!==["Year","Month","Week","Date"].indexOf(m)?new Date(this.parent.activeView.renderDates[v].getTime()):this.parent.getDateFromElement(d.children[v]),-1===["TimelineMonth","Year","Month","Week","Date"].indexOf(m)&&this.parent.activeViewOptions.timeScale.enable){let k=this.parent.enableRtl?parseFloat(this.actionObj.clone.style.right):parseFloat(this.actionObj.clone.style.left);e||(k+=this.actionObj.clone.offsetWidth);let O=Math.ceil(this.actionObj.slotInterval/this.actionObj.cellWidth*(k-Math.floor(k/this.actionObj.cellWidth)*this.actionObj.cellWidth));O=w||!e&&0===O?this.actionObj.slotInterval:O,s=new Date(S.getTime()),s.setMinutes(s.getMinutes()+O),this.updateTimePosition(s)}else s=new Date(S.setHours(s.getHours(),s.getMinutes(),s.getSeconds()))}else{const d=U(this.actionObj.clone,"td").cellIndex,m=Math.ceil((e?this.actionObj.element.offsetWidth:0)/this.actionObj.cellWidth)*this.actionObj.cellWidth,v=Math.ceil((this.actionObj.clone.offsetWidth-m)/this.actionObj.cellWidth),C=U(this.actionObj.clone,"tr");let w=e?d-v:d+v-1;w=this.getIndex(w),s=this.parent.getDateFromElement(C.children[w]),e?s.setHours(t.getHours(),t.getMinutes(),t.getSeconds()):s.setHours(i.getHours(),i.getMinutes(),i.getSeconds())}if(e)i.getTime()-s.getTime()<=0&&(s=h?ge(i):t),this.actionObj.start=this.parent.activeViewOptions.timeScale.enable?this.calculateIntervalTime(s):s;else{let m=a&&this.parent.activeViewOptions.timeScale.enable&&!n||0!==s.getHours()||0!==s.getMinutes()?s:at(s,1);h&&m.getTime()-t.getTime()<=0&&(m=at(ge(t),1)),this.actionObj.end=this.parent.activeViewOptions.timeScale.enable&&"Month"!==this.parent.currentView?this.calculateIntervalTime(m):m}}getTopBottomStyles(e,t){const i=this.parent.element.querySelector("."+li),s=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval;let n=t?this.actionObj.element.offsetHeight+(this.actionObj.Y-this.actionObj.pageY):this.actionObj.element.offsetHeight+(this.actionObj.pageY-this.actionObj.Y),a=t?this.actionObj.element.offsetTop-(this.actionObj.Y-this.actionObj.pageY):this.actionObj.clone.offsetTop;return n=a<0||this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight>this.scrollArgs.height?this.actionObj.clone.offsetHeight:n,a=a<0?0:a,a=t?Math.floor(a/s)*s:a,n=a+n>=i.scrollHeight?i.scrollHeight-a:Math.ceil(n/s)*s,{height:fe(n<this.actionObj.cellHeight?Math.floor(n/s)*s:n),top:fe(n<this.actionObj.cellHeight&&t?Math.ceil(a/s)*s:a),left:"0px",right:"0px",width:"100%"}}getLeftRightStyles(e,t){const i={},s=this.parent.activeView.isTimelineView(),n=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1&&this.parent.activeViewOptions.timeScale.enable,a=this.actionObj.cellWidth/this.actionObj.slotInterval*this.actionObj.interval,o=t?this.actionObj.X-this.actionObj.pageX:this.actionObj.pageX-this.actionObj.X,h=s?this.actionObj.element.offsetWidth/this.actionObj.cellWidth*this.actionObj.cellWidth:"Month"===this.parent.currentView?this.actionObj.element.offsetWidth:Math.ceil(this.actionObj.element.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth;let d=h+Math.ceil(o/this.actionObj.cellWidth)*this.actionObj.cellWidth;n&&(d=h+(t?Math.ceil(o/a)*a:Math.floor(o/a)*a),this.actionObj.event[this.parent.eventFields.isAllDay]=!1);let m=!t&&d+this.actionObj.clone.offsetLeft>this.scrollArgs.width?this.actionObj.clone.offsetWidth:d;if(this.parent.enableRtl){let v=s?parseInt(this.actionObj.element.style.right,10):-(d-this.actionObj.cellWidth);v=s?v:t||v>0?0:v,s&&!t&&(v=Math.ceil((this.actionObj.element.offsetLeft+(this.actionObj.element.offsetWidth+(this.actionObj.pageX-this.actionObj.X)))/a)*a,v=v<0?Math.abs(v):-v),v=v>=this.scrollArgs.width?this.scrollArgs.width-this.actionObj.cellWidth:v,i.right=fe(v),m=m+v>this.scrollArgs.width?this.actionObj.clone.offsetWidth:m}else{let v=t?this.actionObj.element.offsetLeft-(this.actionObj.X-this.actionObj.pageX):this.parent.enableRtl?this.actionObj.element.offsetLeft:0;s&&(v=t?v:parseInt(this.actionObj.clone.style.left,10),v=this.parent.enableRtl?t?v:this.actionObj.pageX<this.actionObj.X-this.actionObj.clone.offsetWidth?parseInt(this.actionObj.clone.style.right,10):v:t&&this.actionObj.pageX>this.actionObj.X+this.actionObj.clone.offsetWidth&&this.actionObj.clone.offsetWidth===this.actionObj.cellWidth?parseInt(this.actionObj.clone.style.left,10):v);const C=v;v=s?n?t?Math.floor(v/a)*a:v:Math.floor(v/this.actionObj.cellWidth)*this.actionObj.cellWidth:Math.ceil(Math.abs(v)/this.actionObj.cellWidth)*this.actionObj.cellWidth,v<0&&(v=0,m=this.actionObj.clone.offsetWidth);const w=Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth;t&&(i.left=fe(s?v:t?C<0?-v:Math.ceil((h-w)/this.actionObj.cellWidth)*this.actionObj.cellWidth:v))}return i.width=fe(m),i}resizeValidation(e){const t=this.getPageCoordinates(e),i=this.getContentAreaDimension(),s=this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.timeScale.enable;let n=this.actionObj.cellWidth,a=!1;return this.resizeEdges.left&&(t.pageX<i.leftOffset&&t.pageX>=i.left&&s&&(n=0),a=t.pageX-n>=i.left),this.resizeEdges.right&&(t.pageX>i.rightOffset&&t.pageX<=i.right&&s&&(n=0),a=t.pageX+n<=i.right),this.resizeEdges.top&&(a=this.actionObj.clone.offsetTop>=i.top),this.resizeEdges.bottom&&(a=this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight<=this.scrollArgs.height),a}getModuleName(){return"resize"}}},uU={provide:"ScheduleDragAndDrop",useValue:class extends P3{constructor(){super(...arguments),this.widthUptoCursorPoint=0,this.heightUptoCursorPoint=0,this.cursorPointIndex=0,this.isHeaderRows=!1,this.isTimelineDayProcess=!1,this.widthPerMinute=0,this.heightPerMinute=0,this.minDiff=0,this.isStepDragging=!1,this.isMorePopupOpened=!1,this.isAllDayDrag=!1,this.isMultiSelect=!1,this.multiData=[],this.updatedData=[],this.swagData=[],this.startTime=0,this.isAllDayTarget=!1,this.targetTd=null,this.isCursorAhead=!1}wireDragEvent(e){new ms(e,{abort:"."+sD,clone:!0,isDragScroll:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!!this.parent.eventDragArea,cursorAt:this.parent.eventDragArea?{left:-20,top:-20}:{left:0,top:0},dragArea:this.dragArea,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this),queryPositionInfo:this.dragPosition.bind(this)})}setDragArea(){const e=document.querySelector(this.parent.eventDragArea);this.dragArea=this.parent.eventDragArea&&e?e:this.parent.element.querySelector("."+ar)}dragHelper(e){this.setDragActionDefaultValues(),this.actionObj.element=e.element,this.actionObj.action="drag";let t=[];return!this.parent.allowMultiDrag||f(this.parent.selectedElements)||0===this.parent.selectedElements.length||this.parent.selectedElements.length>0&&-1===this.parent.selectedElements.indexOf(this.actionObj.element)?t=[e.element]:(t=this.parent.selectedElements,this.isMultiSelect=!0),t.forEach(i=>{const s=this.createCloneElement(i);i.getAttribute("data-guid")===this.actionObj.element.getAttribute("data-guid")&&(this.actionObj.clone=s,!this.parent.eventDragArea&&"Month"!==this.parent.currentView&&this.parent.activeViewOptions.timeScale.enable&&!this.parent.activeView.isTimelineView()&&!this.actionObj.element.classList.contains(po)&&Ue(this.actionObj.clone,{cursor:"move",left:"0%",right:"0%",width:"100%"}),this.actionObj.clone.style.top=fe(this.actionObj.element.offsetTop)),this.actionObj.cloneElement.push(s),this.actionObj.originalElement.push(i)}),this.actionObj.clone}dragPosition(e){if(this.parent.eventDragArea)return{left:e.left,top:e.top};const t=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval;let s,i=fe(0);"Month"===this.parent.currentView&&(i=e.left),s=this.isStepDragging?Math.ceil(this.actionObj.clone.getBoundingClientRect().right)+this.actionObj.interval:this.actionObj.clone.getBoundingClientRect().right;const a=this.parent.element.querySelector("."+li).getBoundingClientRect().right;let o;if(this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView&&!this.parent.enableRtl&&this.actionObj.pageX>s&&!this.isMorePopupOpened&&!(this.actionObj.pageX>a)&&(this.isCursorAhead=!0),this.parent.activeView.isTimelineView()&&(i=fe(this.actionObj.clone.offsetLeft)),this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable||!f(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(EC))o=fe(this.actionObj.clone.offsetTop);else if("Month"===this.parent.currentView)o=fe(0);else if(this.actionObj.clone.classList.contains(po))o=fe(this.parent.element.querySelector("."+Jd).offsetTop),Ue(this.actionObj.clone,{width:fe(Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth),right:this.parent.enableRtl&&fe(0)});else{this.actionObj.element.classList.contains(po)&&!this.actionObj.clone.classList.contains(po)&&Ue(this.actionObj.clone,{height:fe(this.actionObj.cellHeight),width:fe(this.actionObj.cellWidth-1),pointerEvents:"none"});let h=parseInt(e.top,10);h=h<0?0:h,o=fe(Math.ceil(h/t)*t);const d=this.parent.element.querySelector(".e-content-wrap").scrollHeight,m=parseInt(o,10)+this.actionObj.clone.offsetHeight;m>d&&(o=parseInt(o,10)-(m-d)+"px")}return{left:i,top:o}}setDragActionDefaultValues(){this.actionObj.action="drag",this.actionObj.isAllDay=null,this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;const e=this.parent.element.querySelector("."+Et);this.actionObj.cellWidth=e.offsetWidth,this.actionObj.cellHeight=e.offsetHeight}dragStart(e){const t=this.actionObj.element.getAttribute("data-guid");this.actionObj.event=this.parent.eventBase.getEventByGuid(t);const i=ae({},this.actionObj.event,null,!0);this.startTime=i[this.parent.eventFields.startTime].getTime();const s={cancel:!1,data:i,selectedData:this.getSelectedData(),event:e,excludeSelectors:null,element:this.actionObj.element,interval:this.actionObj.interval,navigation:{enable:!1,timeDelay:2e3},scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger("dragStart",s,n=>{if(n.cancel||!f(this.actionObj.element)&&f(this.actionObj.element.parentElement)){const o=this.actionObj.element.ej2_instances[0];return f(o)||o.intDestroy(e.event),this.actionObj.action="",this.removeCloneElementClasses(),void this.removeCloneElement()}this.actionClass("addClass"),this.parent.uiStateValues.action=!0,this.actionObj.start=i[this.parent.eventFields.startTime],this.actionObj.end=i[this.parent.eventFields.endTime],this.actionObj.groupIndex=parseInt(this.actionObj.element.getAttribute("data-group-index")||"0",10),this.actionObj.interval=n.interval,this.actionObj.navigation=n.navigation,this.actionObj.scroll=n.scroll,this.actionObj.excludeSelectors=n.excludeSelectors;const a=this.parent.element.querySelector("."+li);if(this.scrollArgs={element:a,width:a.scrollWidth,height:a.scrollHeight},this.widthPerMinute=this.actionObj.cellWidth/this.actionObj.slotInterval*this.actionObj.interval,this.heightPerMinute=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,this.widthUptoCursorPoint=0,this.heightUptoCursorPoint=0,this.cursorPointIndex=-1,this.isHeaderRows=!1,this.isTimelineDayProcess=!1,this.minDiff=0,this.isMorePopupOpened=!1,this.daysVariation=-1,this.isAllDayTarget=this.actionObj.clone.classList.contains(po),(this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable)&&"TimelineYear"!==this.parent.currentView){!f(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(EC)&&(this.isMorePopupOpened=!0),this.actionObj.pageX=e.event.pageX;const o=this.parent.activeViewOptions.headerRows;this.isHeaderRows=o.length>0&&"Hour"!==o[o.length-1].option&&"Date"!==o[o.length-1].option,this.isTimelineDayProcess=!this.parent.activeViewOptions.timeScale.enable||this.isHeaderRows||"TimelineMonth"===this.parent.currentView||o.length>0&&"Date"===o[o.length-1].option,this.isStepDragging=!this.isTimelineDayProcess&&this.actionObj.slotInterval!==this.actionObj.interval,this.timelineEventModule=new cD(this.parent,this.isTimelineDayProcess?"day":"hour")}"TimelineYear"===this.parent.currentView&&(this.yearEvent=new N3(this.parent)),"Month"===this.parent.currentView&&(this.startTime=ge(new Date(this.startTime)).getTime(),this.updateOriginalElement(this.actionObj.clone),this.monthEvent=new oD(this.parent)),("Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView)&&(this.verticalEvent=new zF(this.parent),this.verticalEvent.initializeValues(),this.splitEvent(this.actionObj.event).forEach(h=>{let d=`.e-day-wrapper[data-date="${ge(h[this.parent.eventFields.startTime]).getTime()}"]`;this.parent.activeViewOptions.group.resources.length>0&&(d=d.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));const m=this.parent.element.querySelector(d);if(m){const v=m.querySelector('[data-id="'+this.actionObj.clone.getAttribute("data-id")+'"]');v&&L([v],tp)}}))})}getSelectedData(){if(this.isMultiSelect&&0===this.multiData.length&&this.parent.selectedElements.length>0)for(const e of this.parent.selectedElements){const t=e.getAttribute("data-guid"),i=this.parent.eventBase.getEventByGuid(t);this.multiData.push(ae({},i,null,!0))}return this.multiData}drag(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),!f(e.target)&&e.target.classList.contains(aD))return;const t=ae({},this.actionObj.event,null,!0),i=this.getPageCoordinates(e);if(this.actionObj.Y=this.actionObj.pageY=i.pageY,this.actionObj.X=this.actionObj.pageX=i.pageX,this.actionObj.target=e.target,this.widthUptoCursorPoint=0===this.widthUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().left-this.actionObj.X)/this.widthPerMinute)*this.widthPerMinute:this.widthUptoCursorPoint,this.widthUptoCursorPoint=this.isMorePopupOpened?this.actionObj.cellWidth:this.widthUptoCursorPoint,this.heightUptoCursorPoint=0===this.heightUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().top-this.actionObj.Y)/this.heightPerMinute)*this.heightPerMinute:this.heightUptoCursorPoint,this.isAllDayDrag=this.parent.activeViewOptions.timeScale.enable?this.actionObj.clone.classList.contains(po):this.actionObj.event[this.parent.eventFields.isAllDay],this.isStepDragging&&0===this.minDiff&&this.calculateMinutesDiff(t),("Month"===this.parent.currentView||this.isAllDayDrag)&&this.daysVariation<0){const n=this.parent.getDateFromElement(this.actionObj.target);if(f(n))this.daysVariation=0;else{const a=ge(n),o=ge(new Date(t[this.parent.eventFields.startTime].getTime()));this.daysVariation=(a.getTime()-o.getTime())/Xn}}else this.daysVariation=0;if(this.parent.eventDragArea){const n=i.target;this.actionObj.clone.style.top=fe(n.offsetTop),this.actionObj.clone.style.left=fe(n.offsetLeft),U(n,"."+_R)?"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView||"Day"===this.parent.currentView||(this.actionObj.clone.style.width=fe(this.actionObj.element.offsetWidth)):(this.actionObj.clone.style.height="",this.actionObj.clone.style.width="")}this.updateScrollPosition(e),this.updateNavigatingPosition(e),this.updateDraggingDateTime(e);const s={data:t,event:e,element:this.actionObj.element,startTime:this.actionObj.start,endTime:this.actionObj.end,selectedData:this.updatedData};this.parent.group.resources.length>0&&(s.groupIndex=this.actionObj.groupIndex),this.parent.trigger("drag",s)}calculateMinutesDiff(e){this.minDiff=this.parent.enableRtl?(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint)/this.widthPerMinute*this.actionObj.interval:this.widthUptoCursorPoint/this.widthPerMinute*this.actionObj.interval;const t=e[this.parent.eventFields.startTime],s=Pc(this.parent.activeView.renderDates[0],this.parent.activeView.getStartHour(),this.parent.activeView.getEndHour());s.startHour.getTime()>t.getTime()&&(this.minDiff=this.minDiff+(s.startHour.getTime()-t.getTime())/$a)}dragStop(e){if(this.isCursorAhead=!1,this.removeCloneElementClasses(),this.removeCloneElement(),clearInterval(this.actionObj.navigationInterval),this.actionObj.navigationInterval=null,clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionClass("removeClass"),this.parent.uiStateValues.action=!1,this.actionObj.action=null,this.isAllowDrop(e))return;const t=!e.target.classList.contains("e-work-cells")&&this.parent.cellTemplate?U(e.target,".e-work-cells"):e.target,i={cancel:!1,data:this.getChangedData(this.updatedData),selectedData:this.updatedData,event:e,element:this.actionObj.element,target:t};this.parent.trigger("dragStop",i,s=>{if(!s.cancel){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.activeViewOptions.group.allowGroupEdit&&!this.parent.rowAutoHeight&&!this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.byGroupID){this.parent.crudModule.crudObj.isCrudAction=!0,this.parent.crudModule.crudObj.sourceEvent=[this.parent.resourceBase.lastResourceLevel[parseInt(i.element.getAttribute("data-group-index"),10)]];const n=parseInt(i.target.getAttribute("data-group-index"),10)||this.actionObj.groupIndex;this.parent.crudModule.crudObj.targetEvent=[this.parent.resourceBase.lastResourceLevel[n]]}this.saveChangedData(s,this.isMultiSelect)}}),this.updatedData=[],this.multiData=[],this.isMultiSelect=!1,this.parent.selectedElements=[]}updateNavigatingPosition(e){if(this.actionObj.navigation.enable){let t=this.parent.getCurrentTime();f(this.actionObj.navigationInterval)&&(this.actionObj.navigationInterval=window.setInterval(()=>{if(t){const s=this.parent.getCurrentTime().getSeconds();let n=t.getSeconds()+this.actionObj.navigation.timeDelay/1e3;n=n>=60?n-60:n,n===s&&(t=this.parent.getCurrentTime(),this.viewNavigation(e),this.updateDraggingDateTime(e))}},this.actionObj.navigation.timeDelay))}}updateDraggingDateTime(e){!f(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(EC)?this.morePopupEventDragging(e):this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView?(this.timelineEventModule.dateRender=this.parent.activeView.renderDates,this.timelineEventModule.cellWidth=this.actionObj.cellWidth,this.timelineEventModule.getSlotDates(),this.actionObj.cellWidth=this.isHeaderRows?this.timelineEventModule.cellWidth:this.actionObj.cellWidth,this.calculateTimelineTime(e)):"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView?this.calculateVerticalDate(e):this.calculateVerticalTime(e)}navigationWrapper(){if(this.parent.activeView.isTimelineView()){let e;e=this.parent.activeViewOptions.group.resources.length>0?this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(this.actionObj.index):this.parent.element.querySelector("."+$u);let t=e.querySelector("."+hn);t||(t=Q("div",{className:hn}),e.appendChild(t)),this.actionObj.cloneElement.forEach(i=>{t.appendChild(i)})}else if("Month"!==this.parent.currentView&&this.parent.timeScale.enable){const e=this.actionObj.clone.classList.contains(po)?"."+ip:"."+hn;if(this.parent.element.querySelectorAll(e).item(this.actionObj.index).appendChild(this.actionObj.clone),e==="."+ip){const t=this.getAllDayEventHeight(),i=[].slice.call(this.parent.element.querySelectorAll("."+Ms+":first-child"));if(i[0].offsetHeight<t)for(const s of i)s.style.height=(t+2)/12+"em";this.actionObj.clone.style.height=fe(t)}this.actionObj.height=parseInt(this.actionObj.clone.style.height,10)}else{const e=[].slice.call(this.parent.element.querySelectorAll("."+Et));this.actionObj.index=this.parent.activeView.renderDates.length<this.actionObj.index?this.parent.activeView.renderDates.length-1:this.actionObj.index;let t=e[this.actionObj.index].querySelector("."+hn);t||(t=Q("div",{className:hn}),e[this.actionObj.index].appendChild(t)),t.appendChild(this.actionObj.clone)}}viewNavigation(e){let t;const i=this.parent.element.querySelector("."+li);i&&(!this.scrollEdges.top&&!this.scrollEdges.bottom||U(this.actionObj.clone,"."+ip))&&(0===i.scrollLeft&&Math.round(this.actionObj.X)<=Math.round(i.getBoundingClientRect().left+this.actionObj.cellWidth+window.pageXOffset)?t=this.parent.enableRtl?"next":"previous":Math.round(i.scrollLeft)+i.clientWidth===i.scrollWidth&&Math.round(this.actionObj.X)>=Math.round(i.getBoundingClientRect().right-this.actionObj.cellWidth+window.pageXOffset)&&(t=this.parent.enableRtl?"previous":"next"),t&&this.parent.changeDate(this.parent.activeView.getNextPreviousDate(t)))}morePopupEventDragging(e){if(f(e.target)||e.target&&f(U(e.target,"td")))return;const t=ae({},this.actionObj.event,null,!0),i=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime(),s=U(e.target,"td");if("TimelineYear"===this.parent.currentView&&!s.classList.contains("e-work-cells"))return;const n=this.parent.getDateFromElement(s),a=new Date(n.getTime());a.setMilliseconds(i),this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(s.getAttribute("data-group-index"),10)),this.actionObj.start=new Date(n.getTime()),this.actionObj.end=new Date(a.getTime()),this.actionObj.clone.style.top=fe(s.offsetParent.offsetTop),this.actionObj.clone.style.left=fe(s.offsetLeft),this.actionObj.clone.style.width=fe(s.offsetWidth);let h,o=s;if(this.parent.activeView.isTimelineView()){const d=U(s,"tr").rowIndex;o=this.parent.element.querySelectorAll(".e-appointment-container").item(d)}h=o.querySelector("."+hn),h||(h=Q("div",{className:hn}),o.appendChild(h)),this.appendCloneElement(h)}calculateVerticalTime(e){if(f(this.actionObj.target)||this.actionObj.target&&f(U(this.actionObj.target,"tr"))||!U(this.actionObj.target,"td").classList.contains(Et)&&!U(this.actionObj.target,"td").classList.contains(Ms))return;this.parent.activeViewOptions.timeScale.enable&&this.swapDragging(e);const t=this.parent.element.querySelector("."+li),i=ae({},this.actionObj.event,null,!0),s=i[this.parent.eventFields.startTime],a=i[this.parent.eventFields.endTime].getTime()-s.getTime();let o=Math.floor(parseInt(this.actionObj.clone.style.top,10)/this.actionObj.cellHeight)*this.actionObj.cellHeight;o=o<0?0:o,(this.scrollEdges.top||this.scrollEdges.bottom)&&(o=this.scrollEdges.top?t.scrollTop-this.heightUptoCursorPoint+this.actionObj.cellHeight+window.pageYOffset:t.scrollTop+t.offsetHeight-this.actionObj.clone.offsetHeight+window.pageYOffset+(this.actionObj.clone.offsetHeight-this.heightUptoCursorPoint),o=Math.round(o/this.actionObj.cellHeight)*this.actionObj.cellHeight,this.actionObj.clone.style.top=fe(o));const h=this.parent.activeViewOptions.timeScale.enable?o/this.actionObj.cellHeight:0,d=this.actionObj.cellHeight/this.actionObj.slotInterval,m=parseInt(this.actionObj.clone.style.top,10)-o;let v,C;v=this.isAllDayDrag?this.parent.element.querySelector("."+Jd):[].slice.call(this.parent.getContentTable().querySelectorAll("tr"))[h],(U(this.actionObj.target,"td").classList.contains(Et)||U(this.actionObj.target,"td").classList.contains(Ms))&&(C=U(this.actionObj.target,"td").cellIndex);const w=f(C)?U(this.actionObj.clone,"td").cellIndex:C;if(this.actionObj.index=w,f(v))return;const S=v.children[w];let k,O;this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(S.getAttribute("data-group-index"),10)),this.parent.activeViewOptions.timeScale.enable&&!this.isAllDayDrag?(this.appendCloneElement(this.getEventWrapper(w)),k=this.parent.getDateFromElement(S),k.setMinutes(k.getMinutes()+m/d),O=new Date(k.getTime()),this.actionObj.element.classList.contains(po)?O.setMinutes(O.getMinutes()+this.actionObj.slotInterval):O.setMilliseconds(a)):(k=this.parent.getDateFromElement(S),k.setDate(k.getDate()-this.daysVariation),k.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),O=new Date(k.getTime()),O.setMilliseconds(a),!this.actionObj.element.classList.contains(po)&&this.actionObj.clone.classList.contains(po)&&(O=at(ge(O),1)),this.updateAllDayEvents(k,O,this.parent.activeViewOptions.group.byDate?w:void 0)),this.actionObj.start=new Date(+k),this.actionObj.end=new Date(+O);const N=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),q=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone"));for(const z of q)nt(z);if(this.multiData.length>0){if(this.isAllDayTarget&&this.isAllDayDrag&&!f(this.actionObj.isAllDay)&&!this.actionObj.isAllDay){const Z=parseInt(U(this.actionObj.target,"td").getAttribute("data-date"),10);this.multiData.forEach(Ce=>{if(this.swagData.push(ae({},Ce,null,!0)),Ce[this.parent.eventFields.isAllDay]){Ce[this.parent.eventFields.startTime]=new Date(Ce[this.parent.eventFields.startTime].getTime()+(Z-this.startTime));const ce=new Date(Ce[this.parent.eventFields.startTime]),Fe=new Date(ce.setMinutes(ce.getMinutes()+this.actionObj.slotInterval));Ce[this.parent.eventFields.endTime]=Fe,Ce[this.parent.eventFields.isAllDay]=!1}}),this.startTime=Z}if(this.isAllDayTarget&&this.isAllDayDrag&&!f(this.actionObj.isAllDay)&&this.actionObj.isAllDay&&this.swagData.length>0){this.multiData=this.swagData,this.swagData=[];const Z=ae({},this.actionObj.event,null,!0);this.startTime=Z[this.parent.eventFields.startTime].getTime()}const z=N[this.parent.eventFields.startTime].getTime()-this.startTime;for(let Z=0;Z<this.multiData.length;Z++){this.updatedData[Z]=this.updateMultipleData(this.multiData[Z],z);const Ce=this.getDayIndex(this.updatedData[Z]);if(Ce>=0){const ce=this.getEventWrapper(Ce,this.updatedData[Z][this.parent.eventFields.isAllDay]);this.appendCloneElement(ce,this.actionObj.cloneElement[Z]),this.updateEventHeight(this.updatedData[Z],Z,Ce)}else f(this.actionObj.cloneElement[Z].parentNode)||nt(this.actionObj.cloneElement[Z])}}else this.updateEventHeight(N);this.updateTimePosition(this.actionObj.start,this.updatedData)}splitEvent(e){const t=this.parent.eventFields,i=[],s=e[t.startTime],n=e[t.endTime];if(ge(new Date(s.getTime()))<ge(new Date(n.getTime()))){let a=ge(new Date(s.getTime())),o=new Date(a.getTime());for(let d=0;a<new Date(n.getTime());d++){o=new Date(o.setDate(a.getDate()+1));const m=ae({},e,null,!0);m[t.startTime]=new Date(a),m[t.endTime]=new Date(o),a=new Date(a.setDate(a.getDate()+1)),i.push(m)}const h=i.length-1;i[0][t.startTime]=s,i[h][t.endTime]=n}else i.push(e);return i}updateMultipleData(e,t){const i=ae({},e,null,!0);!f(this.actionObj.isAllDay)&&this.parent.activeViewOptions.timeScale.enable&&(this.isAllDayTarget&&i[this.parent.eventFields.isAllDay]||!this.isAllDayTarget&&!i[this.parent.eventFields.isAllDay])&&(i[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay);const s=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime();if(i[this.parent.eventFields.isAllDay]){const n=Math.ceil(t/864e5),a=Math.ceil(s/864e5),o=new Date(i[this.parent.eventFields.startTime]);i[this.parent.eventFields.startTime]=ge(new Date(o.setDate(o.getDate()+n))),i[this.parent.eventFields.endTime]=at(i[this.parent.eventFields.startTime],a)}else i[this.parent.eventFields.startTime]=new Date(i[this.parent.eventFields.startTime].getTime()+t),i[this.parent.eventFields.endTime]=new Date(i[this.parent.eventFields.startTime].getTime()+s);return i}getDayIndex(e){const t=ae({},e,null,!0),i=ge(t[this.parent.eventFields.startTime]).getTime();let s="",n=oF;return n=this.parent.activeViewOptions.timeScale.enable&&t[this.parent.eventFields.isAllDay]?ip:Et,s="."+n+'[data-date="'+i+'"]',this.parent.activeViewOptions.group.resources.length>0&&(s=s+'[data-group-index="'+this.actionObj.groupIndex+'"]'),this.targetTd=this.parent.element.querySelector(s),f(this.targetTd)?-1:this.targetTd.cellIndex}updateEventHeight(e,t,i){this.verticalEvent.initializeValues();let s=0;if(!this.parent.uiStateValues.isGroupAdaptive)for(let o=0;o<this.actionObj.groupIndex;o++)s+=this.verticalEvent.dateRender[o].length;const n=this.parent.uiStateValues.isGroupAdaptive?s:this.actionObj.groupIndex;if(this.parent.activeViewOptions.group.byDate&&!f(this.parent.getDateFromElement(this.actionObj.target))||!this.parent.activeViewOptions.group.byDate){let o=-1,h=this.parent.activeViewOptions.group.byDate?this.parent.getIndexOfDate(this.verticalEvent.dateRender[n],ge(this.parent.getDateFromElement(f(t)?this.actionObj.target:this.targetTd))):f(t)?this.actionObj.index-s:i-s;const d=this.splitEvent(e),m=this.parent.eventBase.isAllDayAppointment(e)||d.length>2||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement?[e]:d;for(let v=0;v<m.length;v++){if(v>0){let C=`.e-day-wrapper[data-date="${ge(m[v][this.parent.eventFields.startTime]).getTime()}"]`;this.parent.activeViewOptions.group.resources.length>0&&(C=C.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));const w=this.parent.element.querySelector(C);w?(h+=1,o=w.cellIndex):h=-1}if(h>=0){const C=this.verticalEvent.isSpannedEvent(m[v],h,n),w=C[this.verticalEvent.fields.startTime],S=C[this.verticalEvent.fields.endTime];let k=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getHeight(w,S):this.actionObj.element.offsetHeight,O=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getTopValue(w,h,n):this.actionObj.element.offsetTop;if(f(t))0===v?(this.actionObj.clone.style.top=fe(O),this.actionObj.clone.style.height=fe(k)):this.renderSpannedEvents(C,o,O,k);else{let N=this.actionObj.cellWidth;if(e[this.parent.eventFields.isAllDay]){O=this.parent.element.querySelector("."+Jd).offsetTop,k=this.getAllDayEventHeight();const q=e[this.parent.eventFields.endTime].getTime()-e[this.parent.eventFields.startTime].getTime(),z=Math.ceil(q/864e5);z>=0&&(N=z*this.actionObj.cellWidth)}this.actionObj.cloneElement[t]&&(0===v?(this.actionObj.cloneElement[t].style.top=fe(O),this.actionObj.cloneElement[t].style.height=fe(k),this.actionObj.cloneElement[t].style.width=fe(N),this.actionObj.cloneElement[t].style.left=fe(0)):this.renderSpannedEvents(C,o,O,k))}}}}}renderSpannedEvents(e,t,i,s){if(e[this.parent.eventFields.startTime].getTime()!==e[this.parent.eventFields.endTime].getTime()){const o=this.verticalEvent.createAppointmentElement(e,!1,e.isSpanned,this.actionObj.groupIndex);L([o],[Ev,"e-dynamic-clone"]),Ue(o,{width:"100%",height:s+"px",top:i+"px",border:"0px"}),[].slice.call(this.parent.element.querySelectorAll("."+hn))[t].appendChild(o)}}getRenderedDates(){let e=this.parent.activeView.renderDates;return this.parent.eventBase.slots.push(...this.parent.activeView.renderDates.map(t=>+t)),this.parent.activeViewOptions.group.resources.length>0&&(this.parent.eventBase.slots=[],e=this.parent.resourceBase.lastResourceLevel.filter(i=>i.groupIndex===this.actionObj.groupIndex)[0].renderDates,this.parent.eventBase.slots.push(...e.map(i=>+i))),e}updateAllDayEvents(e,t,i){this.parent.eventBase.slots=[];const s=this.getUpdatedEvent(e,t,this.actionObj.event),n=this.getRenderedDates(),a=this.parent.eventBase.splitEvent(s,n);let o=`.e-all-day-cells[data-date="${a[0][this.parent.eventFields.startTime].getTime()}"]`;this.parent.activeViewOptions.group.resources.length>0&&(o=o.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));const h=[].slice.call(this.parent.element.querySelectorAll(o));if(h.length>0||!f(i)){const d=f(i)?h[0].cellIndex:i;this.appendCloneElement(this.getEventWrapper(d)),this.actionObj.clone.style.width=fe(a[0].data.count*this.actionObj.cellWidth)}}swapDragging(e){const t=U(this.actionObj.target,"td").cellIndex;if(U(this.actionObj.target,"."+yl)&&!U(this.actionObj.clone,"."+ip)){L([this.actionObj.clone],po),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!0;const i=this.getAllDayEventHeight(),s=[].slice.call(this.parent.element.querySelectorAll("."+Ms+":first-child"));if(s[0].offsetHeight<i)for(const n of s)n.style.height=(i+2)/12+"em";Ue(this.actionObj.clone,{width:fe(this.actionObj.cellWidth),height:fe(i),top:fe(this.parent.element.querySelector("."+Jd).offsetTop)})}if(U(this.actionObj.target,"."+Et)&&!U(this.actionObj.clone,"."+oF)){H([this.actionObj.clone],po),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!1;const i=0===this.actionObj.element.offsetHeight?this.actionObj.height:this.actionObj.element.offsetHeight;Ue(this.actionObj.clone,{left:fe(0),height:fe(i),width:fe(this.actionObj.cellWidth)})}}calculateVerticalDate(e){if(f(e.target)||e.target&&f(U(e.target,"tr"))||e.target&&"DIV"===e.target.tagName)return;const t=ae({},this.actionObj.event,null,!0);f(this.parent.eventDragArea)&&this.removeCloneElement();const i=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime();let s=U(this.actionObj.target,"td");if(!f(s)){const o=s.parentElement;this.actionObj.index=o.rowIndex*o.children.length+s.cellIndex,s=[].slice.call(this.parent.element.querySelectorAll("."+Et))[this.actionObj.index];const d=this.parent.getDateFromElement(s);if(!f(d)){this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(s.getAttribute("data-group-index"),10));const m=new Date(d.setDate(d.getDate()-this.daysVariation));let v=new Date(m.getTime()),C=new Date(v.getTime());const w=t[this.parent.eventFields.startTime].getTime()-ge(new Date(+t[this.parent.eventFields.startTime])).getTime();v=new Date(v.getTime()+w),C=new Date(v.getTime()+i),this.actionObj.start=new Date(v.getTime()),this.actionObj.end=new Date(C.getTime())}}const n=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),a=[].slice.call(this.parent.element.querySelectorAll("."+Ev));for(const o of a)nt(o);if(this.multiData&&this.multiData.length>0){const o=ge(new Date(n[this.parent.eventFields.startTime]));let h=o.getTime()-this.startTime;"TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0&&(h=12*(o.getFullYear()-new Date(this.startTime).getFullYear()),h-=new Date(this.startTime).getMonth(),h+=o.getMonth());for(let d=0;d<this.multiData.length;d++)this.updatedData[d]=this.updateMultipleVerticalDate(this.multiData[d],h),"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(this.updatedData[d]):this.dynamicEventsRendering(this.updatedData[d])}else"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(n):this.dynamicEventsRendering(n)}updateMultipleVerticalDate(e,t){const i=ae({},e,null,!0),s=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime(),n=new Date(i[this.parent.eventFields.startTime]);if("TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0)i[this.parent.eventFields.startTime]=new Date(n.setMonth(n.getMonth()+t));else{const a=Math.ceil(t/Xn);i[this.parent.eventFields.startTime]=new Date(n.setDate(n.getDate()+a))}return i[this.parent.eventFields.endTime]=new Date(i[this.parent.eventFields.startTime].getTime()+s),i}calculateTimelineTime(e){const t=ae({},this.actionObj.event,null,!0),i=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime();let n,s=this.parent.enableRtl?Math.abs(this.actionObj.clone.offsetLeft)-this.actionObj.clone.offsetWidth:parseInt(this.actionObj.clone.style.left,10);s=Math.floor(s/this.actionObj.cellWidth)*this.actionObj.cellWidth,this.parent.enableRtl&&(n=Math.abs(parseInt(this.actionObj.clone.style.right,10)),this.actionObj.clone.style.right=fe(n)),s=this.getOffsetValue(s,n);const a=this.getColumnIndex(s),o=this.parent.element.querySelector("."+li),h=o.getBoundingClientRect().right,d=this.parent.activeView.isTimelineView()&&!this.parent.enableRtl&&this.actionObj.pageX>this.actionObj.clone.getBoundingClientRect().right&&!this.isMorePopupOpened&&!(this.actionObj.pageX>h),m=this.parent.eventDragArea?o.scrollLeft-o.offsetLeft:0;(this.isCursorAhead||d)&&!this.isStepDragging&&(this.isCursorAhead=!0);let v=Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().left+m)/this.actionObj.cellWidth);this.parent.enableRtl&&(v=Math.abs(Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().right)/this.actionObj.cellWidth))-1),this.cursorPointIndex<0&&this.cursorIndex(e,t,s,v);const C=this.parent.getContentTable().querySelector("tr");let w=this.getCursorCurrentIndex(a,v,C);w=w<0?0:w;let S=this.isHeaderRows?new Date(this.timelineEventModule.dateRender[w].getTime()):this.parent.getDateFromElement(C.children[w]);if(this.isStepDragging){const N=this.getWidthDiff(C,w);if(0!==N){const q=Math.round(N/this.widthPerMinute);S.setMinutes(S.getMinutes()+q*this.actionObj.interval),this.isCursorAhead||d?S.setMilliseconds(-i):S.setMinutes(S.getMinutes()-this.minDiff)}else S=this.actionObj.start}else this.isCursorAhead||d?(S.setMinutes(S.getMinutes()+(this.isTimelineDayProcess?1440:this.actionObj.slotInterval)),S.setMilliseconds(-i)):S.setMinutes(S.getMinutes()-this.cursorPointIndex*(this.isTimelineDayProcess?1440:this.actionObj.slotInterval));if(S=this.calculateIntervalTime(S),this.isTimelineDayProcess){const N=t[this.parent.eventFields.startTime];S.setHours(N.getHours(),N.getMinutes(),N.getSeconds())}if(this.parent.eventDragArea){const N=this.parent.getDateFromElement(e.target);f(N)||(S=N)}const k=new Date(S.getTime());k.setMilliseconds(i);let O=[this.getUpdatedEvent(S,k,this.actionObj.event)];if(this.multiData.length>0){const N=O[0][this.parent.eventFields.startTime].getTime()-this.startTime;for(let q=0;q<this.multiData.length;q++)this.updatedData[q]=this.updateMultipleData(this.multiData[q],N);O=this.updatedData}for(let N=0;N<O.length;N++){const q=this.timelineEventModule.splitEvent(O[N],this.timelineEventModule.dateRender),z=q[0].data,Z=this.timelineEventModule.getStartTime(q[0],z),Ce=this.timelineEventModule.getEndTime(q[0],z),ce=this.timelineEventModule.getEventWidth(Z,Ce,t[this.parent.eventFields.isAllDay],z.count);let Fe=this.parent.getIndexOfDate(this.timelineEventModule.dateRender,ge(new Date(Z.getTime())));Fe=Fe<0?0:Fe;const Se=this.timelineEventModule.getPosition(Z,Ce,t[this.parent.eventFields.isAllDay],Fe),Be=this.multiData.length>0?this.actionObj.cloneElement[N]:this.actionObj.clone;this.parent.enableRtl?Be.style.right=fe(Se):Be.style.left=fe(Se),this.isMorePopupOpened||(Be.style.width=fe(ce)),this.parent.activeViewOptions.group.resources.length>0&&this.calculateResourceGroupingPosition(e,Be),this.actionObj.start=new Date(S.getTime()),this.actionObj.end=new Date(k.getTime()),this.updateTimePosition(this.actionObj.start,this.updatedData)}}getOffsetValue(e,t){if(this.scrollEdges.left||this.scrollEdges.right){const i=this.parent.element.querySelector("."+li);this.parent.enableRtl?(t=i.offsetWidth-i.scrollLeft,this.scrollEdges.right?t=t-i.offsetWidth+this.actionObj.clone.offsetWidth-(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint):(t+=this.widthUptoCursorPoint)-this.widthUptoCursorPoint>=i.scrollWidth&&(this.actionObj.clone.style.width=fe(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint+this.actionObj.cellWidth),t=i.scrollLeft-i.scrollWidth),this.actionObj.clone.style.left=fe(t)):(this.scrollEdges.left?(e=i.scrollLeft-this.widthUptoCursorPoint+this.actionObj.cellWidth,i.scrollLeft+i.offsetWidth>=i.offsetWidth?i.scrollLeft=i.scrollLeft-1:0===this.actionObj.clone.offsetLeft&&(e=i.scrollLeft)):e=i.scrollLeft+i.offsetWidth-this.actionObj.clone.offsetWidth+(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint),this.actionObj.clone.style.left=fe(e=e<0?0:e))}return e}getWidthDiff(e,t){const i=this.scrollArgs.element.getBoundingClientRect();if(i.left<=this.actionObj.pageX&&i.right>=this.actionObj.pageX){const s=e.children[t].offsetLeft,n=this.actionObj.pageX-i.left;return this.parent.enableRtl?s+this.actionObj.cellWidth-(this.scrollArgs.element.scrollLeft+n):this.scrollArgs.element.scrollLeft+n-s}return 0}getColumnIndex(e){const t=Math.floor(e/this.actionObj.cellWidth);return this.isHeaderRows?t:this.getIndex(t)}getCursorCurrentIndex(e,t,i){const s=e+t;if(this.isHeaderRows){const n=Math.floor(i.offsetWidth/this.actionObj.cellWidth);return s>n-1?n-1:s}return s>i.children.length-1?i.children.length-1:s}cursorIndex(e,t,i,s){const n=U(e.target,".e-work-cells");if(f(n)||this.isMorePopupOpened)this.cursorPointIndex=0;else{let a=this.parent.getDateFromElement(n);if(this.isHeaderRows){const h=Math.floor(i/this.actionObj.cellWidth);a=new Date(this.timelineEventModule.dateRender[h+s].getTime())}const o=a.getTime()-t[this.parent.eventFields.startTime].getTime();if(this.isTimelineDayProcess)this.cursorPointIndex=Math.abs(Math.ceil(o/Xn));else{const h=Math.floor(o/$a/(this.actionObj.slotInterval/this.actionObj.cellWidth));this.cursorPointIndex=Math.floor(h/this.actionObj.cellWidth),this.cursorPointIndex=this.cursorPointIndex<0?0:this.cursorPointIndex}}}calculateResourceGroupingPosition(e,t){const i=this.parent.element.querySelector("."+li),s=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap .e-content-table tr:not(.e-hidden)"));let n=qj(i.querySelector("table"));n=f(n)?0:n;const a=this.parent.rowAutoHeight?~~(i.querySelector("table").offsetHeight/s.length):this.actionObj.cellHeight;let o=Math.floor(Math.floor(this.actionObj.Y+(i.scrollTop-n-(window.scrollY||window.pageYOffset))-i.getBoundingClientRect().top)/a);o=o<0?0:o>s.length-1?s.length-1:o,this.actionObj.index=o;const h=this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(o);let d=h.querySelector("."+hn);d||(d=Q("div",{className:hn}),h.appendChild(d)),this.appendCloneElement(d,t);const m=U(this.actionObj.target,"td");this.actionObj.groupIndex=m&&!isNaN(parseInt(m.getAttribute("data-group-index"),10))?parseInt(m.getAttribute("data-group-index"),10):this.actionObj.groupIndex;let v=s[o].getBoundingClientRect().height*o;if(this.parent.rowAutoHeight){const C=this.getCursorElement(e);C&&(v=C.classList.contains(Et)?C.offsetTop:C.offsetParent.classList.contains(Bt)?C.offsetParent.offsetTop:v)}t.style.top=fe(v)}appendCloneElement(e,t=null){t=f(t)?this.actionObj.clone:t;const i=document.querySelector(this.parent.eventDragArea);this.parent.eventDragArea&&i?i.appendChild(t):e.appendChild(t)}getEventWrapper(e,t){let i;if(f(t)&&(t=this.actionObj.clone.classList.contains(po)),this.parent.activeViewOptions.timeScale.enable)i=this.parent.element.querySelectorAll(t?"."+ip:"."+hn).item(e);else{const s=this.parent.element.querySelectorAll("."+Et).item(e);i=s.querySelector("."+hn),i||(i=Q("div",{className:hn}),s.appendChild(i))}return i}getAllDayEventHeight(){const e=Q("div",{className:Bt});this.parent.element.querySelector("."+ip).appendChild(e);const t=e.offsetHeight;return nt(e),t}isAllowDrop(e){if(!this.actionObj.excludeSelectors)return!1;const t=this.actionObj.excludeSelectors.split(",");let i=!1;for(const s of t)if(e.target.classList.contains(s)){i=!0;break}return i}getModuleName(){return"dragAndDrop"}}},hY=["change"],uY=[];let dU=(()=>{let r=class extends Cl{constructor(t,i,s,n){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(hY),this.addTwoWay.call(this,uY),Oy("currentInstance",this,this.viewContainerRef),this.context=new ME}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(b.ViewContainerRef),b.\u0275\u0275directiveInject(b.Injector))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["ejs-recurrenceeditor"]],inputs:{calendarMode:"calendarMode",cssClass:"cssClass",dateFormat:"dateFormat",enablePersistence:"enablePersistence",enableRtl:"enableRtl",firstDayOfWeek:"firstDayOfWeek",frequencies:"frequencies",locale:"locale",maxDate:"maxDate",minDate:"minDate",selectedType:"selectedType",startDate:"startDate",value:"value"},outputs:{change:"change"},features:[b.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();dU=function(r,e,t,i){var a,s=arguments.length,n=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(r,e,t,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(n=(s<3?a(n):s>3?a(e,t,n):a(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n}([dM([ME]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[b.ElementRef,b.Renderer2,b.ViewContainerRef,b.Injector])],dU);let dH=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[[ke.CommonModule]]}),r})();var jh=re(372);class pU{}class fU{}class zo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),n=s.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(s,n),this.headers.has(n)?this.headers.get(n).push(a):this.headers.set(n,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const s=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const n=e.value;if(n){let a=this.headers.get(t);if(!a)return;a=a.filter(o=>-1===n.indexOf(o)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class dY{encodeKey(e){return mU(e)}encodeValue(e){return mU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const fY=/%(\d[a-f0-9])/gi,mY={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function mU(r){return encodeURIComponent(r).replace(fY,(e,t)=>{var i;return null!==(i=mY[t])&&void 0!==i?i:e})}function gU(r){return`${r}`}class Ov{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,e){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{const n=s.indexOf("="),[a,o]=-1==n?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,n)),e.decodeValue(s.slice(n+1))],h=t.get(a)||[];h.push(o),t.set(a,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(n=>{t.push({param:i,value:n,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ov({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(gU(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(gU(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class gY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function vU(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function yU(r){return"undefined"!=typeof Blob&&r instanceof Blob}function bU(r){return"undefined"!=typeof FormData&&r instanceof FormData}class AI{constructor(e,t,i,s){let n;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,n=s):n=i,n&&(this.reportProgress=!!n.reportProgress,this.withCredentials=!!n.withCredentials,n.responseType&&(this.responseType=n.responseType),n.headers&&(this.headers=n.headers),n.context&&(this.context=n.context),n.params&&(this.params=n.params)),this.headers||(this.headers=new zo),this.context||(this.context=new gY),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+a}}else this.params=new Ov,this.urlWithParams=t}serializeBody(){return null===this.body?null:vU(this.body)||yU(this.body)||bU(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ov?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bU(this.body)?null:yU(this.body)?this.body.type||null:vU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ov?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,s=e.url||this.url,n=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,m=e.params||this.params;const v=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((C,w)=>C.set(w,e.setHeaders[w]),d)),e.setParams&&(m=Object.keys(e.setParams).reduce((C,w)=>C.set(w,e.setParams[w]),m)),new AI(i,s,a,{params:m,headers:d,context:v,reportProgress:h,responseType:n,withCredentials:o})}}var ma=(()=>((ma=ma||{})[ma.Sent=0]="Sent",ma[ma.UploadProgress=1]="UploadProgress",ma[ma.ResponseHeader=2]="ResponseHeader",ma[ma.DownloadProgress=3]="DownloadProgress",ma[ma.Response=4]="Response",ma[ma.User=5]="User",ma))();class pH{constructor(e,t=200,i="OK"){this.headers=e.headers||new zo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fH extends pH{constructor(e={}){super(e),this.type=ma.ResponseHeader}clone(e={}){return new fH({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TL extends pH{constructor(e={}){super(e),this.type=ma.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new TL({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CU extends pH{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mH(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let xI=(()=>{class r{constructor(t){this.handler=t}request(t,i,s={}){let n;if(t instanceof AI)n=t;else{let h,d;h=s.headers instanceof zo?s.headers:new zo(s.headers),s.params&&(d=s.params instanceof Ov?s.params:new Ov({fromObject:s.params})),n=new AI(t,i,void 0!==s.body?s.body:null,{headers:h,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Yt(n).pipe(Gc(h=>this.handler.handle(h)));if(t instanceof AI||"events"===s.observe)return a;const o=a.pipe(Ll(h=>h instanceof TL));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return o.pipe((0,Ei.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return o.pipe((0,Ei.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return o.pipe((0,Ei.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));case"json":default:return o.pipe((0,Ei.U)(h=>h.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ov).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,mH(s,i))}post(t,i,s={}){return this.request("POST",t,mH(s,i))}put(t,i,s={}){return this.request("PUT",t,mH(s,i))}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(pU))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();class EU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gH=new b.InjectionToken("HTTP_INTERCEPTORS");let bY=(()=>{class r{intercept(t,i){return i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const CY=/^\)\]\}',?\n/;let wU=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ls.y(i=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,S)=>s.setRequestHeader(w,S.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const n=t.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const w=1223===s.status?204:s.status,S=s.statusText||"OK",k=new zo(s.getAllResponseHeaders()),O=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(s)||t.url;return a=new fH({headers:k,status:w,statusText:S,url:O}),a},h=()=>{let{headers:w,status:S,statusText:k,url:O}=o(),N=null;204!==S&&(N=void 0===s.response?s.responseText:s.response),0===S&&(S=N?200:0);let q=S>=200&&S<300;if("json"===t.responseType&&"string"==typeof N){const z=N;N=N.replace(CY,"");try{N=""!==N?JSON.parse(N):null}catch(Z){N=z,q&&(q=!1,N={error:Z,text:N})}}q?(i.next(new TL({body:N,headers:w,status:S,statusText:k,url:O||void 0})),i.complete()):i.error(new CU({error:N,headers:w,status:S,statusText:k,url:O||void 0}))},d=w=>{const{url:S}=o(),k=new CU({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(k)};let m=!1;const v=w=>{m||(i.next(o()),m=!0);let S={type:ma.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),"text"===t.responseType&&!!s.responseText&&(S.partialText=s.responseText),i.next(S)},C=w=>{let S={type:ma.UploadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),i.next(S)};return s.addEventListener("load",h),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",v),null!==n&&s.upload&&s.upload.addEventListener("progress",C)),s.send(n),i.next({type:ma.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",h),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",v),null!==n&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(ke.XhrFactory))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const vH=new b.InjectionToken("XSRF_COOKIE_NAME"),yH=new b.InjectionToken("XSRF_HEADER_NAME");class DU{}let wY=(()=>{class r{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ke.\u0275parseCookieValue)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(ke.DOCUMENT),b.\u0275\u0275inject(b.PLATFORM_ID),b.\u0275\u0275inject(vH))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),bH=(()=>{class r{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(t);const n=this.tokenService.getToken();return null!==n&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,n)})),i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(DU),b.\u0275\u0275inject(yH))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),DY=(()=>{class r{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(gH,[]);this.chain=i.reduceRight((s,n)=>new EU(s,n),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(fU),b.\u0275\u0275inject(b.Injector))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),SY=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:bH,useClass:bY}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:vH,useValue:t.cookieName}:[],t.headerName?{provide:yH,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({providers:[bH,{provide:gH,useExisting:bH,multi:!0},{provide:DU,useClass:wY},{provide:vH,useValue:"XSRF-TOKEN"},{provide:yH,useValue:"X-XSRF-TOKEN"}]}),r})(),TY=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({providers:[xI,{provide:pU,useClass:DY},wU,{provide:fU,useExisting:wU}],imports:[[SY.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();const CH=new b.InjectionToken("JWT_OPTIONS");let EH=(()=>{class r{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let i=t.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(i)}b64decode(t){let s="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let a,o,n=0,h=0;o=t.charAt(h++);~o&&(a=n%4?64*a+o:o,n++%4)?s+=String.fromCharCode(255&a>>(-2*n&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const i=t.split(".");if(3!==i.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const s=this.urlBase64Decode(i[1]);if(!s)throw new Error("Cannot decode the token.");return JSON.parse(s)}getTokenExpirationDate(t=this.tokenGetter()){let i;if(i=this.decodeToken(t),!i||!i.hasOwnProperty("exp"))return null;const s=new Date(0);return s.setUTCSeconds(i.exp),s}isTokenExpired(t=this.tokenGetter(),i){if(!t||""===t)return!0;const s=this.getTokenExpirationDate(t);return i=i||0,null!==s&&!(s.valueOf()>(new Date).valueOf()+1e3*i)}getAuthScheme(t,i){return"function"==typeof t?t(i):t}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(CH))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),AY=(()=>{class r{constructor(t,i,s){this.jwtHelper=i,this.document=s,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}isAllowedDomain(t){const i=new URL(t.url,this.document.location.origin);if(i.host===this.document.location.host)return!0;const s=`${i.hostname}${i.port&&!this.standardPorts.includes(i.port)?":"+i.port:""}`;return this.allowedDomains.findIndex(n=>"string"==typeof n?n===s:n instanceof RegExp&&n.test(s))>-1}isDisallowedRoute(t){const i=new URL(t.url,this.document.location.origin);return this.disallowedRoutes.findIndex(s=>{if("string"==typeof s){const n=new URL(s,this.document.location.origin);return n.hostname===i.hostname&&n.pathname===i.pathname}return s instanceof RegExp&&s.test(t.url)})>-1}handleInterception(t,i,s){const n=this.jwtHelper.getAuthScheme(this.authScheme,i);let a=!1;if(!t&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(a=!t||this.jwtHelper.isTokenExpired(t)),t&&a&&this.skipWhenExpired?i=i.clone():t&&(i=i.clone({setHeaders:{[this.headerName]:`${n}${t}`}})),s.handle(i)}intercept(t,i){if(!this.isAllowedDomain(t)||this.isDisallowedRoute(t))return i.handle(t);const s=this.tokenGetter(t);return s instanceof Promise?(0,zi.D)(s).pipe((0,jn.zg)(n=>this.handleInterception(n,t,i))):this.handleInterception(s,t,i)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(CH),b.\u0275\u0275inject(EH),b.\u0275\u0275inject(ke.DOCUMENT))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})(),xY=(()=>{class r{constructor(t){if(t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(t){return{ngModule:r,providers:[{provide:gH,useClass:AY,multi:!0},t.jwtOptionsProvider||{provide:CH,useValue:t.config},EH]}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(r,12))},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({}),r})();const II={headers:new zo({"Content-Type":"application/json"})};let Fc=(()=>{class r{constructor(t,i){this.http=t,this.jwtHelper=i}prepEndpoint(t){return"http://localhost:3000/"+t}registerUser(t){const i=this.prepEndpoint("users/register");return this.http.post(i,t,II)}registerCard(t){const i=this.prepEndpoint("users/card");return this.http.post(i,t,II)}authenticateUser(t){const i=this.prepEndpoint("users/authenticate");return this.http.post(i,t,II)}storeUserData(t,i){localStorage.setItem("authToken",t),localStorage.setItem("userNoPW",JSON.stringify(i))}logout(){localStorage.clear(),localStorage.removeItem("authToken"),localStorage.removeItem("userNoPW")}getProfile(){let t=localStorage.getItem("authToken");const i={headers:new zo({"Content-Type":"application/json",Authorization:"Bearer "+t})},s=this.prepEndpoint("users/profile");return this.http.get(s,i)}getList(){let t=localStorage.getItem("authToken");const i={headers:new zo({contentType:"application/json",authorization:"Bearer "+t})},s=this.prepEndpoint("users/list");return this.http.get(s,i)}getReserve(){let t=localStorage.getItem("authToken");const i={headers:new zo({contentType:"application/json",authorization:"Bearer "+t})},s=this.prepEndpoint("users/reserve");return this.http.get(s,i)}getCard(t){let i=localStorage.getItem("authToken");const s={headers:new zo({contentType:"application/json",authorization:"Bearer "+i})},n=this.prepEndpoint("users/myCard");return this.http.post(n,t,s)}getCompany(t){let i=localStorage.getItem("authToken");const s={headers:new zo({contentType:"application/json",authorization:"Bearer "+i})},n=this.prepEndpoint("users/myCompany");return this.http.post(n,t,s)}registerCompany(t){const i=this.prepEndpoint("users/company");return this.http.post(i,t,II)}loggedIn(){let t=localStorage.getItem("authToken");return!this.jwtHelper.isTokenExpired(t)}editUser(t){return this.http.post("http://localhost:3000/users/edit",t,II)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(xI),b.\u0275\u0275inject(EH))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var IY=re(555);function AL(r,e){return new Ls.y(t=>{const i=r.length;if(0===i)return void t.complete();const s=new Array(i);let n=0,a=0;for(let o=0;o<i;o++){const h=(0,zi.D)(r[o]);let d=!1;t.add(h.subscribe({next:m=>{d||(d=!0,a++),s[o]=m},error:m=>t.error(m),complete:()=>{n++,(n===i||!d)&&(a===i&&t.next(e?e.reduce((m,v,C)=>(m[v]=s[C],m),{}):s),t.complete())}}))}})}let SU=(()=>{class r{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(b.ElementRef))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r}),r})(),MC=(()=>{class r extends SU{}return r.\u0275fac=function(){let e;return function(i){return(e||(e=b.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=b.\u0275\u0275defineDirective({type:r,features:[b.\u0275\u0275InheritDefinitionFeature]}),r})();const lp=new b.InjectionToken("NgValueAccessor"),OY={provide:lp,useExisting:(0,b.forwardRef)(()=>cp),multi:!0},LY=new b.InjectionToken("CompositionEventMode");let cp=(()=>{class r extends SU{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=(0,ke.\u0275getDOM)()?(0,ke.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(LY,8))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&b.\u0275\u0275listener("input",function(n){return i._handleInput(n.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(n){return i._compositionEnd(n.target.value)})},features:[b.\u0275\u0275ProvidersFeature([OY]),b.\u0275\u0275InheritDefinitionFeature]}),r})();const Yo=new b.InjectionToken("NgValidators"),Lv=new b.InjectionToken("NgAsyncValidators");function PU(r){return null!=r}function NU(r){const e=(0,b.\u0275isPromise)(r)?(0,zi.D)(r):r;return(0,b.\u0275isObservable)(e),e}function VU(r){let e={};return r.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function FU(r,e){return e.map(t=>t(r))}function HU(r){return r.map(e=>function(r){return!r.validate}(e)?e:t=>e.validate(t))}function wH(r){return null!=r?function(r){if(!r)return null;const e=r.filter(PU);return 0==e.length?null:function(t){return VU(FU(t,e))}}(HU(r)):null}function DH(r){return null!=r?function(r){if(!r)return null;const e=r.filter(PU);return 0==e.length?null:function(t){return function(...r){if(1===r.length){const e=r[0];if((0,Jh.k)(e))return AL(e,null);if((0,IY.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return AL(t.map(i=>e[i]),t)}}if("function"==typeof r[r.length-1]){const e=r.pop();return AL(r=1===r.length&&(0,Jh.k)(r[0])?r[0]:r,null).pipe((0,Ei.U)(t=>e(...t)))}return AL(r,null)}(FU(t,e).map(NU)).pipe((0,Ei.U)(VU))}}(HU(r)):null}function WU(r,e){return null===r?[e]:Array.isArray(r)?[...r,e]:[r,e]}function SH(r){return r?Array.isArray(r)?r:[r]:[]}function xL(r,e){return Array.isArray(r)?r.includes(e):r===e}function zU(r,e){const t=SH(e);return SH(r).forEach(s=>{xL(t,s)||t.push(s)}),t}function YU(r,e){return SH(e).filter(t=>!xL(r,t))}let $U=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wH(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=DH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r}),r})(),Sl=(()=>{class r extends $U{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let e;return function(i){return(e||(e=b.\u0275\u0275getInheritedFactory(r)))(i||r)}}(),r.\u0275dir=b.\u0275\u0275defineDirective({type:r,features:[b.\u0275\u0275InheritDefinitionFeature]}),r})();class Pv extends $U{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GU{constructor(e){this._cd=e}is(e){var t,i,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[e])}}let Nv=(()=>{class r extends GU{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Pv,2))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&b.\u0275\u0275classProp("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})(),hm=(()=>{class r extends GU{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Sl,10))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&b.\u0275\u0275classProp("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[b.\u0275\u0275InheritDefinitionFeature]}),r})();function kI(r,e){xH(r,e),e.valueAccessor.writeValue(r.value),function(r,e){e.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&QU(r,e)})}(r,e),function(r,e){const t=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};r.registerOnChange(t),e._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,e),function(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&QU(r,e),"submit"!==r.updateOn&&r.markAsTouched()})}(r,e),function(r,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(t),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,e)}function OL(r,e){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xH(r,e){const t=function(r){return r._rawValidators}(r);null!==e.validator?r.setValidators(WU(t,e.validator)):"function"==typeof t&&r.setValidators([t]);const i=function(r){return r._rawAsyncValidators}(r);null!==e.asyncValidator?r.setAsyncValidators(WU(i,e.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const s=()=>r.updateValueAndValidity();OL(e._rawValidators,s),OL(e._rawAsyncValidators,s)}function QU(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function LL(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const MI="VALID",_L="INVALID",gD="PENDING",OI="DISABLED";function MH(r){return(RH(r)?r.validators:r)||null}function ZU(r){return Array.isArray(r)?wH(r):r||null}function OH(r,e){return(RH(e)?e.asyncValidators:r)||null}function JU(r){return Array.isArray(r)?DH(r):r||null}function RH(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class LH{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ZU(this._rawValidators),this._composedAsyncValidatorFn=JU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===MI}get invalid(){return this.status===_L}get pending(){return this.status==gD}get disabled(){return this.status===OI}get enabled(){return this.status!==OI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ZU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=JU(e)}addValidators(e){this.setValidators(zU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YU(e,this._rawAsyncValidators))}hasValidator(e){return xL(this._rawValidators,e)}hasAsyncValidator(e){return xL(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gD,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=OI,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=MI,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===MI||this.status===gD)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?OI:MI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gD,this._hasOwnPendingAsyncValidator=!0;const t=NU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(r,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=r;return e.forEach(s=>{i=i instanceof _H?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof $Y&&i.at(s)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new b.EventEmitter,this.statusChanges=new b.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?OI:this.errors?_L:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gD)?gD:this._anyControlsHaveStatus(_L)?_L:MI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){RH(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class PL extends LH{constructor(e=null,t,i){super(MH(t),OH(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _H extends LH{constructor(e,t,i){super(MH(t),OH(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof PL?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((s,n)=>{i=t(i,s,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class $Y extends LH{constructor(e,t,i){super(MH(t),OH(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof PL?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const GY={provide:Sl,useExisting:(0,b.forwardRef)(()=>Xu)},RI=(()=>Promise.resolve(null))();let Xu=(()=>{class r extends Sl{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new b.EventEmitter,this.form=new _H({},wH(t),DH(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){RI.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),kI(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){RI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),LL(this._directives,t)})}addFormGroup(t){RI.then(()=>{const i=this._findContainer(t.path),s=new _H({});(function(r,e){xH(r,e)})(s,t),i.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){RI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){RI.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(r,e){r._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Yo,10),b.\u0275\u0275directiveInject(Lv,10))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&b.\u0275\u0275listener("submit",function(n){return i.onSubmit(n)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b.\u0275\u0275ProvidersFeature([GY]),b.\u0275\u0275InheritDefinitionFeature]}),r})();const KY={provide:Pv,useExisting:(0,b.forwardRef)(()=>um)},i5=(()=>Promise.resolve(null))();let um=(()=>{class r extends Pv{constructor(t,i,s,n){super(),this.control=new PL,this._registered=!1,this.update=new b.EventEmitter,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(r,e){if(!e)return null;let t,i,s;return Array.isArray(e),e.forEach(n=>{n.constructor===cp?t=n:function(r){return Object.getPrototypeOf(r.constructor)===MC}(n)?i=n:s=n}),s||i||t||null}(0,n)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(r,e){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(r,e){return[...e.path,r]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kI(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){i5.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,s=""===i||i&&"false"!==i;i5.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Sl,9),b.\u0275\u0275directiveInject(Yo,10),b.\u0275\u0275directiveInject(Lv,10),b.\u0275\u0275directiveInject(lp,10))},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b.\u0275\u0275ProvidersFeature([KY]),b.\u0275\u0275InheritDefinitionFeature,b.\u0275\u0275NgOnChangesFeature]}),r})(),dm=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),n5=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({}),r})();const PH=new b.InjectionToken("NgModelWithFormControlWarning"),f$={provide:Yo,useExisting:(0,b.forwardRef)(()=>NL),multi:!0};let NL=(()=>{class r{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(r){return function(r){return null==r||0===r.length}(r.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=b.\u0275\u0275defineDirective({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&b.\u0275\u0275attribute("required",i.required?"":null)},inputs:{required:"required"},features:[b.\u0275\u0275ProvidersFeature([f$])]}),r})(),E5=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[[n5]]}),r})(),C$=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[E5]}),r})(),E$=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:PH,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[E5]}),r})();const LI=function(){return{standalone:!0}};let w$=(()=>{class r{constructor(t,i,s){this.flashMessage=t,this.authService=i,this.router=s}ngOnInit(){const t=localStorage.getItem("userNoPW");this.username=JSON.parse(t).username;let i=localStorage.getItem("card");if(null!==i){const s=JSON.parse(i);this.name=s.name,this.org=s.org,this.title=s.title,this.tel=s.tel,this.fax=s.fax,this.mobile=s.mobile,this.email=s.email,this.homepage=s.homepage,this.address=s.address,this.zip=s.zip}}onRegisterCardSubmit(){this.authService.registerCard({username:this.username,name:this.name,org:this.org,title:this.title,tel:this.tel,fax:this.fax,mobile:this.mobile,email:this.email,homepage:this.homepage,address:this.address,zip:this.zip}).subscribe(i=>{i.success?(this.flashMessage.show(i.msg,{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/dashboard"])):(this.flashMessage.show(i.msg,{cssClass:"alert-danger",timeout:3e3}),this.router.navigate(["/card"]))})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-card"]],decls:32,vars:15,consts:[[1,"card-main"],[1,"page-header"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail2"],["type","text","id","exampleInputEmail2",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail7"],["type","text","id","exampleInputEmail7",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail8"],["type","text","id","exampleInputEmail8",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail10"],["type","text","id","exampleInputEmail10",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit","value","\uba85\ud568 \ub4f1\ub85d/\uc218\uc815\ud558\uae30",1,"btn","btn-primary"],["id","main",1,"p-5","mb-4","rounded-3"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"h2",1),b.\u0275\u0275text(2,"\uba85\ud568 \ub4f1\ub85d/\uc218\uc815 | NameCard"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(3,"br"),b.\u0275\u0275elementStart(4,"form",2),b.\u0275\u0275listener("ngSubmit",function(){return i.onRegisterCardSubmit()}),b.\u0275\u0275elementStart(5,"div",3),b.\u0275\u0275elementStart(6,"label",4),b.\u0275\u0275text(7," ID | Username"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"input",5),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(9,"br"),b.\u0275\u0275elementStart(10,"div",3),b.\u0275\u0275elementStart(11,"label",6),b.\u0275\u0275text(12," \uc774\ub984 | Name"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"input",7),b.\u0275\u0275listener("ngModelChange",function(n){return i.name=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(14,"br"),b.\u0275\u0275elementStart(15,"div",3),b.\u0275\u0275elementStart(16,"label",8),b.\u0275\u0275text(17," \ud734\ub300\ud3f0 | Mobile "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(18,"input",9),b.\u0275\u0275listener("ngModelChange",function(n){return i.mobile=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"br"),b.\u0275\u0275elementStart(20,"div",3),b.\u0275\u0275elementStart(21,"label",10),b.\u0275\u0275text(22," \uc774\uba54\uc77c | Email "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"input",11),b.\u0275\u0275listener("ngModelChange",function(n){return i.email=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(24,"br"),b.\u0275\u0275elementStart(25,"div",3),b.\u0275\u0275elementStart(26,"label",12),b.\u0275\u0275text(27," \uc8fc\uc18c | Address "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(28,"input",13),b.\u0275\u0275listener("ngModelChange",function(n){return i.address=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(29,"br"),b.\u0275\u0275element(30,"input",14),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(31,"div",15)),2&t&&(b.\u0275\u0275advance(8),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(10,LI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.name)("ngModelOptions",b.\u0275\u0275pureFunction0(11,LI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.mobile)("ngModelOptions",b.\u0275\u0275pureFunction0(12,LI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.email)("ngModelOptions",b.\u0275\u0275pureFunction0(13,LI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.address)("ngModelOptions",b.\u0275\u0275pureFunction0(14,LI)))},directives:[dm,hm,Xu,cp,Nv,um],styles:['.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:48vw}.card-main[_ngcontent-%COMP%]{margin:7% 5% 7% 30%;z-index:3;width:40%;height:auto;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black}.btn[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;border:none;padding:10px}']}),r})();function D$(r,e){if(1&r&&(b.\u0275\u0275elementStart(0,"div"),b.\u0275\u0275elementStart(1,"h2",1),b.\u0275\u0275text(2),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(3,"form"),b.\u0275\u0275elementStart(4,"div",2),b.\u0275\u0275elementStart(5,"label"),b.\u0275\u0275text(6,"Name Card"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&r){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1("\uc0ac\uc6a9\uc790 \uc774\ub984: ",t.name,"")}}let S$=(()=>{class r{constructor(t){this.authService=t}ngOnInit(){this.userString=localStorage.getItem("userNoPW"),this.userNoPW=JSON.parse(this.userString),this.name=this.userNoPW.name,this.token=localStorage.getItem("authToken"),this.authService.getCard({username:this.userNoPW.username}).subscribe(t=>{t.success&&(this.card=t.card,localStorage.setItem("card",this.card))}),this.authService.getCompany({username:this.userNoPW.username}).subscribe(t=>{t.success&&(this.company=t.company,localStorage.setItem("company",this.company))})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-header"],[1,"form-group"]],template:function(t,i){1&t&&b.\u0275\u0275template(0,D$,7,1,"div",0),2&t&&b.\u0275\u0275property("ngIf",i.name)},directives:[ke.NgIf,dm,hm,Xu],styles:[""]}),r})();const vD=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),w5="SweetAlert2:",D5=r=>r.charAt(0).toUpperCase()+r.slice(1),Wh=r=>Array.prototype.slice.call(r),ic=r=>{console.warn(`${w5} ${"object"==typeof r?r.join(" "):r}`)},yD=r=>{console.error(`${w5} ${r}`)},S5=[],jH=r=>"function"==typeof r?r():r,WH=r=>r&&"function"==typeof r.toPromise,_I=r=>WH(r)?r.toPromise():Promise.resolve(r),UH=r=>r&&Promise.resolve(r)===r,T5=r=>r instanceof Element||(r=>"object"==typeof r&&r.jquery)(r),k$=r=>{const e={};return"object"!=typeof r[0]||T5(r[0])?["title","html","icon"].forEach((t,i)=>{const s=r[i];"string"==typeof s||T5(s)?e[t]=s:void 0!==s&&yD(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof s}`)}):Object.assign(e,r[0]),e},A5=r=>{const e={};for(const t in r)e[r[t]]="swal2-"+r[t];return e},qe=A5(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),PI=A5(["success","warning","info","question","error"]),$o=()=>document.body.querySelector(`.${qe.container}`),NI=r=>{const e=$o();return e?e.querySelector(r):null},Uh=r=>NI(`.${r}`),Zs=()=>Uh(qe.popup),VI=()=>Uh(qe.icon),x5=()=>Uh(qe.title),VL=()=>Uh(qe["html-container"]),I5=()=>Uh(qe.image),k5=()=>Uh(qe["progress-steps"]),FL=()=>Uh(qe["validation-message"]),Zu=()=>NI(`.${qe.actions} .${qe.confirm}`),Vv=()=>NI(`.${qe.actions} .${qe.deny}`),O$=()=>Uh(qe["input-label"]),bD=()=>NI(`.${qe.loader}`),OC=()=>NI(`.${qe.actions} .${qe.cancel}`),HL=()=>Uh(qe.actions),M5=()=>Uh(qe.footer),BL=()=>Uh(qe["timer-progress-bar"]),qH=()=>Uh(qe.close),zH=()=>{const r=Wh(Zs().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,i)=>(t=parseInt(t.getAttribute("tabindex")))>(i=parseInt(i.getAttribute("tabindex")))?1:t<i?-1:0),e=Wh(Zs().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(r=>{const e=[];for(let t=0;t<r.length;t++)-1===e.indexOf(r[t])&&e.push(r[t]);return e})(r.concat(e)).filter(t=>qh(t))},YH=()=>!Fv(document.body,qe["toast-shown"])&&!Fv(document.body,qe["no-backdrop"]),jL=()=>Zs()&&Fv(Zs(),qe.toast),L$=()=>Zs().hasAttribute("data-loading"),CD={previousBodyPadding:null},Go=(r,e)=>{if(r.textContent="",e){const i=(new DOMParser).parseFromString(e,"text/html");Wh(i.querySelector("head").childNodes).forEach(s=>{r.appendChild(s)}),Wh(i.querySelector("body").childNodes).forEach(s=>{r.appendChild(s)})}},Fv=(r,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!r.classList.contains(t[i]))return!1;return!0},Ju=(r,e,t)=>{if(((r,e)=>{Wh(r.classList).forEach(t=>{!Object.values(qe).includes(t)&&!Object.values(PI).includes(t)&&!Object.values(e.showClass).includes(t)&&r.classList.remove(t)})})(r,e),e.customClass&&e.customClass[t]){if("string"!=typeof e.customClass[t]&&!e.customClass[t].forEach)return ic(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof e.customClass[t]}"`);Ds(r,e.customClass[t])}},$H=(r,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return up(r,qe[e]);case"checkbox":return r.querySelector(`.${qe.checkbox} input`);case"radio":return r.querySelector(`.${qe.radio} input:checked`)||r.querySelector(`.${qe.radio} input:first-child`);case"range":return r.querySelector(`.${qe.range} input`);default:return up(r,qe.input)}},O5=r=>{if(r.focus(),"file"!==r.type){const e=r.value;r.value="",r.value=e}},R5=(r,e,t)=>{!r||!e||("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{r.forEach?r.forEach(s=>{t?s.classList.add(i):s.classList.remove(i)}):t?r.classList.add(i):r.classList.remove(i)}))},Ds=(r,e)=>{R5(r,e,!0)},hp=(r,e)=>{R5(r,e,!1)},up=(r,e)=>{for(let t=0;t<r.childNodes.length;t++)if(Fv(r.childNodes[t],e))return r.childNodes[t]},FI=(r,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||0===parseInt(t)?r.style[e]="number"==typeof t?`${t}px`:t:r.style.removeProperty(e)},bo=(r,e="flex")=>{r.style.display=e},Qo=r=>{r.style.display="none"},L5=(r,e,t,i)=>{const s=r.querySelector(e);s&&(s.style[t]=i)},WL=(r,e,t)=>{e?bo(r,t):Qo(r)},qh=r=>!(!r||!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),_5=r=>r.scrollHeight>r.clientHeight,P5=r=>{const e=window.getComputedStyle(r),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},GH=(r,e=!1)=>{const t=BL();qh(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${r/1e3}s linear`,t.style.width="0%"},10))},N5=()=>"undefined"==typeof window||"undefined"==typeof document,V$=`\n <div aria-labelledby="${qe.title}" aria-describedby="${qe["html-container"]}" class="${qe.popup}" tabindex="-1">\n   <button type="button" class="${qe.close}"></button>\n   <ul class="${qe["progress-steps"]}"></ul>\n   <div class="${qe.icon}"></div>\n   <img class="${qe.image}" />\n   <h2 class="${qe.title}" id="${qe.title}"></h2>\n   <div class="${qe["html-container"]}" id="${qe["html-container"]}"></div>\n   <input class="${qe.input}" />\n   <input type="file" class="${qe.file}" />\n   <div class="${qe.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${qe.select}"></select>\n   <div class="${qe.radio}"></div>\n   <label for="${qe.checkbox}" class="${qe.checkbox}">\n     <input type="checkbox" />\n     <span class="${qe.label}"></span>\n   </label>\n   <textarea class="${qe.textarea}"></textarea>\n   <div class="${qe["validation-message"]}" id="${qe["validation-message"]}"></div>\n   <div class="${qe.actions}">\n     <div class="${qe.loader}"></div>\n     <button type="button" class="${qe.confirm}"></button>\n     <button type="button" class="${qe.deny}"></button>\n     <button type="button" class="${qe.cancel}"></button>\n   </div>\n   <div class="${qe.footer}"></div>\n   <div class="${qe["timer-progress-bar-container"]}">\n     <div class="${qe["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),RC=()=>{_C.isVisible()&&_C.resetValidationMessage()},QH=(r,e)=>{r instanceof HTMLElement?e.appendChild(r):"object"==typeof r?q$(r,e):r&&Go(e,r)},q$=(r,e)=>{r.jquery?z$(e,r):Go(e,r.toString())},z$=(r,e)=>{if(r.textContent="",0 in e)for(let t=0;t in e;t++)r.appendChild(e[t].cloneNode(!0));else r.appendChild(e.cloneNode(!0))},HI=(()=>{if(N5())return!1;const r=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&void 0!==r.style[t])return e[t];return!1})();function KH(r,e,t){WL(r,t[`show${D5(e)}Button`],"inline-block"),Go(r,t[`${e}ButtonText`]),r.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]),r.className=qe[e],Ju(r,t,`${e}Button`),Ds(r,t[`${e}ButtonClass`])}const ns={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},eG=["input","file","range","select","radio","checkbox","textarea"],XH=(r,e)=>{(!r.placeholder||e.inputPlaceholder)&&(r.placeholder=e.inputPlaceholder)},BI=(r,e,t)=>{if(t.inputLabel){r.id=qe.input;const i=document.createElement("label"),s=qe["input-label"];i.setAttribute("for",r.id),i.className=s,Ds(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},V5=r=>{const e=qe[r]?qe[r]:qe.input;return up(Zs(),e)},sc={};sc.text=sc.email=sc.password=sc.number=sc.tel=sc.url=(r,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?r.value=e.inputValue:UH(e.inputValue)||ic(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e.inputValue}"`),BI(r,r,e),XH(r,e),r.type=e.input,r),sc.file=(r,e)=>(BI(r,r,e),XH(r,e),r),sc.range=(r,e)=>{const t=r.querySelector("input"),i=r.querySelector("output");return t.value=e.inputValue,t.type=e.input,i.value=e.inputValue,BI(t,r,e),r},sc.select=(r,e)=>{if(r.textContent="",e.inputPlaceholder){const t=document.createElement("option");Go(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,r.appendChild(t)}return BI(r,r,e),r},sc.radio=r=>(r.textContent="",r),sc.checkbox=(r,e)=>{const t=$H(Zs(),"checkbox");t.value=1,t.id=qe.checkbox,t.checked=Boolean(e.inputValue);const i=r.querySelector("span");return Go(i,e.inputPlaceholder),r},sc.textarea=(r,e)=>(r.value=e.inputValue,XH(r,e),BI(r,r,e),setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Zs()).width);new MutationObserver(()=>{const n=r.offsetWidth+(i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight))(r);Zs().style.width=n>i?`${n}px`:null}).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r);const aG=(r,e)=>{const t=VL();Ju(t,e,"htmlContainer"),e.html?(QH(e.html,t),bo(t,"block")):e.text?(t.textContent=e.text,bo(t,"block")):Qo(t),((r,e)=>{const t=Zs(),i=ns.innerParams.get(r),s=!i||e.input!==i.input;eG.forEach(n=>{const a=qe[n],o=up(t,a);((r,e)=>{const t=$H(Zs(),r);if(t){(r=>{for(let e=0;e<r.attributes.length;e++){const t=r.attributes[e].name;["type","value","style"].includes(t)||r.removeAttribute(t)}})(t);for(const i in e)t.setAttribute(i,e[i])}})(n,e.inputAttributes),o.className=a,s&&Qo(o)}),e.input&&(s&&(r=>{if(!sc[r.input])return yD(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${r.input}"`);const e=V5(r.input),t=sc[r.input](e,r);bo(t),setTimeout(()=>{O5(t)})})(e),(r=>{const e=V5(r.input);r.customClass&&Ds(e,r.customClass.input)})(e))})(r,e)},F5=(r,e)=>{for(const t in PI)e.icon!==t&&hp(r,PI[t]);Ds(r,PI[e.icon]),uG(r,e),hG(),Ju(r,e,"icon")},hG=()=>{const r=Zs(),e=window.getComputedStyle(r).getPropertyValue("background-color"),t=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},H5=(r,e)=>{r.textContent="",Go(r,e.iconHtml?B5(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':B5({question:"?",warning:"!",info:"i"}[e.icon]))},uG=(r,e)=>{if(e.iconColor){r.style.color=e.iconColor,r.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])L5(r,t,"backgroundColor",e.iconColor);L5(r,".swal2-success-ring","borderColor",e.iconColor)}},B5=r=>`<div class="${qe["icon-content"]}">${r}</div>`,j5=(r,e)=>{((r,e)=>{const t=$o(),i=Zs();e.toast?(FI(t,"width",e.width),i.style.width="100%",i.insertBefore(bD(),VI())):FI(i,"width",e.width),FI(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Qo(FL()),((r,e)=>{r.className=`${qe.popup} ${qh(r)?e.showClass.popup:""}`,e.toast?(Ds([document.documentElement,document.body],qe["toast-shown"]),Ds(r,qe.toast)):Ds(r,qe.modal),Ju(r,e,"popup"),"string"==typeof e.customClass&&Ds(r,e.customClass),e.icon&&Ds(r,qe[`icon-${e.icon}`])})(i,e)})(0,e),((r,e)=>{const t=$o();!t||(function(r,e){"string"==typeof e?r.style.background=e:e||Ds([document.documentElement,document.body],qe["no-backdrop"])}(t,e.backdrop),function(r,e){e in qe?Ds(r,qe[e]):(ic('The "position" parameter is not valid, defaulting to "center"'),Ds(r,qe.center))}(t,e.position),function(r,e){if(e&&"string"==typeof e){const t=`grow-${e}`;t in qe&&Ds(r,qe[t])}}(t,e.grow),Ju(t,e,"container"))})(0,e),((r,e)=>{const t=k5();if(!e.progressSteps||0===e.progressSteps.length)return Qo(t);bo(t),t.textContent="",e.currentProgressStep>=e.progressSteps.length&&ic("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((i,s)=>{const n=(r=>{const e=document.createElement("li");return Ds(e,qe["progress-step"]),Go(e,r),e})(i);if(t.appendChild(n),s===e.currentProgressStep&&Ds(n,qe["active-progress-step"]),s!==e.progressSteps.length-1){const a=(r=>{const e=document.createElement("li");return Ds(e,qe["progress-step-line"]),r.progressStepsDistance&&(e.style.width=r.progressStepsDistance),e})(e);t.appendChild(a)}})})(0,e),((r,e)=>{const t=ns.innerParams.get(r),i=VI();t&&e.icon===t.icon?(H5(i,e),F5(i,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(PI).indexOf(e.icon)?(yD(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Qo(i)):(bo(i),H5(i,e),F5(i,e),Ds(i,e.showClass.icon)):Qo(i)})(r,e),((r,e)=>{const t=I5();if(!e.imageUrl)return Qo(t);bo(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt),FI(t,"width",e.imageWidth),FI(t,"height",e.imageHeight),t.className=qe.image,Ju(t,e,"image")})(0,e),((r,e)=>{const t=x5();WL(t,e.title||e.titleText,"block"),e.title&&QH(e.title,t),e.titleText&&(t.innerText=e.titleText),Ju(t,e,"title")})(0,e),((r,e)=>{const t=qH();Go(t,e.closeButtonHtml),Ju(t,e,"closeButton"),WL(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),aG(r,e),((r,e)=>{const t=HL(),i=bD();e.showConfirmButton||e.showDenyButton||e.showCancelButton?bo(t):Qo(t),Ju(t,e,"actions"),function(r,e,t){const i=Zu(),s=Vv(),n=OC();KH(i,"confirm",t),KH(s,"deny",t),KH(n,"cancel",t),function(r,e,t,i){if(!i.buttonsStyling)return hp([r,e,t],qe.styled);Ds([r,e,t],qe.styled),i.confirmButtonColor&&(r.style.backgroundColor=i.confirmButtonColor,Ds(r,qe["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,Ds(e,qe["default-outline"])),i.cancelButtonColor&&(t.style.backgroundColor=i.cancelButtonColor,Ds(t,qe["default-outline"]))}(i,s,n,t),t.reverseButtons&&(t.toast?(r.insertBefore(n,i),r.insertBefore(s,i)):(r.insertBefore(n,e),r.insertBefore(s,e),r.insertBefore(i,e)))}(t,i,e),Go(i,e.loaderHtml),Ju(i,e,"loader")})(0,e),((r,e)=>{const t=M5();WL(t,e.footer),e.footer&&QH(e.footer,t),Ju(t,e,"footer")})(0,e),"function"==typeof e.didRender&&e.didRender(Zs())},bG=()=>qh(Zs()),W5=()=>Zu()&&Zu().click(),CG=()=>Vv()&&Vv().click(),EG=()=>OC()&&OC().click();function wG(...r){return new this(...r)}function DG(r){return class extends(this){_main(i,s){return super._main(i,Object.assign({},r,s))}}}const ED=r=>{let e=Zs();e||_C.fire(),e=Zs();const t=bD();jL()?Qo(VI()):SG(e,r),bo(t),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},SG=(r,e)=>{const t=HL(),i=bD();!e&&qh(Zu())&&(e=Zu()),bo(t),e&&(Qo(e),i.setAttribute("data-button-to-replace",e.className)),i.parentNode.insertBefore(i,e),Ds([r,t],qe.loading)},wD={},ls=wD,IG=()=>ls.timeout&&ls.timeout.getTimerLeft(),U5=()=>{if(ls.timeout)return(()=>{const r=BL(),e=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const t=parseInt(window.getComputedStyle(r).width),i=parseInt(e/t*100);r.style.removeProperty("transition"),r.style.width=`${i}%`})(),ls.timeout.stop()},q5=()=>{if(ls.timeout){const r=ls.timeout.start();return GH(r),r}},kG=()=>{const r=ls.timeout;return r&&(r.running?U5():q5())},MG=r=>{if(ls.timeout){const e=ls.timeout.increase(r);return GH(e,!0),e}},OG=()=>ls.timeout&&ls.timeout.isRunning();let z5=!1;const ZH={};function RG(r="data-swal-template"){ZH[r]=this,z5||(document.body.addEventListener("click",LG),z5=!0)}const LG=r=>{for(let e=r.target;e&&e!==document;e=e.parentNode)for(const t in ZH){const i=e.getAttribute(t);if(i)return void ZH[t].fire({template:i})}},Y5={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},_G=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],PG={},NG=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$5=r=>Object.prototype.hasOwnProperty.call(Y5,r),VG=r=>-1!==_G.indexOf(r),JH=r=>PG[r],FG=r=>{$5(r)||ic(`Unknown parameter "${r}"`)},HG=r=>{NG.includes(r)&&ic(`The parameter "${r}" is incompatible with toasts`)},BG=r=>{JH(r)&&((r,e)=>{(r=>{S5.includes(r)||(S5.push(r),ic(r))})(`"${r}" is deprecated and will be removed in the next major release. Please use "${e}" instead.`)})(r,JH(r))},jI=Y5;function G5(){const r=ns.innerParams.get(this);if(!r)return;const e=ns.domCache.get(this);Qo(e.loader),jL()?r.icon&&bo(VI()):WG(e),hp([e.popup,e.actions],qe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const WG=r=>{const e=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));e.length?bo(e[0],"inline-block"):!qh(Zu())&&!qh(Vv())&&!qh(OC())&&Qo(r.actions)};function UG(r){const e=ns.innerParams.get(r||this),t=ns.domCache.get(r||this);return t?$H(t.popup,e.input):null}const QG=r=>{const e=r.target,t=$o();return!(KG(r)||XG(r)||e!==t&&(_5(t)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||_5(VL())&&VL().contains(e)))},KG=r=>r.touches&&r.touches.length&&"stylus"===r.touches[0].touchType,XG=r=>r.touches&&r.touches.length>1,Q5=()=>{Wh(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},WI={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function K5(r,e,t,i){jL()?Z5(r,i):((r=>new Promise(e=>{if(!r)return e();const t=window.scrollX,i=window.scrollY;wD.restoreFocusTimeout=setTimeout(()=>{wD.previousActiveElement&&wD.previousActiveElement.focus?(wD.previousActiveElement.focus(),wD.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(t,i)}))(t).then(()=>Z5(r,i)),ls.keydownTarget.removeEventListener("keydown",ls.keydownHandler,{capture:ls.keydownListenerCapture}),ls.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),YH()&&(null!==CD.previousBodyPadding&&(document.body.style.paddingRight=`${CD.previousBodyPadding}px`,CD.previousBodyPadding=null),(()=>{if(Fv(document.body,qe.iosfix)){const r=parseInt(document.body.style.top,10);hp(document.body,qe.iosfix),document.body.style.top="",document.body.scrollTop=-1*r}})(),Q5()),hp([document.documentElement,document.body],[qe.shown,qe["height-auto"],qe["no-backdrop"],qe["toast-shown"]])}function UL(r){r=nQ(r);const e=WI.swalPromiseResolve.get(this),t=iQ(this);this.isAwaitingPromise()?r.isDismissed||(X5(this),e(r)):t&&e(r)}function tQ(){return!!ns.awaitingPromise.get(this)}const iQ=r=>{const e=Zs();if(!e)return!1;const t=ns.innerParams.get(r);if(!t||Fv(e,t.hideClass.popup))return!1;hp(e,t.showClass.popup),Ds(e,t.hideClass.popup);const i=$o();return hp(i,t.showClass.backdrop),Ds(i,t.hideClass.backdrop),rQ(r,e,t),!0};function sQ(r){const e=WI.swalPromiseReject.get(this);X5(this),e&&e(r)}const X5=r=>{r.isAwaitingPromise()&&(ns.awaitingPromise.delete(r),ns.innerParams.get(r)||r._destroy())},nQ=r=>void 0===r?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),rQ=(r,e,t)=>{const i=$o(),s=HI&&P5(e);"function"==typeof t.willClose&&t.willClose(e),s?aQ(r,e,i,t.returnFocus,t.didClose):K5(r,i,t.returnFocus,t.didClose)},aQ=(r,e,t,i,s)=>{ls.swalCloseEventFinishedCallback=K5.bind(null,r,t,i,s),e.addEventListener(HI,function(n){n.target===e&&(ls.swalCloseEventFinishedCallback(),delete ls.swalCloseEventFinishedCallback)})},Z5=(r,e)=>{setTimeout(()=>{"function"==typeof e&&e.bind(r.params)(),r._destroy()})};function J5(r,e,t){const i=ns.domCache.get(r);e.forEach(s=>{i[s].disabled=t})}function eq(r,e){if(!r)return!1;if("radio"===r.type){const i=r.parentNode.parentNode.querySelectorAll("input");for(let s=0;s<i.length;s++)i[s].disabled=e}else r.disabled=e}function oQ(){J5(this,["confirmButton","denyButton","cancelButton"],!1)}function lQ(){J5(this,["confirmButton","denyButton","cancelButton"],!0)}function cQ(){return eq(this.getInput(),!1)}function hQ(){return eq(this.getInput(),!0)}function uQ(r){const e=ns.domCache.get(this),t=ns.innerParams.get(this);Go(e.validationMessage,r),e.validationMessage.className=qe["validation-message"],t.customClass&&t.customClass.validationMessage&&Ds(e.validationMessage,t.customClass.validationMessage),bo(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",qe["validation-message"]),O5(i),Ds(i,qe.inputerror))}function dQ(){const r=ns.domCache.get(this);r.validationMessage&&Qo(r.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),hp(e,qe.inputerror))}function pQ(){return ns.domCache.get(this).progressSteps}class fQ{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tq={email:(r,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(r,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function vQ(r){(function(r){r.inputValidator||Object.keys(tq).forEach(e=>{r.input===e&&(r.inputValidator=tq[e])})})(r),r.showLoaderOnConfirm&&!r.preConfirm&&ic("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(r){(!r.target||"string"==typeof r.target&&!document.querySelector(r.target)||"string"!=typeof r.target&&!r.target.appendChild)&&(ic('Target parameter is not valid, defaulting to "body"'),r.target="body")}(r),"string"==typeof r.title&&(r.title=r.title.split("\n").join("<br />")),(r=>{const e=(()=>{const r=$o();return!!r&&(r.remove(),hp([document.documentElement,document.body],[qe["no-backdrop"],qe["toast-shown"],qe["has-column"]]),!0)})();if(N5())return void yD("SweetAlert2 requires document to initialize");const t=document.createElement("div");t.className=qe.container,e&&Ds(t,qe["no-transition"]),Go(t,V$);const i=(r=>"string"==typeof r?document.querySelector(r):r)(r.target);i.appendChild(t),(r=>{const e=Zs();e.setAttribute("role",r.toast?"alert":"dialog"),e.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||e.setAttribute("aria-modal","true")})(r),(r=>{"rtl"===window.getComputedStyle(r).direction&&Ds($o(),qe.rtl)})(i),(()=>{const r=Zs(),e=up(r,qe.input),t=up(r,qe.file),i=r.querySelector(`.${qe.range} input`),s=r.querySelector(`.${qe.range} output`),n=up(r,qe.select),a=r.querySelector(`.${qe.checkbox} input`),o=up(r,qe.textarea);e.oninput=RC,t.onchange=RC,n.onchange=RC,a.onchange=RC,o.oninput=RC,i.oninput=()=>{RC(),s.value=i.value},i.onchange=()=>{RC(),i.nextSibling.value=i.value}})()})(r)}const iq=["swal-title","swal-html","swal-footer"],LC=(r,e)=>{Wh(r.attributes).forEach(t=>{-1===e.indexOf(t.name)&&ic([`Unrecognized attribute "${t.name}" on <${r.tagName.toLowerCase()}>.`,e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."])})},nq=r=>{const e=Zs();if(r.target!==e)return;const t=$o();e.removeEventListener(HI,nq),t.style.overflowY="auto"},xQ=(r,e)=>{HI&&P5(e)?(r.style.overflowY="hidden",e.addEventListener(HI,nq)):r.style.overflowY="auto"},IQ=(r,e,t)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Fv(document.body,qe.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",Ds(document.body,qe.iosfix),(()=>{const r=$o();let e;r.ontouchstart=t=>{e=QG(t)},r.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const e=44;Zs().scrollHeight>window.innerHeight-e&&($o().style.paddingBottom=`${e}px`)}})()}})(),e&&"hidden"!==t&&(null===CD.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(CD.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${CD.previousBodyPadding+(()=>{const r=document.createElement("div");r.className=qe["scrollbar-measure"],document.body.appendChild(r);const e=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),e})()}px`)),setTimeout(()=>{r.scrollTop=0})},kQ=(r,e,t)=>{Ds(r,t.showClass.backdrop),e.style.setProperty("opacity","0","important"),bo(e,"grid"),setTimeout(()=>{Ds(e,t.showClass.popup),e.style.removeProperty("opacity")},10),Ds([document.documentElement,document.body],qe.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ds([document.documentElement,document.body],qe["height-auto"])},VQ={select:(r,e,t)=>{const i=up(r,qe.select),s=(n,a,o)=>{const h=document.createElement("option");h.value=o,Go(h,a),h.selected=rq(o,t.inputValue),n.appendChild(h)};e.forEach(n=>{const a=n[0],o=n[1];if(Array.isArray(o)){const h=document.createElement("optgroup");h.label=a,h.disabled=!1,i.appendChild(h),o.forEach(d=>s(h,d[1],d[0]))}else s(i,o,a)}),i.focus()},radio:(r,e,t)=>{const i=up(r,qe.radio);e.forEach(n=>{const a=n[0],o=n[1],h=document.createElement("input"),d=document.createElement("label");h.type="radio",h.name=qe.radio,h.value=a,rq(a,t.inputValue)&&(h.checked=!0);const m=document.createElement("span");Go(m,o),m.className=qe.label,d.appendChild(h),d.appendChild(m),i.appendChild(d)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}},eB=r=>{const e=[];return"undefined"!=typeof Map&&r instanceof Map?r.forEach((t,i)=>{let s=t;"object"==typeof s&&(s=eB(s)),e.push([i,s])}):Object.keys(r).forEach(t=>{let i=r[t];"object"==typeof i&&(i=eB(i)),e.push([t,i])}),e},rq=(r,e)=>e&&e.toString()===r.toString(),aq=(r,e)=>{const t=ns.innerParams.get(r),i=((r,e)=>{const t=r.getInput();if(!t)return null;switch(e.input){case"checkbox":return(r=>r.checked?1:0)(t);case"radio":return(r=>r.checked?r.value:null)(t);case"file":return(r=>r.files.length?null!==r.getAttribute("multiple")?r.files:r.files[0]:null)(t);default:return e.inputAutoTrim?t.value.trim():t.value}})(r,t);t.inputValidator?jQ(r,i,e):r.getInput().checkValidity()?"deny"===e?tB(r,i):iB(r,i):(r.enableButtons(),r.showValidationMessage(t.validationMessage))},jQ=(r,e,t)=>{const i=ns.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>_I(i.inputValidator(e,i.validationMessage))).then(n=>{r.enableButtons(),r.enableInput(),n?r.showValidationMessage(n):"deny"===t?tB(r,e):iB(r,e)})},tB=(r,e)=>{const t=ns.innerParams.get(r||void 0);t.showLoaderOnDeny&&ED(Vv()),t.preDeny?(ns.awaitingPromise.set(r||void 0,!0),Promise.resolve().then(()=>_I(t.preDeny(e,t.validationMessage))).then(s=>{!1===s?r.hideLoading():r.closePopup({isDenied:!0,value:void 0===s?e:s})}).catch(s=>lq(r||void 0,s))):r.closePopup({isDenied:!0,value:e})},oq=(r,e)=>{r.closePopup({isConfirmed:!0,value:e})},lq=(r,e)=>{r.rejectPromise(e)},iB=(r,e)=>{const t=ns.innerParams.get(r||void 0);t.showLoaderOnConfirm&&ED(),t.preConfirm?(r.resetValidationMessage(),ns.awaitingPromise.set(r||void 0,!0),Promise.resolve().then(()=>_I(t.preConfirm(e,t.validationMessage))).then(s=>{qh(FL())||!1===s?r.hideLoading():oq(r,void 0===s?e:s)}).catch(s=>lq(r||void 0,s))):oq(r,e)},sB=(r,e,t)=>{const i=zH();if(i.length)return(e+=t)===i.length?e=0:-1===e&&(e=i.length-1),i[e].focus();Zs().focus()},cq=["ArrowRight","ArrowDown"],UQ=["ArrowLeft","ArrowUp"],zQ=(r,e,t)=>{if(!e.isComposing&&e.target&&r.getInput()&&e.target.outerHTML===r.getInput().outerHTML){if(["textarea","file"].includes(t.input))return;W5(),e.preventDefault()}},YQ=(r,e)=>{const t=r.target,i=zH();let s=-1;for(let n=0;n<i.length;n++)if(t===i[n]){s=n;break}sB(0,s,r.shiftKey?-1:1),r.stopPropagation(),r.preventDefault()},$Q=r=>{if(![Zu(),Vv(),OC()].includes(document.activeElement))return;const s=cq.includes(r)?"nextElementSibling":"previousElementSibling",n=document.activeElement[s];n&&n.focus()},GQ=(r,e,t)=>{jH(e.allowEscapeKey)&&(r.preventDefault(),t(vD.esc))};let qL=!1;function eK(r,e={}){(r=>{!r.backdrop&&r.allowOutsideClick&&ic('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in r)FG(e),r.toast&&HG(e),BG(e)})(Object.assign({},e,r)),ls.currentInstance&&(ls.currentInstance._destroy(),YH()&&Q5()),ls.currentInstance=this;const t=tK(r,e);vQ(t),Object.freeze(t),ls.timeout&&(ls.timeout.stop(),delete ls.timeout),clearTimeout(ls.restoreFocusTimeout);const i=sK(this);return j5(this,t),ns.innerParams.set(this,t),iK(this,i,t)}const tK=(r,e)=>{const t=(r=>{const e="string"==typeof r.template?document.querySelector(r.template):r.template;if(!e)return{};const t=e.content;return(r=>{const e=iq.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Wh(r.children).forEach(t=>{const i=t.tagName.toLowerCase();-1===e.indexOf(i)&&ic(`Unrecognized element <${i}>`)})})(t),Object.assign((r=>{const e={};return Wh(r.querySelectorAll("swal-param")).forEach(t=>{LC(t,["name","value"]);const i=t.getAttribute("name");let s=t.getAttribute("value");"boolean"==typeof jI[i]&&"false"===s&&(s=!1),"object"==typeof jI[i]&&(s=JSON.parse(s)),e[i]=s}),e})(t),(r=>{const e={};return Wh(r.querySelectorAll("swal-button")).forEach(t=>{LC(t,["type","color","aria-label"]);const i=t.getAttribute("type");e[`${i}ButtonText`]=t.innerHTML,e[`show${D5(i)}Button`]=!0,t.hasAttribute("color")&&(e[`${i}ButtonColor`]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=t.getAttribute("aria-label"))}),e})(t),(r=>{const e={},t=r.querySelector("swal-image");return t&&(LC(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt"))),e})(t),(r=>{const e={},t=r.querySelector("swal-icon");return t&&(LC(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e})(t),(r=>{const e={},t=r.querySelector("swal-input");t&&(LC(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=r.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},Wh(i).forEach(s=>{LC(s,["value"]);const n=s.getAttribute("value");e.inputOptions[n]=s.innerHTML})),e})(t),((r,e)=>{const t={};for(const i in e){const s=e[i],n=r.querySelector(s);n&&(LC(n,[]),t[s.replace(/^swal-/,"")]=n.innerHTML.trim())}return t})(t,iq))})(r),i=Object.assign({},jI,e,t,r);return i.showClass=Object.assign({},jI.showClass,i.showClass),i.hideClass=Object.assign({},jI.hideClass,i.hideClass),i},iK=(r,e,t)=>new Promise((i,s)=>{const n=a=>{r.closePopup({isDismissed:!0,dismiss:a})};WI.swalPromiseResolve.set(r,i),WI.swalPromiseReject.set(r,s),e.confirmButton.onclick=()=>(r=>{const e=ns.innerParams.get(r);r.disableButtons(),e.input?aq(r,"confirm"):iB(r,!0)})(r),e.denyButton.onclick=()=>(r=>{const e=ns.innerParams.get(r);r.disableButtons(),e.returnInputValueOnDeny?aq(r,"deny"):tB(r,!1)})(r),e.cancelButton.onclick=()=>((r,e)=>{r.disableButtons(),e(vD.cancel)})(r,n),e.closeButton.onclick=()=>n(vD.close),((r,e,t)=>{ns.innerParams.get(r).toast?((r,e,t)=>{e.popup.onclick=()=>{const i=ns.innerParams.get(r);i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton||i.timer||i.input||t(vD.close)}})(r,e,t):((r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(e){r.container.onmouseup=void 0,e.target===r.container&&(qL=!0)}}})(e),(r=>{r.container.onmousedown=()=>{r.popup.onmouseup=function(e){r.popup.onmouseup=void 0,(e.target===r.popup||r.popup.contains(e.target))&&(qL=!0)}}})(e),((r,e,t)=>{e.container.onclick=i=>{const s=ns.innerParams.get(r);qL?qL=!1:i.target===e.container&&jH(s.allowOutsideClick)&&t(vD.backdrop)}})(r,e,t))})(r,e,n),((r,e,t,i)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),t.toast||(e.keydownHandler=s=>((r,e,t)=>{const i=ns.innerParams.get(r);!i||(i.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?zQ(r,e,i):"Tab"===e.key?YQ(e,i):[...cq,...UQ].includes(e.key)?$Q(e.key):"Escape"===e.key&&GQ(e,i,t))})(r,s,i),e.keydownTarget=t.keydownListenerCapture?window:Zs(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(r,ls,t,n),((r,e)=>{"select"===e.input||"radio"===e.input?((r,e)=>{const t=Zs(),i=s=>VQ[e.input](t,eB(s),e);WH(e.inputOptions)||UH(e.inputOptions)?(ED(Zu()),_I(e.inputOptions).then(s=>{r.hideLoading(),i(s)})):"object"==typeof e.inputOptions?i(e.inputOptions):yD("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof e.inputOptions)})(r,e):["text","email","number","tel","textarea"].includes(e.input)&&(WH(e.inputValue)||UH(e.inputValue))&&(ED(Zu()),((r,e)=>{const t=r.getInput();Qo(t),_I(e.inputValue).then(i=>{t.value="number"===e.input?parseFloat(i)||0:`${i}`,bo(t),t.focus(),r.hideLoading()}).catch(i=>{yD(`Error in inputValue promise: ${i}`),t.value="",bo(t),t.focus(),r.hideLoading()})})(r,e))})(r,t),(r=>{const e=$o(),t=Zs();"function"==typeof r.willOpen&&r.willOpen(t);const s=window.getComputedStyle(document.body).overflowY;kQ(e,t,r),setTimeout(()=>{xQ(e,t)},10),YH()&&(IQ(e,r.scrollbarPadding,s),Wh(document.body.children).forEach(e=>{e===$o()||e.contains($o())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),!jL()&&!ls.previousActiveElement&&(ls.previousActiveElement=document.activeElement),"function"==typeof r.didOpen&&setTimeout(()=>r.didOpen(t)),hp(e,qe["no-transition"])})(t),nK(ls,t,n),rK(e,t),setTimeout(()=>{e.container.scrollTop=0})}),sK=r=>{const e={popup:Zs(),container:$o(),actions:HL(),confirmButton:Zu(),denyButton:Vv(),cancelButton:OC(),loader:bD(),closeButton:qH(),validationMessage:FL(),progressSteps:k5()};return ns.domCache.set(r,e),e},nK=(r,e,t)=>{const i=BL();Qo(i),e.timer&&(r.timeout=new fQ(()=>{t("timer"),delete r.timeout},e.timer),e.timerProgressBar&&(bo(i),setTimeout(()=>{r.timeout&&r.timeout.running&&GH(e.timer)})))},rK=(r,e)=>{if(!e.toast){if(!jH(e.allowEnterKey))return oK();aK(r,e)||sB(0,-1,1)}},aK=(r,e)=>e.focusDeny&&qh(r.denyButton)?(r.denyButton.focus(),!0):e.focusCancel&&qh(r.cancelButton)?(r.cancelButton.focus(),!0):!(!e.focusConfirm||!qh(r.confirmButton)||(r.confirmButton.focus(),0)),oK=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};function lK(r){const e=Zs(),t=ns.innerParams.get(this);if(!e||Fv(e,t.hideClass.popup))return ic("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i={};Object.keys(r).forEach(n=>{_C.isUpdatableParameter(n)?i[n]=r[n]:ic(`Invalid parameter to update: "${n}". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`)});const s=Object.assign({},t,i);j5(this,s),ns.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}function cK(){const r=ns.domCache.get(this),e=ns.innerParams.get(this);e?(r.popup&&ls.swalCloseEventFinishedCallback&&(ls.swalCloseEventFinishedCallback(),delete ls.swalCloseEventFinishedCallback),ls.deferDisposalTimer&&(clearTimeout(ls.deferDisposalTimer),delete ls.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),hK(this)):hq(this)}const hK=r=>{hq(r),delete r.params,delete ls.keydownHandler,delete ls.keydownTarget,delete ls.currentInstance},hq=r=>{r.isAwaitingPromise()?(nB(ns,r),ns.awaitingPromise.set(r,!0)):(nB(WI,r),nB(ns,r))},nB=(r,e)=>{for(const t in r)r[t].delete(e)};let rB;class DD{constructor(...e){if("undefined"==typeof window)return;rB=this;const t=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:t,writable:!1,enumerable:!0,configurable:!0}});const i=this._main(this.params);ns.promise.set(this,i)}then(e){return ns.promise.get(this).then(e)}finally(e){return ns.promise.get(this).finally(e)}}Object.assign(DD.prototype,it),Object.assign(DD,K),Object.keys(it).forEach(r=>{DD[r]=function(...e){if(rB)return rB[r](...e)}}),DD.DismissReason=vD,DD.version="11.3.0";const aB=DD;aB.default=aB;const _C=aB;function uK(r,e){if(1&r){const t=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"button",36),b.\u0275\u0275listener("click",function(){return b.\u0275\u0275restoreView(t),b.\u0275\u0275nextContext(2).openModal()}),b.\u0275\u0275element(1,"i",37),b.\u0275\u0275text(2," \ub85c\uadf8\uc778 "),b.\u0275\u0275elementEnd()}}function dK(r,e){1&r&&(b.\u0275\u0275elementStart(0,"button",38),b.\u0275\u0275element(1,"i",39),b.\u0275\u0275text(2," \ud68c\uc6d0\uac00\uc785 "),b.\u0275\u0275elementEnd())}function pK(r,e){if(1&r&&(b.\u0275\u0275elementStart(0,"div",30),b.\u0275\u0275elementStart(1,"div",31),b.\u0275\u0275elementStart(2,"h1",32),b.\u0275\u0275text(3,"OnlyHealth"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(4,"p"),b.\u0275\u0275text(5,"\uc628\ub9ac\ud5ec\uc2a4\uc5d0 \uc624\uc2e0 \uac78 \ud658\uc601\ud569\ub2c8\ub2e4"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(6,"div",33),b.\u0275\u0275template(7,uK,3,0,"button",34),b.\u0275\u0275text(8," \xa0 "),b.\u0275\u0275template(9,dK,3,0,"button",35),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&r){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(7),b.\u0275\u0275property("ngIf",!t.checkLoggedIn()),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngIf",!t.checkLoggedIn())}}function fK(r,e){if(1&r){const t=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",40),b.\u0275\u0275elementStart(1,"div",41),b.\u0275\u0275elementStart(2,"div",42),b.\u0275\u0275elementStart(3,"div",43),b.\u0275\u0275elementStart(4,"h3"),b.\u0275\u0275text(5),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(6,"button",44),b.\u0275\u0275listener("click",function(){return b.\u0275\u0275restoreView(t),b.\u0275\u0275nextContext().clickedModal()}),b.\u0275\u0275text(7,"\uc0c1\uc138\uc815\ubcf4 "),b.\u0275\u0275element(8,"i",45),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(9,"a",46),b.\u0275\u0275listener("click",function(){return b.\u0275\u0275restoreView(t),b.\u0275\u0275nextContext().onLogoutClick()}),b.\u0275\u0275text(10,"\ub85c\uadf8\uc544\uc6c3"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(11,"div",47),b.\u0275\u0275elementStart(12,"div",48),b.\u0275\u0275elementStart(13,"ul",49),b.\u0275\u0275elementStart(14,"li"),b.\u0275\u0275text(15," \uc774\ub984 "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"li"),b.\u0275\u0275text(17," \uc544\uc774\ub514 "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(18,"li"),b.\u0275\u0275text(19," \uc774\uba54\uc77c "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(20,"ul",50),b.\u0275\u0275elementStart(21,"li"),b.\u0275\u0275text(22),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"li"),b.\u0275\u0275text(24),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(25,"li"),b.\u0275\u0275text(26),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(27,"div",41),b.\u0275\u0275elementStart(28,"div",51),b.\u0275\u0275element(29,"img",52),b.\u0275\u0275elementStart(30,"label",53),b.\u0275\u0275text(31,"\uc0ac\uc9c4 \ubc14\uafb8\uae30"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(32,"input",54),b.\u0275\u0275listener("change",function(s){return b.\u0275\u0275restoreView(t),b.\u0275\u0275nextContext().oneselectFile(s)}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(33,"div",41),b.\u0275\u0275elementStart(34,"a",55),b.\u0275\u0275element(35,"i",56),b.\u0275\u0275text(36," \uc2a4\ucf00\uc974\ub9c1 "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(37,"div",41),b.\u0275\u0275elementStart(38,"a",57),b.\u0275\u0275element(39,"i",58),b.\u0275\u0275text(40," \uc5c5\uccb4 \ub4f1\ub85d "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(41,"div",41),b.\u0275\u0275elementStart(42,"a",59),b.\u0275\u0275element(43,"i",60),b.\u0275\u0275text(44," \ud5ec\uc2a4\uc7a5 \uc608\uc57d "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(45,"div",41),b.\u0275\u0275element(46,"div",61),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&r){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(5),b.\u0275\u0275textInterpolate1("",t.username," \ub2d8"),b.\u0275\u0275advance(17),b.\u0275\u0275textInterpolate1(" : ",t.name,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(" : ",t.username,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(" : ",t.email,""),b.\u0275\u0275advance(3),b.\u0275\u0275property("src",t.url,b.\u0275\u0275sanitizeUrl)}}const uq=function(r){return{display:r}},dq=function(){return{standalone:!0}};let mK=(()=>{class r{constructor(t,i,s){this.authService=t,this.router=i,this.flashMessage=s,this.display="none",this.modal=!1,this.url="../../../assets/base.png"}ngOnInit(){this.userString=localStorage.getItem("userNoPW"),this.userNoPW=JSON.parse(this.userString),this.name=this.userNoPW.name,this.token=localStorage.getItem("authToken"),this.authService.getProfile().subscribe(t=>{this.name=t.userNoPW.name,this.username=t.userNoPW.username,this.email=t.userNoPW.email},t=>(console.log(t),!1)),this.authService.getCompany({username:this.userNoPW.username}).subscribe(t=>{t.success&&(this.company=t.company,localStorage.setItem("company",this.company))})}onLogoutClick(){this.authService.logout(),_C.fire({title:"\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5!",icon:"success",confirmButtonText:"\ud655\uc778"}),this.router.navigate(["/"])}checkLoggedIn(){return this.authService.loggedIn()}openModal(){this.display="block"}onCloseHandled(){this.display="none"}clickedModalClose(){this.modal=!1}clickedModal(){this.modal=!0}onLoginSubmit(){this.authService.authenticateUser({username:this.username,password:this.password}).subscribe(i=>{i.success?(this.authService.storeUserData(i.token,i.userNoPW),_C.fire({title:"\ub85c\uadf8\uc778 \uc131\uacf5!",icon:"success",confirmButtonText:"\ud655\uc778"}),this.router.navigate(["/"])):(_C.fire({title:"\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638 \ub2e4\uc2dc\ud655\uc778",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4"}),this.router.navigate(["/"])),console.log(i)})}oneselectFile(t){if(t.target.files){var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=s=>{this.url=s.target.result}}}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(jh.GQ))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-home"]],decls:61,vars:18,consts:[["id","main",1,"p-5"],["class","main text-center",4,"ngIf"],["class","login-home",4,"ngIf"],[1,"backdrop",3,"ngStyle"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn","btn-default",3,"click"],[1,"modal-body"],[1,"profile_bg"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail3"],["type","text","id","exampleInputEmail3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail4"],["type","password","id","exampleInputEmail4",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","login-btn","type","submit","value","\ub85c\uadf8\uc778",1,"btn",3,"click"],["routerLink","/register",1,"page-tail"],[1,"modal-footer"],["tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",3,"ngClass"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"profile-box3"],[1,"myprofile"],[1,"myprofile-result"],["routerLink","/profile-edit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"main","text-center"],[1,"welcomebox"],[1,"display-5"],[1,"loginbox"],["class","btn btn-lg","id","btn2","type","button",3,"click",4,"ngIf"],["class","btn btn-lg","id","btn1","type","button","routerLink","/register",4,"ngIf"],["id","btn2","type","button",1,"btn","btn-lg",3,"click"],[1,"bi","bi-box-arrow-in-right"],["id","btn1","type","button","routerLink","/register",1,"btn","btn-lg"],[1,"bi","bi-person-plus-fill"],[1,"login-home"],[1,"grid-item"],[1,"profile-title1"],[1,"profile-title-sub"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-gear"],[3,"click"],[1,"profile-mine"],[1,"minprofile-sub"],[1,"min-profile"],[1,"min-profile","result"],[1,"profile-img"],[3,"src"],["for","changeprofile"],["type","file","id","changeprofile",3,"change"],["routerLink","/calendar",1,"nav-link"],[1,"bi","bi-calendar3"],["routerLink","/map",1,"nav-link"],[1,"bi","bi-geo-alt-fill"],["routerLink","/reserve",1,"nav-link"],[1,"bi","bi-people-fill"],[1,"ad-box"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275template(1,pK,10,2,"div",1),b.\u0275\u0275template(2,fK,47,5,"div",2),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(3,"div",3),b.\u0275\u0275text(4,"hi"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275elementStart(6,"div",5),b.\u0275\u0275elementStart(7,"div",6),b.\u0275\u0275elementStart(8,"div",7),b.\u0275\u0275elementStart(9,"h4",8),b.\u0275\u0275text(10,"\ub85c\uadf8\uc778"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(11,"button",9),b.\u0275\u0275listener("click",function(){return i.onCloseHandled()}),b.\u0275\u0275text(12,"\ub2eb\uae30"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"div",10),b.\u0275\u0275elementStart(14,"div",11),b.\u0275\u0275elementStart(15,"form",12),b.\u0275\u0275listener("ngSubmit",function(){return i.onLoginSubmit()}),b.\u0275\u0275elementStart(16,"div",13),b.\u0275\u0275elementStart(17,"label",14),b.\u0275\u0275text(18,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(19,"input",15),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(20,"br"),b.\u0275\u0275elementStart(21,"div",13),b.\u0275\u0275elementStart(22,"label",16),b.\u0275\u0275text(23,"\ube44\ubc00\ubc88\ud638"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"input",17),b.\u0275\u0275listener("ngModelChange",function(n){return i.password=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(25,"br"),b.\u0275\u0275elementStart(26,"input",18),b.\u0275\u0275listener("click",function(){return i.onCloseHandled()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(27,"br"),b.\u0275\u0275elementStart(28,"a",19),b.\u0275\u0275text(29,"\uc544\uc9c1 \ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00\uc694? "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(30,"div",20),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(31,"div",21),b.\u0275\u0275elementStart(32,"div",5),b.\u0275\u0275elementStart(33,"div",6),b.\u0275\u0275elementStart(34,"div",7),b.\u0275\u0275elementStart(35,"h5",22),b.\u0275\u0275text(36,"\uc0c1\uc138\uc815\ubcf4"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(37,"button",23),b.\u0275\u0275listener("click",function(){return i.clickedModalClose()}),b.\u0275\u0275elementStart(38,"span",24),b.\u0275\u0275text(39,"\xd7"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(40,"div",10),b.\u0275\u0275elementStart(41,"div",25),b.\u0275\u0275elementStart(42,"ul",26),b.\u0275\u0275elementStart(43,"li"),b.\u0275\u0275text(44,"\uc774\ub984"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(45,"li"),b.\u0275\u0275text(46,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(47,"li"),b.\u0275\u0275text(48,"\uc774\uba54\uc77c"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(49,"ul",27),b.\u0275\u0275elementStart(50,"li"),b.\u0275\u0275text(51),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(52,"li"),b.\u0275\u0275text(53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(54,"li"),b.\u0275\u0275text(55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(56,"div",20),b.\u0275\u0275elementStart(57,"a",28),b.\u0275\u0275text(58,"\ub0b4 \uc815\ubcf4 \uc218\uc815"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(59,"button",29),b.\u0275\u0275listener("click",function(){return i.clickedModalClose()}),b.\u0275\u0275text(60,"\ub2eb\uae30"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!i.checkLoggedIn()),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",i.checkLoggedIn()),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngStyle",b.\u0275\u0275pureFunction1(12,uq,i.display)),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngStyle",b.\u0275\u0275pureFunction1(14,uq,i.display)),b.\u0275\u0275advance(14),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(16,dq)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password)("ngModelOptions",b.\u0275\u0275pureFunction0(17,dq)),b.\u0275\u0275advance(7),b.\u0275\u0275property("ngClass",i.modal?"modal fade show d-block":"modal fade"),b.\u0275\u0275advance(20),b.\u0275\u0275textInterpolate1(": ",i.name,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(": ",i.username,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(": ",i.email,""))},directives:[ke.NgIf,ke.NgStyle,dm,hm,Xu,cp,Nv,um,md,ke.NgClass,fd],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Dongle:wght@300&family=Gothic+A1:wght@100&family=Gowun+Dodum&display=swap";.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important}.backdrop[_ngcontent-%COMP%]{background-color:#0009;position:fixed;top:0;left:0;width:100%;height:100vh;margin-bottom:100px}.login-home[_ngcontent-%COMP%]{margin:2%;width:96%;height:96%;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black;display:grid;grid-template-rows:repeat(4,1fr);grid-template-columns:repeat(4,1fr);grid-gap:2rem}.grid-item[_ngcontent-%COMP%]{background-color:#00000080;box-shadow:7px 7px 7px 1px #0003;border-radius:5px;width:100%;height:100%}.grid-item[_ngcontent-%COMP%]:nth-child(1){grid-column:1/4;grid-row:1/2;display:flex;flex-direction:column;justify-content:space-around;padding:10px}.profile-title1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer}.profile-mine[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.profile-title1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.profile-title-sub[_ngcontent-%COMP%]{display:flex;align-items:flex-end;width:80%}.profile-title-sub[_ngcontent-%COMP%]{padding:10px}.profile-title-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:25%;background:none;border:none;padding:0}.minprofile-sub[_ngcontent-%COMP%]{width:100%;display:flex}.min-profile[_ngcontent-%COMP%]{list-style:none;margin:0;padding-left:10px;width:20%}.result[_ngcontent-%COMP%]{width:80%}.min-profile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px}.profile-title-sub[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.profile-title-sub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:20%;color:#7070709b;text-decoration:underline}.profile-box3[_ngcontent-%COMP%]{margin-top:3%;padding:0;display:flex}.profile-box3[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.profile-box3[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px;padding:10px}.grid-item[_ngcontent-%COMP%]:nth-child(2){grid-column:4/5;grid-row:1/2}.profile-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:3px solid black;width:77%}.profile-img[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;padding:4px}.profile-img[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.grid-item[_ngcontent-%COMP%]:nth-child(3){grid-column:1/5;grid-row:3/4}.grid-item[_ngcontent-%COMP%]:nth-child(4){grid-column:1/3;grid-row:2/3}.grid-item[_ngcontent-%COMP%]:nth-child(5){grid-column:3/5;grid-row:2/3}.grid-item[_ngcontent-%COMP%]:nth-child(6){grid-column:1/5;grid-row:4/5}.ad-box[_ngcontent-%COMP%]{background-image:url(ad1.8aecd664ffb2e1e65df3.png);background-repeat:no-repeat;background-size:cover;background-position:center;width:100%;height:100%}.grid-item[_ngcontent-%COMP%]:nth-child(n+2){display:flex;justify-content:center;align-items:center}.grid-item[_ngcontent-%COMP%]:nth-child(n+2)   a[_ngcontent-%COMP%]{color:#fff;font-size:30px}.main[_ngcontent-%COMP%]{margin-top:7%;width:100%;position:absolute;font-family:"Bebas Neue",cursive;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black;display:flex;flex-direction:column;align-items:center;padding:0}.welcomebox[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.welcomebox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .welcomebox[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:10px 0}.loginbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:50%;margin-top:5%}.btn-lg[_ngcontent-%COMP%]{color:#fff;padding:auto;font-size:1.3rem;border-radius:5px;background-color:#00000080}.btn-lg[_ngcontent-%COMP%]:hover{background-color:#000;transition:all .3s}.display-5[_ngcontent-%COMP%]{font-size:14rem}.main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:"Gowun Dodum",sans-serif;font-weight:100;font-size:2rem;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 3px 0 #2c2c2c,0 4px 0 #2c2c2c,5px 5px 4px black}.btn[_ngcontent-%COMP%]{font-family:"Gowun Dodum",sans-serif}.page-tail[_ngcontent-%COMP%]{text-decoration:none}#login-btn[_ngcontent-%COMP%]:hover{background-color:#5c75e275}@media only screen and (max-width: 992px){.p-5[_ngcontent-%COMP%]{width:600px}.display-5[_ngcontent-%COMP%]{font-size:100PX}.grid-item[_ngcontent-%COMP%]{max-width:1000px;height:100%}}@media only screen and (max-width: 630px){.p-5[_ngcontent-%COMP%]{width:300px}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.profile-title-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5%}.display-5[_ngcontent-%COMP%]{font-size:60px}.welcomebox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.loginbox[_ngcontent-%COMP%]{flex-direction:column}.login-home[_ngcontent-%COMP%]{display:flex;flex-direction:column}.grid-item[_ngcontent-%COMP%]{width:100%;height:200px}.grid-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:10px}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.grid-item[_ngcontent-%COMP%]:nth-child(1){border:3px saddlebrown solid}.profile-title1[_ngcontent-%COMP%]{font-size:12px}.profile-title-sub[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.profile-title-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.profile-mine[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.minprofile-sub[_ngcontent-%COMP%]{flex-direction:column;height:100%;margin:0;padding:0}}']}),r})();function gK(r,e){if(1&r&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275elementStart(1,"td"),b.\u0275\u0275text(2),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(3,"td"),b.\u0275\u0275text(4),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"td"),b.\u0275\u0275text(6),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&r){const t=e.$implicit;b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(t.name),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(t.username),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(t.email)}}let vK=(()=>{class r{constructor(t){this.authService=t}ngOnInit(){this.authService.getList().subscribe(t=>{this.users=t})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-list"]],decls:16,vars:1,consts:[[1,"page-header"],["role","alert",1,"alert"],[1,"table","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"h2",0),b.\u0275\u0275text(1,"\uc11c\ube44\uc2a4 \uc0ac\uc6a9\uc790 \ub9ac\uc2a4\ud2b8"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(2,"div",1),b.\u0275\u0275elementStart(3,"p"),b.\u0275\u0275text(4,"\uc774 \uc11c\ube44\uc2a4\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790 \ub9ac\uc2a4\ud2b8\ub97c \ud14c\uc774\ube14\ub85c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"table",2),b.\u0275\u0275elementStart(6,"thead",3),b.\u0275\u0275elementStart(7,"tr"),b.\u0275\u0275elementStart(8,"th"),b.\u0275\u0275text(9,"Name"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(10,"th"),b.\u0275\u0275text(11,"ID"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"th"),b.\u0275\u0275text(13,"Email"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(14,"tbody"),b.\u0275\u0275template(15,gK,7,3,"tr",4),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(15),b.\u0275\u0275property("ngForOf",i.users))},directives:[ke.NgForOf],styles:[""]}),r})();const pq=function(){return{standalone:!0}};let yK=(()=>{class r{constructor(t,i,s){this.authService=t,this.router=i,this.flashMessage=s}ngOnInit(){}onLoginSubmit(){this.authService.authenticateUser({username:this.username,password:this.password}).subscribe(i=>{i.success?(this.authService.storeUserData(i.token,i.userNoPW),this.flashMessage.show("\ub85c\uadf8\uc778 \uc131\uacf5",{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/"])):(this.flashMessage.show("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud558\uc138\uc694",{cssClass:"alert-danger",timeout:5e3}),this.router.navigate(["login"])),console.log(i)})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(jh.GQ))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-login"]],decls:20,vars:6,consts:[[1,"login-main"],[1,"page-header"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail3"],["type","text","id","exampleInputEmail3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail4"],["type","password","id","exampleInputEmail4",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit","value","\ub85c\uadf8\uc778",1,"btn"],["routerLink","/register",1,"page-tail"],["id","main",1,"p-5"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"h2",1),b.\u0275\u0275text(2,"\ub85c\uadf8\uc778"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(3,"br"),b.\u0275\u0275elementStart(4,"form",2),b.\u0275\u0275listener("ngSubmit",function(){return i.onLoginSubmit()}),b.\u0275\u0275elementStart(5,"div",3),b.\u0275\u0275elementStart(6,"label",4),b.\u0275\u0275text(7,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"input",5),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(9,"br"),b.\u0275\u0275elementStart(10,"div",3),b.\u0275\u0275elementStart(11,"label",6),b.\u0275\u0275text(12,"\ube44\ubc00\ubc88\ud638"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"input",7),b.\u0275\u0275listener("ngModelChange",function(n){return i.password=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(14,"br"),b.\u0275\u0275element(15,"input",8),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(16,"br"),b.\u0275\u0275elementStart(17,"a",9),b.\u0275\u0275text(18,"\uc544\uc9c1 \ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00\uc694? "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"div",10)),2&t&&(b.\u0275\u0275advance(8),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(4,pq)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password)("ngModelOptions",b.\u0275\u0275pureFunction0(5,pq)))},directives:[dm,hm,Xu,cp,Nv,um,md],styles:['@import"https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Dongle:wght@300&family=Gothic+A1:wght@100&family=Gowun+Dodum&display=swap";.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:48vw}.login-main[_ngcontent-%COMP%]{margin:7% auto 7% 30%;z-index:3;width:40%;height:auto;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black}.btn[_ngcontent-%COMP%]{background-color:#00000080;color:#fff}.page-tail[_ngcontent-%COMP%]{color:#fff;text-decoration:none}']}),r})(),fq=(()=>{class r{constructor(t,i,s){this.authService=t,this.router=i,this.flashMessage=s}ngOnInit(){}onLogoutClick(){this.authService.logout(),this.flashMessage.show("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/login"])}checkLoggedIn(){return this.authService.loggedIn()}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(jh.GQ))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-navbar"]],decls:6,vars:0,consts:[["id","nav1",1,"navbar","navbar-expand-lg","navbar-dark"],["id","nav_width1",1,"container-fluid"],["routerLink","/",1,"navbar-brand"],[1,"fas","fa-dumbbell"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"nav",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275elementStart(2,"a",2),b.\u0275\u0275element(3,"i",3),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(4,"div",4),b.\u0275\u0275element(5,"ul",5),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd())},directives:[md],styles:['@import"https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Gothic+A1:wght@500&display=swap";.bg[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background-color:#000}#nav1[_ngcontent-%COMP%]{background-color:none;position:fixed;top:0;width:100%;height:75px;font-family:"Bebas Neue",cursive}#nav_width1[_ngcontent-%COMP%]{width:940px}#nav1[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-size:32px}#right-nav[_ngcontent-%COMP%]{margin:0!important}']}),r})();var bK=re(259),Ga=re.n(bK);let zL=(()=>{class r{constructor(){}validateRegister(t){return!(null==t.name||null==t.email||null==t.username||null==t.password)}validateEmail(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const UI=function(){return{standalone:!0}};let CK=(()=>{class r{constructor(t,i,s,n){this.flashMessage=t,this.authService=i,this.router=s,this.validateService=n}ngOnInit(){const t=localStorage.getItem("userNoPW");this.username=JSON.parse(t).username;let i=localStorage.getItem("userNoPW");if(null!==i){const s=JSON.parse(i);this.name=s.name,this.username=s.username,this.email=s.email}}onEditSubmit(){if(this.password1!==this.password2)return Ga().fire({title:"\uc2e4\ud328",inputLabel:"\ud328\uc2a4\uc6cc\ub4dc\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud558\uc138\uc694.",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4",timer:1500}),console.log("\ud328\uc2a4\uc6cc\ub4dc\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud558\uc138\uc694."),!1;if(this.password1.length<8||this.password1.length>20)return Ga().fire({title:"\uc2e4\ud328",inputLabel:"\ube44\ubc00\ubc88\ud638\ub97c 8\uc790\ub9ac ~ 20\uc790\ub9ac \uc774\ub0b4\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4",timer:1500}),console.log("\ube44\ubc00\ubc88\ud638\ub97c 8\uc790\ub9ac ~ 20\uc790\ub9ac \uc774\ub0b4\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1;if(-1!=this.password1.search(/\s/))return Ga().fire({title:"\uc2e4\ud328",inputLabel:"\ube44\ubc00\ubc88\ud638\ub294 \uacf5\ubc31 \uc5c6\uc774 \uc785\ub825\ud574\uc8fc\uc138\uc694.",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4",timer:1500}),console.log("\ube44\ubc00\ubc88\ud638\ub97c 8\uc790\ub9ac ~ 20\uc790\ub9ac \uc774\ub0b4\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1;if(!this.validateService.validateEmail(this.email))return Ga().fire({title:"\uc2e4\ud328",inputLabel:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694.",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4",timer:1500}),console.log("\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."),!1;const i={name:this.name,email:this.email,username:this.username,password:this.password1};if(!this.validateService.validateRegister(i))return Ga().fire({title:"\uc2e4\ud328",inputLabel:"\ubaa8\ub4e0 \ud544\ub4dc\ub4e4\uc744 \uc785\ub825\ud558\uc138\uc694.",icon:"error",confirmButtonText:"\ub2e4\uc2dc\uc2dc\ub3c4",timer:1500}),console.log("\ubaa8\ub4e0 \ud544\ub4dc\ub4e4\uc744 \uc785\ub825\ud558\uc138\uc694."),!1;this.authService.editUser(i).subscribe(s=>{s.success?(this.flashMessage.show(s.msg,{cssClass:"alert-success",timeout:3e3}),this.authService.logout(),Ga().fire("\uc218\uc815\uc644\ub8cc.","\ub2e4\uc2dc \ub85c\uadf8\uc778\uc744 \ud574\uc8fc\uc138\uc694."),this.router.navigate(["/"])):(this.flashMessage.show(s.msg,{cssClass:"alert-danger",timeout:3e3}),this.router.navigate(["/profile-edit"]))})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn),b.\u0275\u0275directiveInject(zL))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-profile-edit"]],decls:32,vars:15,consts:[["id","main",1,"p-5","mb-4","rounded-3"],[1,"edit-jh"],[1,"page","header"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail3"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail1"],["for","exampleInputEmail2"],["type","email",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail4"],["type","password",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail5"],["type","submit","value","\ubcc0\uacbd",1,"btn","btn-primary"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275elementStart(2,"h2",2),b.\u0275\u0275text(3," \ub0b4 \uc815\ubcf4 \uc218\uc815"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(4,"br"),b.\u0275\u0275elementStart(5,"form",3),b.\u0275\u0275listener("ngSubmit",function(){return i.onEditSubmit()}),b.\u0275\u0275elementStart(6,"div",4),b.\u0275\u0275elementStart(7,"label",5),b.\u0275\u0275text(8,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(9,"input",6),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(10,"br"),b.\u0275\u0275elementStart(11,"div",4),b.\u0275\u0275elementStart(12,"label",7),b.\u0275\u0275text(13,"\uc0ac\uc6a9\uc790 \uc774\ub984"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(14,"input",6),b.\u0275\u0275listener("ngModelChange",function(n){return i.name=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(15,"br"),b.\u0275\u0275elementStart(16,"div",4),b.\u0275\u0275elementStart(17,"label",8),b.\u0275\u0275text(18,"\uc774\uba54\uc77c"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(19,"input",9),b.\u0275\u0275listener("ngModelChange",function(n){return i.email=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(20,"br"),b.\u0275\u0275elementStart(21,"div",4),b.\u0275\u0275elementStart(22,"label",10),b.\u0275\u0275text(23,"\ud328\uc2a4\uc6cc\ub4dc"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"input",11),b.\u0275\u0275listener("ngModelChange",function(n){return i.password1=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(25,"br"),b.\u0275\u0275elementStart(26,"div",4),b.\u0275\u0275elementStart(27,"label",12),b.\u0275\u0275text(28,"\ud328\uc2a4\uc6cc\ub4dc \ud655\uc778"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(29,"input",11),b.\u0275\u0275listener("ngModelChange",function(n){return i.password2=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(30,"br"),b.\u0275\u0275element(31,"input",13),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(9),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(10,UI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.name)("ngModelOptions",b.\u0275\u0275pureFunction0(11,UI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.email)("ngModelOptions",b.\u0275\u0275pureFunction0(12,UI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password1)("ngModelOptions",b.\u0275\u0275pureFunction0(13,UI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password2)("ngModelOptions",b.\u0275\u0275pureFunction0(14,UI)))},directives:[dm,hm,Xu,cp,Nv,um],styles:['.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important}.edit-jh[_ngcontent-%COMP%]{margin:2%;width:90%;height:96%;height:auto;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black}.btn[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;border:none}@media only screen and (max-width: 992px){.p-5[_ngcontent-%COMP%]{width:600px}}@media only screen and (max-width: 630px){.p-5[_ngcontent-%COMP%]{width:300px}}']}),r})();function EK(r,e){if(1&r&&(b.\u0275\u0275elementStart(0,"div"),b.\u0275\u0275elementStart(1,"h2",4),b.\u0275\u0275text(2,"\ub0b4\uc815\ubcf4"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(3,"br"),b.\u0275\u0275elementStart(4,"div",5),b.\u0275\u0275elementStart(5,"ul",6),b.\u0275\u0275elementStart(6,"li"),b.\u0275\u0275text(7,"\uc774\ub984"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"li"),b.\u0275\u0275text(9,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(10,"li"),b.\u0275\u0275text(11,"\uc774\uba54\uc77c"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"li"),b.\u0275\u0275text(13,"\ud0a4"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(14,"li"),b.\u0275\u0275text(15,"\ubab8\ubb34\uac8c"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"ul",7),b.\u0275\u0275elementStart(17,"li"),b.\u0275\u0275text(18),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(19,"li"),b.\u0275\u0275text(20),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(21,"li"),b.\u0275\u0275text(22),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"li"),b.\u0275\u0275text(24,": \ud0a4cm"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(25,"li"),b.\u0275\u0275text(26,": \ubab8\ubb34\uac8ckg"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&r){const t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(18),b.\u0275\u0275textInterpolate1(": ",t.name,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(": ",t.username,""),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(": ",t.email,"")}}let wK=(()=>{class r{constructor(t,i,s,n){this.authService=t,this.validateService=i,this.flashMessage=s,this.router=n}ngOnInit(){this.authService.getProfile().subscribe(t=>{this.name=t.userNoPW.name,this.username=t.userNoPW.username,this.email=t.userNoPW.email,this.height=t.userNoPW.height,this.weight=t.userNoPW.weight},t=>(console.log(t),!1))}onUploadSubmit(){}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(zL),b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-profile"]],decls:6,vars:1,consts:[[1,"profile-box"],[4,"ngIf"],["routerLink","/profile-edit",1,"btn","btn-primary"],["id","main",1,"p-5"],[1,"page-header"],[1,"profile-box3"],[1,"myprofile"],[1,"myprofile-result"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275template(1,EK,27,3,"div",1),b.\u0275\u0275elementStart(2,"div"),b.\u0275\u0275elementStart(3,"a",2),b.\u0275\u0275text(4,"\ub0b4 \uc815\ubcf4 \uc218\uc815"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(5,"div",3)),2&t&&(b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",i.name))},directives:[ke.NgIf,md],styles:['.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:48vw}.profile-box[_ngcontent-%COMP%]{margin:3% auto 7% 30%;z-index:3;width:40%;height:auto;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black}.profile-box3[_ngcontent-%COMP%]{margin-top:3%;background-color:#00000030;padding:0;display:flex}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}li[_ngcontent-%COMP%]{margin:10px;padding:10px}.btn[_ngcontent-%COMP%]{background-color:#00000063;color:#fff;border:none;margin-top:3%}']}),r})();const qI=function(){return{standalone:!0}};let DK=(()=>{class r{constructor(t,i,s,n){this.validateService=t,this.flashMessage=i,this.authService=s,this.router=n}ngOnInit(){}onRegisterSubmit(){if(this.password1!==this.password2)return Ga().fire({title:"\ud328\uc2a4\uc6cc\ub4dc\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud558\uc138\uc694.",icon:"warning",timer:700}),!1;if(!this.validateService.validateEmail(this.email))return Ga().fire({title:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",icon:"warning",timer:700}),!1;const t={name:this.name,email:this.email,username:this.username,password:this.password1};if(!this.validateService.validateRegister(t))return Ga().fire({title:"\ubaa8\ub4e0 \ud56d\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",icon:"warning",timer:700}),!1;this.authService.registerUser(t).subscribe(i=>{i.success?(Ga().fire({title:"\ud68c\uc6d0\uac00\uc785 \uc644\ub8cc",icon:"success",timer:700}),this.router.navigate(["/"])):(Ga().fire({title:"\uac00\uc785\uc2e4\ud328 \ub2e4\uc2dc\uc2dc\ub3c4",icon:"error",timer:700}),this.router.navigate(["/register"]))})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(zL),b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-register"]],decls:34,vars:15,consts:[["id","main",1,"p-5","mb-4","rounded-3"],[1,"register-form"],[1,"page-header"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail3"],["type","text","id","exampleInputEmail3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail4"],["type","password","id","exampleInputEmail4",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail5"],["type","password","id","exampleInputEmail5",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail2"],["type","email","id","exampleInputEmail2",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit","value","\ud68c\uc6d0\uac00\uc785",1,"btn"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275elementStart(2,"h2",2),b.\u0275\u0275text(3,"\uc0ac\uc6a9\uc790 \ub4f1\ub85d"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(4,"form",3),b.\u0275\u0275listener("ngSubmit",function(){return i.onRegisterSubmit()}),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275elementStart(6,"label",5),b.\u0275\u0275text(7,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"input",6),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(9,"br"),b.\u0275\u0275elementStart(10,"div",4),b.\u0275\u0275elementStart(11,"label",7),b.\u0275\u0275text(12,"\ud328\uc2a4\uc6cc\ub4dc"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"input",8),b.\u0275\u0275listener("ngModelChange",function(n){return i.password1=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(14,"br"),b.\u0275\u0275elementStart(15,"div",4),b.\u0275\u0275elementStart(16,"label",9),b.\u0275\u0275text(17,"\ud328\uc2a4\uc6cc\ub4dc \ud655\uc778"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(18,"input",10),b.\u0275\u0275listener("ngModelChange",function(n){return i.password2=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"br"),b.\u0275\u0275elementStart(20,"div",4),b.\u0275\u0275elementStart(21,"label",11),b.\u0275\u0275text(22," \uc774\ub984"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"input",12),b.\u0275\u0275listener("ngModelChange",function(n){return i.name=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(24,"br"),b.\u0275\u0275elementStart(25,"div",4),b.\u0275\u0275elementStart(26,"label",13),b.\u0275\u0275text(27,"\uc774\uba54\uc77c"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(28,"input",14),b.\u0275\u0275listener("ngModelChange",function(n){return i.email=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(29,"br"),b.\u0275\u0275element(30,"br"),b.\u0275\u0275element(31,"input",15),b.\u0275\u0275element(32,"br"),b.\u0275\u0275element(33,"br"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(8),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(10,qI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password1)("ngModelOptions",b.\u0275\u0275pureFunction0(11,qI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.password2)("ngModelOptions",b.\u0275\u0275pureFunction0(12,qI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.name)("ngModelOptions",b.\u0275\u0275pureFunction0(13,qI)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.email)("ngModelOptions",b.\u0275\u0275pureFunction0(14,qI)))},directives:[dm,hm,Xu,cp,Nv,um],styles:['.p-5[_ngcontent-%COMP%]{height:88%;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;margin:0;padding:0!important}.register-form[_ngcontent-%COMP%]{margin:3%;width:94%;height:94%;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black;display:flex;flex-direction:column;justify-content:center;padding:0}.page-tail[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.btn[_ngcontent-%COMP%]{background-color:#00000080;color:#fff}']}),r})(),ed=(()=>{class r{constructor(t,i){this.authService=t,this.router=i}canActivate(){return!!this.authService.loggedIn()||(this.router.navigate(["/login"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(Fc),b.\u0275\u0275inject(tn))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();const oB=function(){return{standalone:!0}};new kakao.maps.InfoWindow({zIndex:1});let SK=(()=>{class r{constructor(t,i,s){this.authService=t,this.flashMessage=i,this.router=s}ngOnInit(){var t=document.getElementById("map"),i={center:new kakao.maps.LatLng(37.713419118500234,126.89003458110093),level:11},s=new kakao.maps.Map(t,i),n=new kakao.maps.Marker({position:s.getCenter()});n.setMap(s),kakao.maps.event.addListener(s,"click",function(h){var d=h.latLng;n.setPosition(d);var m=n.getPosition(d);localStorage.setItem("marker",m),console.log(d)});const a=localStorage.getItem("userNoPW");this.username=JSON.parse(a).username;let o=localStorage.getItem("company");if(null!==o){const h=JSON.parse(o);this.companyname=h.companyname,this.companytel=h.companytel,this.markerpath=h.markerpath}this.onRegisterCompanySubmit()}onRegisterCompanySubmit(){const t={username:this.username,companyname:this.companyname,companytel:this.companytel,markerpath:localStorage.getItem("marker")};this.authService.registerCompany(t).subscribe(i=>{i.success?Ga().fire({title:i.msg,icon:"success",timer:700}):(Ga().fire({title:i.msg,icon:"error",timer:700}),this.router.navigate(["/company"]))})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-map"]],decls:21,vars:9,consts:[[1,"p-5"],[1,"map-main"],["id","map",2,"width","100%","height","500px"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail2"],["type","text","id","exampleInputEmail2",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputEmail3"],["type","text","id","exampleInputEmail3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit","value","\uc5c5\uccb4 \ub4f1\ub85d",1,"btn","btn-primary"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275element(2,"div",2),b.\u0275\u0275element(3,"br"),b.\u0275\u0275elementStart(4,"form",3),b.\u0275\u0275listener("ngSubmit",function(){return i.onRegisterCompanySubmit()}),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275elementStart(6,"div",4),b.\u0275\u0275elementStart(7,"label",5),b.\u0275\u0275text(8,"\uc544\uc774\ub514"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(9,"input",6),b.\u0275\u0275listener("ngModelChange",function(n){return i.username=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(10,"br"),b.\u0275\u0275elementStart(11,"label",7),b.\u0275\u0275text(12,"\ud5ec\uc2a4\uc7a5"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"input",8),b.\u0275\u0275listener("ngModelChange",function(n){return i.companyname=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(14,"br"),b.\u0275\u0275elementStart(15,"div",4),b.\u0275\u0275elementStart(16,"label",9),b.\u0275\u0275text(17,"\ud5ec\uc2a4\uc7a5 \uc804\ud654\ubc88\ud638"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(18,"input",10),b.\u0275\u0275listener("ngModelChange",function(n){return i.companytel=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"br"),b.\u0275\u0275element(20,"input",11),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(9),b.\u0275\u0275property("ngModel",i.username)("ngModelOptions",b.\u0275\u0275pureFunction0(6,oB)),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",i.companyname)("ngModelOptions",b.\u0275\u0275pureFunction0(7,oB)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.companytel)("ngModelOptions",b.\u0275\u0275pureFunction0(8,oB)))},directives:[dm,hm,Xu,cp,Nv,um],styles:['.p-5[_ngcontent-%COMP%]{height:870px;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important}.map-main[_ngcontent-%COMP%]{margin:2%;width:96%;height:96%;position:absolute;font-family:"Gowun Dodum",sans-serif;color:#fff;text-shadow:0 -1px 0 #fff,0 1px 0 #2e2e2e,0 2px 0 #2c2c2c,0 18px 22px black}@media only screen and (max-width: 992px){.p-5[_ngcontent-%COMP%]{width:600px}}@media only screen and (max-width: 630px){.p-5[_ngcontent-%COMP%]{width:300px}}']}),r})();function mq(r,e){return new Ls.y(e?t=>e.schedule(TK,0,{error:r,subscriber:t}):t=>t.error(r))}function TK({error:r,subscriber:e}){e.error(r)}let gq=(()=>{class r{constructor(t,i){this.http=t,this.router=i,this.baseUrl="/events/",this.headers=(new zo).set("Content-Type","application/json"),this.currentUser={}}addEvent(t){return this.http.post(this.baseUrl+"add_events",t)}getAllEvents(){return this.http.get(this.baseUrl+"get_events").pipe((0,Ei.U)(t=>(console.log(t),t)),_l(t=>mq("Something went wrong")))}deleteSingleEvent(t){return this.http.delete(this.baseUrl+"delete_event/"+t).pipe((0,Ei.U)(i=>i),_l(i=>mq("Something went wrong")))}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275inject(xI),b.\u0275\u0275inject(tn))},r.\u0275prov=b.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var AK=re(439),xK=re.n(AK),lB=function(r,e){return(lB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])})(r,e)};function Zt(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}lB(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var he=function(){return(he=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function Hr(r,e,t){if(t||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))}var zI,Wt,bq,YI,Cq,Eq,wq,$L={},Dq=[],OK=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function pm(r,e){for(var t in e)r[t]=e[t];return r}function Sq(r){var e=r.parentNode;e&&e.removeChild(r)}function zh(r,e,t){var i,s,n,a={};for(n in e)"key"==n?i=e[n]:"ref"==n?s=e[n]:a[n]=e[n];if(arguments.length>2&&(a.children=arguments.length>3?zI.call(arguments,2):t),"function"==typeof r&&null!=r.defaultProps)for(n in r.defaultProps)void 0===a[n]&&(a[n]=r.defaultProps[n]);return $I(r,a,i,s,null)}function $I(r,e,t,i,s){var n={type:r,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++bq:s};return null==s&&null!=Wt.vnode&&Wt.vnode(n),n}function dp(r){return r.children}function Yh(r,e){this.props=r,this.context=e}function SD(r,e){if(null==e)return r.__?SD(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if(null!=(t=r.__k[e])&&null!=t.__e)return t.__e;return"function"==typeof r.type?SD(r):null}function Aq(r){var e,t;if(null!=(r=r.__)&&null!=r.__c){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if(null!=(t=r.__k[e])&&null!=t.__e){r.__e=r.__c.base=t.__e;break}return Aq(r)}}function cB(r){(!r.__d&&(r.__d=!0)&&YI.push(r)&&!GL.__r++||Eq!==Wt.debounceRendering)&&((Eq=Wt.debounceRendering)||Cq)(GL)}function GL(){for(var r;GL.__r=YI.length;)r=YI.sort(function(e,t){return e.__v.__b-t.__v.__b}),YI=[],r.some(function(e){var t,i,s,n,a,o;e.__d&&(a=(n=(t=e).__v).__e,(o=t.__P)&&(i=[],(s=pm({},n)).__v=n.__v+1,hB(o,n,s,t.__n,void 0!==o.ownerSVGElement,null!=n.__h?[a]:null,i,null==a?SD(n):a,n.__h),Lq(i,n),n.__e!=a&&Aq(n)))})}function xq(r,e,t,i,s,n,a,o,h,d){var m,v,C,w,S,k,O,N=i&&i.__k||Dq,q=N.length;for(t.__k=[],m=0;m<e.length;m++)if(null!=(w=t.__k[m]=null==(w=e[m])||"boolean"==typeof w?null:"string"==typeof w||"number"==typeof w||"bigint"==typeof w?$I(null,w,null,null,w):Array.isArray(w)?$I(dp,{children:w},null,null,null):w.__b>0?$I(w.type,w.props,w.key,null,w.__v):w)){if(w.__=t,w.__b=t.__b+1,null===(C=N[m])||C&&w.key==C.key&&w.type===C.type)N[m]=void 0;else for(v=0;v<q;v++){if((C=N[v])&&w.key==C.key&&w.type===C.type){N[v]=void 0;break}C=null}hB(r,w,C=C||$L,s,n,a,o,h,d),S=w.__e,(v=w.ref)&&C.ref!=v&&(O||(O=[]),C.ref&&O.push(C.ref,null,w),O.push(v,w.__c||S,w)),null!=S?(null==k&&(k=S),"function"==typeof w.type&&w.__k===C.__k?w.__d=h=Iq(w,h,r):h=kq(r,w,C,N,S,h),"function"==typeof t.type&&(t.__d=h)):h&&C.__e==h&&h.parentNode!=r&&(h=SD(C))}for(t.__e=k,m=q;m--;)null!=N[m]&&("function"==typeof t.type&&null!=N[m].__e&&N[m].__e==t.__d&&(t.__d=SD(i,m+1)),Pq(N[m],N[m]));if(O)for(m=0;m<O.length;m++)_q(O[m],O[++m],O[++m])}function Iq(r,e,t){for(var i,s=r.__k,n=0;s&&n<s.length;n++)(i=s[n])&&(i.__=r,e="function"==typeof i.type?Iq(i,e,t):kq(t,i,i,s,i.__e,e));return e}function fm(r,e){return e=e||[],null==r||"boolean"==typeof r||(Array.isArray(r)?r.some(function(t){fm(t,e)}):e.push(r)),e}function kq(r,e,t,i,s,n){var a,o,h;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==t||s!=n||null==s.parentNode)e:if(null==n||n.parentNode!==r)r.appendChild(s),a=null;else{for(o=n,h=0;(o=o.nextSibling)&&h<i.length;h+=2)if(o==s)break e;r.insertBefore(s,n),a=n}return void 0!==a?a:s.nextSibling}function Mq(r,e,t){"-"===e[0]?r.setProperty(e,t):r[e]=null==t?"":"number"!=typeof t||OK.test(e)?t:t+"px"}function QL(r,e,t,i,s){var n;e:if("style"===e)if("string"==typeof t)r.style.cssText=t;else{if("string"==typeof i&&(r.style.cssText=i=""),i)for(e in i)t&&e in t||Mq(r.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||Mq(r.style,e,t[e])}else if("o"===e[0]&&"n"===e[1])n=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+n]=t,t?i||r.addEventListener(e,n?Rq:Oq,n):r.removeEventListener(e,n?Rq:Oq,n);else if("dangerouslySetInnerHTML"!==e){if(s)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in r)try{r[e]=null==t?"":t;break e}catch(a){}"function"==typeof t||(null!=t&&(!1!==t||"a"===e[0]&&"r"===e[1])?r.setAttribute(e,t):r.removeAttribute(e))}}function Oq(r){this.l[r.type+!1](Wt.event?Wt.event(r):r)}function Rq(r){this.l[r.type+!0](Wt.event?Wt.event(r):r)}function hB(r,e,t,i,s,n,a,o,h){var d,m,v,C,w,S,k,O,N,q,z,Z=e.type;if(void 0!==e.constructor)return null;null!=t.__h&&(h=t.__h,o=e.__e=t.__e,e.__h=null,n=[o]),(d=Wt.__b)&&d(e);try{e:if("function"==typeof Z){if(O=e.props,N=(d=Z.contextType)&&i[d.__c],q=d?N?N.props.value:d.__:i,t.__c?k=(m=e.__c=t.__c).__=m.__E:("prototype"in Z&&Z.prototype.render?e.__c=m=new Z(O,q):(e.__c=m=new Yh(O,q),m.constructor=Z,m.render=_K),N&&N.sub(m),m.props=O,m.state||(m.state={}),m.context=q,m.__n=i,v=m.__d=!0,m.__h=[]),null==m.__s&&(m.__s=m.state),null!=Z.getDerivedStateFromProps&&(m.__s==m.state&&(m.__s=pm({},m.__s)),pm(m.__s,Z.getDerivedStateFromProps(O,m.__s))),C=m.props,w=m.state,v)null==Z.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),null!=m.componentDidMount&&m.__h.push(m.componentDidMount);else{if(null==Z.getDerivedStateFromProps&&O!==C&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(O,q),!m.__e&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(O,m.__s,q)||e.__v===t.__v){m.props=O,m.state=m.__s,e.__v!==t.__v&&(m.__d=!1),m.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(Ce){Ce&&(Ce.__=e)}),m.__h.length&&a.push(m);break e}null!=m.componentWillUpdate&&m.componentWillUpdate(O,m.__s,q),null!=m.componentDidUpdate&&m.__h.push(function(){m.componentDidUpdate(C,w,S)})}m.context=q,m.props=O,m.state=m.__s,(d=Wt.__r)&&d(e),m.__d=!1,m.__v=e,m.__P=r,d=m.render(m.props,m.state,m.context),m.state=m.__s,null!=m.getChildContext&&(i=pm(pm({},i),m.getChildContext())),v||null==m.getSnapshotBeforeUpdate||(S=m.getSnapshotBeforeUpdate(C,w)),z=null!=d&&d.type===dp&&null==d.key?d.props.children:d,xq(r,Array.isArray(z)?z:[z],e,t,i,s,n,a,o,h),m.base=e.__e,e.__h=null,m.__h.length&&a.push(m),k&&(m.__E=m.__=null),m.__e=!1}else null==n&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=function(r,e,t,i,s,n,a,o){var h,d,m,v=t.props,C=e.props,w=e.type,S=0;if("svg"===w&&(s=!0),null!=n)for(;S<n.length;S++)if((h=n[S])&&"setAttribute"in h==!!w&&(w?h.localName===w:3===h.nodeType)){r=h,n[S]=null;break}if(null==r){if(null===w)return document.createTextNode(C);r=s?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,C.is&&C),n=null,o=!1}if(null===w)v===C||o&&r.data===C||(r.data=C);else{if(n=n&&zI.call(r.childNodes),d=(v=t.props||$L).dangerouslySetInnerHTML,m=C.dangerouslySetInnerHTML,!o){if(null!=n)for(v={},S=0;S<r.attributes.length;S++)v[r.attributes[S].name]=r.attributes[S].value;(m||d)&&(m&&(d&&m.__html==d.__html||m.__html===r.innerHTML)||(r.innerHTML=m&&m.__html||""))}if(function(r,e,t,i,s){var n;for(n in t)"children"===n||"key"===n||n in e||QL(r,n,null,t[n],i);for(n in e)s&&"function"!=typeof e[n]||"children"===n||"key"===n||"value"===n||"checked"===n||t[n]===e[n]||QL(r,n,e[n],t[n],i)}(r,C,v,s,o),m)e.__k=[];else if(S=e.props.children,xq(r,Array.isArray(S)?S:[S],e,t,i,s&&"foreignObject"!==w,n,a,n?n[0]:t.__k&&SD(t,0),o),null!=n)for(S=n.length;S--;)null!=n[S]&&Sq(n[S]);o||("value"in C&&void 0!==(S=C.value)&&(S!==v.value||S!==r.value||"progress"===w&&!S)&&QL(r,"value",S,v.value,!1),"checked"in C&&void 0!==(S=C.checked)&&S!==r.checked&&QL(r,"checked",S,v.checked,!1))}return r}(t.__e,e,t,i,s,n,a,h);(d=Wt.diffed)&&d(e)}catch(Ce){e.__v=null,(h||null!=n)&&(e.__e=o,e.__h=!!h,n[n.indexOf(o)]=null),Wt.__e(Ce,e,t)}}function Lq(r,e){Wt.__c&&Wt.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(i){i.call(t)})}catch(i){Wt.__e(i,t.__v)}})}function _q(r,e,t){try{"function"==typeof r?r(e):r.current=e}catch(i){Wt.__e(i,t)}}function Pq(r,e,t){var i,s;if(Wt.unmount&&Wt.unmount(r),(i=r.ref)&&(i.current&&i.current!==r.__e||_q(i,null,e)),null!=(i=r.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){Wt.__e(n,e)}i.base=i.__P=null}if(i=r.__k)for(s=0;s<i.length;s++)i[s]&&Pq(i[s],e,"function"!=typeof r.type);t||null==r.__e||Sq(r.__e),r.__e=r.__d=void 0}function _K(r,e,t){return this.constructor(r,t)}function Hv(r,e,t){var i,s,n;Wt.__&&Wt.__(r,e),s=(i="function"==typeof t)?null:t&&t.__k||e.__k,n=[],hB(e,r=(!i&&t||e).__k=zh(dp,null,[r]),s||$L,$L,void 0!==e.ownerSVGElement,!i&&t?[t]:s?null:e.firstChild?zI.call(e.childNodes):null,n,!i&&t?t:s?s.__e:e.firstChild,i),Lq(n,r)}zI=Dq.slice,Wt={__e:function(r,e){for(var t,i,s;e=e.__;)if((t=e.__c)&&!t.__)try{if((i=t.constructor)&&null!=i.getDerivedStateFromError&&(t.setState(i.getDerivedStateFromError(r)),s=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(r),s=t.__d),s)return t.__E=t}catch(n){r=n}throw r}},bq=0,Yh.prototype.setState=function(r,e){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=pm({},this.state),"function"==typeof r&&(r=r(pm({},t),this.props)),r&&pm(t,r),null!=r&&this.__v&&(e&&this.__h.push(e),cB(this))},Yh.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),cB(this))},Yh.prototype.render=dp,YI=[],Cq="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,GL.__r=0,wq=0;var Co,Fq,uB=[],Hq=Wt.__b,Bq=Wt.__r,jq=Wt.diffed,Wq=Wt.__c,Uq=Wt.unmount;function WK(){var r;for(uB.sort(function(e,t){return e.__v.__b-t.__v.__b});r=uB.pop();)if(r.__P)try{r.__H.__h.forEach(KL),r.__H.__h.forEach(pB),r.__H.__h=[]}catch(e){r.__H.__h=[],Wt.__e(e,r.__v)}}Wt.__b=function(r){Co=null,Hq&&Hq(r)},Wt.__r=function(r){Bq&&Bq(r);var e=(Co=r.__c).__H;e&&(e.__h.forEach(KL),e.__h.forEach(pB),e.__h=[])},Wt.diffed=function(r){jq&&jq(r);var e=r.__c;e&&e.__H&&e.__H.__h.length&&(1!==uB.push(e)&&Fq===Wt.requestAnimationFrame||((Fq=Wt.requestAnimationFrame)||function(t){var i,s=function(){clearTimeout(n),$q&&cancelAnimationFrame(i),setTimeout(t)},n=setTimeout(s,100);$q&&(i=requestAnimationFrame(s))})(WK)),Co=null},Wt.__c=function(r,e){e.some(function(t){try{t.__h.forEach(KL),t.__h=t.__h.filter(function(i){return!i.__||pB(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Wt.__e(i,t.__v)}}),Wq&&Wq(r,e)},Wt.unmount=function(r){Uq&&Uq(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{KL(i)}catch(s){e=s}}),e&&Wt.__e(e,t.__v))};var $q="function"==typeof requestAnimationFrame;function KL(r){var e=Co,t=r.__c;"function"==typeof t&&(r.__c=void 0,t()),Co=e}function pB(r){var e=Co;r.__c=r.__(),Co=e}function mB(r,e){for(var t in r)if("__source"!==t&&!(t in e))return!0;for(var i in e)if("__source"!==i&&r[i]!==e[i])return!0;return!1}function gB(r){this.props=r}(gB.prototype=new Yh).isPureReactComponent=!0,gB.prototype.shouldComponentUpdate=function(r,e){return mB(this.props,r)||mB(this.state,e)};var Kq=Wt.__b;Wt.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Kq&&Kq(r)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var $K=Wt.__e;Wt.__e=function(r,e,t){if(r.then)for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return null==e.__e&&(e.__e=t.__e,e.__k=t.__k),i.__c(r,e);$K(r,e,t)};var Zq=Wt.unmount;function XL(){this.__u=0,this.t=null,this.__b=null}function Jq(r){var e=r.__.__c;return e&&e.__e&&e.__e(r)}function GI(){this.u=null,this.o=null}Wt.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&!0===r.__h&&(r.type=null),Zq&&Zq(r)},(XL.prototype=new Yh).__c=function(r,e){var t=e.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var s=Jq(i.__v),n=!1,a=function(){n||(n=!0,t.__R=null,s?s(o):o())};t.__R=a;var o=function(){if(!--i.__u){if(i.state.__e){var d=i.state.__e;i.__v.__k[0]=function v(C,w,S){return C&&(C.__v=null,C.__k=C.__k&&C.__k.map(function(k){return v(k,w,S)}),C.__c&&C.__c.__P===w&&(C.__e&&S.insertBefore(C.__e,C.__d),C.__c.__e=!0,C.__c.__P=S)),C}(d,d.__c.__P,d.__c.__O)}var m;for(i.setState({__e:i.__b=null});m=i.t.pop();)m.forceUpdate()}},h=!0===e.__h;i.__u++||h||i.setState({__e:i.__b=i.__v.__k[0]}),r.then(a,a)},XL.prototype.componentWillUnmount=function(){this.t=[]},XL.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function n(a,o,h){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(d){"function"==typeof d.__c&&d.__c()}),a.__c.__H=null),null!=(a=function(r,e){for(var t in e)r[t]=e[t];return r}({},a)).__c&&(a.__c.__P===h&&(a.__c.__P=o),a.__c=null),a.__k=a.__k&&a.__k.map(function(d){return n(d,o,h)})),a}(this.__b,t,i.__O=i.__P)}this.__b=null}var s=e.__e&&zh(dp,null,r.fallback);return s&&(s.__h=null),[zh(dp,null,e.__e?null:r.children),s]};var e4=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&("t"!==r.props.revealOrder[0]||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function QK(r){return this.getChildContext=function(){return r.context},r.children}function KK(r){var e=this,t=r.i;e.componentWillUnmount=function(){Hv(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Hv(zh(QK,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}(GI.prototype=new Yh).__e=function(r){var e=this,t=Jq(e.__v),i=e.o.get(r);return i[0]++,function(s){var n=function(){e.props.revealOrder?(i.push(s),e4(e,r,i)):s()};t?t(n):n()}},GI.prototype.render=function(r){this.u=null,this.o=new Map;var e=fm(r.children);r.revealOrder&&"b"===r.revealOrder[0]&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},GI.prototype.componentDidUpdate=GI.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){e4(r,t,e)})};var i4="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,XK=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ZK="undefined"!=typeof document,JK=function(r){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(r)};Yh.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Yh.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var s4=Wt.event;function iX(){}function sX(){return this.cancelBubble}function nX(){return this.defaultPrevented}Wt.event=function(r){return s4&&(r=s4(r)),r.persist=iX,r.isPropagationStopped=sX,r.isDefaultPrevented=nX,r.nativeEvent=r};var r4={configurable:!0,get:function(){return this.class}},a4=Wt.vnode;Wt.vnode=function(r){var e=r.type,t=r.props,i=t;if("string"==typeof e){var s=-1===e.indexOf("-");for(var n in i={},t){var a=t[n];ZK&&"children"===n&&"noscript"===e||"value"===n&&"defaultValue"in t&&null==a||("defaultValue"===n&&"value"in t&&null==t.value?n="value":"download"===n&&!0===a?a="":/ondoubleclick/i.test(n)?n="ondblclick":/^onchange(textarea|input)/i.test(n+e)&&!JK(t.type)?n="oninput":/^onfocus$/i.test(n)?n="onfocusin":/^onblur$/i.test(n)?n="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(n)?n=n.toLowerCase():s&&XK.test(n)?n=n.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),i[n]=a)}"select"==e&&i.multiple&&Array.isArray(i.value)&&(i.value=fm(t.children).forEach(function(o){o.props.selected=-1!=i.value.indexOf(o.props.value)})),"select"==e&&null!=i.defaultValue&&(i.value=fm(t.children).forEach(function(o){o.props.selected=i.multiple?-1!=i.defaultValue.indexOf(o.props.value):i.defaultValue==o.props.value})),r.props=i,t.class!=t.className&&(r4.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",r4))}r.$$typeof=i4,a4&&a4(r)};var o4=Wt.__r;Wt.__r=function(r){o4&&o4(r)};var c4="undefined"!=typeof globalThis?globalThis:window;c4.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):c4.FullCalendarVDom={Component:Yh,createElement:zh,render:Hv,createRef:function(){return{current:null}},Fragment:dp,createContext:function(r){var e=function(r,e){var t={__c:e="__cC"+wq++,__:r,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,n;return this.getChildContext||(s=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(cB)},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(r),t=e.Provider;return e.Provider=function(){var i=this,s=!this.getChildContext,n=t.apply(this,arguments);if(s){var a=[];this.shouldComponentUpdate=function(o){i.props.value!==o.value&&a.forEach(function(h){h.context=o.value,h.forceUpdate()})},this.sub=function(o){a.push(o);var h=o.componentWillUnmount;o.componentWillUnmount=function(){a.splice(a.indexOf(o),1),h&&h.call(o)}}}return n},e},createPortal:function(r,e){return zh(KK,{__v:r,i:e})},flushToDom:function(){var r=Wt.debounceRendering,e=[];for(Wt.debounceRendering=function(i){e.push(i)},Hv(zh(pX,{}),document.createElement("div"));e.length;)e.shift()();Wt.debounceRendering=r},unmountComponentAtNode:function(r){Hv(null,r)}};var pX=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){return zh("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(Yh);if(re(5),"undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var vB=FullCalendarVDom.Component,Oe=FullCalendarVDom.createElement,gX=FullCalendarVDom.render,$h=FullCalendarVDom.createRef,nc=FullCalendarVDom.Fragment,h4=FullCalendarVDom.createContext,vX=FullCalendarVDom.createPortal,u4=FullCalendarVDom.flushToDom,yX=FullCalendarVDom.unmountComponentAtNode,xD=function(){function r(e,t){this.context=e,this.internalEventSource=t}return r.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},r.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(r.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),r}();function yB(r){r.parentNode&&r.parentNode.removeChild(r)}function Ko(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(bB(r,e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null}function bB(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}var CX=/(top|left|right|bottom|width|height)$/i;function QI(r,e){for(var t in e)d4(r,t,e[t])}function d4(r,e,t){r.style[e]=null==t?"":"number"==typeof t&&CX.test(e)?t+"px":t}function p4(r){var e,t;return null!==(t=null===(e=r.composedPath)||void 0===e?void 0:e.call(r)[0])&&void 0!==t?t:r.target}function f4(r){return r.getRootNode?r.getRootNode():document}var m4=0;function ZL(){return"fc-dom-"+(m4+=1)}function JL(r){r.preventDefault()}function g4(r,e,t,i){var s=function(r,e){return function(t){var i=Ko(t.target,r);i&&e.call(i,t,i)}}(t,i);return r.addEventListener(e,s),function(){r.removeEventListener(e,s)}}var v4=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function y4(r){return he({onClick:r},b4(r))}function b4(r){return{tabIndex:0,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(r(e),e.preventDefault())}}}var C4=0;function ID(){return String(C4+=1)}function e_(){document.body.classList.add("fc-not-allowed")}function t_(){document.body.classList.remove("fc-not-allowed")}function MX(r,e,t){return t.func?t.func(r,e):function(r,e){return r||e?null==e?-1:null==r?1:"string"==typeof r||"string"==typeof e?String(r).localeCompare(String(e)):r-e:0}(r[t.field],e[t.field])*(t.order||1)}function kD(r,e){var t=String(r);return"000".substr(0,e-t.length)+t}function KI(r,e,t){return"function"==typeof r?r.apply(void 0,e):"string"==typeof r?e.reduce(function(i,s,n){return i.replace("$"+n,s||"")},r):t}function RX(r,e){return r-e}function i_(r){return r%1==0}function LX(r){var e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var E4=["sun","mon","tue","wed","thu","fri","sat"];function w4(r,e){var t=Bv(r);return t[2]+=7*e,rc(t)}function Tl(r,e){var t=Bv(r);return t[2]+=e,rc(t)}function NC(r,e){var t=Bv(r);return t[6]+=e,rc(t)}function VC(r,e){return(e.valueOf()-r.valueOf())/864e5}function s_(r,e){return jv(r)===jv(e)?Math.round(VC(r,e)):null}function lr(r){return rc([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function CB(r,e,t,i){var s=rc([e,0,1+qX(e,t,i)]),n=lr(r),a=Math.round(VC(s,n));return Math.floor(a/7)+1}function qX(r,e,t){var i=7+e-t;return-(7+rc([r,0,i]).getUTCDay()-e)%7+i-1}function D4(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function S4(r){return new Date(r[0],r[1]||0,null==r[2]?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function Bv(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function rc(r){return 1===r.length&&(r=r.concat([0])),new Date(Date.UTC.apply(Date,r))}function T4(r){return!isNaN(r.valueOf())}function jv(r){return 1e3*r.getUTCHours()*60*60+1e3*r.getUTCMinutes()*60+1e3*r.getUTCSeconds()+r.getUTCMilliseconds()}function n_(r,e,t,i){return{instanceId:ID(),defId:r,range:e,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}var r_=Object.prototype.hasOwnProperty;function EB(r,e){var t={};if(e)for(var i in e){for(var s=[],n=r.length-1;n>=0;n-=1){var a=r[n][i];if("object"==typeof a&&a)s.unshift(a);else if(void 0!==a){t[i]=a;break}}s.length&&(t[i]=EB(s))}for(n=r.length-1;n>=0;n-=1){var o=r[n];for(var h in o)h in t||(t[h]=o[h])}return t}function FC(r,e){var t={};for(var i in r)e(r[i],i)&&(t[i]=r[i]);return t}function mm(r,e){var t={};for(var i in r)t[i]=e(r[i],i);return t}function A4(r){for(var e={},t=0,i=r;t<i.length;t++)e[i[t]]=!0;return e}function wB(r){var e=[];for(var t in r)e.push(r[t]);return e}function gm(r,e){if(r===e)return!0;for(var t in r)if(r_.call(r,t)&&!(t in e))return!1;for(var t in e)if(r_.call(e,t)&&r[t]!==e[t])return!1;return!0}function x4(r,e){var t=[];for(var i in r)r_.call(r,i)&&(i in e||t.push(i));for(var i in e)r_.call(e,i)&&r[i]!==e[i]&&t.push(i);return t}function I4(r,e,t){if(void 0===t&&(t={}),r===e)return!0;for(var i in e)if(!(i in r)||!zX(r[i],e[i],t[i]))return!1;for(var i in r)if(!(i in e))return!1;return!0}function zX(r,e,t){return r===e||!0===t||!!t&&t(r,e)}function MD(r,e,t){var i=t.dateEnv,s=t.pluginHooks,n=t.options,a=r.defs,o=r.instances;for(var h in o=FC(o,function(O){return!a[O.defId].recurringDef}),a){var d=a[h];if(d.recurringDef){var m=d.recurringDef.duration;m||(m=d.allDay?n.defaultAllDayEventDuration:n.defaultTimedEventDuration);for(var C=0,w=GX(d,m,e,i,s.recurringTypes);C<w.length;C++){var S=w[C],k=n_(h,{start:S,end:i.add(S,m)});o[k.instanceId]=k}}}return{defs:a,instances:o}}function GX(r,e,t,i,s){var a=s[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return r.allDay&&(a=a.map(lr)),a}var QX=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Os(r,e){var t;return"string"==typeof r?function(r){var e=QX.exec(r);if(e){var t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*(60*(e[3]?parseInt(e[3],10):0)*60*1e3+60*(e[4]?parseInt(e[4],10):0)*1e3+1e3*(e[5]?parseInt(e[5],10):0)+(e[6]?parseInt(e[6],10):0))}}return null}(r):"object"==typeof r&&r?M4(r):"number"==typeof r?M4(((t={})[e||"milliseconds"]=r,t)):null}function M4(r){var e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:60*(r.hours||r.hour||0)*60*1e3+60*(r.minutes||r.minute||0)*1e3+1e3*(r.seconds||r.second||0)+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=7*t,e.specifiedWeeks=!0),e}function OD(r){return HC(r)/864e5}function HC(r){return 31536e6*r.years+2592e6*r.months+864e5*r.days+r.milliseconds}function DB(r){var e=r.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%6e4!=0)return{unit:"second",value:e/1e3};if(e%36e5!=0)return{unit:"minute",value:e/6e4};if(e)return{unit:"hour",value:e/36e5}}return r.days?r.specifiedWeeks&&r.days%7==0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function O4(r){return r.toISOString().replace(/T.*$/,"")}function SB(r,e){void 0===e&&(e=!1);var t=r<0?"-":"+",i=Math.abs(r),s=Math.floor(i/60),n=Math.round(i%60);return e?t+kD(s,2)+":"+kD(n,2):"GMT"+t+s+(n?":"+kD(n,2):"")}function Wv(r,e,t){if(r===e)return!0;var s,i=r.length;if(i!==e.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(r[s],e[s]):r[s]===e[s]))return!1;return!0}function rs(r,e,t){var i,s;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(i){if(!Wv(i,n)){t&&t(s);var o=r.apply(this,n);(!e||!e(o,s))&&(s=o)}}else s=r.apply(this,n);return i=n,s}}function a_(r,e,t){var s,n,i=this;return function(a){if(s){if(!gm(s,a)){t&&t(n);var o=r.call(i,a);(!e||!e(o,n))&&(n=o)}}else n=r.call(i,a);return s=a,n}}var R4={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},o_={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},l_=/\s*([ap])\.?m\.?/i,iZ=/,/g,sZ=/\s+/g,nZ=/\u200e/g,rZ=/UTC|GMT/,aZ=function(){function r(e){var t={},i={},s=0;for(var n in e)n in R4?(i[n]=e[n],s=Math.max(R4[n],s)):(t[n]=e[n],n in o_&&(s=Math.max(o_[n],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=rs(L4)}return r.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},r.prototype.formatRange=function(e,t,i,s){var a=this.standardDateProps,o=this.extendedSettings,h=function(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:jv(r)!==jv(e)?1:0}(e.marker,t.marker,i.calendarSystem);if(!h)return this.format(e,i);var d=h;d>1&&("numeric"===a.year||"2-digit"===a.year)&&("numeric"===a.month||"2-digit"===a.month)&&("numeric"===a.day||"2-digit"===a.day)&&(d=1);var m=this.format(e,i),v=this.format(t,i);if(m===v)return m;var w=L4(function(r,e){var t={};for(var i in r)(!(i in o_)||o_[i]<=e)&&(t[i]=r[i]);return t}(a,d),o,i),S=w(e),k=w(t),O=function(r,e,t,i){for(var s=0;s<r.length;){var n=r.indexOf(e,s);if(-1===n)break;for(var a=r.substr(0,n),o=r.substr(s=n+e.length),h=0;h<t.length;){var d=t.indexOf(i,h);if(-1===d)break;var m=t.substr(0,d),v=t.substr(h=d+i.length);if(a===m&&o===v)return{before:a,after:o}}}return null}(m,S,v,k),N=o.separator||s||i.defaultSeparator||"";return O?O.before+S+N+k+O.after:m+N+v},r.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},r}();function L4(r,e,t){var i=Object.keys(r).length;return 1===i&&"short"===r.timeZoneName?function(s){return SB(s.timeZoneOffset)}:0===i&&e.week?function(s){return function(r,e,t,i,s){var n=[];return"long"===s?n.push(t):("short"===s||"narrow"===s)&&n.push(e),("long"===s||"short"===s)&&n.push(" "),n.push(i.simpleNumberFormat.format(r)),"rtl"===i.options.direction&&n.reverse(),n.join("")}(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week)}:function(r,e,t){r=he({},r),e=he({},e),function(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}(r,e),r.timeZone="UTC";var s,i=new Intl.DateTimeFormat(t.locale.codes,r);if(e.omitZeroMinute){var n=he({},r);delete n.minute,s=new Intl.DateTimeFormat(t.locale.codes,n)}return function(a){var o=a.marker;return function(r,e,t,i,s){return r=r.replace(nZ,""),"short"===t.timeZoneName&&(r=function(r,e){var t=!1;return r=r.replace(rZ,function(){return t=!0,e}),t||(r+=" "+e),r}(r,"UTC"===s.timeZone||null==e.timeZoneOffset?"UTC":SB(e.timeZoneOffset))),i.omitCommas&&(r=r.replace(iZ,"").trim()),i.omitZeroMinute&&(r=r.replace(":00","")),!1===i.meridiem?r=r.replace(l_,"").trim():"narrow"===i.meridiem?r=r.replace(l_,function(n,a){return a.toLocaleLowerCase()}):"short"===i.meridiem?r=r.replace(l_,function(n,a){return a.toLocaleLowerCase()+"m"}):"lowercase"===i.meridiem&&(r=r.replace(l_,function(n){return n.toLocaleLowerCase()})),(r=r.replace(sZ," ")).trim()}((s&&!o.getUTCMinutes()?s:i).format(o),a,r,e,t)}}(r,e,t)}function _4(r,e){var t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function c_(r,e,t,i){var s=_4(r,t.calendarSystem);return{date:s,start:s,end:e?_4(e,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var mZ=function(){function r(e){this.cmdStr=e}return r.prototype.format=function(e,t,i){return t.cmdFormatter(this.cmdStr,c_(e,null,t,i))},r.prototype.formatRange=function(e,t,i,s){return i.cmdFormatter(this.cmdStr,c_(e,t,i,s))},r}(),gZ=function(){function r(e){this.func=e}return r.prototype.format=function(e,t,i){return this.func(c_(e,null,t,i))},r.prototype.formatRange=function(e,t,i,s){return this.func(c_(e,t,i,s))},r}();function Ma(r){return"object"==typeof r&&r?new aZ(r):"string"==typeof r?new mZ(r):"function"==typeof r?new gZ(r):null}var P4={navLinkDayClick:Re,navLinkWeekClick:Re,duration:Os,bootstrapFontAwesome:Re,buttonIcons:Re,customButtons:Re,defaultAllDayEventDuration:Os,defaultTimedEventDuration:Os,nextDayThreshold:Os,scrollTime:Os,scrollTimeReset:Boolean,slotMinTime:Os,slotMaxTime:Os,dayPopoverFormat:Ma,slotDuration:Os,snapDuration:Os,headerToolbar:Re,footerToolbar:Re,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ma,dayHeaderClassNames:Re,dayHeaderContent:Re,dayHeaderDidMount:Re,dayHeaderWillUnmount:Re,dayCellClassNames:Re,dayCellContent:Re,dayCellDidMount:Re,dayCellWillUnmount:Re,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Re,weekNumbers:Boolean,weekNumberClassNames:Re,weekNumberContent:Re,weekNumberDidMount:Re,weekNumberWillUnmount:Re,editable:Boolean,viewClassNames:Re,viewDidMount:Re,viewWillUnmount:Re,nowIndicator:Boolean,nowIndicatorClassNames:Re,nowIndicatorContent:Re,nowIndicatorDidMount:Re,nowIndicatorWillUnmount:Re,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Re,locale:Re,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Re,eventOrder:function(r){var i,s,e=[],t=[];for("string"==typeof r?t=r.split(/\s*,\s*/):"function"==typeof r?t=[r]:Array.isArray(r)&&(t=r),i=0;i<t.length;i+=1)"string"==typeof(s=t[i])?e.push("-"===s.charAt(0)?{field:s.substring(1),order:-1}:{field:s,order:1}):"function"==typeof s&&e.push({func:s});return e},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Re,contentHeight:Re,direction:String,weekNumberFormat:Ma,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Re,initialDate:Re,now:Re,eventDataTransform:Re,stickyHeaderDates:Re,stickyFooterScrollbar:Re,viewHeight:Re,defaultAllDay:Boolean,eventSourceFailure:Re,eventSourceSuccess:Re,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Re,eventConstraint:Re,eventAllow:Re,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Re,eventContent:Re,eventDidMount:Re,eventWillUnmount:Re,selectConstraint:Re,selectOverlap:Re,selectAllow:Re,droppable:Boolean,unselectCancel:String,slotLabelFormat:Re,slotLaneClassNames:Re,slotLaneContent:Re,slotLaneDidMount:Re,slotLaneWillUnmount:Re,slotLabelClassNames:Re,slotLabelContent:Re,slotLabelDidMount:Re,slotLabelWillUnmount:Re,dayMaxEvents:Re,dayMaxEventRows:Re,dayMinWidth:Number,slotLabelInterval:Os,allDayText:String,allDayClassNames:Re,allDayContent:Re,allDayDidMount:Re,allDayWillUnmount:Re,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ma,rerenderDelay:Number,moreLinkText:Re,moreLinkHint:Re,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Re,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Os,hiddenDays:Re,monthMode:Boolean,fixedWeekCount:Boolean,validRange:Re,visibleRange:Re,titleFormat:Re,eventInteractive:Boolean,noEventsText:String,viewHint:Re,navLinkHint:Re,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Re,moreLinkClassNames:Re,moreLinkContent:Re,moreLinkDidMount:Re,moreLinkWillUnmount:Re},vm={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},N4={datesSet:Re,eventsSet:Re,eventAdd:Re,eventChange:Re,eventRemove:Re,windowResize:Re,eventClick:Re,eventMouseEnter:Re,eventMouseLeave:Re,select:Re,unselect:Re,loading:Re,_unmount:Re,_beforeprint:Re,_afterprint:Re,_noEventDrop:Re,_noEventResize:Re,_resize:Re,_scrollRequest:Re},V4={buttonText:Re,buttonHints:Re,views:Re,plugins:Re,initialEvents:Re,events:Re,eventSources:Re},TB={headerToolbar:XI,footerToolbar:XI,buttonText:XI,buttonHints:XI,buttonIcons:XI};function XI(r,e){return"object"==typeof r&&"object"==typeof e&&r&&e?gm(r,e):r===e}var vZ={type:String,component:Re,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Re,usesMinMaxTime:Boolean,classNames:Re,content:Re,didMount:Re,willUnmount:Re};function AB(r){return EB(r,TB)}function h_(r,e){var t={},i={};for(var s in e)s in r&&(t[s]=e[s](r[s]));for(var s in r)s in e||(i[s]=r[s]);return{refined:t,extra:i}}function Re(r){return r}function u_(r,e,t,i){for(var s={defs:{},instances:{}},n=OB(t),a=0,o=r;a<o.length;a++){var d=B4(o[a],e,t,i,n);d&&ZI(d,s)}return s}function ZI(r,e){return void 0===e&&(e={defs:{},instances:{}}),e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function xB(r,e){var t=r.instances[e];if(t){var i=r.defs[t.defId],s=d_(r,function(n){return function(r,e){return Boolean(r.groupId&&r.groupId===e.groupId)}(i,n)});return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return{defs:{},instances:{}}}function IB(r,e){return{defs:he(he({},r.defs),e.defs),instances:he(he({},r.instances),e.instances)}}function d_(r,e){var t=FC(r.defs,e),i=FC(r.instances,function(s){return t[s.defId]});return{defs:t,instances:i}}function kB(r){return Array.isArray(r)?r:"string"==typeof r?r.split(/\s+/):[]}var p_={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Re,overlap:Re,allow:Re,className:kB,classNames:kB,color:String,backgroundColor:String,borderColor:String,textColor:String},EZ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function f_(r,e){var t=function(r,e){return Array.isArray(r)?u_(r,null,e,!0):"object"==typeof r&&r?u_([r],null,e,!0):null!=r?String(r):null}(r.constraint,e);return{display:r.display||null,startEditable:null!=r.startEditable?r.startEditable:r.editable,durationEditable:null!=r.durationEditable?r.durationEditable:r.editable,constraints:null!=t?[t]:[],overlap:null!=r.overlap?r.overlap:null,allows:null!=r.allow?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function F4(r){return r.reduce(wZ,EZ)}function wZ(r,e){return{display:null!=e.display?e.display:r.display,startEditable:null!=e.startEditable?e.startEditable:r.startEditable,durationEditable:null!=e.durationEditable?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:"boolean"==typeof e.overlap?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}var m_={id:String,groupId:String,title:String,url:String,interactive:Boolean},H4={start:Re,end:Re,date:Re,allDay:Boolean},DZ=he(he(he({},m_),H4),{extendedProps:Re});function B4(r,e,t,i,s){void 0===s&&(s=OB(t));var n=MB(r,t,s),a=n.refined,o=n.extra,h=function(r,e){var t=null;return r&&(t=r.defaultAllDay),null==t&&(t=e.options.defaultAllDay),t}(e,t),d=function(r,e,t,i){for(var s=0;s<i.length;s+=1){var n=i[s].parse(r,t);if(n){var a=r.allDay;return null==a&&null==(a=e)&&null==(a=n.allDayGuess)&&(a=!1),{allDay:a,duration:n.duration,typeData:n.typeData,typeId:s}}}return null}(a,h,t.dateEnv,t.pluginHooks.recurringTypes);if(d)return(m=g_(a,o,e?e.sourceId:"",d.allDay,Boolean(d.duration),t)).recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null};var m,v=function(r,e,t,i){var n,h,s=r.allDay,a=null,o=!1,d=null;if(n=t.dateEnv.createMarkerMeta(null!=r.start?r.start:r.date))a=n.marker;else if(!i)return null;return null!=r.end&&(h=t.dateEnv.createMarkerMeta(r.end)),null==s&&(s=null!=e?e:(!n||n.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),s&&a&&(a=lr(a)),h&&(d=h.marker,s&&(d=lr(d)),a&&d<=a&&(d=null)),d?o=!0:i||(o=t.options.forceEventDuration||!1,d=t.dateEnv.add(a,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:o,range:{start:a,end:d},forcedStartTzo:n?n.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}(a,h,t,i);return v?{def:m=g_(a,o,e?e.sourceId:"",v.allDay,v.hasEnd,t),instance:n_(m.defId,v.range,v.forcedStartTzo,v.forcedEndTzo)}:null}function MB(r,e,t){return void 0===t&&(t=OB(e)),h_(r,t)}function OB(r){return he(he(he({},p_),DZ),r.pluginHooks.eventRefiners)}function g_(r,e,t,i,s,n){for(var a={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:ID(),sourceId:t,allDay:i,hasEnd:s,interactive:r.interactive,ui:f_(r,n),extendedProps:he(he({},r.extendedProps||{}),e)},o=0,h=n.pluginHooks.eventDefMemberAdders;o<h.length;o++)he(a,(0,h[o])(r));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function j4(r){var e=Math.floor(VC(r.start,r.end))||1,t=lr(r.start);return{start:t,end:Tl(t,e)}}function RB(r,e){void 0===e&&(e=Os(0));var t=null,i=null;if(r.end){i=lr(r.end);var s=r.end.valueOf()-i.valueOf();s&&s>=HC(e)&&(i=Tl(i,1))}return r.start&&(t=lr(r.start),i&&i<=t&&(i=Tl(t,1))),{start:t,end:i}}function RD(r,e,t,i){return"year"===i?Os(t.diffWholeYears(r,e),"year"):"month"===i?Os(t.diffWholeMonths(r,e),"month"):function(r,e){var t=lr(r),i=lr(e);return{years:0,months:0,days:Math.round(VC(t,i)),milliseconds:e.valueOf()-i.valueOf()-(r.valueOf()-t.valueOf())}}(r,e)}function W4(r,e){var s,n,t=[],i=e.start;for(r.sort(xZ),s=0;s<r.length;s+=1)(n=r[s]).start>i&&t.push({start:i,end:n.start}),n.end>i&&(i=n.end);return i<e.end&&t.push({start:i,end:e.end}),t}function xZ(r,e){return r.start.valueOf()-e.start.valueOf()}function JI(r,e){var t=r.start,i=r.end,s=null;return null!==e.start&&(t=null===t?e.start:new Date(Math.max(t.valueOf(),e.start.valueOf()))),null!=e.end&&(i=null===i?e.end:new Date(Math.min(i.valueOf(),e.end.valueOf()))),(null===t||null===i||t<i)&&(s={start:t,end:i}),s}function LB(r,e){return(null===r.end||null===e.start||r.end>e.start)&&(null===r.start||null===e.end||r.start<e.end)}function v_(r,e){return(null===r.start||null!==e.start&&e.start>=r.start)&&(null===r.end||null!==e.end&&e.end<=r.end)}function BC(r,e){return(null===r.start||e>=r.start)&&(null===r.end||e<r.end)}function _B(r,e,t,i){var s={},n={},a={},o=[],h=[],d=y_(r.defs,e);for(var m in r.defs)"inverse-background"===(C=d[(v=r.defs[m]).defId]).display&&(v.groupId?(s[v.groupId]=[],a[v.groupId]||(a[v.groupId]=v)):n[m]=[]);for(var w in r.instances){var S=r.instances[w],C=d[(v=r.defs[S.defId]).defId],k=S.range,O=!v.allDay&&i?RB(k,i):k,N=JI(O,t);N&&("inverse-background"===C.display?v.groupId?s[v.groupId].push(N):n[S.defId].push(N):"none"!==C.display&&("background"===C.display?o:h).push({def:v,ui:C,instance:S,range:N,isStart:O.start&&O.start.valueOf()===N.start.valueOf(),isEnd:O.end&&O.end.valueOf()===N.end.valueOf()}))}for(var q in s)for(var Ce=0,ce=W4(s[q],t);Ce<ce.length;Ce++){var v;o.push({def:v=a[q],ui:C=d[v.defId],instance:null,range:ce[Ce],isStart:!1,isEnd:!1})}for(var m in n)for(var Se=0,Be=W4(n[m],t);Se<Be.length;Se++)o.push({def:r.defs[m],ui:d[m],instance:null,range:Be[Se],isStart:!1,isEnd:!1});return{bg:o,fg:h}}function U4(r,e){r.fcSeg=e}function LD(r){return r.fcSeg||r.parentNode.fcSeg||null}function y_(r,e){return mm(r,function(t){return q4(t,e)})}function q4(r,e){var t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),F4(t)}function OZ(r){var e=r.eventRange,t=e.def,i=e.instance?e.instance.range:e.range,s=i.start?i.start.valueOf():0,n=i.end?i.end.valueOf():0;return he(he(he({},t.extendedProps),t),{id:t.publicId,start:s,end:n,duration:n-s,allDay:Number(t.allDay),_seg:r})}function RZ(r,e){for(var s=r.eventRange,n=s.def,a=s.ui,o=a.startEditable,h=0,d=e.pluginHooks.isDraggableTransformers;h<d.length;h++)o=(0,d[h])(o,n,a,e);return o}function LZ(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function _Z(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function z4(r,e,t,i,s,n,a){var o=t.dateEnv,h=t.options,d=h.displayEventTime,m=h.displayEventEnd,v=r.eventRange.def,C=r.eventRange.instance;null==d&&(d=!1!==i),null==m&&(m=!1!==s);var w=C.range.start,S=C.range.end,k=n||r.start||r.eventRange.range.start,O=a||r.end||r.eventRange.range.end,N=lr(w).valueOf()===lr(k).valueOf(),q=lr(NC(S,-1)).valueOf()===lr(NC(O,-1)).valueOf();return d&&!v.allDay&&(N||q)?(k=N?w:k,O=q?S:O,m&&v.hasEnd?o.formatRange(k,O,e,{forcedStartTzo:n?null:C.forcedStartTzo,forcedEndTzo:a?null:C.forcedEndTzo}):o.format(k,e,{forcedTzo:n?null:C.forcedStartTzo})):""}function ek(r,e,t){var i=r.eventRange.range;return{isPast:i.end<(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&BC(e,i.start)}}function NZ(r){return r.instance?r.instance.instanceId:r.def.defId+":"+r.range.start.toISOString()}function Y4(r,e){var t=r.eventRange,i=t.def,s=t.instance,n=i.url;if(n)return{href:n};var a=e.emitter,h=e.options.eventInteractive;return null==h&&null==(h=i.interactive)&&(h=Boolean(a.hasHandlers("eventClick"))),h?b4(function(d){a.trigger("eventClick",{el:d.target,event:new xr(e,i,s),jsEvent:d,view:e.viewApi})}):{}}var VZ={start:Re,end:Re,allDay:Boolean};function $4(r,e,t){return he(he({},G4(r,e,t)),{timeZone:e.timeZone})}function G4(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function UZ(r,e,t){var i=MB({editable:!1},t),s=g_(i.refined,i.extra,"",r.allDay,!0,t);return{def:s,ui:q4(s,e),instance:n_(s.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function Q4(r,e,t){t.emitter.trigger("select",he(he({},PB(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function PB(r,e){for(var t={},i=0,s=e.pluginHooks.dateSpanTransforms;i<s.length;i++)he(t,(0,s[i])(r,e));return he(t,function(r,e){return he(he({},G4(r.range,e,r.allDay)),{allDay:r.allDay})}(r,e.dateEnv)),t}function NB(r,e,t){var i=t.dateEnv,s=t.options,n=e;return r?(n=lr(n),n=i.add(n,s.defaultAllDayEventDuration)):n=i.add(n,s.defaultTimedEventDuration),n}function VB(r,e,t,i){var s=y_(r.defs,e),n={defs:{},instances:{}};for(var a in r.defs)n.defs[a]=zZ(r.defs[a],s[a],t,i);for(var h in r.instances){var d=r.instances[h];n.instances[h]=YZ(d,n.defs[d.defId],s[d.defId],t,i)}return n}function zZ(r,e,t,i){var s=t.standardProps||{};null==s.hasEnd&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);var n=he(he(he({},r),s),{ui:he(he({},r.ui),s.ui)});t.extendedProps&&(n.extendedProps=he(he({},n.extendedProps),t.extendedProps));for(var a=0,o=i.pluginHooks.eventDefMutationAppliers;a<o.length;a++)(0,o[a])(n,t,i);return!n.hasEnd&&i.options.forceEventDuration&&(n.hasEnd=!0),n}function YZ(r,e,t,i,s){var n=s.dateEnv,a=i.standardProps&&!0===i.standardProps.allDay,o=i.standardProps&&!1===i.standardProps.hasEnd,h=he({},r);return a&&(h.range=j4(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:n.add(h.range.start,i.datesDelta),end:n.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:n.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:n.add(h.range.end,i.endDelta)}),o&&(h.range={start:h.range.start,end:NB(e.allDay,h.range.start,s)}),e.allDay&&(h.range={start:lr(h.range.start),end:lr(h.range.end)}),h.range.end<h.range.start&&(h.range.end=NB(e.allDay,h.range.start,s)),h}var $Z=function(){function r(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}return Object.defineProperty(r.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),r.prototype.getOption=function(e){return this.getCurrentData().options[e]},r}(),GZ={id:String,defaultAllDay:Boolean,url:String,format:String,events:Re,eventDataTransform:Re,success:Re,failure:Re};function K4(r,e,t){var i;if(void 0===t&&(t=X4(e)),"string"==typeof r?i={url:r}:"function"==typeof r||Array.isArray(r)?i={events:r}:"object"==typeof r&&r&&(i=r),i){var s=h_(i,t),n=s.refined,a=s.extra,o=function(r,e){for(var t=e.pluginHooks.eventSourceDefs,i=t.length-1;i>=0;i-=1){var n=t[i].parseMeta(r);if(n)return{sourceDefId:i,meta:n}}return null}(n,e);if(o)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:n.defaultAllDay,eventDataTransform:n.eventDataTransform,success:n.success,failure:n.failure,publicId:n.id||"",sourceId:ID(),sourceDefId:o.sourceDefId,meta:o.meta,ui:f_(n,e),extendedProps:a}}return null}function X4(r){return he(he(he({},p_),GZ),r.pluginHooks.eventSourceRefiners)}function tk(r,e){return"function"==typeof r&&(r=r()),null==r?e.createNowMarker():e.createMarker(r)}var ZZ=function(){function r(){}return r.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},r.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(r.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),r.prototype.batchRendering=function(e){e()},r.prototype.updateSize=function(){this.trigger("_resize",!0)},r.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},r.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},r.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},r.prototype.on=function(e,t){var i=this.currentDataManager;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},r.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},r.prototype.trigger=function(e){for(var t,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];(t=this.currentDataManager.emitter).trigger.apply(t,Hr([e],i))},r.prototype.changeView=function(e,t){var i=this;this.batchRendering(function(){if(i.unselect(),t)if(t.start&&t.end)i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),i.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var s=i.getCurrentData().dateEnv;i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:s.createMarker(t)})}else i.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},r.prototype.zoomTo=function(e,t){var s;s=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(s?{type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}:{type:"CHANGE_DATE",dateMarker:e})},r.prototype.getUnitViewSpec=function(e){var a,o,t=this.getCurrentData(),i=t.viewSpecs,s=t.toolbarConfig,n=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]);for(var h in i)n.push(h);for(a=0;a<n.length;a+=1)if((o=i[n[a]])&&o.singleUnit===e)return o;return null},r.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},r.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},r.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},r.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},r.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:tk(e.calendarOptions.now,e.dateEnv)})},r.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},r.prototype.incrementDate=function(e){var t=this.getCurrentData(),i=Os(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))},r.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},r.prototype.formatDate=function(e,t){var i=this.getCurrentData().dateEnv;return i.format(i.createMarker(e),Ma(t))},r.prototype.formatRange=function(e,t,i){var s=this.getCurrentData().dateEnv;return s.formatRange(s.createMarker(e),s.createMarker(t),Ma(i),i)},r.prototype.formatIso=function(e,t){var i=this.getCurrentData().dateEnv;return i.formatIso(i.createMarker(e),{omitTime:t})},r.prototype.select=function(e,t){var i;i=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var s=this.getCurrentData(),n=function(r,e,t){var i=function(r,e){var t=h_(r,VZ),i=t.refined,s=t.extra,n=i.start?e.createMarkerMeta(i.start):null,a=i.end?e.createMarkerMeta(i.end):null,o=i.allDay;return null==o&&(o=n&&n.isTimeUnspecified&&(!a||a.isTimeUnspecified)),he({range:{start:n?n.marker:null,end:a?a.marker:null},allDay:o},s)}(r,e),s=i.range;if(!s.start)return null;if(!s.end){if(null==t)return null;s.end=e.add(s.start,t)}return i}(i,s.dateEnv,Os({days:1}));n&&(this.dispatch({type:"SELECT_DATES",selection:n}),Q4(n,null,s))},r.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}(e,t))},r.prototype.addEvent=function(e,t){if(e instanceof xr){var i=e._def,s=e._instance;return this.getCurrentData().eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ZI({def:i,instance:s})}),this.triggerEventAdd(e)),e}var o,a=this.getCurrentData();if(t instanceof xD)o=t.internalEventSource;else if("boolean"==typeof t)t&&(o=wB(a.eventSources)[0]);else if(null!=t){var h=this.getEventSourceById(t);if(!h)return console.warn('Could not find an event source with ID "'+t+'"'),null;o=h.internalEventSource}var d=B4(e,o,a,!1);if(d){var m=new xr(a,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ZI(d)}),this.triggerEventAdd(m),m}return null},r.prototype.triggerEventAdd=function(e){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:Z4(e)})}})},r.prototype.getEventById=function(e){var t=this.getCurrentData(),i=t.eventStore,s=i.defs,n=i.instances;for(var a in e=String(e),s){var o=s[a];if(o.publicId===e){if(o.recurringDef)return new xr(t,o,null);for(var h in n){var d=n[h];if(d.defId===o.defId)return new xr(t,o,d)}}}return null},r.prototype.getEvents=function(){var e=this.getCurrentData();return jC(e.eventStore,e)},r.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},r.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,i=[];for(var s in t)i.push(new xD(e,t[s]));return i},r.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),i=t.eventSources;for(var s in e=String(e),i)if(i[s].publicId===e)return new xD(t,i[s]);return null},r.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof xD)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var i=K4(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new xD(t,i)):null},r.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},r.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},r.prototype.scrollToTime=function(e){var t=Os(e);t&&this.trigger("_scrollRequest",{time:t})},r}(),xr=function(){function r(e,t,i){this._context=e,this._def=t,this._instance=i||null}return r.prototype.setProp=function(e,t){var i,s;if(e in H4)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=m_[e](t),this.mutate({standardProps:{publicId:t}});else if(e in m_)t=m_[e](t),this.mutate({standardProps:(i={},i[e]=t,i)});else if(e in p_){var n=p_[e](t);"color"===e?n={backgroundColor:t,borderColor:t}:"editable"===e?n={startEditable:t,durationEditable:t}:((s={})[e]=t,n=s),this.mutate({standardProps:{ui:n}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},r.prototype.setExtendedProp=function(e,t){var i;this.mutate({extendedProps:(i={},i[e]=t,i)})},r.prototype.setStart=function(e,t){void 0===t&&(t={});var i=this._context.dateEnv,s=i.createMarker(e);if(s&&this._instance){var a=RD(this._instance.range.start,s,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:a}:{startDelta:a})}},r.prototype.setEnd=function(e,t){void 0===t&&(t={});var s,i=this._context.dateEnv;if((null==e||(s=i.createMarker(e)))&&this._instance)if(s){var n=RD(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:n})}else this.mutate({standardProps:{hasEnd:!1}})},r.prototype.setDates=function(e,t,i){void 0===i&&(i={});var o,s=this._context.dateEnv,n={allDay:i.allDay},a=s.createMarker(e);if(a&&(null==t||(o=s.createMarker(t)))&&this._instance){var h=this._instance.range;!0===i.allDay&&(h=j4(h));var d=RD(h.start,a,s,i.granularity);if(o){var m=RD(h.end,o,s,i.granularity);!function(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}(d,m)?this.mutate({startDelta:d,endDelta:m,standardProps:n}):this.mutate({datesDelta:d,standardProps:n})}else n.hasEnd=!1,this.mutate({datesDelta:d,standardProps:n})}},r.prototype.moveStart=function(e){var t=Os(e);t&&this.mutate({startDelta:t})},r.prototype.moveEnd=function(e){var t=Os(e);t&&this.mutate({endDelta:t})},r.prototype.moveDates=function(e){var t=Os(e);t&&this.mutate({datesDelta:t})},r.prototype.setAllDay=function(e,t){void 0===t&&(t={});var i={allDay:e},s=t.maintainDuration;null==s&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=s),this.mutate({standardProps:i})},r.prototype.formatRange=function(e){var t=this._context.dateEnv,i=this._instance,s=Ma(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})},r.prototype.mutate=function(e){var t=this._instance;if(t){var i=this._def,s=this._context,n=s.getCurrentData().eventStore,a=xB(n,t.instanceId);a=VB(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);var h=new r(s,i,t);this._def=a.defs[i.defId],this._instance=a.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:a}),s.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:jC(a,s,t),revert:function(){s.dispatch({type:"RESET_EVENTS",eventStore:n})}})}},r.prototype.remove=function(){var e=this._context,t=Z4(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(r.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new xD(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),r.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,i=t.ui,n=this.startStr,a=this.endStr,o={};return t.title&&(o.title=t.title),n&&(o.start=n),a&&(o.end=a),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),i.display&&"auto"!==i.display&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?he(o,t.extendedProps):o.extendedProps=t.extendedProps),o},r.prototype.toJSON=function(){return this.toPlainObject()},r}();function Z4(r){var e,t,i=r._def,s=r._instance;return{defs:(e={},e[i.defId]=i,e),instances:s?(t={},t[s.instanceId]=s,t):{}}}function jC(r,e,t){var i=r.defs,s=r.instances,n=[],a=t?t.instanceId:"";for(var o in s){var h=s[o];h.instanceId!==a&&n.push(new xr(e,i[h.defId],h))}return n}var e,J4={};e=function(){function r(){}return r.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},r.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},r.prototype.getMarkerDay=function(e){return e.getUTCDate()},r.prototype.arrayToMarker=function(e){return rc(e)},r.prototype.markerToArray=function(e){return Bv(e)},r}(),J4.gregory=e;var iJ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,ez=function(){function r(e){var t=this.timeZone=e.timeZone,i="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function(r){return new J4[r]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return r.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},r.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):rc(D4(new Date))},r.prototype.createMarkerMeta=function(e){if("string"==typeof e)return this.parse(e);var t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=rc(e)),null!==t&&T4(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},r.prototype.parse=function(e){var t=function(r){var e=iJ.exec(r);if(e){var t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?1e3*Number("0."+e[12]):0));if(T4(t)){var i=null;return e[13]&&(i=("-"===e[15]?-1:1)*(60*Number(e[16]||0)+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}(e);if(null===t)return null;var i=t.marker,s=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}},r.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},r.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},r.prototype.add=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)},r.prototype.subtract=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)},r.prototype.addYears=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)},r.prototype.addMonths=function(e,t){var i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)},r.prototype.diffWholeYears=function(e,t){var i=this.calendarSystem;return jv(e)===jv(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null},r.prototype.diffWholeMonths=function(e,t){var i=this.calendarSystem;return jv(e)===jv(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+12*(i.getMarkerYear(t)-i.getMarkerYear(e)):null},r.prototype.greatestWholeUnit=function(e,t){var i=this.diffWholeYears(e,t);return null!==i?{unit:"year",value:i}:null!==(i=this.diffWholeMonths(e,t))?{unit:"month",value:i}:null!==(i=function(r,e){var t=s_(r,e);return null!==t&&t%7==0?t/7:null}(e,t))?{unit:"week",value:i}:null!==(i=s_(e,t))?{unit:"day",value:i}:i_(i=function(r,e){return(e.valueOf()-r.valueOf())/36e5}(e,t))?{unit:"hour",value:i}:i_(i=function(r,e){return(e.valueOf()-r.valueOf())/6e4}(e,t))?{unit:"minute",value:i}:i_(i=function(r,e){return(e.valueOf()-r.valueOf())/1e3}(e,t))?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}},r.prototype.countDurationsBetween=function(e,t,i){var s;return i.years&&null!==(s=this.diffWholeYears(e,t))?s/function(r){return OD(r)/365}(i):i.months&&null!==(s=this.diffWholeMonths(e,t))?s/function(r){return OD(r)/30}(i):i.days&&null!==(s=s_(e,t))?s/OD(i):(t.valueOf()-e.valueOf())/HC(i)},r.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?lr(e):"hour"===t?function(r){return rc([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}(e):"minute"===t?function(r){return rc([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}(e):"second"===t?function(r){return rc([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}(e):null},r.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},r.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},r.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},r.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(r,e,t){var i=r.getUTCFullYear(),s=CB(r,i,e,t);if(s<1)return CB(r,i-1,e,t);var n=CB(r,i+1,e,t);return n>=1?Math.min(s,n):s}(e,this.weekDow,this.weekDoy)},r.prototype.format=function(e,t,i){return void 0===i&&(i={}),t.format({marker:e,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(e)},this)},r.prototype.formatRange=function(e,t,i,s){return void 0===s&&(s={}),s.isEndExclusive&&(t=NC(t,-1)),i.formatRange({marker:e,timeZoneOffset:null!=s.forcedStartTzo?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=s.forcedEndTzo?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)},r.prototype.formatIso=function(e,t){void 0===t&&(t={});var i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),function(r,e,t){void 0===t&&(t=!1);var i=r.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==e?i=i.replace("Z",""):0!==e&&(i=i.replace("Z",SB(e,!0)))),i}(e,i,t.omitTime)},r.prototype.timestampToMarker=function(e){return"local"===this.timeZone?rc(D4(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?rc(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},r.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-S4(Bv(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Bv(e)):null},r.prototype.toDate=function(e,t){return"local"===this.timeZone?S4(Bv(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Bv(e))*60):new Date(e.valueOf()-(t||0))},r}(),nJ=[],tz={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},iz=he(he({},tz),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(r,e){return"day"===e?"Today":"This "+r}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(r){return"Show "+r+" more event"+(1===r?"":"s")}});function sz(r){for(var e=r.length>0?r[0].code:"en",t=nJ.concat(r),i={en:iz},s=0,n=t;s<n.length;s++){var a=n[s];i[a.code]=a}return{map:i,defaultCode:e}}function FB(r,e){return"object"!=typeof r||Array.isArray(r)?function(r,e){var t=[].concat(r||[]),i=function(r,e){for(var t=0;t<r.length;t+=1)for(var i=r[t].toLocaleLowerCase().split("-"),s=i.length;s>0;s-=1){var n=i.slice(0,s).join("-");if(e[n])return e[n]}return null}(t,e)||iz;return nz(r,t,i)}(r,e):nz(r.code,[r.code],r)}function nz(r,e,t){var i=EB([tz,t],["buttonText"]);delete i.code;var s=i.week;return delete i.week,{codeArg:r,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(r),options:i}}var HB,oJ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function hJ(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function az(r,e){var t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom&&t}function oz(){return null==HB&&(HB=function(){if("undefined"==typeof document)return!0;var r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);var t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}()),HB}var BB={defs:{},instances:{}};function mJ(r,e,t){var i=[];r&&i.push(r),e&&i.push(e);var s={"":F4(i)};return t&&he(s,t),s}function lz(r,e,t,i){return{dow:r.getUTCDay(),isDisabled:Boolean(i&&!BC(i.activeRange,r)),isOther:Boolean(i&&!BC(i.currentRange,r)),isToday:Boolean(e&&BC(e,r)),isPast:Boolean(t?r<t:!!e&&r<e.start),isFuture:Boolean(t?r>t:!!e&&r>=e.end)}}function jB(r,e){var t=["fc-day","fc-day-"+E4[r.dow]];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}!function(){function r(){this.getKeysForEventDefs=rs(this._getKeysForEventDefs),this.splitDateSelection=rs(this._splitDateSpan),this.splitEventStore=rs(this._splitEventStore),this.splitIndividualUi=rs(this._splitIndividualUi),this.splitEventDrag=rs(this._splitInteraction),this.splitEventResize=rs(this._splitInteraction),this.eventUiBuilders={}}r.prototype.splitProps=function(e){var t=this,i=this.getKeyInfo(e),s=this.getKeysForEventDefs(e.eventStore),n=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,s),o=this.splitEventStore(e.eventStore,s),h=this.splitEventDrag(e.eventDrag),d=this.splitEventResize(e.eventResize),m={};for(var v in this.eventUiBuilders=mm(i,function(k,O){return t.eventUiBuilders[O]||rs(mJ)}),i){var C=i[v],w=o[v]||BB;m[v]={businessHours:C.businessHours||e.businessHours,dateSelection:n[v]||null,eventStore:w,eventUiBases:(0,this.eventUiBuilders[v])(e.eventUiBases[""],C.ui,a[v]),eventSelection:w.instances[e.eventSelection]?e.eventSelection:"",eventDrag:h[v]||null,eventResize:d[v]||null}}return m},r.prototype._splitDateSpan=function(e){var t={};if(e)for(var s=0,n=this.getKeysForDateSpan(e);s<n.length;s++)t[n[s]]=e;return t},r.prototype._getKeysForEventDefs=function(e){var t=this;return mm(e.defs,function(i){return t.getKeysForEventDef(i)})},r.prototype._splitEventStore=function(e,t){var i=e.defs,s=e.instances,n={};for(var a in i)for(var o=0,h=t[a];o<h.length;o++)n[d=h[o]]||(n[d]={defs:{},instances:{}}),n[d].defs[a]=i[a];for(var m in s)for(var v=s[m],C=0,w=t[v.defId];C<w.length;C++){var d;n[d=w[C]]&&(n[d].instances[m]=v)}return n},r.prototype._splitIndividualUi=function(e,t){var i={};for(var s in e)if(s)for(var n=0,a=t[s];n<a.length;n++){var o=a[n];i[o]||(i[o]={}),i[o][s]=e[s]}return i},r.prototype._splitInteraction=function(e){var t={};if(e){var i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),n=this._splitEventStore(e.mutatedEvents,s),a=function(h){t[h]||(t[h]={affectedEvents:i[h]||BB,mutatedEvents:n[h]||BB,isEvent:e.isEvent})};for(var o in i)a(o);for(var o in n)a(o)}return t}}();var gJ=Ma({year:"numeric",month:"long",day:"numeric"}),vJ=Ma({week:"long"});function WB(r,e,t,i){void 0===t&&(t="day"),void 0===i&&(i=!0);var s=r.dateEnv,n=r.options,a=r.calendarApi,o=s.format(e,"week"===t?vJ:gJ);if(n.navLinks){var h=s.toDate(e),d=function(m){var v="day"===t?n.navLinkDayClick:"week"===t?n.navLinkWeekClick:null;"function"==typeof v?v.call(a,s.toDate(e),m):("string"==typeof v&&(t=v),a.zoomTo(e,t))};return he({title:KI(n.navLinkHint,[o,h],o),"data-navlink":""},i?y4(d):{onClick:d})}return{"aria-label":o}}var qB,UB=null;function cz(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function DJ(r,e,t){void 0===e&&(e=!1);var i=t?r.getBoundingClientRect():zB(r),s=function(r,e){void 0===e&&(e=!1);var t=window.getComputedStyle(r),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,n=parseInt(t.borderTopWidth,10)||0,a=parseInt(t.borderBottomWidth,10)||0,o=cz(r),h=o.y-i-s,m={borderLeft:i,borderRight:s,borderTop:n,borderBottom:a,scrollbarBottom:o.x-n-a,scrollbarLeft:0,scrollbarRight:0};return null===UB&&(UB=function(){var r=document.createElement("div");QI(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);var t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return yB(r),t}()),UB&&"rtl"===t.direction?m.scrollbarLeft=h:m.scrollbarRight=h,e&&(m.paddingLeft=parseInt(t.paddingLeft,10)||0,m.paddingRight=parseInt(t.paddingRight,10)||0,m.paddingTop=parseInt(t.paddingTop,10)||0,m.paddingBottom=parseInt(t.paddingBottom,10)||0),m}(r,e),n={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return e&&(n.left+=s.paddingLeft,n.right-=s.paddingRight,n.top+=s.paddingTop,n.bottom-=s.paddingBottom),n}function zB(r){var e=r.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function hz(r){for(var e=[];r instanceof HTMLElement;){var t=window.getComputedStyle(r);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}var b_=function(){function r(){this.handlers={},this.thisContext=null}return r.prototype.setThisContext=function(e){this.thisContext=e},r.prototype.setOptions=function(e){this.options=e},r.prototype.on=function(e,t){!function(r,e,t){(r[e]||(r[e]=[])).push(t)}(this.handlers,e,t)},r.prototype.off=function(e,t){!function(r,e,t){t?r[e]&&(r[e]=r[e].filter(function(i){return i!==t})):delete r[e]}(this.handlers,e,t)},r.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var s=this.handlers[e]||[],n=this.options&&this.options[e],a=[].concat(n||[],s),o=0,h=a;o<h.length;o++){var d=h[o];d.apply(this.thisContext,t)}},r.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},r}(),YB=function(){function r(e,t,i,s){this.els=t;var n=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(n.left),s&&this.buildElVerticals(n.top)}return r.prototype.buildElHorizontals=function(e){for(var t=[],i=[],s=0,n=this.els;s<n.length;s++){var o=n[s].getBoundingClientRect();t.push(o.left-e),i.push(o.right-e)}this.lefts=t,this.rights=i},r.prototype.buildElVerticals=function(e){for(var t=[],i=[],s=0,n=this.els;s<n.length;s++){var o=n[s].getBoundingClientRect();t.push(o.top-e),i.push(o.bottom-e)}this.tops=t,this.bottoms=i},r.prototype.leftToIndex=function(e){var a,i=this.lefts,s=this.rights,n=i.length;for(a=0;a<n;a+=1)if(e>=i[a]&&e<s[a])return a},r.prototype.topToIndex=function(e){var a,i=this.tops,s=this.bottoms,n=i.length;for(a=0;a<n;a+=1)if(e>=i[a]&&e<s[a])return a},r.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},r.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},r}(),$B=function(){function r(){}return r.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},r.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},r.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},r.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},r.prototype.canScrollUp=function(){return this.getScrollTop()>0},r.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},r.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},r.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},r}(),kJ=function(r){function e(t){var i=r.call(this)||this;return i.el=t,i}return Zt(e,r),e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(t){this.el.scrollTop=t},e.prototype.setScrollLeft=function(t){this.el.scrollLeft=t},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}($B),MJ=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(t){window.scroll(window.pageXOffset,t)},e.prototype.setScrollLeft=function(t){window.scroll(t,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e}($B),ik=function(){function r(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return r.prototype.setIconOverride=function(e){var t,i;if("object"==typeof e&&e){for(i in t=he({},this.iconClasses),e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},r.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},r.prototype.getClass=function(e){return this.classes[e]||""},r.prototype.getIconClass=function(e,t){var i;return(i=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?this.baseIconClass+" "+i:""},r.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},r}();ik.prototype.classes={},ik.prototype.iconClasses={},ik.prototype.baseIconClass="",ik.prototype.iconOverridePrefix="";var OJ=function(){function r(e,t,i,s){var n=this;this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=function(a){n.queuedRequest=he({},n.queuedRequest||{},a),n.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return r.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},r.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},r.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},r.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},r}(),Uv=h4({});function RJ(r,e,t,i,s,n,a,o,h,d,m,v,C){return{dateEnv:s,options:t,pluginHooks:a,emitter:d,dispatch:o,getCurrentData:h,calendarApi:m,viewSpec:r,viewApi:e,dateProfileGenerator:i,theme:n,isRtl:"rtl"===t.direction,addResizeHandler:function(w){d.on("_resize",w)},removeResizeHandler:function(w){d.off("_resize",w)},createScrollResponder:function(w){return new OJ(w,d,Os(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:C}}var C_=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.shouldComponentUpdate=function(t,i){return this.debug&&console.log(x4(t,this.props),x4(i,this.state)),!I4(this.props,t,this.propEquality)||!I4(this.state,i,this.stateEquality)},e.addPropsEquality=LJ,e.addStateEquality=_J,e.contextType=Uv,e}(vB);C_.prototype.propEquality={},C_.prototype.stateEquality={};var cr=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.contextType=Uv,e}(C_);function LJ(r){var e=Object.create(this.prototype.propEquality);he(e,r),this.prototype.propEquality=e}function _J(r){var e=Object.create(this.prototype.stateEquality);he(e,r),this.prototype.stateEquality=e}function ym(r,e){"function"==typeof r?r(e):r&&(r.current=e)}var _D=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.uid=ID(),t}return Zt(e,r),e.prototype.prepareHits=function(){},e.prototype.queryHit=function(t,i,s,n){return null},e.prototype.isValidSegDownEl=function(t){return!this.props.eventDrag&&!this.props.eventResize&&!Ko(t,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(t){return!(Ko(t,".fc-event:not(.fc-bg-event)")||Ko(t,".fc-more-link")||Ko(t,"a[data-navlink]")||Ko(t,".fc-popover"))},e}(cr);function qv(r){return{id:ID(),deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,contentTypeHandlers:r.contentTypeHandlers||{},listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function VJ(r,e){return{reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:he(he({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:he(he({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:he(he({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:he(he({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:he(he({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,contentTypeHandlers:he(he({},r.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:he(he({},r.listenerRefiners),e.listenerRefiners),optionRefiners:he(he({},r.optionRefiners),e.optionRefiners),propSetHandlers:he(he({},r.propSetHandlers),e.propSetHandlers)}}var zv=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e}(ik);function GB(r,e,t,i){if(e[r])return e[r];var s=function(r,e,t,i){var s=t[r],n=i[r],a=function(m){return s&&null!==s[m]?s[m]:n&&null!==n[m]?n[m]:null},o=a("component"),h=a("superType"),d=null;if(h){if(h===r)throw new Error("Can't have a custom view type that references itself");d=GB(h,e,t,i)}return!o&&d&&(o=d.component),o?{type:r,component:o,defaults:he(he({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:he(he({},d?d.overrides:{}),n?n.rawOptions:{})}:null}(r,e,t,i);return s&&(e[r]=s),s}zv.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},zv.prototype.baseIconClass="fc-icon",zv.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},zv.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},zv.prototype.iconOverrideOption="buttonIcons",zv.prototype.iconOverrideCustomButtonOption="icon",zv.prototype.iconOverridePrefix="fc-icon-";var WC=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.rootElRef=$h(),t.handleRootEl=function(i){ym(t.rootElRef,i),t.props.elRef&&ym(t.props.elRef,i)},t}return Zt(e,r),e.prototype.render=function(){var t=this,i=this.props,s=i.hookProps;return Oe(QB,{hookProps:s,didMount:i.didMount,willUnmount:i.willUnmount,elRef:this.handleRootEl},function(n){return Oe(dz,{hookProps:s,content:i.content,defaultContent:i.defaultContent,backupElRef:t.rootElRef},function(a,o){return i.children(n,fz(i.classNames,s),a,o)})})},e}(cr),uz=h4(0);function dz(r){return Oe(uz.Consumer,null,function(e){return Oe(BJ,he({renderId:e},r))})}var BJ=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.innerElRef=$h(),t}return Zt(e,r),e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var t=this.customContentInfo,i=this.getInnerContent(),s=this.getContentMeta(i);return t&&t.contentKey===s.contentKey?t&&(t.contentVal=i[s.contentKey]):(t&&(t.destroy&&t.destroy(),t=this.customContentInfo=null),s.contentKey&&(t=this.customContentInfo=he({contentKey:s.contentKey,contentVal:i[s.contentKey]},s.buildLifecycleFuncs()))),t?[]:i},e.prototype.getInnerContent=function(){var t=this.props,i=mz(t.content,t.hookProps);return void 0===i&&(i=mz(t.defaultContent,t.hookProps)),null==i?null:i},e.prototype.getContentMeta=function(t){var i=this.context.pluginHooks.contentTypeHandlers,s="",n=null;if(t)for(var a in i)if(void 0!==t[a]){s=a,n=i[a];break}return{contentKey:s,buildLifecycleFuncs:n}},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(cr),QB=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.handleRootEl=function(i){t.rootEl=i,t.props.elRef&&ym(t.props.elRef,i)},t}return Zt(e,r),e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var t=this.props.didMount;t&&t(he(he({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var t=this.props.willUnmount;t&&t(he(he({},this.props.hookProps),{el:this.rootEl}))},e}(cr);function pz(){var r,e,t=[];return function(i,s){return(!e||!gm(e,s)||i!==r)&&(r=i,e=s,t=fz(i,s)),t}}function fz(r,e){return"function"==typeof r&&(r=r(e)),kB(r)}function mz(r,e){return"function"==typeof r?r(e,Oe):r}var KB=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.normalizeClassNames=pz(),t}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,n=s.options,a={view:s.viewApi},o=this.normalizeClassNames(n.viewClassNames,a);return Oe(QB,{hookProps:a,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount,elRef:i.elRef},function(h){return i.children(h,["fc-"+i.viewSpec.type+"-view","fc-view"].concat(o))})},e}(cr);function gz(r){return mm(r,jJ)}function jJ(r){var e="function"==typeof r?{component:r}:r,t=e.component;return e.content&&(t=function(r){return function(e){return Oe(Uv.Consumer,null,function(t){return Oe(KB,{viewSpec:t.viewSpec},function(i,s){var n=he(he({},e),{nextDayThreshold:t.options.nextDayThreshold});return Oe(WC,{hookProps:n,classNames:r.classNames,content:r.content,didMount:r.didMount,willUnmount:r.willUnmount,elRef:i},function(a,o,h,d){return Oe("div",{className:s.concat(o).join(" "),ref:a},d)})})})}}(e)),{superType:e.type,component:t,rawOptions:e}}function UJ(r,e,t,i){var s=gz(r),n=gz(e.views);return mm(function(r,e){var i,t={};for(i in r)GB(i,t,r,e);for(i in e)GB(i,t,r,e);return t}(s,n),function(o){return function(r,e,t,i,s){var n=r.overrides.duration||r.defaults.duration||i.duration||t.duration,a=null,o="",h="",d={};if(n&&(a=function(r){var e=JSON.stringify(r),t=vz[e];return void 0===t&&(t=Os(r),vz[e]=t),t}(n))){var m=DB(a);o=m.unit,1===m.value&&(h=o,d=e[o]?e[o].rawOptions:{})}var v=function(w){var S=w.buttonText||{},k=r.defaults.buttonTextKey;return null!=k&&null!=S[k]?S[k]:null!=S[r.type]?S[r.type]:null!=S[h]?S[h]:null},C=function(w){var S=w.buttonHints||{},k=r.defaults.buttonTextKey;return null!=k&&null!=S[k]?S[k]:null!=S[r.type]?S[r.type]:null!=S[h]?S[h]:null};return{type:r.type,component:r.component,duration:a,durationUnit:o,singleUnit:h,optionDefaults:r.defaults,optionOverrides:he(he({},d),r.overrides),buttonTextOverride:v(i)||v(t)||r.overrides.buttonText,buttonTextDefault:v(s)||r.defaults.buttonText||v(vm)||r.type,buttonTitleOverride:C(i)||C(t)||r.overrides.buttonHint,buttonTitleDefault:C(s)||r.defaults.buttonHint||C(vm)}}(o,n,e,t,i)})}var vz={},yz=function(){function r(e){this.props=e,this.nowDate=tk(e.nowInput,e.dateEnv),this.initHiddenDays()}return r.prototype.buildPrev=function(e,t,i){var s=this.props.dateEnv,n=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(n,-1,i)},r.prototype.buildNext=function(e,t,i){var s=this.props.dateEnv,n=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(n,1,i)},r.prototype.build=function(e,t,i){void 0===i&&(i=!0);var n,a,o,h,d,m,s=this.props;return n=this.buildValidRange(),n=this.trimHiddenDays(n),i&&(e=function(r,e){return null!=e.start&&r<e.start?e.start:null!=e.end&&r>=e.end?new Date(e.end.valueOf()-1):r}(e,n)),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),h=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),d=h=this.trimHiddenDays(h),s.showNonCurrentDates||(d=JI(d,a.range)),d=JI(d=this.adjustActiveRange(d),n),m=LB(a.range,n),{validRange:n,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:d,renderRange:h,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(a.duration)}},r.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},r.prototype.buildCurrentRangeInfo=function(e,t){var o,i=this.props,s=null,n=null,a=null;return i.duration?a=this.buildRangeFromDuration(e,t,s=i.duration,n=i.durationUnit):(o=this.props.dayCount)?(n="day",a=this.buildRangeFromDayCount(e,t,o)):(a=this.buildCustomVisibleRange(e))?n=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(n=DB(s=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(e,t,s,n)),{duration:s,unit:n,range:a}},r.prototype.getFallbackDuration=function(){return Os({day:1})},r.prototype.adjustActiveRange=function(e){var t=this.props,i=t.dateEnv,n=t.slotMinTime,a=t.slotMaxTime,o=e.start,h=e.end;return t.usesMinMaxTime&&(OD(n)<0&&(o=lr(o),o=i.add(o,n)),OD(a)>1&&(h=Tl(h=lr(h),-1),h=i.add(h,a))),{start:o,end:h}},r.prototype.buildRangeFromDuration=function(e,t,i,s){var h,d,m,n=this.props,a=n.dateEnv,o=n.dateAlignment;if(!o){var v=this.props.dateIncrement;o=v&&HC(v)<HC(i)?DB(v).unit:s}function C(){h=a.startOf(e,o),d=a.add(h,i),m={start:h,end:d}}return OD(i)<=1&&this.isHiddenDay(h)&&(h=lr(h=this.skipHiddenDays(h,t))),C(),this.trimHiddenDays(m)||(e=this.skipHiddenDays(e,t),C()),m},r.prototype.buildRangeFromDayCount=function(e,t,i){var d,s=this.props,a=s.dateAlignment,o=0,h=e;a&&(h=s.dateEnv.startOf(h,a)),h=lr(h),d=h=this.skipHiddenDays(h,t);do{d=Tl(d,1),this.isHiddenDay(d)||(o+=1)}while(o<i);return{start:h,end:d}},r.prototype.buildCustomVisibleRange=function(e){var t=this.props,i=t.visibleRangeInput,s="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,n=this.refineRange(s);return!n||null!=n.start&&null!=n.end?n:null},r.prototype.buildRenderRange=function(e,t,i){return e},r.prototype.buildDateIncrement=function(e){var i;return this.props.dateIncrement||((i=this.props.dateAlignment)?Os(1,i):e||Os({days:1}))},r.prototype.refineRange=function(e){if(e){var t=function(r,e){var t=null,i=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(i=e.createMarker(r.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(e,this.props.dateEnv);return t&&(t=RB(t)),t}return null},r.prototype.initHiddenDays=function(){var s,e=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&e.push(0,6),s=0;s<7;s+=1)(t[s]=-1!==e.indexOf(s))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t},r.prototype.trimHiddenDays=function(e){var t=e.start,i=e.end;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null},r.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},r.prototype.skipHiddenDays=function(e,t,i){for(void 0===t&&(t=1),void 0===i&&(i=!1);this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Tl(e,t);return e},r}();function bz(r){for(var e in r)if(r[e].isFetching)return!0;return!1}function Cz(r,e,t,i){for(var s={},n=0,a=e;n<a.length;n++){var o=a[n];s[o.sourceId]=o}return t&&(s=Ez(s,t,i)),he(he({},r),s)}function Ez(r,e,t){return XB(r,FC(r,function(i){return function(r,e,t){return Dz(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}(i,e,t)}),e,!1,t)}function XB(r,e,t,i,s){var n={};for(var a in r){var o=r[a];n[a]=e[a]?eee(o,t,i,s):o}return n}function eee(r,e,t,i){var s=i.options,n=i.calendarApi,a=i.pluginHooks.eventSourceDefs[r.sourceDefId],o=ID();return a.fetch({eventSource:r,range:e,isRefetch:t,context:i},function(h){var d=h.rawEvents;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(n,d,h.xhr)||d),r.success&&(d=r.success.call(n,d,h.xhr)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:o,fetchRange:e,rawEvents:d})},function(h){console.warn(h.message,h),s.eventSourceFailure&&s.eventSourceFailure.call(n,h),r.failure&&r.failure(h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:o,fetchRange:e,error:h})}),he(he({},r),{isFetching:!0,latestFetchId:o})}function wz(r,e){return FC(r,function(t){return Dz(t,e)})}function Dz(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function Sz(r,e){var t;if(e){t=[];for(var i=0,s=r;i<s.length;i++){var n=s[i],a=e(n);a?t.push(a):null==a&&t.push(n)}}else t=r;return t}function Tz(r,e){return d_(r,function(t){return t.sourceId!==e})}function cee(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function hee(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function uee(r,e){var t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(t=e.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function dee(r,e){var t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(t=e.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function pee(r,e,t,i,s){return{header:r.headerToolbar?Az(r.headerToolbar,r,e,t,i,s):null,footer:r.footerToolbar?Az(r.footerToolbar,r,e,t,i,s):null}}function Az(r,e,t,i,s,n){var a={},o=[],h=!1;for(var d in r){var v=fee(r[d],e,t,i,s,n);a[d]=v.widgets,o.push.apply(o,v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:h}}function fee(r,e,t,i,s,n){var a="rtl"===e.direction,o=e.customButtons||{},h=t.buttonText||{},d=e.buttonText||{},m=t.buttonHints||{},v=e.buttonHints||{},C=r?r.split(" "):[],w=[],S=!1;return{widgets:C.map(function(O){return O.split(",").map(function(N){if("title"===N)return S=!0,{buttonName:N};var q,z,Z,Ce,ce,Fe;if(q=o[N])Z=function(ht){q.click&&q.click.call(ht.target,ht,ht.target)},(Ce=i.getCustomButtonIconClass(q))||(Ce=i.getIconClass(N,a))||(ce=q.text),Fe=q.hint||q.text;else if(z=s[N]){w.push(N),Z=function(){n.changeView(N)},(ce=z.buttonTextOverride)||(Ce=i.getIconClass(N,a))||(ce=z.buttonTextDefault);var Se=z.buttonTextOverride||z.buttonTextDefault;Fe=KI(z.buttonTitleOverride||z.buttonTitleDefault||e.viewHint,[Se,N],Se)}else if(n[N])if(Z=function(){n[N]()},(ce=h[N])||(Ce=i.getIconClass(N,a))||(ce=d[N]),"prevYear"===N||"nextYear"===N){var Be="prevYear"===N?"prev":"next";Fe=KI(m[Be]||v[Be],[d.year||"year","year"],d[N])}else Fe=function(ht){return KI(m[N]||v[N],[d[ht]||ht,ht],d[N])};return{buttonName:N,buttonClick:Z,buttonIcon:Ce,buttonText:ce,buttonHint:Fe}})}),viewsWithButtons:w,hasTitle:S}}function xz(r){var e=[];for(var t in r)e.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e.join("&")}function Iz(r,e){for(var t=wB(e.getCurrentData().eventSources),i=[],s=0,n=r;s<n.length;s++){for(var a=n[s],o=!1,h=0;h<t.length;h+=1)if(t[h]._raw===a){t.splice(h,1),o=!0;break}o||i.push(a)}for(var d=0,m=t;d<m.length;d++)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:m[d].sourceId});for(var C=0,w=i;C<w.length;C++)e.calendarApi.addEventSource(w[C])}var kz=[qv({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(r){return Array.isArray(r.events)?r.events:null},fetch:function(r,e){e({rawEvents:r.eventSource.meta})}}]}),qv({eventSourceDefs:[{parseMeta:function(r){return"function"==typeof r.events?r.events:null},fetch:function(r,e,t){!function(r,e,t){var i=!1,s=function(){i||(i=!0,e.apply(this,arguments))},n=function(){i||(i=!0,t&&t.apply(this,arguments))},a=r(s,n);a&&"function"==typeof a.then&&a.then(s,n)}(r.eventSource.meta.bind(null,$4(r.range,r.context.dateEnv)),function(n){e({rawEvents:n})},t)}}]}),qv({eventSourceRefiners:{method:String,extraParams:Re,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(r){return!r.url||"json"!==r.format&&r.format?null:{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}},fetch:function(r,e,t){var i=r.eventSource.meta,s=function(r,e,t){var n,a,o,h,i=t.dateEnv,s=t.options,d={};return null==(n=r.startParam)&&(n=s.startParam),null==(a=r.endParam)&&(a=s.endParam),null==(o=r.timeZoneParam)&&(o=s.timeZoneParam),h="function"==typeof r.extraParams?r.extraParams():r.extraParams||{},he(d,h),d[n]=i.formatIso(e.start),d[a]=i.formatIso(e.end),"local"!==i.timeZone&&(d[o]=i.timeZone),d}(i,r.range,r.context);!function(r,e,t,i,s){var n=null;"GET"===(r=r.toUpperCase())?e=function(r,e){return r+(-1===r.indexOf("?")?"?":"&")+xz(e)}(e,t):n=xz(t);var a=new XMLHttpRequest;a.open(r,e,!0),"GET"!==r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var o=!1,h=void 0;try{h=JSON.parse(a.responseText),o=!0}catch(d){}o?i(h,a):s("Failure parsing JSON",a)}else s("Request failed",a)},a.onerror=function(){s("Request failed",a)},a.send(n)}(i.method,i.url,s,function(n,a){e({rawEvents:n,xhr:a})},function(n,a){t({message:n,xhr:a})})}}]}),qv({recurringTypes:[{parse:function(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){var t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null},i=void 0;return r.duration&&(i=r.duration),!i&&r.startTime&&r.endTime&&(i=function(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}(r.endTime,r.startTime)),{allDayGuess:Boolean(!r.startTime&&!r.endTime),duration:i,typeData:t}}return null},expand:function(r,e,t){var i=JI(e,{start:r.startRecur,end:r.endRecur});return i?function(r,e,t,i){for(var s=r?A4(r):null,n=lr(t.start),a=t.end,o=[];n<a;){var h=void 0;(!s||s[n.getUTCDay()])&&(h=e?i.add(n,e):n,o.push(h)),n=Tl(n,1)}return o}(r.daysOfWeek,r.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:Re,startTime:Os,endTime:Os,duration:Os,startRecur:Re,endRecur:Re}}),qv({optionChangeHandlers:{events:function(r,e){Iz([r],e)},eventSources:Iz}}),qv({isLoadingFuncs:[function(r){return bz(r.eventSources)}],contentTypeHandlers:{html:function(){var r=null,e="";return{render:function(s,n){(s!==r||n!==e)&&(s.innerHTML=n),r=s,e=n},destroy:function(){r.innerHTML="",r=null,e=""}}},domNodes:function(){var r=null,e=[];function i(){e.forEach(yB),e=[],r=null}return{render:function(s,n){var a=Array.prototype.slice.call(n);if(s!==r||!Wv(e,a)){for(var o=0,h=a;o<h.length;o++)s.appendChild(h[o]);i()}r=s,e=a},destroy:i}}},propSetHandlers:{dateProfile:function(r,e){e.emitter.trigger("datesSet",he(he({},$4(r.activeRange,e.dateEnv)),{view:e.viewApi}))},eventStore:function(r,e){var t=e.emitter;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",jC(r,e))}}})],ZB=function(){function r(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return r.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},r.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},r.prototype.resume=function(e,t){void 0===e&&(e="");var i=this.pauseDepths;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())},r.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},r.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},r.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},r.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},r.prototype.drained=function(){this.drainedOption&&this.drainedOption()},r}(),_ee=function(){function r(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new ZB(this.drain.bind(this))}return r.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},r.prototype.pause=function(e){this.delayedRunner.pause(e)},r.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},r.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],i=void 0;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}},r.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},r.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},r}();function Pee(r,e,t){var i;return i=/^(year|month)$/.test(r.currentRangeUnit)?r.currentRange:r.activeRange,t.formatRange(i.start,i.end,Ma(e.titleFormat||function(r){var e=r.currentRangeUnit;if("year"===e)return{year:"numeric"};if("month"===e)return{year:"numeric",month:"long"};var t=s_(r.currentRange.start,r.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}var Mz=function(){function r(e){var t=this;this.computeOptionsData=rs(this._computeOptionsData),this.computeCurrentViewData=rs(this._computeCurrentViewData),this.organizeRawLocales=rs(sz),this.buildLocale=rs(FB),this.buildPluginHooks=function(){var t,r=[],e=[];return function(i,s){return(!t||!Wv(i,r)||!Wv(s,e))&&(t=function(r,e){var t={},i={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(n){for(var a=0,o=n;a<o.length;a++){var h=o[a];t[h.id]||(t[h.id]=!0,s(h.deps),i=VJ(i,h))}}return r&&s(r),s(e),i}(i,s)),r=i,e=s,t}}(),this.buildDateEnv=rs(Vee),this.buildTheme=rs(Fee),this.parseToolbars=rs(pee),this.buildViewSpecs=rs(UJ),this.buildDateProfileGenerator=a_(Hee),this.buildViewApi=rs(Bee),this.buildViewUiProps=a_(Uee),this.buildEventUiBySource=rs(jee,gm),this.buildEventUiBases=rs(Wee),this.parseContextBusinessHours=a_(qee),this.buildTitle=rs(Pee),this.emitter=new b_,this.actionRunner=new _ee(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(z){t.actionRunner.request(z)},this.props=e,this.actionRunner.pause();var i={},s=this.computeOptionsData(e.optionOverrides,i,e.calendarApi),n=s.calendarOptions.initialView||s.pluginHooks.initialView,a=this.computeCurrentViewData(n,s,e.optionOverrides,i);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var o=function(r,e){var t=r.initialDate;return null!=t?e.createMarker(t):tk(r.now,e)}(s.calendarOptions,s.dateEnv),h=a.dateProfileGenerator.build(o);BC(h.activeRange,o)||(o=h.currentRange.start);for(var d={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},m=0,v=s.pluginHooks.contextInit;m<v.length;m++)(0,v[m])(d);for(var w=function(r,e,t){var i=e?e.activeRange:null;return Cz({},function(r,e){var t=X4(e),i=[].concat(r.eventSources||[]),s=[];r.initialEvents&&i.unshift(r.initialEvents),r.events&&i.unshift(r.events);for(var n=0,a=i;n<a.length;n++){var h=K4(a[n],e,t);h&&s.push(h)}return s}(r,t),i,t)}(s.calendarOptions,h,d),S={dynamicOptionOverrides:i,currentViewType:n,currentDate:o,dateProfile:h,businessHours:this.parseContextBusinessHours(d),eventSources:w,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},k=he(he({},d),S),O=0,N=s.pluginHooks.reducers;O<N.length;O++)he(S,(0,N[O])(null,null,k));JB(S,d)&&this.emitter.trigger("loading",!0),this.state=S,this.updateData(),this.actionRunner.resume()}return r.prototype.resetOptions=function(e,t){var i=this.props;i.optionOverrides=t?he(he({},i.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},r.prototype._handleAction=function(e){var t=this,i=t.props,s=t.state,n=t.emitter,a=function(r,e){var t;switch(e.type){case"SET_OPTION":return he(he({},r),((t={})[e.optionName]=e.rawOptionValue,t));default:return r}}(s.dynamicOptionOverrides,e),o=this.computeOptionsData(i.optionOverrides,a,i.calendarApi),h=function(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}(s.currentViewType,e),d=this.computeCurrentViewData(h,o,i.optionOverrides,a);i.calendarApi.currentDataManager=this,n.setThisContext(i.calendarApi),n.setOptions(d.options);var m={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:n,getCurrentData:this.getCurrentData},v=s.currentDate,C=s.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(C=d.dateProfileGenerator.build(v)),C=function(r,e,t,i){var s;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if((s=i.buildPrev(r,t)).isValid)return s;break;case"NEXT":if((s=i.buildNext(r,t)).isValid)return s}return r}(C,e,v=function(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}(v,e),d.dateProfileGenerator),("PREV"===e.type||"NEXT"===e.type||!BC(C.currentRange,v))&&(v=C.currentRange.start);for(var w=function(r,e,t,i){var s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Cz(r,e.sources,s,i);case"REMOVE_EVENT_SOURCE":return function(r,e){return FC(r,function(t){return t.sourceId!==e})}(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Ez(r,s,i):r;case"FETCH_EVENT_SOURCES":return XB(r,e.sourceIds?A4(e.sourceIds):wz(r,i),s,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(r,e,t,i){var s,n=r[e];return n&&t===n.latestFetchId?he(he({},r),((s={})[e]=he(he({},n),{isFetching:!1,fetchRange:i}),s)):r}(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}(s.eventSources,e,C,m),S=function(r,e,t,i,s){switch(e.type){case"RECEIVE_EVENTS":return function(r,e,t,i,s,n){if(e&&t===e.latestFetchId){var a=u_(function(r,e,t){var i=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(r=Sz(r,s)),i&&(r=Sz(r,i)),r}(s,e,n),e,n);return i&&(a=MD(a,i,n)),IB(Tz(r,e.sourceId),a)}return r}(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"ADD_EVENTS":return function(r,e,t,i){return t&&(e=MD(e,t,i)),IB(r,e)}(r,e.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return IB(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?MD(r,i.activeRange,s):r;case"REMOVE_EVENTS":return function(r,e){var t=r.defs,i=r.instances,s={},n={};for(var a in t)e.defs[a]||(s[a]=t[a]);for(var o in i)!e.instances[o]&&s[i[o].defId]&&(n[o]=i[o]);return{defs:s,instances:n}}(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return Tz(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return d_(r,function(n){return!n.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return r}}(s.eventStore,e,w,C,m),O=bz(w)&&!d.options.progressiveEventRendering&&s.renderableEventStore||S,N=this.buildViewUiProps(m),q=N.eventUiSingleBase,z=N.selectionConfig,Z=this.buildEventUiBySource(w),ce={dynamicOptionOverrides:a,currentViewType:h,currentDate:v,dateProfile:C,eventSources:w,eventStore:S,renderableEventStore:O,selectionConfig:z,eventUiBases:this.buildEventUiBases(O.defs,q,Z),businessHours:this.parseContextBusinessHours(m),dateSelection:cee(s.dateSelection,e),eventSelection:hee(s.eventSelection,e),eventDrag:uee(s.eventDrag,e),eventResize:dee(s.eventResize,e)},Fe=he(he({},m),ce),Se=0,Be=o.pluginHooks.reducers;Se<Be.length;Se++)he(ce,(0,Be[Se])(s,e,Fe));var Ie=JB(s,m),Pe=JB(ce,m);!Ie&&Pe?n.trigger("loading",!0):Ie&&!Pe&&n.trigger("loading",!1),this.state=ce,i.onAction&&i.onAction(e)},r.prototype.updateData=function(){var t=this.props,i=this.state,s=this.data,n=this.computeOptionsData(t.optionOverrides,i.dynamicOptionOverrides,t.calendarApi),a=this.computeCurrentViewData(i.currentViewType,n,t.optionOverrides,i.dynamicOptionOverrides),o=this.data=he(he(he({viewTitle:this.buildTitle(i.dateProfile,a.options,n.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},n),a),i),h=n.pluginHooks.optionChangeHandlers,d=s&&s.calendarOptions,m=n.calendarOptions;if(d&&d!==m)for(var v in d.timeZone!==m.timeZone&&(i.eventSources=o.eventSources=function(r,e,t){var i=e?e.activeRange:null;return XB(r,wz(r,t),i,!0,t)}(o.eventSources,i.dateProfile,o),i.eventStore=o.eventStore=function(r,e,t){var i=r.defs,s=mm(r.instances,function(n){var a=i[n.defId];return a.allDay||a.recurringDef?n:he(he({},n),{range:{start:t.createMarker(e.toDate(n.range.start,n.forcedStartTzo)),end:t.createMarker(e.toDate(n.range.end,n.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:n.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:n.forcedEndTzo})});return{defs:i,instances:s}}(o.eventStore,s.dateEnv,o.dateEnv)),h)d[v]!==m[v]&&h[v](m[v],o);t.onData&&t.onData(o)},r.prototype._computeOptionsData=function(e,t,i){var s=this.processRawCalendarOptions(e,t),n=s.refinedOptions,a=s.pluginHooks,o=s.localeDefaults,h=s.availableLocaleData;Oz(s.extra);var m=this.buildDateEnv(n.timeZone,n.locale,n.weekNumberCalculation,n.firstDay,n.weekText,a,h,n.defaultRangeSeparator),v=this.buildViewSpecs(a.views,e,t,o),C=this.buildTheme(n,a);return{calendarOptions:n,pluginHooks:a,dateEnv:m,viewSpecs:v,theme:C,toolbarConfig:this.parseToolbars(n,e,C,v,i),localeDefaults:o,availableRawLocales:h.map}},r.prototype.processRawCalendarOptions=function(e,t){var i=AB([vm,e,t]),n=i.locale,a=this.organizeRawLocales(i.locales),h=this.buildLocale(n||a.defaultCode,a.map).options,d=this.buildPluginHooks(e.plugins||[],kz),m=this.currentCalendarOptionsRefiners=he(he(he(he(he({},P4),N4),V4),d.listenerRefiners),d.optionRefiners),v={},C=AB([vm,h,e,t]),w={},S=this.currentCalendarOptionsInput,k=this.currentCalendarOptionsRefined,O=!1;for(var N in C)"plugins"!==N&&(C[N]===S[N]||TB[N]&&N in S&&TB[N](S[N],C[N])?w[N]=k[N]:m[N]?(w[N]=m[N](C[N]),O=!0):v[N]=S[N]);return O&&(this.currentCalendarOptionsInput=C,this.currentCalendarOptionsRefined=w),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:h,extra:v}},r.prototype._computeCurrentViewData=function(e,t,i,s){var n=t.viewSpecs[e];if(!n)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var a=this.processRawViewOptions(n,t.pluginHooks,t.localeDefaults,i,s),o=a.refinedOptions;return Oz(a.extra),{viewSpec:n,options:o,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:n.optionDefaults.dateProfileGeneratorClass,duration:n.duration,durationUnit:n.durationUnit,usesMinMaxTime:n.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,monthMode:o.monthMode,fixedWeekCount:o.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}},r.prototype.processRawViewOptions=function(e,t,i,s,n){var a=AB([vm,e.optionDefaults,i,s,e.optionOverrides,n]),o=he(he(he(he(he(he({},P4),N4),V4),vZ),t.listenerRefiners),t.optionRefiners),h={},d=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,v=!1,C={};for(var w in a)a[w]===d[w]?h[w]=m[w]:(a[w]===this.currentCalendarOptionsInput[w]?w in this.currentCalendarOptionsRefined&&(h[w]=this.currentCalendarOptionsRefined[w]):o[w]?h[w]=o[w](a[w]):C[w]=a[w],v=!0);return v&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:C}},r}();function Vee(r,e,t,i,s,n,a,o){var h=FB(e||a.defaultCode,a.map);return new ez({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:n.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:n.cmdFormatter,defaultSeparator:o})}function Fee(r,e){return new(e.themeClasses[r.themeSystem]||zv)(r)}function Hee(r){return new(r.dateProfileGeneratorClass||yz)(r)}function Bee(r,e,t){return new $Z(r,e,t)}function jee(r){return mm(r,function(e){return e.ui})}function Wee(r,e,t){var i={"":e};for(var s in r){var n=r[s];n.sourceId&&t[n.sourceId]&&(i[s]=t[n.sourceId])}return i}function Uee(r){var e=r.options;return{eventUiSingleBase:f_({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:"boolean"==typeof e.eventOverlap?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:f_({constraint:e.selectConstraint,overlap:"boolean"==typeof e.selectOverlap?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function JB(r,e){for(var t=0,i=e.pluginHooks.isLoadingFuncs;t<i.length;t++)if((0,i[t])(r))return!0;return!1}function qee(r){return function(r,e){return u_(function(r){return(!0===r?[{}]:Array.isArray(r)?r.filter(function(t){return t.daysOfWeek}):"object"==typeof r&&r?[r]:[]).map(function(t){return he(he({},oJ),t)})}(r),null,e)}(r.options.businessHours,r)}function Oz(r,e){for(var t in r)console.warn("Unknown option '"+t+"'"+(e?" for view '"+e+"'":""))}!function(r){function e(t){var i=r.call(this,t)||this;return i.handleData=function(s){i.dataManager?i.setState(s):i.state=s},i.dataManager=new Mz({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:i.handleData}),i}Zt(e,r),e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(t){var i=this.props.optionOverrides;i!==t.optionOverrides&&this.dataManager.resetOptions(i)}}(vB);var zee=function(){function r(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return r.prototype.addSegs=function(e){for(var t=[],i=0,s=e;i<s.length;i++)this.insertEntry(s[i],t);return t},r.prototype.insertEntry=function(e,t){var i=this.findInsertion(e);return this.isInsertionValid(i,e)?(this.insertEntryAt(e,i),1):this.handleInvalidInsertion(i,e,t)},r.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},r.prototype.handleInvalidInsertion=function(e,t,i){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,i):(i.push(t),0)},r.prototype.splitEntry=function(e,t,i){var s=0,n=[],a=e.span,o=t.span;return a.start<o.start&&(s+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:o.start}},n)),a.end>o.end&&(s+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:a.end}},n)),s?(i.push.apply(i,Hr([{index:e.index,thickness:e.thickness,span:e2(o,a)}],n)),s):(i.push(e),0)},r.prototype.insertEntryAt=function(e,t){var s=this.entriesByLevel;-1===t.lateral?(t2(this.levelCoords,t.level,t.levelCoord),t2(s,t.level,[e])):t2(s[t.level],t.lateral,e),this.stackCnts[sk(e)]=t.stackCnt},r.prototype.findInsertion=function(e){for(var t=this,i=t.levelCoords,s=t.entriesByLevel,n=t.strictOrder,a=t.stackCnts,o=i.length,h=0,d=-1,m=-1,v=null,C=0,w=0;w<o;w+=1){var S=i[w];if(!n&&S>=h+e.thickness)break;for(var k=s[w],O=void 0,N=Lz(k,e.span.start,Rz),q=N[0]+N[1];(O=k[q])&&O.span.start<e.span.end;){var z=S+O.thickness;z>h&&(h=z,v=O,d=w,m=q),z===h&&(C=Math.max(C,a[sk(O)]+1)),q+=1}}var Z=0;if(v)for(Z=d+1;Z<o&&i[Z]<h;)Z+=1;var Ce=-1;return Z<o&&i[Z]===h&&(Ce=Lz(s[Z],e.span.end,Rz)[0]),{touchingLevel:d,touchingLateral:m,touchingEntry:v,stackCnt:C,levelCoord:h,level:Z,lateral:Ce}},r.prototype.toRects=function(){for(var t=this.entriesByLevel,i=this.levelCoords,s=t.length,n=[],a=0;a<s;a+=1)for(var h=i[a],d=0,m=t[a];d<m.length;d++)n.push(he(he({},m[d]),{levelCoord:h}));return n},r}();function Rz(r){return r.span.end}function sk(r){return r.index+":"+r.span.start}function e2(r,e){var t=Math.max(r.start,e.start),i=Math.min(r.end,e.end);return t<i?{start:t,end:i}:null}function t2(r,e,t){r.splice(e,0,t)}function Lz(r,e,t){var i=0,s=r.length;if(!s||e<t(r[i]))return[0,0];if(e>t(r[s-1]))return[s,0];for(;i<s;){var n=Math.floor(i+(s-i)/2),a=t(r[n]);if(e<a)s=n;else{if(!(e>a))return[n,1];i=n+1}}return[i,0]}var PD=function(){function r(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return r.prototype.destroy=function(){},r}();function $ee(r,e){return{component:r,el:e.el,useEventCenter:null==e.useEventCenter||e.useEventCenter,isHitComboAllowed:e.isHitComboAllowed||null}}function i2(r){var e;return(e={})[r.component.uid]=r,e}var E_={},_z=function(){function r(e,t){this.emitter=new b_}return r.prototype.destroy=function(){},r.prototype.setMirrorIsVisible=function(e){},r.prototype.setMirrorNeedsRevert=function(e){},r.prototype.setAutoScrollEnabled=function(e){},r}(),w_={},Gee={startTime:Os,duration:Os,create:Boolean,sourceId:String};function s2(r){var e=h_(r,Gee),t=e.refined;return{startTime:t.startTime||null,duration:t.duration||null,create:null==t.create||t.create,sourceId:t.sourceId,leftoverProps:e.extra}}var Qee=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var t=this,i=this.props.widgetGroups.map(function(s){return t.renderWidgetGroup(s)});return Oe.apply(void 0,Hr(["div",{className:"fc-toolbar-chunk"}],i))},e.prototype.renderWidgetGroup=function(t){for(var i=this.props,s=this.context.theme,n=[],a=!0,o=0,h=t;o<h.length;o++){var d=h[o],m=d.buttonName,v=d.buttonClick,C=d.buttonText,w=d.buttonIcon,S=d.buttonHint;if("title"===m)a=!1,n.push(Oe("h2",{className:"fc-toolbar-title",id:i.titleId},i.title));else{var k=m===i.activeButton,O=!i.isTodayEnabled&&"today"===m||!i.isPrevEnabled&&"prev"===m||!i.isNextEnabled&&"next"===m,N=["fc-"+m+"-button",s.getClass("button")];k&&N.push(s.getClass("buttonActive")),n.push(Oe("button",{type:"button",title:"function"==typeof S?S(i.navUnit):S,disabled:O,"aria-pressed":k,className:N.join(" "),onClick:v},C||(w?Oe("span",{className:w}):"")))}}if(n.length>1){var q=a&&s.getClass("buttonGroup")||"";return Oe.apply(void 0,Hr(["div",{className:q}],n))}return n[0]},e}(cr),Pz=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var a,o,t=this.props,n=!1,h=t.model.sectionWidgets,d=h.center;return h.left?(n=!0,a=h.left):a=h.start,h.right?(n=!0,o=h.right):o=h.end,Oe("div",{className:[t.extraClassName||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",d||[]),this.renderSection("end",o||[]))},e.prototype.renderSection=function(t,i){var s=this.props;return Oe(Qee,{key:t,widgetGroups:i,title:s.title,navUnit:s.navUnit,activeButton:s.activeButton,isTodayEnabled:s.isTodayEnabled,isPrevEnabled:s.isPrevEnabled,isNextEnabled:s.isNextEnabled,titleId:s.titleId})},e}(cr),Kee=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(i){t.el=i,ym(t.props.elRef,i),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.state,n=i.aspectRatio,o="",h="";return n?null!==s.availableWidth?o=s.availableWidth/n:h=1/n*100+"%":o=i.height||"",Oe("div",{"aria-labelledby":i.labeledById,ref:this.handleEl,className:["fc-view-harness",n||i.liquid||i.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:o,paddingBottom:h}},i.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(cr),Xee=function(r){function e(t){var i=r.call(this,t)||this;return i.handleSegClick=function(s,n){var a=i.component,o=a.context,h=LD(n);if(h&&a.isValidSegDownEl(s.target)){var d=Ko(s.target,".fc-event-forced-url"),m=d?d.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:n,event:new xr(a.context,h.eventRange.def,h.eventRange.instance),jsEvent:s,view:o.viewApi}),m&&!s.defaultPrevented&&(window.location.href=m)}},i.destroy=g4(t.el,"click",".fc-event",i.handleSegClick),i}return Zt(e,r),e}(PD),Zee=function(r){function e(t){var i=r.call(this,t)||this;return i.handleEventElRemove=function(s){s===i.currentSegEl&&i.handleSegLeave(null,i.currentSegEl)},i.handleSegEnter=function(s,n){LD(n)&&(i.currentSegEl=n,i.triggerEvent("eventMouseEnter",s,n))},i.handleSegLeave=function(s,n){i.currentSegEl&&(i.currentSegEl=null,i.triggerEvent("eventMouseLeave",s,n))},i.removeHoverListeners=function(r,e,t,i){var s;return g4(r,"mouseover",".fc-event",function(n,a){if(a!==s){s=a,t(n,a);var o=function(h){s=null,i(h,a),a.removeEventListener("mouseleave",o)};a.addEventListener("mouseleave",o)}})}(t.el,0,i.handleSegEnter,i.handleSegLeave),i}return Zt(e,r),e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(t,i,s){var n=this.component,a=n.context,o=LD(s);(!i||n.isValidSegDownEl(i.target))&&a.emitter.trigger(t,{el:s,event:new xr(a,o.eventRange.def,o.eventRange.instance),jsEvent:i,view:a.viewApi})},e}(PD),Jee=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.buildViewContext=rs(RJ),t.buildViewPropTransformers=rs(tte),t.buildToolbarProps=rs(ete),t.headerRef=$h(),t.footerRef=$h(),t.interactionsStore={},t.state={viewLabelId:ZL()},t.registerInteractiveComponent=function(i,s){var n=$ee(i,s),h=[Xee,Zee].concat(t.props.pluginHooks.componentInteractions).map(function(d){return new d(n)});t.interactionsStore[i.uid]=h,E_[i.uid]=n},t.unregisterInteractiveComponent=function(i){for(var s=0,n=t.interactionsStore[i.uid];s<n.length;s++)n[s].destroy();delete t.interactionsStore[i.uid],delete E_[i.uid]},t.resizeRunner=new ZB(function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})}),t.handleWindowResize=function(i){var s=t.props.options;s.handleWindowResize&&i.target===window&&t.resizeRunner.request(s.windowResizeDelay)},t}return Zt(e,r),e.prototype.render=function(){var h,t=this.props,i=t.toolbarConfig,s=t.options,n=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,tk(t.options.now,t.dateEnv),t.viewTitle),a=!1,o="";t.isHeightAuto||t.forPrint?o="":null!=s.height?a=!0:null!=s.contentHeight?o=s.contentHeight:h=Math.max(s.aspectRatio,.5);var d=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),m=i.header&&i.header.hasTitle?this.state.viewLabelId:"";return Oe(Uv.Provider,{value:d},i.header&&Oe(Pz,he({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:i.header,titleId:m},n)),Oe(Kee,{liquid:a,height:o,aspectRatio:h,labeledById:m},this.renderView(t),this.buildAppendContent()),i.footer&&Oe(Pz,he({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:i.footer,titleId:""},n)))},e.prototype.componentDidMount=function(){var t=this.props;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(function(n){return new n(t)}),window.addEventListener("resize",this.handleWindowResize);var i=t.pluginHooks.propSetHandlers;for(var s in i)i[s](t[s],t)},e.prototype.componentDidUpdate=function(t){var i=this.props,s=i.pluginHooks.propSetHandlers;for(var n in s)i[n]!==t[n]&&s[n](i[n],i)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var t=0,i=this.calendarInteractions;t<i.length;t++)i[t].destroy();this.props.emitter.trigger("_unmount")},e.prototype.buildAppendContent=function(){var t=this.props,i=t.pluginHooks.viewContainerAppends.map(function(s){return s(t)});return Oe.apply(void 0,Hr([nc,{}],i))},e.prototype.renderView=function(t){for(var s=t.viewSpec,n={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},o=0,h=this.buildViewPropTransformers(t.pluginHooks.viewPropsTransformers);o<h.length;o++)he(n,h[o].transform(n,t));return Oe(s.component,he({},n))},e}(C_);function ete(r,e,t,i,s,n){var a=t.build(s,void 0,!1),o=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:n,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:a.isValid&&!BC(e.currentRange,s),isPrevEnabled:o.isValid,isNextEnabled:h.isValid}}function tte(r){return r.map(function(e){return new e})}var ite=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return Zt(e,r),e.prototype.render=function(){var t=this.props,i=t.options,s=this.state.forPrint,n=s||"auto"===i.height||"auto"===i.contentHeight,a=n||null==i.height?"":i.height,o=["fc",s?"fc-media-print":"fc-media-screen","fc-direction-"+i.direction,t.theme.getClass("root")];return oz()||o.push("fc-liquid-hack"),t.children(o,a,n,s)},e.prototype.componentDidMount=function(){var t=this.props.emitter;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var t=this.props.emitter;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)},e}(cr),Nz="fc-col-header-cell";function Vz(r){return r.text}var nte=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var t=this.context,i=t.dateEnv,s=t.options,n=t.theme,a=t.viewApi,o=this.props,h=o.date,m=lz(h,o.todayRange,null,o.dateProfile),v=[Nz].concat(jB(m,n)),C=i.format(h,o.dayHeaderFormat),w=!m.isDisabled&&o.colCnt>1?WB(this.context,h):{},S=he(he(he({date:i.toDate(h),view:a},o.extraHookProps),{text:C}),m);return Oe(WC,{hookProps:S,classNames:s.dayHeaderClassNames,content:s.dayHeaderContent,defaultContent:Vz,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},function(k,O,N,q){return Oe("th",he({ref:k,role:"columnheader",className:v.concat(O).join(" "),"data-date":m.isDisabled?void 0:O4(h),colSpan:o.colSpan},o.extraDataAttrs),Oe("div",{className:"fc-scrollgrid-sync-inner"},!m.isDisabled&&Oe("a",he({ref:N,className:["fc-col-header-cell-cushion",o.isSticky?"fc-sticky":""].join(" ")},w),q)))})},e}(cr),rte=Ma({weekday:"long"}),ate=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var t=this.props,i=this.context,s=i.dateEnv,n=i.theme,a=i.viewApi,o=i.options,h=Tl(new Date(2592e5),t.dow),d={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},m=[Nz].concat(jB(d,n),t.extraClassNames||[]),v=s.format(h,t.dayHeaderFormat),C=he(he(he(he({date:h},d),{view:a}),t.extraHookProps),{text:v});return Oe(WC,{hookProps:C,classNames:o.dayHeaderClassNames,content:o.dayHeaderContent,defaultContent:Vz,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},function(w,S,k,O){return Oe("th",he({ref:w,role:"columnheader",className:m.concat(S).join(" "),colSpan:t.colSpan},t.extraDataAttrs),Oe("div",{className:"fc-scrollgrid-sync-inner"},Oe("a",{"aria-label":s.format(h,rte),className:["fc-col-header-cell-cushion",t.isSticky?"fc-sticky":""].join(" "),ref:k},O)))})},e}(cr),Fz=function(r){function e(t,i){var s=r.call(this,t,i)||this;return s.initialNowDate=tk(i.options.now,i.dateEnv),s.initialNowQueriedMs=(new Date).valueOf(),s.state=s.computeTiming().currentState,s}return Zt(e,r),e.prototype.render=function(){var s=this.state;return this.props.children(s.nowDate,s.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var i=this.props,s=this.context,n=NC(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),a=s.dateEnv.startOf(n,i.unit),o=s.dateEnv.add(a,Os(1,i.unit)),h=o.valueOf()-n.valueOf();return h=Math.min(864e5,h),{currentState:{nowDate:a,todayRange:Hz(a)},nextState:{nowDate:o,todayRange:Hz(o)},waitMs:h}},e.prototype.setTimeout=function(){var t=this,i=this.computeTiming(),s=i.nextState;this.timeoutId=setTimeout(function(){t.setState(s,function(){t.setTimeout()})},i.waitMs)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=Uv,e}(vB);function Hz(r){var e=lr(r);return{start:e,end:Tl(e,1)}}var ote=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.createDayHeaderFormatter=rs(lte),t}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=i.dates,n=i.dateProfile,a=i.datesRepDistinctDays,o=i.renderIntro,h=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,a,s.length);return Oe(Fz,{unit:"day"},function(d,m){return Oe("tr",{role:"row"},o&&o("day"),s.map(function(v){return a?Oe(nte,{key:v.toISOString(),date:v,dateProfile:n,todayRange:m,colCnt:s.length,dayHeaderFormat:h}):Oe(ate,{key:v.getUTCDay(),dow:v.getUTCDay(),dayHeaderFormat:h})}))})},e}(cr);function lte(r,e,t){return r||function(r,e){return Ma(!r||e>10?{weekday:"short"}:e>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(e,t)}var cte=function(){function r(e,t){for(var i=e.start,s=e.end,n=[],a=[],o=-1;i<s;)t.isHiddenDay(i)?n.push(o+.5):(n.push(o+=1),a.push(i)),i=Tl(i,1);this.dates=a,this.indices=n,this.cnt=a.length}return r.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Tl(e.end,-1)),s=Math.max(0,t),n=Math.min(this.cnt-1,i);return(s=Math.ceil(s))<=(n=Math.floor(n))?{firstIndex:s,lastIndex:n,isStart:t===s,isEnd:i===n}:null},r.prototype.getDateDayIndex=function(e){var t=this.indices,i=Math.floor(VC(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},r}(),hte=function(){function r(e,t){var s,n,a,i=e.dates;if(t){for(n=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==n;s+=1);a=Math.ceil(i.length/s)}else a=1,s=i.length;this.rowCnt=a,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return r.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var i=[],s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));e.push(i)}return e},r.prototype.buildCell=function(e,t){var i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}},r.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},r.prototype.sliceRange=function(e){var t=this.colCnt,i=this.daySeries.sliceRange(e),s=[];if(i)for(var n=i.firstIndex,a=i.lastIndex,o=n;o<=a;){var h=Math.floor(o/t),d=Math.min((h+1)*t,a+1);s.push({row:h,firstCol:o%t,lastCol:(d-1)%t,isStart:i.isStart&&o===n,isEnd:i.isEnd&&d-1===a}),o=d}return s},r}(),ute=function(){function r(){this.sliceBusinessHours=rs(this._sliceBusinessHours),this.sliceDateSelection=rs(this._sliceDateSpan),this.sliceEventStore=rs(this._sliceEventStore),this.sliceEventDrag=rs(this._sliceInteraction),this.sliceEventResize=rs(this._sliceInteraction),this.forceDayIfListItem=!1}return r.prototype.sliceProps=function(e,t,i,s){for(var n=[],a=4;a<arguments.length;a++)n[a-4]=arguments[a];var o=e.eventUiBases,h=this.sliceEventStore.apply(this,Hr([e.eventStore,o,t,i],n));return{dateSelectionSegs:this.sliceDateSelection.apply(this,Hr([e.dateSelection,o,s],n)),businessHourSegs:this.sliceBusinessHours.apply(this,Hr([e.businessHours,t,i,s],n)),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag.apply(this,Hr([e.eventDrag,o,t,i],n)),eventResize:this.sliceEventResize.apply(this,Hr([e.eventResize,o,t,i],n)),eventSelection:e.eventSelection}},r.prototype.sliceNowDate=function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return this._sliceDateSpan.apply(this,Hr([{range:{start:e,end:NC(e,1)},allDay:!1},{},t],i))},r.prototype._sliceBusinessHours=function(e,t,i,s){for(var n=[],a=4;a<arguments.length;a++)n[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,Hr([MD(e,n2(t,Boolean(i)),s),{},t,i],n)).bg:[]},r.prototype._sliceEventStore=function(e,t,i,s){for(var n=[],a=4;a<arguments.length;a++)n[a-4]=arguments[a];if(e){var o=_B(e,t,n2(i,Boolean(s)),s);return{bg:this.sliceEventRanges(o.bg,n),fg:this.sliceEventRanges(o.fg,n)}}return{bg:[],fg:[]}},r.prototype._sliceInteraction=function(e,t,i,s){for(var n=[],a=4;a<arguments.length;a++)n[a-4]=arguments[a];if(!e)return null;var o=_B(e.mutatedEvents,t,n2(i,Boolean(s)),s);return{segs:this.sliceEventRanges(o.fg,n),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},r.prototype._sliceDateSpan=function(e,t,i){for(var s=[],n=3;n<arguments.length;n++)s[n-3]=arguments[n];if(!e)return[];for(var a=UZ(e,t,i),o=this.sliceRange.apply(this,Hr([e.range],s)),h=0,d=o;h<d.length;h++){var m=d[h];m.eventRange=a}return o},r.prototype.sliceEventRanges=function(e,t){for(var i=[],s=0,n=e;s<n.length;s++)i.push.apply(i,this.sliceEventRange(n[s],t));return i},r.prototype.sliceEventRange=function(e,t){var i=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(i={start:i.start,end:Tl(i.start,1)});for(var s=this.sliceRange.apply(this,Hr([i],t)),n=0,a=s;n<a.length;n++){var o=a[n];o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd}return s},r}();function n2(r,e){var t=r.activeRange;return e?t:{start:NC(t.start,r.slotMinTime.milliseconds),end:NC(t.end,r.slotMaxTime.milliseconds-864e5)}}function r2(r,e,t){var i=r.mutatedEvents.instances;for(var s in i)if(!v_(e.validRange,i[s].range))return!1;return Bz({eventDrag:r},t)}function Bz(r,e){var t=e.getCurrentData(),i=he({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||pte)(i,e)}function pte(r,e,t,i){return void 0===t&&(t={}),!(r.eventDrag&&!function(r,e,t,i){var s=e.getCurrentData(),n=r.eventDrag,a=n.mutatedEvents,o=a.defs,h=a.instances,d=y_(o,n.isEvent?r.eventUiBases:{"":s.selectionConfig});i&&(d=mm(d,i));var m=function(r,e){return{defs:r.defs,instances:FC(r.instances,function(t){return!e[t.instanceId]})}}(r.eventStore,n.affectedEvents.instances),v=m.defs,C=m.instances,w=y_(v,r.eventUiBases);for(var S in h){var k=h[S],O=k.range,N=d[k.defId],q=o[k.defId];if(!jz(N.constraints,O,m,r.businessHours,e))return!1;var z=e.options.eventOverlap,Z="function"==typeof z?z:null;for(var Ce in C){var ce=C[Ce];if(LB(O,ce.range)&&(!1===w[ce.defId].overlap&&n.isEvent||!1===N.overlap||Z&&!Z(new xr(e,v[ce.defId],ce),new xr(e,q,k))))return!1}for(var Se=s.eventStore,Be=0,ht=N.allows;Be<ht.length;Be++){var ve,Ie=ht[Be],Pe=he(he({},t),{range:k.range,allDay:q.allDay}),Le=Se.defs[q.defId];if(ve=Le?new xr(e,Le,Se.instances[S]):new xr(e,q),!Ie(PB(Pe,e),ve))return!1}}return!0}(r,e,t,i)||r.dateSelection&&!function(r,e,t,i){var s=r.eventStore,n=s.defs,a=s.instances,o=r.dateSelection,h=o.range,d=e.getCurrentData().selectionConfig;if(i&&(d=i(d)),!jz(d.constraints,h,s,r.businessHours,e))return!1;var m=e.options.selectOverlap,v="function"==typeof m?m:null;for(var C in a){var w=a[C];if(LB(h,w.range)&&(!1===d.overlap||v&&!v(new xr(e,n[w.defId],w),null)))return!1}for(var S=0,k=d.allows;S<k.length;S++)if(!(0,k[S])(PB(he(he({},t),o),e),null))return!1;return!0}(r,e,t,i))}function jz(r,e,t,i,s){for(var n=0,a=r;n<a.length;n++)if(!vte(gte(a[n],e,t,i,s),e))return!1;return!0}function gte(r,e,t,i,s){return"businessHours"===r?a2(MD(i,e,s)):"string"==typeof r?a2(d_(t,function(n){return n.groupId===r})):"object"==typeof r&&r?a2(MD(r,e,s)):[]}function a2(r){var e=r.instances,t=[];for(var i in e)t.push(e[i].range);return t}function vte(r,e){for(var t=0,i=r;t<i.length;t++)if(v_(i[t],e))return!0;return!1}var D_=/^(visible|hidden)$/,yte=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.handleEl=function(i){t.el=i,ym(t.props.elRef,i)},t}return Zt(e,r),e.prototype.render=function(){var t=this.props,i=t.liquid,s=t.liquidIsAbsolute,n=i&&s,a=["fc-scroller"];return i&&a.push(s?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),Oe("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:n&&-(t.overcomeLeft||0)||"",right:n&&-(t.overcomeRight||0)||"",bottom:n&&-(t.overcomeBottom||0)||"",marginLeft:!n&&-(t.overcomeLeft||0)||"",marginRight:!n&&-(t.overcomeRight||0)||"",marginBottom:!n&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)},e.prototype.needsXScrolling=function(){if(D_.test(this.props.overflowX))return!1;for(var t=this.el,i=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),s=t.children,n=0;n<s.length;n+=1)if(s[n].getBoundingClientRect().width>i)return!0;return!1},e.prototype.needsYScrolling=function(){if(D_.test(this.props.overflowY))return!1;for(var t=this.el,i=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),s=t.children,n=0;n<s.length;n+=1)if(s[n].getBoundingClientRect().height>i)return!0;return!1},e.prototype.getXScrollbarWidth=function(){return D_.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return D_.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(cr),UC=function(){function r(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(i,s){var a=t.depths,o=t.currentMap,h=!1,d=!1;null!==i?(h=s in o,o[s]=i,a[s]=(a[s]||0)+1,d=!0):(a[s]-=1,a[s]||(delete o[s],delete t.callbackMap[s],h=!0)),t.masterCallback&&(h&&t.masterCallback(null,String(s)),d&&t.masterCallback(i,String(s)))}}return r.prototype.createRef=function(e){var t=this,i=this.callbackMap[e];return i||(i=this.callbackMap[e]=function(s){t.handleValue(s,String(e))}),i},r.prototype.collect=function(e,t,i){return function(r,e,t,i){void 0===e&&(e=0),void 0===i&&(i=1);var s=[];null==t&&(t=Object.keys(r).length);for(var n=e;n<t;n+=i){var a=r[n];void 0!==a&&s.push(a)}return s}(this.currentMap,e,t,i)},r.prototype.getAll=function(){return wB(this.currentMap)},r}();function Wz(r,e){return r.liquid&&e.liquid}function wte(r,e){return Wv(r,e,gm)}function Dte(r,e){for(var t=[],i=0,s=r;i<s.length;i++)for(var n=s[i],a=n.span||1,o=0;o<a;o+=1)t.push(Oe("col",{style:{width:"shrink"===n.width?Ste(e):n.width||"",minWidth:n.minWidth||""}}));return Oe.apply(void 0,Hr(["colgroup",{}],t))}function Ste(r){return null==r?4:r}function xte(r,e){var t=["fc-scrollgrid-section","fc-scrollgrid-section-"+r.type,r.className];return e&&r.liquid&&null==r.maxHeight&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Ite(r){return Oe("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function Uz(r){var e=r.stickyHeaderDates;return(null==e||"auto"===e)&&(e="auto"===r.height||"auto"===r.viewHeight),e}var qz=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.processCols=rs(function(i){return i},wte),t.renderMicroColGroup=rs(Dte),t.scrollerRefs=new UC,t.scrollerElRefs=new UC(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(he({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return Zt(e,r),e.prototype.render=function(){var t=this,i=t.props,s=t.state,n=t.context,a=i.sections||[],o=this.processCols(i.cols),h=this.renderMicroColGroup(o,s.shrinkWidth),d=function(r,e){var t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}(i.liquid,n);i.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");for(var C,m=a.length,v=0,w=[],S=[],k=[];v<m&&"header"===(C=a[v]).type;)w.push(this.renderSection(C,h,!0)),v+=1;for(;v<m&&"body"===(C=a[v]).type;)S.push(this.renderSection(C,h,!1)),v+=1;for(;v<m&&"footer"===(C=a[v]).type;)k.push(this.renderSection(C,h,!0)),v+=1;var O=!oz(),N={role:"rowgroup"};return Oe("table",{role:"grid",className:d.join(" "),style:{height:i.height}},Boolean(!O&&w.length)&&Oe.apply(void 0,Hr(["thead",N],w)),Boolean(!O&&S.length)&&Oe.apply(void 0,Hr(["tbody",N],S)),Boolean(!O&&k.length)&&Oe.apply(void 0,Hr(["tfoot",N],k)),O&&Oe.apply(void 0,Hr(Hr(Hr(["tbody",N],w),S),k)))},e.prototype.renderSection=function(t,i,s){return"outerContent"in t?Oe(nc,{key:t.key},t.outerContent):Oe("tr",{key:t.key,role:"presentation",className:xte(t,this.props.liquid).join(" ")},this.renderChunkTd(t,i,t.chunk,s))},e.prototype.renderChunkTd=function(t,i,s,n){if("outerContent"in s)return s.outerContent;var a=this.props,o=this.state,h=o.forceYScrollbars,d=o.scrollerClientWidths,m=o.scrollerClientHeights,v=function(r,e){return null!=e.maxHeight||Wz(r,e)}(a,t),C=Wz(a,t),w=a.liquid?h?"scroll":v?"auto":"hidden":"visible",S=t.key,k=function(r,e,t,i){var s=t.expandRows;return"function"==typeof e.content?e.content(t):Oe("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,Oe(i?"thead":"tbody",{role:"presentation"},"function"==typeof e.rowContent?e.rowContent(t):e.rowContent))}(t,s,{tableColGroupNode:i,tableMinWidth:"",clientWidth:a.collapsibleWidth||void 0===d[S]?null:d[S],clientHeight:void 0!==m[S]?m[S]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},n);return Oe(n?"th":"td",{ref:s.elRef,role:"presentation"},Oe("div",{className:"fc-scroller-harness"+(C?" fc-scroller-harness-liquid":"")},Oe(yte,{ref:this.scrollerRefs.createRef(S),elRef:this.scrollerElRefs.createRef(S),overflowY:w,overflowX:a.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:C,liquidIsAbsolute:!0},k)))},e.prototype._handleScrollerEl=function(t,i){var s=function(r,e){for(var t=0,i=r;t<i.length;t++){var s=i[t];if(s.key===e)return s}return null}(this.props.sections,i);s&&ym(s.chunk.scrollerElRef,t)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return function(r){for(var e=0,t=r;e<t.length;e++)if("shrink"===t[e].width)return!0;return!1}(this.props.cols)?function(r){for(var e=function(r,e){for(var t=r instanceof HTMLElement?[r]:r,i=[],s=0;s<t.length;s+=1)for(var n=t[s].querySelectorAll(".fc-scrollgrid-shrink"),a=0;a<n.length;a+=1)i.push(n[a]);return i}(r),t=0,i=0,s=e;i<s.length;i++)t=Math.max(t,LX(s[i]));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var t=(qB||(qB=function(){var r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);var e=cz(r);return document.body.removeChild(r),e}()),qB),s=this.scrollerRefs,n=this.scrollerElRefs,a=!1,o={},h={};for(var d in s.currentMap){var m=s.currentMap[d];if(m&&m.needsYScrolling()){a=!0;break}}for(var v=0,C=this.props.sections;v<C.length;v++){var S=n.currentMap[d=C[v].key];if(S){var k=S.parentNode;o[d]=Math.floor(k.getBoundingClientRect().width-(a?t.y:0)),h[d]=Math.floor(k.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:h}},e}(cr);qz.addStateEquality({scrollerClientWidths:gm,scrollerClientHeights:gm});var o2=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.elRef=$h(),t}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,n=s.options,a=i.seg,o=a.eventRange,h=o.ui,d={event:new xr(s,o.def,o.instance),view:s.viewApi,timeText:i.timeText,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,isDraggable:!i.disableDragging&&RZ(a,s),isStartResizable:!i.disableResizing&&LZ(a,s),isEndResizable:!i.disableResizing&&_Z(a),isMirror:Boolean(i.isDragging||i.isResizing||i.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(i.isPast),isFuture:Boolean(i.isFuture),isToday:Boolean(i.isToday),isSelected:Boolean(i.isSelected),isDragging:Boolean(i.isDragging),isResizing:Boolean(i.isResizing)},m=function(r){var e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}(d).concat(h.classNames);return Oe(WC,{hookProps:d,classNames:n.eventClassNames,content:n.eventContent,defaultContent:i.defaultContent,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount,elRef:this.elRef},function(v,C,w,S){return i.children(v,m.concat(C),w,S,d)})},e.prototype.componentDidMount=function(){U4(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(t){var i=this.props.seg;i!==t.seg&&U4(this.elRef.current,i)},e}(cr),Ote=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,n=i.seg,o=z4(n,s.options.eventTimeFormat||i.defaultTimeFormat,s,i.defaultDisplayEventTime,i.defaultDisplayEventEnd);return Oe(o2,{seg:n,timeText:o,disableDragging:i.disableDragging,disableResizing:i.disableResizing,defaultContent:i.defaultContent||Rte,isDragging:i.isDragging,isResizing:i.isResizing,isDateSelecting:i.isDateSelecting,isSelected:i.isSelected,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday},function(h,d,m,v,C){return Oe("a",he({className:i.extraClassNames.concat(d).join(" "),style:{borderColor:C.borderColor,backgroundColor:C.backgroundColor},ref:h},Y4(n,s)),Oe("div",{className:"fc-event-main",ref:m,style:{color:C.textColor}},v),C.isStartResizable&&Oe("div",{className:"fc-event-resizer fc-event-resizer-start"}),C.isEndResizable&&Oe("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(cr);function Rte(r){return Oe("div",{className:"fc-event-main-frame"},r.timeText&&Oe("div",{className:"fc-event-time"},r.timeText),Oe("div",{className:"fc-event-title-container"},Oe("div",{className:"fc-event-title fc-sticky"},r.event.title||Oe(nc,null,"\xa0"))))}var Lte=Ma({day:"numeric"}),zz=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,n=s.options,a=Yz({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraProps:i.extraHookProps,viewApi:s.viewApi,dateEnv:s.dateEnv});return Oe(dz,{hookProps:a,content:n.dayCellContent,defaultContent:i.defaultContent},i.children)},e}(cr);function Yz(r){var e=r.date,t=r.dateEnv,i=lz(e,r.todayRange,null,r.dateProfile);return he(he(he({date:t.toDate(e),view:r.viewApi},i),{dayNumberText:r.showDayNumber?t.format(e,Lte):""}),r.extraProps)}var $z=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.refineHookProps=a_(Yz),t.normalizeClassNames=pz(),t}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,n=s.options,a=this.refineHookProps({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraProps:i.extraHookProps,viewApi:s.viewApi,dateEnv:s.dateEnv}),o=jB(a,s.theme).concat(a.isDisabled?[]:this.normalizeClassNames(n.dayCellClassNames,a)),h=a.isDisabled?{}:{"data-date":O4(i.date)};return Oe(QB,{hookProps:a,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount,elRef:i.elRef},function(d){return i.children(d,o,h,a.isDisabled)})},e}(cr);function _te(r){return Oe("div",{className:"fc-"+r})}var Pte=function(r){return Oe(o2,{defaultContent:Nte,seg:r.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(e,t,i,s,n){return Oe("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:n.backgroundColor}},s)})};function Nte(r){return r.event.title&&Oe("div",{className:"fc-event-title"},r.event.title)}var Vte=function(r){return Oe(Uv.Consumer,null,function(e){var t=e.dateEnv,i=e.options,s=r.date,n=i.weekNumberFormat||r.defaultFormat,a=t.computeWeekNumber(s),o=t.format(s,n);return Oe(WC,{hookProps:{num:a,text:o,date:s},classNames:i.weekNumberClassNames,content:i.weekNumberContent,defaultContent:Fte,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},r.children)})};function Fte(r){return r.text}var Hte=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.state={titleId:ZL()},t.handleRootEl=function(i){t.rootEl=i,t.props.elRef&&ym(t.props.elRef,i)},t.handleDocumentMouseDown=function(i){var s=p4(i);t.rootEl.contains(s)||t.handleCloseClick()},t.handleDocumentKeyDown=function(i){"Escape"===i.key&&t.handleCloseClick()},t.handleCloseClick=function(){var i=t.props.onClose;i&&i()},t}return Zt(e,r),e.prototype.render=function(){var t=this.context,i=t.theme,s=t.options,a=this.props,o=this.state,h=["fc-popover",i.getClass("popover")].concat(a.extraClassNames||[]);return vX(Oe("div",he({id:a.id,className:h.join(" "),"aria-labelledby":o.titleId},a.extraAttrs,{ref:this.handleRootEl}),Oe("div",{className:"fc-popover-header "+i.getClass("popoverHeader")},Oe("span",{className:"fc-popover-title",id:o.titleId},a.title),Oe("span",{className:"fc-popover-close "+i.getIconClass("close"),title:s.closeHint,onClick:this.handleCloseClick})),Oe("div",{className:"fc-popover-body "+i.getClass("popoverContent")},a.children)),a.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},e.prototype.updateSize=function(){var t=this.context.isRtl,i=this.props,s=i.alignmentEl,n=i.alignGridTop,a=this.rootEl,o=function(r){for(var e=hz(r),t=r.getBoundingClientRect(),i=0,s=e;i<s.length;i++){var a=az(t,s[i].getBoundingClientRect());if(!a)return null;t=a}return t}(s);if(o){var h=a.getBoundingClientRect(),d=n?Ko(s,".fc-scrollgrid").getBoundingClientRect().top:o.top,m=t?o.right-h.width:o.left;d=Math.max(d,10),m=Math.min(m,document.documentElement.clientWidth-10-h.width),m=Math.max(m,10);var v=a.offsetParent.getBoundingClientRect();QI(a,{top:d-v.top,left:m-v.left})}},e}(cr),Bte=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.handleRootEl=function(i){t.rootEl=i,i?t.context.registerInteractiveComponent(t,{el:i,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return Zt(e,r),e.prototype.render=function(){var t=this.context,n=this.props,a=n.startDate,o=n.todayRange,h=n.dateProfile,d=t.dateEnv.format(a,t.options.dayPopoverFormat);return Oe($z,{date:a,dateProfile:h,todayRange:o,elRef:this.handleRootEl},function(m,v,C){return Oe(Hte,{elRef:m,id:n.id,title:d,extraClassNames:["fc-more-popover"].concat(v),extraAttrs:C,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Oe(zz,{date:a,dateProfile:h,todayRange:o},function(w,S){return S&&Oe("div",{className:"fc-more-popover-misc",ref:w},S)}),n.children)})},e.prototype.queryHit=function(t,i,s,n){var o=this.rootEl,h=this.props;return t>=0&&t<s&&i>=0&&i<n?{dateProfile:h.dateProfile,dateSpan:he({allDay:!0,range:{start:h.startDate,end:h.endDate}},h.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:s,bottom:n},layer:1}:null},e}(_D),jte=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.linkElRef=$h(),t.state={isPopoverOpen:!1,popoverId:ZL()},t.handleClick=function(i){var n=t.props,a=t.context,o=a.options.moreLinkClick,h=Gz(n).start;function d(m){var v=m.eventRange,S=v.range;return{event:new xr(a,v.def,v.instance),start:a.dateEnv.toDate(S.start),end:a.dateEnv.toDate(S.end),isStart:m.isStart,isEnd:m.isEnd}}"function"==typeof o&&(o=o({date:h,allDay:Boolean(n.allDayDate),allSegs:n.allSegs.map(d),hiddenSegs:n.hiddenSegs.map(d),jsEvent:i,view:a.viewApi})),o&&"popover"!==o?"string"==typeof o&&a.calendarApi.zoomTo(h,o):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return Zt(e,r),e.prototype.render=function(){var t=this,s=this.props,n=this.state;return Oe(Uv.Consumer,null,function(a){var o=a.viewApi,h=a.options,d=a.calendarApi,m=h.moreLinkText,v=s.moreCnt,C=Gz(s),w="function"==typeof m?m.call(d,v):"+"+v+" "+m,S=KI(h.moreLinkHint,[v],w),k={num:v,shortText:"+"+v,text:w,view:o};return Oe(nc,null,Boolean(s.moreCnt)&&Oe(WC,{elRef:t.linkElRef,hookProps:k,classNames:h.moreLinkClassNames,content:h.moreLinkContent,defaultContent:s.defaultContent||Wte,didMount:h.moreLinkDidMount,willUnmount:h.moreLinkWillUnmount},function(O,N,q,z){return s.children(O,["fc-more-link"].concat(N),q,z,t.handleClick,S,n.isPopoverOpen,n.isPopoverOpen?n.popoverId:"")}),n.isPopoverOpen&&Oe(Bte,{id:n.popoverId,startDate:C.start,endDate:C.end,dateProfile:s.dateProfile,todayRange:s.todayRange,extraDateSpan:s.extraDateSpan,parentEl:t.parentEl,alignmentEl:s.alignmentElRef.current,alignGridTop:s.alignGridTop,onClose:t.handlePopoverClose},s.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Ko(this.linkElRef.current,".fc-view-harness"))},e}(cr);function Wte(r){return r.text}function Gz(r){if(r.allDayDate)return{start:r.allDayDate,end:Tl(r.allDayDate,1)};var e=r.hiddenSegs;return{start:Ute(e),end:zte(e)}}function Ute(r){return r.reduce(qte).eventRange.range.start}function qte(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function zte(r){return r.reduce(Yte).eventRange.range.end}function Yte(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}var $te=function(r){function e(t,i){void 0===i&&(i={});var s=r.call(this)||this;return s.isRendering=!1,s.isRendered=!1,s.currentClassNames=[],s.customContentRenderId=0,s.handleAction=function(n){switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":s.renderRunner.tryDrain()}},s.handleData=function(n){s.currentData=n,s.renderRunner.request(n.calendarOptions.rerenderDelay)},s.handleRenderRequest=function(){if(s.isRendering){s.isRendered=!0;var n=s.currentData;gX(Oe(ite,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},function(a,o,h,d){return s.setClassNames(a),s.setHeight(o),Oe(uz.Provider,{value:s.customContentRenderId},Oe(Jee,he({isHeightAuto:h,forPrint:d},n)))}),s.el)}else s.isRendered&&(s.isRendered=!1,yX(s.el),s.setClassNames([]),s.setHeight(""));u4()},s.el=t,s.renderRunner=new ZB(s.handleRenderRequest),new Mz({optionOverrides:i,calendarApi:s,onAction:s.handleAction,onData:s.handleData}),s}return Zt(e,r),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){r.prototype.updateSize.call(this),u4()},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,i){this.currentDataManager.resetOptions(t,i)},e.prototype.setClassNames=function(t){if(!Wv(t,this.currentClassNames)){for(var i=this.el.classList,s=0,n=this.currentClassNames;s<n.length;s++)i.remove(n[s]);for(var o=0,h=t;o<h.length;o++)i.add(h[o]);this.currentClassNames=t}},e.prototype.setHeight=function(t){d4(this.el,"height",t)},e}(ZZ);const Gte=Object.prototype.hasOwnProperty;function S_(r){return Array.isArray(r)?r.map(S_):r instanceof Date?new Date(r.valueOf()):"object"==typeof r&&r?Qz(r,S_):r}function Qte(r){return"object"==typeof r&&(Array.isArray(r)?r=Array.prototype.slice.call(r):r&&(r=Object.assign({},r))),r}function Qz(r,e){const t={};for(const i in r)Gte.call(r,i)&&(t[i]=e(r[i],i));return t}const Kz={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let Kte=(()=>{class r{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=this.options||{};this.optionSnapshot=Qz(i,(s,n)=>t&&Kz[n]?S_(s):s),this.calendar=new $te(this.element.nativeElement,i),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,s=this.options||{},n={};let a=!1;for(const h in s)if(s.hasOwnProperty(h)){let d=s[h];t&&Kz[h]?xK()(i[h],d)||(i[h]=S_(d),a=!0,d=Qte(d)):i[h]!==d&&(i[h]=d,a=!0),n[h]=d}const o=Object.keys(i);for(const h of o)h in s||(delete i[h],a=!0);a&&(this.calendar.pauseRendering(),this.calendar.resetOptions(n))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(b.ElementRef))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,i){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\ue900"}.fc-icon-chevron-right:before{content:"\ue901"}.fc-icon-chevrons-left:before{content:"\ue902"}.fc-icon-chevrons-right:before{content:"\ue903"}.fc-icon-minus-square:before{content:"\ue904"}.fc-icon-plus-square:before{content:"\ue905"}.fc-icon-x:before{content:"\ue906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),r})(),Xz=(()=>{class r{static registerPlugins(t){kz.push(...t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[[]]}),r})(),Xte=(()=>{class r{constructor(t,i){this.http=t,this.apiService=i}handleDateClick(t){}onSelectx(t){}ngOnInit(){this.getAllEvents()}deleteEvent(t){this.apiService.deleteSingleEvent(t).subscribe(i=>{})}getAllEvents(){this.apiService.getAllEvents().subscribe(t=>{const i=this;this.calendarOptions={initialView:"dayGridMonth",selectable:!1,editable:!1,select:this.handleDateClick.bind(this),events:t,eventClick(s){const n=s.event._def.extendedProps._id;Ga().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",timer:3e4}).then(a=>{a.value&&(i.deleteEvent(n),Ga().fire("Deleted!","Your file has been deleted.","success"),i.getAllEvents())}).catch(()=>{Ga().fire("Failed!","There was something went wrong.")})}}})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(xI),b.\u0275\u0275directiveInject(gq))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-calendar"]],decls:10,vars:1,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.css","rel","stylesheet"],["href","https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.css","rel","stylesheet"],[1,"row"],[1,"col-md-6"],["nbButton","","outline","","status","success","routerLink","/add-event",1,"add_event"],[1,"bi","bi-plus-lg"],[1,"section1"],[3,"options"]],template:function(t,i){1&t&&(b.\u0275\u0275element(0,"link",0),b.\u0275\u0275element(1,"link",1),b.\u0275\u0275elementStart(2,"section"),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"div",3),b.\u0275\u0275elementStart(5,"button",4),b.\u0275\u0275element(6,"i",5),b.\u0275\u0275text(7," \uc77c\uc815 \ucd94\uac00"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"section",6),b.\u0275\u0275element(9,"full-calendar",7),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(9),b.\u0275\u0275property("options",i.calendarOptions))},directives:[fd,Kte],styles:["section[_ngcontent-%COMP%]{color:#fff;background-color:#0000006c;height:870px;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important}.add_event[_ngcontent-%COMP%]{background:none;border:white 2px solid;color:#fff;transform:translate(750%)}@media only screen and (max-width: 992px){section[_ngcontent-%COMP%]{width:600px}.add_event[_ngcontent-%COMP%]{transform:translate(300%)}}@media only screen and (max-width: 630px){section[_ngcontent-%COMP%]{width:300px}.add_event[_ngcontent-%COMP%]{transform:translate(100%)}}"]}),r})();const Zz=function(){return{standalone:!0}};let Zte=(()=>{class r{constructor(t,i,s){this.http=t,this.apiService=i,this.router=s,this.event={title:"",date:""}}ngOnInit(){}saveEvent(){this.apiService.addEvent({title:this.event.title,date:this.event.date}).subscribe(i=>{"success"===i.type&&(Ga().fire({position:"center",icon:"success",title:"Your Event has been added successfully",showConfirmButton:!1,timer:1500}),this.router.navigate(["/calendar"]))},i=>{Ga().fire({position:"center",icon:"error",title:"Something went wrong",showConfirmButton:!1,timer:1500}),this.event.title="",this.event.date=""})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(xI),b.\u0275\u0275directiveInject(gq),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-add-event"]],decls:17,vars:6,consts:[[1,"center"],[1,"col-md-6"],[1,"form-group","row"],["for","inputEmail1",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","email","nbInput","","fullWidth","","id","title","placeholder","Title","required","",3,"ngModel","ngModelOptions","ngModelChange"],["for","inputPassword2",1,"label","col-sm-3","col-form-label"],["type","date","nbInput","","fullWidth","","id","date","placeholder","Password","required","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"offset-sm-3","col-sm-9"],["type","submit","nbButton","","status","primary",3,"click"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275elementStart(1,"div",1),b.\u0275\u0275elementStart(2,"form"),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"label",3),b.\u0275\u0275text(5,"Title"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(6,"div",4),b.\u0275\u0275elementStart(7,"input",5),b.\u0275\u0275listener("ngModelChange",function(n){return i.event.title=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",2),b.\u0275\u0275elementStart(9,"label",6),b.\u0275\u0275text(10,"Date"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(11,"div",4),b.\u0275\u0275elementStart(12,"input",7),b.\u0275\u0275listener("ngModelChange",function(n){return i.event.date=n}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(13,"div",2),b.\u0275\u0275elementStart(14,"div",8),b.\u0275\u0275elementStart(15,"button",9),b.\u0275\u0275listener("click",function(){return i.saveEvent()}),b.\u0275\u0275text(16,"Add Event"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&t&&(b.\u0275\u0275advance(7),b.\u0275\u0275property("ngModel",i.event.title)("ngModelOptions",b.\u0275\u0275pureFunction0(4,Zz)),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngModel",i.event.date)("ngModelOptions",b.\u0275\u0275pureFunction0(5,Zz)))},directives:[dm,hm,Xu,cp,NL,Nv,um],styles:[".center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#000;background-color:#ffffff86;height:88%;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important}@media only screen and (max-width: 992px){.center[_ngcontent-%COMP%]{width:600px}}@media only screen and (max-width: 630px){.center[_ngcontent-%COMP%]{width:300px}}"]}),r})();new kakao.maps.InfoWindow({zIndex:1});const Jte=[{path:"",component:mK},{path:"navbar",component:fq},{path:"login",component:yK},{path:"register",component:DK},{path:"profile",component:wK,canActivate:[ed]},{path:"dashboard",component:S$,canActivate:[ed]},{path:"list",component:vK,canActivate:[ed]},{path:"card",component:w$,canActivate:[ed]},{path:"profile-edit",component:CK,canActivate:[ed]},{path:"schedule",component:ka,canActivate:[ed]},{path:"map",component:SK,canActivate:[ed]},{path:"calendar",component:Xte,canActivate:[ed]},{path:"add-event",component:Zte,canActivate:[ed]},{path:"reserve",component:(()=>{class r{constructor(t,i,s){this.flashMessage=t,this.authService=i,this.router=s,this.markerpath1=[]}ngOnInit(){var t=document.getElementById("map"),i={center:new kakao.maps.LatLng(37.713419118500234,126.89003458110093),level:11},s=new kakao.maps.Map(t,i);this.authService.getReserve().subscribe(n=>{for(var o=0;o<n.length;o++)this.markerpath1.push(n[o].markerpath),console.log(n[o]);for(this.markerpath1[0].replace("(","").replace(")","").split(","),o=0;o<this.markerpath1.length;o++){const k=this.markerpath1[o].replace("(","").replace(")","").split(",");console.log(k),new kakao.maps.Marker({map:s,position:new kakao.maps.LatLng(k[0],k[1])})}})}}return r.\u0275fac=function(t){return new(t||r)(b.\u0275\u0275directiveInject(jh.GQ),b.\u0275\u0275directiveInject(Fc),b.\u0275\u0275directiveInject(tn))},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-reserve"]],decls:2,vars:0,consts:[[1,"reserve"],["id","map",2,"width","100%","height","500px"]],template:function(t,i){1&t&&(b.\u0275\u0275elementStart(0,"div",0),b.\u0275\u0275element(1,"div",1),b.\u0275\u0275elementEnd())},styles:[".reserve[_ngcontent-%COMP%]{height:600px;background-color:#8b8b8b54;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;left:50%;position:absolute;transform:translate(-50%);width:930px;padding:0!important;display:flex;align-items:center;justify-content:center}@media only screen and (max-width: 992px){.reserve[_ngcontent-%COMP%]{width:600px}}@media only screen and (max-width: 630px){.reserve[_ngcontent-%COMP%]{width:300px}}"]}),r})(),canActivate:[ed]}];let eie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=b.\u0275\u0275defineInjector({imports:[[Lk.forRoot(Jte)],Lk]}),r})(),tie=(()=>{class r{constructor(){this.title="Only Health"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=b.\u0275\u0275defineComponent({type:r,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,i){1&t&&(b.\u0275\u0275element(0,"app-navbar"),b.\u0275\u0275elementStart(1,"div",0),b.\u0275\u0275element(2,"flash-messages"),b.\u0275\u0275element(3,"router-outlet"),b.\u0275\u0275elementEnd())},directives:[fq,jh.cS,Wp],styles:[".container[_ngcontent-%COMP%]{padding:0;margin:77px 0 0;width:100%;background-color:#fff0}"]}),r})();re(914);var iie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.headerElRef=$h(),t}return Zt(e,r),e.prototype.renderSimpleLayout=function(t,i){var n=this.props,a=this.context,o=[],h=Uz(a.options);return t&&o.push({type:"header",key:"header",isSticky:h,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:i}}),Oe(KB,{viewSpec:a.viewSpec},function(d,m){return Oe("div",{ref:d,className:["fc-daygrid"].concat(m).join(" ")},Oe(qz,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))})},e.prototype.renderHScrollLayout=function(t,i,s,n){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var h=this.props,d=this.context,m=!h.forPrint&&Uz(d.options),v=!h.forPrint&&function(r){var e=r.stickyFooterScrollbar;return(null==e||"auto"===e)&&(e="auto"===r.height||"auto"===r.viewHeight),e}(d.options),C=[];return t&&C.push({type:"header",key:"header",isSticky:m,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),C.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:i}]}),v&&C.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ite}]}),Oe(KB,{viewSpec:d.viewSpec},function(w,S){return Oe("div",{ref:w,className:["fc-daygrid"].concat(S).join(" ")},Oe(a,{liquid:!h.isHeightAuto&&!h.forPrint,collapsibleWidth:h.forPrint,colGroups:[{cols:[{span:s,minWidth:n}]}],sections:C}))})},e}(_D);function T_(r,e){for(var t=[],i=0;i<e;i+=1)t[i]=[];for(var s=0,n=r;s<n.length;s++){var a=n[s];t[a.row].push(a)}return t}function A_(r,e){for(var t=[],i=0;i<e;i+=1)t[i]=[];for(var s=0,n=r;s<n.length;s++){var a=n[s];t[a.firstCol].push(a)}return t}function Jz(r,e){var t=[];if(r){for(var i=0;i<e;i+=1)t[i]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(var s=0,n=r.segs;s<n.length;s++){var a=n[s];t[a.row].segs.push(a)}}else for(i=0;i<e;i+=1)t[i]=null;return t}var sie=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var t=this.props,i=WB(this.context,t.date);return Oe(zz,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:nie},function(s,n){return(n||t.forceDayTop)&&Oe("div",{className:"fc-daygrid-day-top",ref:s},Oe("a",he({id:t.dayNumberId,className:"fc-daygrid-day-number"},i),n||Oe(nc,null,"\xa0")))})},e}(cr);function nie(r){return r.dayNumberText}var e6=Ma({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function t6(r){var e=r.eventRange.ui.display;return"list-item"===e||"auto"===e&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}var i6=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var t=this.props;return Oe(Ote,he({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:e6,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(cr),s6=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.render=function(){var i=this.props,s=this.context,a=z4(i.seg,s.options.eventTimeFormat||e6,s,!0,i.defaultDisplayEventEnd);return Oe(o2,{seg:i.seg,timeText:a,defaultContent:rie,isDragging:i.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:i.isSelected,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday},function(o,h,d,m){return Oe("a",he({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(h).join(" "),ref:o},Y4(i.seg,s)),m)})},e}(cr);function rie(r){return Oe(nc,null,Oe("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&Oe("div",{className:"fc-event-time"},r.timeText),Oe("div",{className:"fc-event-title"},r.event.title||Oe(nc,null,"\xa0")))}var aie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.compileSegs=rs(oie),t}return Zt(e,r),e.prototype.render=function(){var t=this.props,i=this.compileSegs(t.singlePlacements),s=i.allSegs;return Oe(jte,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:s,hiddenSegs:i.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var a=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return Oe(nc,null,s.map(function(o){var h=o.eventRange.instance.instanceId;return Oe("div",{className:"fc-daygrid-event-harness",key:h,style:{visibility:a[h]?"hidden":""}},t6(o)?Oe(s6,he({seg:o,isDragging:!1,isSelected:h===t.eventSelection,defaultDisplayEventEnd:!1},ek(o,t.todayRange))):Oe(i6,he({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===t.eventSelection,defaultDisplayEventEnd:!1},ek(o,t.todayRange))))}))}},function(a,o,h,d,m,v,C,w){return Oe("a",he({ref:a,className:["fc-daygrid-more-link"].concat(o).join(" "),title:v,"aria-expanded":C,"aria-controls":w},y4(m)),d)})},e}(cr);function oie(r){for(var e=[],t=[],i=0,s=r;i<s.length;i++){var n=s[i];e.push(n.seg),n.isVisible||t.push(n.seg)}return{allSegs:e,invisibleSegs:t}}var lie=Ma({week:"narrow"}),cie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.rootElRef=$h(),t.state={dayNumberId:ZL()},t.handleRootEl=function(i){ym(t.rootElRef,i),ym(t.props.elRef,i)},t}return Zt(e,r),e.prototype.render=function(){var t=this,s=t.props,n=t.state,a=t.rootElRef,o=s.date,h=s.dateProfile,d=WB(t.context,o,"week");return Oe($z,{date:o,dateProfile:h,todayRange:s.todayRange,showDayNumber:s.showDayNumber,extraHookProps:s.extraHookProps,elRef:this.handleRootEl},function(m,v,C,w){return Oe("td",he({ref:m,role:"gridcell",className:["fc-daygrid-day"].concat(v,s.extraClassNames||[]).join(" ")},C,s.extraDataAttrs,s.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),Oe("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:s.innerElRef},s.showWeekNumber&&Oe(Vte,{date:o,defaultFormat:lie},function(S,k,O,N){return Oe("a",he({ref:S,className:["fc-daygrid-week-number"].concat(k).join(" ")},d),N)}),!w&&Oe(sie,{date:o,dateProfile:h,showDayNumber:s.showDayNumber,dayNumberId:n.dayNumberId,forceDayTop:s.forceDayTop,todayRange:s.todayRange,extraHookProps:s.extraHookProps}),Oe("div",{className:"fc-daygrid-day-events",ref:s.fgContentElRef},s.fgContent,Oe("div",{className:"fc-daygrid-day-bottom",style:{marginTop:s.moreMarginTop}},Oe(aie,{allDayDate:o,singlePlacements:s.singlePlacements,moreCnt:s.moreCnt,alignmentElRef:a,alignGridTop:!s.showDayNumber,extraDateSpan:s.extraDateSpan,dateProfile:s.dateProfile,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,todayRange:s.todayRange}))),Oe("div",{className:"fc-daygrid-day-bg"},s.bgContent)))})},e}(_D);function ND(r,e,t,i){if(r.firstCol===e&&r.lastCol===t-1)return r;var s=r.eventRange,n=s.range,a=JI(n,{start:i[e].date,end:Tl(i[t-1].date,1)});return he(he({},r),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:he(he({},s.ui),{durationEditable:!1}),instance:s.instance,range:a},isStart:r.isStart&&a.start.valueOf()===n.start.valueOf(),isEnd:r.isEnd&&a.end.valueOf()===n.end.valueOf()})}var pie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return Zt(e,r),e.prototype.addSegs=function(t){for(var i=this,s=r.prototype.addSegs.call(this,t),n=this.entriesByLevel,a=function(h){return!i.forceHidden[sk(h)]},o=0;o<n.length;o+=1)n[o]=n[o].filter(a);return s},e.prototype.handleInvalidInsertion=function(t,i,s){var a=this.entriesByLevel,o=this.forceHidden,h=t.touchingEntry,d=t.touchingLevel,m=t.touchingLateral;if(this.hiddenConsumes&&h){var v=sk(h);if(!o[v])if(this.allowReslicing){var C=he(he({},h),{span:e2(h.span,i.span)});o[sk(C)]=!0,a[d][m]=C,this.splitEntry(h,i,s)}else o[v]=!0,s.push(h)}return r.prototype.handleInvalidInsertion.call(this,t,i,s)},e}(zee),n6=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.cellElRefs=new UC,t.frameElRefs=new UC,t.fgElRefs=new UC,t.segHarnessRefs=new UC,t.rootElRef=$h(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return Zt(e,r),e.prototype.render=function(){var t=this,i=this,s=i.props,n=i.state,o=i.context.options,h=s.cells.length,d=A_(s.businessHourSegs,h),m=A_(s.bgEventSegs,h),v=A_(this.getHighlightSegs(),h),C=A_(this.getMirrorSegs(),h),w=function(r,e,t,i,s,n,a){var o=new pie;o.allowReslicing=!0,o.strictOrder=i,!0===e||!0===t?(o.maxCoord=n,o.hiddenConsumes=!0):"number"==typeof e?o.maxStackCnt=e:"number"==typeof t&&(o.maxStackCnt=t,o.hiddenConsumes=!0);for(var h=[],d=[],m=0;m<r.length;m+=1){var w=s[(v=r[m]).eventRange.instance.instanceId];null!=w?h.push({index:m,thickness:w,span:{start:v.firstCol,end:v.lastCol+1}}):d.push(v)}for(var S=o.addSegs(h),O=function(r,e,t){for(var i=function(r,e){for(var t=[],i=0;i<e;i+=1)t.push([]);for(var s=0,n=r;s<n.length;s++){var a=n[s];for(i=a.span.start;i<a.span.end;i+=1)t[i].push(a)}return t}(r,t.length),s=[],n=[],a=[],o=0;o<t.length;o+=1){for(var h=i[o],d=[],m=0,v=0,C=0,w=h;C<w.length;C++)d.push({seg:ND(k=e[(S=w[C]).index],o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:S.levelCoord,marginTop:S.levelCoord-m}),m=S.levelCoord+S.thickness;var O=[];m=0,v=0;for(var N=0,q=h;N<q.length;N++){var S,k=e[(S=q[N]).index],Z=S.span.start===o;v+=S.levelCoord-m,m=S.levelCoord+S.thickness,S.span.end-S.span.start>1?(v+=S.thickness,Z&&O.push({seg:ND(k,S.span.start,S.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:S.levelCoord,marginTop:0})):Z&&(O.push({seg:ND(k,S.span.start,S.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:S.levelCoord,marginTop:v}),v=0)}s.push(d),n.push(O),a.push(v)}return{singleColPlacements:s,multiColPlacements:n,leftoverMargins:a}}(o.toRects(),r,a),N=O.singleColPlacements,q=O.multiColPlacements,z=O.leftoverMargins,Z=[],Ce=[],ce=0,Fe=d;ce<Fe.length;ce++){q[(v=Fe[ce]).firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Se=v.firstCol;Se<=v.lastCol;Se+=1)N[Se].push({seg:ND(v,Se,Se+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Se=0;Se<a.length;Se+=1)Z.push(0);for(var Be=0,ht=S;Be<ht.length;Be++){var v,Ie=ht[Be],Pe=Ie.span;for(q[Pe.start].push({seg:ND(v=r[Ie.index],Pe.start,Pe.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),Se=Pe.start;Se<Pe.end;Se+=1)Z[Se]+=1,N[Se].push({seg:ND(v,Se,Se+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Se=0;Se<a.length;Se+=1)Ce.push(z[Se]);return{singleColPlacements:N,multiColPlacements:q,moreCnts:Z,moreMarginTops:Ce}}(function(r,e){var t=r.map(OZ);return t.sort(function(i,s){return function(r,e,t){var i,s;for(i=0;i<t.length;i+=1)if(s=MX(r,e,t[i]))return s;return 0}(i,s,e)}),t.map(function(i){return i._seg})}(s.fgEventSegs,o.eventOrder),s.dayMaxEvents,s.dayMaxEventRows,o.eventOrderStrict,n.eventInstanceHeights,n.maxContentHeight,s.cells),S=w.singleColPlacements,k=w.multiColPlacements,O=w.moreCnts,N=w.moreMarginTops,q=s.eventDrag&&s.eventDrag.affectedInstances||s.eventResize&&s.eventResize.affectedInstances||{};return Oe("tr",{ref:this.rootElRef,role:"row"},s.renderIntro&&s.renderIntro(),s.cells.map(function(z,Z){var Ce=t.renderFgSegs(Z,s.forPrint?S[Z]:k[Z],s.todayRange,q),ce=t.renderFgSegs(Z,function(r,e){if(!r.length)return[];var t=function(r){for(var e={},t=0,i=r;t<i.length;t++)for(var n=0,a=i[t];n<a.length;n++){var o=a[n];e[o.seg.eventRange.instance.instanceId]=o.absoluteTop}return e}(e);return r.map(function(i){return{seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}})}(C[Z],k),s.todayRange,{},Boolean(s.eventDrag),Boolean(s.eventResize),!1);return Oe(cie,{key:z.key,elRef:t.cellElRefs.createRef(z.key),innerElRef:t.frameElRefs.createRef(z.key),dateProfile:s.dateProfile,date:z.date,showDayNumber:s.showDayNumbers,showWeekNumber:s.showWeekNumbers&&0===Z,forceDayTop:s.showWeekNumbers,todayRange:s.todayRange,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,extraHookProps:z.extraHookProps,extraDataAttrs:z.extraDataAttrs,extraClassNames:z.extraClassNames,extraDateSpan:z.extraDateSpan,moreCnt:O[Z],moreMarginTop:N[Z],singlePlacements:S[Z],fgContentElRef:t.fgElRefs.createRef(z.key),fgContent:Oe(nc,null,Oe(nc,null,Ce),Oe(nc,null,ce)),bgContent:Oe(nc,null,t.renderFillSegs(v[Z],"highlight"),t.renderFillSegs(d[Z],"non-business"),t.renderFillSegs(m[Z],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,i){this.updateSizing(!gm(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,i,s,n,a,o,h){var d=this.context,m=this.props.eventSelection,v=this.state.framePositions,C=1===this.props.cells.length,w=a||o||h,S=[];if(v)for(var k=0,O=i;k<O.length;k++){var N=O[k],q=N.seg,z=q.eventRange.instance.instanceId,Z=z+":"+t,Ce=N.isVisible&&!n[z],ce=N.isAbsolute,Fe="",Se="";ce&&(d.isRtl?(Se=0,Fe=v.lefts[q.lastCol]-v.lefts[q.firstCol]):(Fe=0,Se=v.rights[q.firstCol]-v.rights[q.lastCol])),S.push(Oe("div",{className:"fc-daygrid-event-harness"+(ce?" fc-daygrid-event-harness-abs":""),key:Z,ref:w?null:this.segHarnessRefs.createRef(Z),style:{visibility:Ce?"":"hidden",marginTop:ce?"":N.marginTop,top:ce?N.absoluteTop:"",left:Fe,right:Se}},t6(q)?Oe(s6,he({seg:q,isDragging:a,isSelected:z===m,defaultDisplayEventEnd:C},ek(q,s))):Oe(i6,he({seg:q,isDragging:a,isResizing:o,isDateSelecting:h,isSelected:z===m,defaultDisplayEventEnd:C},ek(q,s)))))}return S},e.prototype.renderFillSegs=function(t,i){var s=this.context.isRtl,n=this.props.todayRange,a=this.state.framePositions,o=[];if(a)for(var h=0,d=t;h<d.length;h++){var m=d[h],v=s?{right:0,left:a.lefts[m.lastCol]-a.lefts[m.firstCol]}:{left:0,right:a.rights[m.firstCol]-a.rights[m.lastCol]};o.push(Oe("div",{key:NZ(m.eventRange),className:"fc-daygrid-bg-harness",style:v},"bg-event"===i?Oe(Pte,he({seg:m},ek(m,n))):_te(i)))}return Oe.apply(void 0,Hr([nc,{}],o))},e.prototype.updateSizing=function(t){var s=this.props,n=this.frameElRefs;if(!s.forPrint&&null!==s.clientWidth){if(t){var a=s.cells.map(function(v){return n.currentMap[v.key]});a.length&&this.setState({framePositions:new YB(this.rootElRef.current,a,!0,!1)})}var h=this.state.eventInstanceHeights,d=this.queryEventInstanceHeights(),m=!0===s.dayMaxEvents||!0===s.dayMaxEventRows;this.setState({eventInstanceHeights:he(he({},h),d),maxContentHeight:m?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,i={};for(var s in t){var n=Math.round(t[s].getBoundingClientRect().height),a=s.split(":")[0];i[a]=Math.max(i[a]||0,n)}return i},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,s=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-s.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(i){return t[i.key]})},e}(_D);n6.addStateEquality({eventInstanceHeights:gm});var gie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.splitBusinessHourSegs=rs(T_),t.splitBgEventSegs=rs(T_),t.splitFgEventSegs=rs(T_),t.splitDateSelectionSegs=rs(T_),t.splitEventDrag=rs(Jz),t.splitEventResize=rs(Jz),t.rowRefs=new UC,t.handleRootEl=function(i){t.rootEl=i,i?t.context.registerInteractiveComponent(t,{el:i,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return Zt(e,r),e.prototype.render=function(){var t=this,i=this.props,s=i.dateProfile,n=i.dayMaxEventRows,a=i.dayMaxEvents,o=i.expandRows,h=i.cells.length,d=this.splitBusinessHourSegs(i.businessHourSegs,h),m=this.splitBgEventSegs(i.bgEventSegs,h),v=this.splitFgEventSegs(i.fgEventSegs,h),C=this.splitDateSelectionSegs(i.dateSelectionSegs,h),w=this.splitEventDrag(i.eventDrag,h),S=this.splitEventResize(i.eventResize,h),k=!0===a||!0===n;return k&&!o&&(k=!1,n=null,a=null),Oe("div",{className:["fc-daygrid-body",k?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",o?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:i.clientWidth,minWidth:i.tableMinWidth}},Oe(Fz,{unit:"day"},function(N,q){return Oe(nc,null,Oe("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:i.clientWidth,minWidth:i.tableMinWidth,height:o?i.clientHeight:""}},i.colGroupNode,Oe("tbody",{role:"presentation"},i.cells.map(function(z,Z){return Oe(n6,{ref:t.rowRefs.createRef(Z),key:z.length?z[0].date.toISOString():Z,showDayNumbers:h>1,showWeekNumbers:i.showWeekNumbers,todayRange:q,dateProfile:s,cells:z,renderIntro:i.renderRowIntro,businessHourSegs:d[Z],eventSelection:i.eventSelection,bgEventSegs:m[Z].filter(vie),fgEventSegs:v[Z],dateSelectionSegs:C[Z],eventDrag:w[Z],eventResize:S[Z],dayMaxEvents:a,dayMaxEventRows:n,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new YB(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new YB(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,i){var n=this.colPositions,a=this.rowPositions,o=n.leftToIndex(t),h=a.topToIndex(i);if(null!=h&&null!=o){var d=this.props.cells[h][o];return{dateProfile:this.props.dateProfile,dateSpan:he({range:this.getCellRange(h,o),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(h,o),rect:{left:n.lefts[o],right:n.rights[o],top:a.tops[h],bottom:a.bottoms[h]},layer:0}}return null},e.prototype.getCellEl=function(t,i){return this.rowRefs.currentMap[t].getCellEls()[i]},e.prototype.getCellRange=function(t,i){var s=this.props.cells[t][i].date;return{start:s,end:Tl(s,1)}},e}(_D);function vie(r){return r.eventRange.def.allDay}var yie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return Zt(e,r),e.prototype.sliceRange=function(t,i){return i.sliceRange(t)},e}(ute),bie=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.slicer=new yie,t.tableRef=$h(),t}return Zt(e,r),e.prototype.render=function(){var i=this.props;return Oe(gie,he({ref:this.tableRef},this.slicer.sliceProps(i,i.dateProfile,i.nextDayThreshold,this.context,i.dayTableModel),{dateProfile:i.dateProfile,cells:i.dayTableModel.cells,colGroupNode:i.colGroupNode,tableMinWidth:i.tableMinWidth,renderRowIntro:i.renderRowIntro,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.showWeekNumbers,expandRows:i.expandRows,headerAlignElRef:i.headerAlignElRef,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint}))},e}(_D);function Eie(r,e){var t=new cte(r.renderRange,e);return new hte(t,/year|month|week/.test(r.currentRangeUnit))}const Sie=qv({initialView:"dayGridMonth",views:{dayGrid:{component:function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.buildDayTableModel=rs(Eie),t.headerRef=$h(),t.tableRef=$h(),t}return Zt(e,r),e.prototype.render=function(){var t=this,i=this.context,s=i.options,a=this.props,o=this.buildDayTableModel(a.dateProfile,i.dateProfileGenerator),h=s.dayHeaders&&Oe(ote,{ref:this.headerRef,dateProfile:a.dateProfile,dates:o.headerDates,datesRepDistinctDays:1===o.rowCnt}),d=function(m){return Oe(bie,{ref:t.tableRef,dateProfile:a.dateProfile,dayTableModel:o,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:s.nextDayThreshold,colGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,dayMaxEvents:s.dayMaxEvents,dayMaxEventRows:s.dayMaxEventRows,showWeekNumbers:s.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:a.forPrint})};return s.dayMinWidth?this.renderHScrollLayout(h,d,o.colCnt,s.dayMinWidth):this.renderSimpleLayout(h,d)},e}(iie),dateProfileGeneratorClass:function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return Zt(e,r),e.prototype.buildRenderRange=function(t,i,s){var d,n=this.props.dateEnv,a=r.prototype.buildRenderRange.call(this,t,i,s),o=a.start,h=a.end;return/^(year|month)$/.test(i)&&(o=n.startOfWeek(o),(d=n.startOfWeek(h)).valueOf()!==h.valueOf()&&(h=w4(d,1))),this.props.monthMode&&this.props.fixedWeekCount&&(h=w4(h,6-Math.ceil(function(r,e){return VC(r,e)/7}(o,h)))),{start:o,end:h}},e}(yz)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});w_.touchMouseIgnoreWait=500;var c2=0,x_=0,h2=!1,u2=function(){function r(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(i){if(!t.shouldIgnoreMouse()&&function(r){return 0===r.button&&!r.ctrlKey}(i)&&t.tryStart(i)){var s=t.createEventFromMouse(i,!0);t.emitter.trigger("pointerdown",s),t.initScrollWatch(s),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(i){var s=t.createEventFromMouse(i);t.recordCoords(s),t.emitter.trigger("pointermove",s)},this.handleMouseUp=function(i){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(i)),t.cleanup()},this.handleTouchStart=function(i){if(t.tryStart(i)){t.isTouchDragging=!0;var s=t.createEventFromTouch(i,!0);t.emitter.trigger("pointerdown",s),t.initScrollWatch(s);var n=i.target;t.shouldIgnoreMove||n.addEventListener("touchmove",t.handleTouchMove),n.addEventListener("touchend",t.handleTouchEnd),n.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(i){var s=t.createEventFromTouch(i);t.recordCoords(s),t.emitter.trigger("pointermove",s)},this.handleTouchEnd=function(i){if(t.isDragging){var s=i.target;s.removeEventListener("touchmove",t.handleTouchMove),s.removeEventListener("touchend",t.handleTouchEnd),s.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(i)),t.cleanup(),t.isTouchDragging=!1,c2+=1,setTimeout(function(){c2-=1},w_.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(i){if(!t.shouldIgnoreMove){var s=window.pageXOffset-t.prevScrollX+t.prevPageX,n=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:i,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:s,pageY:n,deltaX:s-t.origPageX,deltaY:n-t.origPageY})}},this.containerEl=e,this.emitter=new b_,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(x_+=1)&&window.addEventListener("touchmove",r6,{passive:!1})}return r.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(x_-=1)||window.removeEventListener("touchmove",r6,{passive:!1})},r.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!Ko(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},r.prototype.cleanup=function(){h2=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},r.prototype.querySubjectEl=function(e){return this.selector?Ko(e.target,this.selector):this.containerEl},r.prototype.shouldIgnoreMouse=function(){return c2||this.isTouchDragging},r.prototype.cancelTouchScroll=function(){this.isDragging&&(h2=!0)},r.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},r.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},r.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},r.prototype.createEventFromMouse=function(e,t){var i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}},r.prototype.createEventFromTouch=function(e,t){var s,n,i=e.touches,a=0,o=0;return i&&i.length?(s=i[0].pageX,n=i[0].pageY):(s=e.pageX,n=e.pageY),t?(this.origPageX=s,this.origPageY=n):(a=s-this.origPageX,o=n-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:n,deltaX:a,deltaY:o}},r}();function r6(r){h2&&r.preventDefault()}var kie=function(){function r(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return r.prototype.start=function(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},r.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},r.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},r.prototype.stop=function(e,t){var i=this,s=function(){i.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(s,this.revertDuration):setTimeout(s,0)},r.prototype.doRevertAnimation=function(e,t){var i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",QI(i,{left:s.left,top:s.top}),function(r,e){var t=function(i){e(),v4.forEach(function(s){r.removeEventListener(s,t)})};v4.forEach(function(i){r.addEventListener(i,t)})}(i,function(){i.style.transition="",e()})},r.prototype.cleanup=function(){this.mirrorEl&&(yB(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},r.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&QI(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},r.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),QI(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},r}(),a6=function(r){function e(t,i){var s=r.call(this)||this;return s.handleScroll=function(){s.scrollTop=s.scrollController.getScrollTop(),s.scrollLeft=s.scrollController.getScrollLeft(),s.handleScrollChange()},s.scrollController=t,s.doesListening=i,s.scrollTop=s.origScrollTop=t.getScrollTop(),s.scrollLeft=s.origScrollLeft=t.getScrollLeft(),s.scrollWidth=t.getScrollWidth(),s.scrollHeight=t.getScrollHeight(),s.clientWidth=t.getClientWidth(),s.clientHeight=t.getClientHeight(),s.clientRect=s.computeClientRect(),s.doesListening&&s.getEventTarget().addEventListener("scroll",s.handleScroll),s}return Zt(e,r),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}($B),o6=function(r){function e(t,i){return r.call(this,new kJ(t),i)||this}return Zt(e,r),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return DJ(this.scrollController.el)},e}(a6),Mie=function(r){function e(t){return r.call(this,new MJ,t)||this}return Zt(e,r),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(a6),l6="function"==typeof performance?performance.now:Date.now,Oie=function(){function r(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var i=l6();e.handleSide(t,(i-e.msSinceRequest)/1e3),e.requestAnimation(i)}else e.isAnimating=!1}}}return r.prototype.start=function(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},r.prototype.handleMove=function(e,t){if(this.isEnabled){var i=e-window.pageXOffset,s=t-window.pageYOffset,n=null===this.pointerScreenY?0:s-this.pointerScreenY,a=null===this.pointerScreenX?0:i-this.pointerScreenX;n<0?this.everMovedUp=!0:n>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(l6()))}},r.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},r.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},r.prototype.handleSide=function(e,t){var i=e.scrollCache,s=this.edgeThreshold,n=s-e.distance,a=n*n/(s*s)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*o)}},r.prototype.computeBestEdge=function(e,t){for(var i=this.edgeThreshold,s=null,n=0,a=this.scrollCaches;n<a.length;n++){var o=a[n],h=o.clientRect,d=e-h.left,m=h.right-e,v=t-h.top,C=h.bottom-t;d>=0&&m>=0&&v>=0&&C>=0&&(v<=i&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>v)&&(s={scrollCache:o,name:"top",distance:v}),C<=i&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>C)&&(s={scrollCache:o,name:"bottom",distance:C}),d<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"left",distance:d}),m<=i&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>m)&&(s={scrollCache:o,name:"right",distance:m}))}return s},r.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new Mie(!1):new o6(t,!1)})},r.prototype.queryScrollEls=function(e){for(var t=[],i=0,s=this.scrollQuery;i<s.length;i++){var n=s[i];"object"==typeof n?t.push(n):t.push.apply(t,Array.prototype.slice.call(f4(e).querySelectorAll(n)))}return t},r}(),VD=function(r){function e(t,i){var s=r.call(this,t)||this;s.containerEl=t,s.delay=null,s.minDistance=0,s.touchScrollAllowed=!0,s.mirrorNeedsRevert=!1,s.isInteracting=!1,s.isDragging=!1,s.isDelayEnded=!1,s.isDistanceSurpassed=!1,s.delayTimeoutId=null,s.onPointerDown=function(a){s.isDragging||(s.isInteracting=!0,s.isDelayEnded=!1,s.isDistanceSurpassed=!1,function(r){r.classList.add("fc-unselectable"),r.addEventListener("selectstart",JL)}(document.body),document.body.addEventListener("contextmenu",JL),a.isTouch||a.origEvent.preventDefault(),s.emitter.trigger("pointerdown",a),s.isInteracting&&!s.pointer.shouldIgnoreMove&&(s.mirror.setIsVisible(!1),s.mirror.start(a.subjectEl,a.pageX,a.pageY),s.startDelay(a),s.minDistance||s.handleDistanceSurpassed(a)))},s.onPointerMove=function(a){if(s.isInteracting){if(s.emitter.trigger("pointermove",a),!s.isDistanceSurpassed){var o=s.minDistance,d=a.deltaX,m=a.deltaY;d*d+m*m>=o*o&&s.handleDistanceSurpassed(a)}s.isDragging&&("scroll"!==a.origEvent.type&&(s.mirror.handleMove(a.pageX,a.pageY),s.autoScroller.handleMove(a.pageX,a.pageY)),s.emitter.trigger("dragmove",a))}},s.onPointerUp=function(a){s.isInteracting&&(s.isInteracting=!1,function(r){r.classList.remove("fc-unselectable"),r.removeEventListener("selectstart",JL)}(document.body),document.body.removeEventListener("contextmenu",JL),s.emitter.trigger("pointerup",a),s.isDragging&&(s.autoScroller.stop(),s.tryStopDrag(a)),s.delayTimeoutId&&(clearTimeout(s.delayTimeoutId),s.delayTimeoutId=null))};var n=s.pointer=new u2(t);return n.emitter.on("pointerdown",s.onPointerDown),n.emitter.on("pointermove",s.onPointerMove),n.emitter.on("pointerup",s.onPointerUp),i&&(n.selector=i),s.mirror=new kie,s.autoScroller=new Oie,s}return Zt(e,r),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var i=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){i.delayTimeoutId=null,i.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(_z),Rie=function(){function r(e){this.origRect=zB(e),this.scrollCaches=hz(e).map(function(t){return new o6(t,!0)})}return r.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},r.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,i=this.scrollCaches;t<i.length;t++){var s=i[t];e+=s.origScrollLeft-s.getScrollLeft()}return e},r.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,i=this.scrollCaches;t<i.length;t++){var s=i[t];e+=s.origScrollTop-s.getScrollTop()}return e},r.prototype.isWithinClipping=function(e,t){for(var i={left:e,top:t},s=0,n=this.scrollCaches;s<n.length;s++){var a=n[s];if(!Lie(a.getEventTarget())&&!hJ(i,a.clientRect))return!1}return!0},r}();function Lie(r){var e=r.tagName;return"HTML"===e||"BODY"===e}var nk=function(){function r(e,t){var i=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(s){var n=i.dragging;i.initialHit=null,i.movingHit=null,i.finalHit=null,i.prepareHits(),i.processFirstCoord(s),i.initialHit||!i.requireInitial?(n.setIgnoreMove(!1),i.emitter.trigger("pointerdown",s)):n.setIgnoreMove(!0)},this.handleDragStart=function(s){i.emitter.trigger("dragstart",s),i.handleMove(s,!0)},this.handleDragMove=function(s){i.emitter.trigger("dragmove",s),i.handleMove(s)},this.handlePointerUp=function(s){i.releaseHits(),i.emitter.trigger("pointerup",s)},this.handleDragEnd=function(s){i.movingHit&&i.emitter.trigger("hitupdate",null,!0,s),i.finalHit=i.movingHit,i.movingHit=null,i.emitter.trigger("dragend",s)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new b_}return r.prototype.processFirstCoord=function(e){var n,t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl;s instanceof HTMLElement&&(i=function(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}(i,n=zB(s)));var a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&n){var o=az(n,a.rect);o&&(i=function(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}(o))}this.coordAdjust=function(r,e){return{left:r.left-e.left,top:r.top-e.top}}(i,t)}else this.coordAdjust={left:0,top:0}},r.prototype.handleMove=function(e,t){var i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!I_(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))},r.prototype.prepareHits=function(){this.offsetTrackers=mm(this.droppableStore,function(e){return e.component.prepareHits(),new Rie(e.el)})},r.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},r.prototype.queryHitForOffset=function(e,t){var s=this.droppableStore,n=this.offsetTrackers,a=null;for(var o in s){var h=s[o].component,d=n[o];if(d&&d.isWithinClipping(e,t)){var m=d.computeLeft(),v=d.computeTop(),C=e-m,w=t-v,S=d.origRect,k=S.right-S.left,O=S.bottom-S.top;if(C>=0&&C<k&&w>=0&&w<O){var N=h.queryHit(C,w,k,O);N&&v_(N.dateProfile.activeRange,N.dateSpan.range)&&(!a||N.layer>a.layer)&&(N.componentId=o,N.context=h.context,N.rect.left+=m,N.rect.right+=m,N.rect.top+=v,N.rect.bottom+=v,a=N)}}}return a},r}();function I_(r,e){return!r&&!e||Boolean(r)===Boolean(e)&&function(r,e){return function(r,e){return(null===r.start?null:r.start.valueOf())===(null===e.start?null:e.start.valueOf())&&(null===r.end?null:r.end.valueOf())===(null===e.end?null:e.end.valueOf())}(r.range,e.range)&&r.allDay===e.allDay&&function(r,e){for(var t in e)if("range"!==t&&"allDay"!==t&&r[t]!==e[t])return!1;for(var t in r)if(!(t in e))return!1;return!0}(r,e)}(r.dateSpan,e.dateSpan)}function d2(r,e){for(var t={},i=0,s=e.pluginHooks.datePointTransforms;i<s.length;i++)he(t,(0,s[i])(r,e));return he(t,function(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}(r,e.dateEnv)),t}var Pie=function(r){function e(t){var i=r.call(this,t)||this;i.handlePointerDown=function(n){i.dragging.setIgnoreMove(!i.component.isValidDateDownEl(n.origEvent.target))},i.handleDragEnd=function(n){var a=i.component;if(!i.dragging.pointer.wasTouchScroll){var h=i.hitDragging,d=h.initialHit,m=h.finalHit;if(d&&m&&I_(d,m)){var v=a.context,C=he(he({},d2(d.dateSpan,v)),{dayEl:d.dayEl,jsEvent:n.origEvent,view:v.viewApi||v.calendarApi.view});v.emitter.trigger("dateClick",C)}}},i.dragging=new VD(t.el),i.dragging.autoScroller.isEnabled=!1;var s=i.hitDragging=new nk(i.dragging,i2(t));return s.emitter.on("pointerdown",i.handlePointerDown),s.emitter.on("dragend",i.handleDragEnd),i}return Zt(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e}(PD),Nie=function(r){function e(t){var i=r.call(this,t)||this;i.dragSelection=null,i.handlePointerDown=function(h){var m=i.component,v=i.dragging,w=m.context.options.selectable&&m.isValidDateDownEl(h.origEvent.target);v.setIgnoreMove(!w),v.delay=h.isTouch?function(r){var e=r.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(m):null},i.handleDragStart=function(h){i.component.context.calendarApi.unselect(h)},i.handleHitUpdate=function(h,d){var m=i.component.context,v=null,C=!1;if(h){var w=i.hitDragging.initialHit;h.componentId===w.componentId&&i.isHitComboAllowed&&!i.isHitComboAllowed(w,h)||(v=function(r,e,t){var i=r.dateSpan,s=e.dateSpan,n=[i.range.start,i.range.end,s.range.start,s.range.end];n.sort(RX);for(var a={},o=0,h=t;o<h.length;o++){var m=(0,h[o])(r,e);if(!1===m)return null;m&&he(a,m)}return a.range={start:n[0],end:n[3]},a.allDay=i.allDay,a}(w,h,m.pluginHooks.dateSelectionTransformers)),(!v||!function(r,e,t){return!!v_(e.validRange,r.range)&&Bz({dateSelection:r},t)}(v,h.dateProfile,m))&&(C=!0,v=null)}v?m.dispatch({type:"SELECT_DATES",selection:v}):d||m.dispatch({type:"UNSELECT_DATES"}),C?e_():t_(),d||(i.dragSelection=v)},i.handlePointerUp=function(h){i.dragSelection&&(Q4(i.dragSelection,h,i.component.context),i.dragSelection=null)};var n=t.component.context.options,a=i.dragging=new VD(t.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;var o=i.hitDragging=new nk(i.dragging,i2(t));return o.emitter.on("pointerdown",i.handlePointerDown),o.emitter.on("dragstart",i.handleDragStart),o.emitter.on("hitupdate",i.handleHitUpdate),o.emitter.on("pointerup",i.handlePointerUp),i}return Zt(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e}(PD),c6=function(r){function e(t){var i=r.call(this,t)||this;i.subjectEl=null,i.subjectSeg=null,i.isDragging=!1,i.eventRange=null,i.relevantEvents=null,i.receivingContext=null,i.validMutation=null,i.mutatedRelevantEvents=null,i.handlePointerDown=function(h){var d=h.origEvent.target,v=i.component,C=i.dragging,w=C.mirror,S=v.context.options,k=v.context;i.subjectEl=h.subjectEl;var O=i.subjectSeg=LD(h.subjectEl),q=(i.eventRange=O.eventRange).instance.instanceId;i.relevantEvents=xB(k.getCurrentData().eventStore,q),C.minDistance=h.isTouch?0:S.eventDragMinDistance,C.delay=h.isTouch&&q!==v.props.eventSelection?function(r){var e=r.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(v):null,w.parentNode=S.fixedMirrorParent?S.fixedMirrorParent:Ko(d,".fc"),w.revertDuration=S.dragRevertDuration;var z=v.isValidSegDownEl(d)&&!Ko(d,".fc-event-resizer");C.setIgnoreMove(!z),i.isDragging=z&&h.subjectEl.classList.contains("fc-event-draggable")},i.handleDragStart=function(h){var d=i.component.context,m=i.eventRange,v=m.instance.instanceId;h.isTouch?v!==i.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:v}):d.dispatch({type:"UNSELECT_EVENT"}),i.isDragging&&(d.calendarApi.unselect(h),d.emitter.trigger("eventDragStart",{el:i.subjectEl,event:new xr(d,m.def,m.instance),jsEvent:h.origEvent,view:d.viewApi}))},i.handleHitUpdate=function(h,d){if(i.isDragging){var m=i.relevantEvents,v=i.hitDragging.initialHit,C=i.component.context,w=null,S=null,k=null,O=!1,N={affectedEvents:m,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(h){var q=(w=h.context).options;C===w||q.editable&&q.droppable?(S=function(r,e,t){var i=r.dateSpan,s=e.dateSpan,n=i.range.start,a=s.range.start,o={};i.allDay!==s.allDay&&(o.allDay=s.allDay,o.hasEnd=e.context.options.allDayMaintainDuration,s.allDay&&(n=lr(n)));var h=RD(n,a,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);h.milliseconds&&(o.allDay=!1);for(var d={datesDelta:h,standardProps:o},m=0,v=t;m<v.length;m++)(0,v[m])(d,r,e);return d}(v,h,w.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(k=VB(m,w.getCurrentData().eventUiBases,S,w),N.mutatedEvents=k,r2(N,h.dateProfile,w)||(O=!0,S=null,k=null,N.mutatedEvents={defs:{},instances:{}})):w=null}i.displayDrag(w,N),O?e_():t_(),d||(C===w&&I_(v,h)&&(S=null),i.dragging.setMirrorNeedsRevert(!S),i.dragging.setMirrorIsVisible(!h||!f4(i.subjectEl).querySelector(".fc-event-mirror")),i.receivingContext=w,i.validMutation=S,i.mutatedRelevantEvents=k)}},i.handlePointerUp=function(){i.isDragging||i.cleanup()},i.handleDragEnd=function(h){if(i.isDragging){var d=i.component.context,m=d.viewApi,C=i.receivingContext,w=i.validMutation,S=i.eventRange.def,k=i.eventRange.instance,O=new xr(d,S,k),N=i.relevantEvents,q=i.mutatedRelevantEvents,z=i.hitDragging.finalHit;if(i.clearDrag(),d.emitter.trigger("eventDragStop",{el:i.subjectEl,event:O,jsEvent:h.origEvent,view:m}),w){if(C===d){var Z=new xr(d,q.defs[S.defId],k?q.instances[k.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:q});for(var Ce={oldEvent:O,event:Z,relatedEvents:jC(q,d,k),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:N})}},ce={},Fe=0,Se=d.getCurrentData().pluginHooks.eventDropTransformers;Fe<Se.length;Fe++)he(ce,(0,Se[Fe])(w,d));d.emitter.trigger("eventDrop",he(he(he({},Ce),ce),{el:h.subjectEl,delta:w.datesDelta,jsEvent:h.origEvent,view:m})),d.emitter.trigger("eventChange",Ce)}else if(C){var ht={event:O,relatedEvents:jC(N,d,k),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:N})}};d.emitter.trigger("eventLeave",he(he({},ht),{draggedEl:h.subjectEl,view:m})),d.dispatch({type:"REMOVE_EVENTS",eventStore:N}),d.emitter.trigger("eventRemove",ht);var Pe=q.instances[k.instanceId],Le=new xr(C,q.defs[S.defId],Pe);C.dispatch({type:"MERGE_EVENTS",eventStore:q});var pe={event:Le,relatedEvents:jC(q,C,Pe),revert:function(){C.dispatch({type:"REMOVE_EVENTS",eventStore:q})}};C.emitter.trigger("eventAdd",pe),h.isTouch&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:k.instanceId}),C.emitter.trigger("drop",he(he({},d2(z.dateSpan,C)),{draggedEl:h.subjectEl,jsEvent:h.origEvent,view:z.context.viewApi})),C.emitter.trigger("eventReceive",he(he({},pe),{draggedEl:h.subjectEl,view:z.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}i.cleanup()};var n=i.component.context.options,a=i.dragging=new VD(t.el);a.pointer.selector=e.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;var o=i.hitDragging=new nk(i.dragging,E_);return o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",i.handlePointerDown),o.emitter.on("dragstart",i.handleDragStart),o.emitter.on("hitupdate",i.handleHitUpdate),o.emitter.on("pointerup",i.handlePointerUp),o.emitter.on("dragend",i.handleDragEnd),i}return Zt(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,i){var n=this.receivingContext;n&&n!==t&&n.dispatch(n===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})},e.prototype.clearDrag=function(){var t=this.component.context,i=this.receivingContext;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(PD),jie=function(r){function e(t){var i=r.call(this,t)||this;i.draggingSegEl=null,i.draggingSeg=null,i.eventRange=null,i.relevantEvents=null,i.validMutation=null,i.mutatedRelevantEvents=null,i.handlePointerDown=function(o){var h=i.component,m=LD(i.querySegEl(o)),v=i.eventRange=m.eventRange;i.dragging.minDistance=h.context.options.eventDragMinDistance,i.dragging.setIgnoreMove(!i.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&i.component.props.eventSelection!==v.instance.instanceId)},i.handleDragStart=function(o){var h=i.component.context,d=i.eventRange;i.relevantEvents=xB(h.getCurrentData().eventStore,i.eventRange.instance.instanceId);var m=i.querySegEl(o);i.draggingSegEl=m,i.draggingSeg=LD(m),h.calendarApi.unselect(),h.emitter.trigger("eventResizeStart",{el:m,event:new xr(h,d.def,d.instance),jsEvent:o.origEvent,view:h.viewApi})},i.handleHitUpdate=function(o,h,d){var m=i.component.context,v=i.relevantEvents,C=i.hitDragging.initialHit,w=i.eventRange.instance,S=null,k=null,O=!1,N={affectedEvents:v,mutatedEvents:{defs:{},instances:{}},isEvent:!0};o&&(o.componentId===C.componentId&&i.isHitComboAllowed&&!i.isHitComboAllowed(C,o)||(S=function(r,e,t,i){var s=r.context.dateEnv,o=RD(r.dateSpan.range.start,e.dateSpan.range.start,s,r.largeUnit);if(t){if(s.add(i.start,o)<i.end)return{startDelta:o}}else if(s.add(i.end,o)>i.start)return{endDelta:o};return null}(C,o,d.subjectEl.classList.contains("fc-event-resizer-start"),w.range))),S&&(k=VB(v,m.getCurrentData().eventUiBases,S,m),N.mutatedEvents=k,r2(N,o.dateProfile,m)||(O=!0,S=null,k=null,N.mutatedEvents=null)),m.dispatch(k?{type:"SET_EVENT_RESIZE",state:N}:{type:"UNSET_EVENT_RESIZE"}),O?e_():t_(),h||(S&&I_(C,o)&&(S=null),i.validMutation=S,i.mutatedRelevantEvents=k)},i.handleDragEnd=function(o){var h=i.component.context,d=i.eventRange.def,m=i.eventRange.instance,v=new xr(h,d,m),C=i.relevantEvents,w=i.mutatedRelevantEvents;if(h.emitter.trigger("eventResizeStop",{el:i.draggingSegEl,event:v,jsEvent:o.origEvent,view:h.viewApi}),i.validMutation){var S=new xr(h,w.defs[d.defId],m?w.instances[m.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:w});var k={oldEvent:v,event:S,relatedEvents:jC(w,h,m),revert:function(){h.dispatch({type:"MERGE_EVENTS",eventStore:C})}};h.emitter.trigger("eventResize",he(he({},k),{el:i.draggingSegEl,startDelta:i.validMutation.startDelta||Os(0),endDelta:i.validMutation.endDelta||Os(0),jsEvent:o.origEvent,view:h.viewApi})),h.emitter.trigger("eventChange",k)}else h.emitter.trigger("_noEventResize");i.draggingSeg=null,i.relevantEvents=null,i.validMutation=null};var s=t.component,n=i.dragging=new VD(t.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=s.context.options.dragScroll;var a=i.hitDragging=new nk(i.dragging,i2(t));return a.emitter.on("pointerdown",i.handlePointerDown),a.emitter.on("dragstart",i.handleDragStart),a.emitter.on("hitupdate",i.handleHitUpdate),a.emitter.on("dragend",i.handleDragEnd),i}return Zt(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return Ko(t.subjectEl,".fc-event")},e}(PD),Uie=function(){function r(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(s){s.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(s){var n=t.context.options.unselectCancel,a=p4(s.origEvent);t.matchesCancel=!!Ko(a,n),t.matchesEvent=!!Ko(a,c6.SELECTOR)},this.onDocumentPointerUp=function(s){var n=t.context,a=t.documentPointer,o=n.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!t.isRecentPointerDateSelect){var h=n.options.unselectAuto;h&&(!h||!t.matchesCancel)&&n.calendarApi.unselect(s)}o.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var i=this.documentPointer=new u2(document);i.shouldIgnoreMove=!0,i.shouldWatchScroll=!1,i.emitter.on("pointerdown",this.onDocumentPointerDown),i.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return r.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},r}(),qie={fixedMirrorParent:Re},zie={dateClick:Re,eventDragStart:Re,eventDragStop:Re,eventDrop:Re,eventResizeStart:Re,eventResizeStop:Re,eventResize:Re,drop:Re,eventReceive:Re,eventLeave:Re};!function(){function r(e,t){var i=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(n){i.dragMeta=i.buildDragMeta(n.subjectEl)},this.handleHitUpdate=function(n,a,o){var h=i.hitDragging.dragging,d=null,m=null,v=!1,C={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:i.dragMeta.create};n&&i.canDropElOnCalendar(o.subjectEl,d=n.context)&&(m=function(r,e,t){for(var i=he({},e.leftoverProps),s=0,n=t.pluginHooks.externalDefTransforms;s<n.length;s++)he(i,(0,n[s])(r,e));var o=MB(i,t),m=g_(o.refined,o.extra,e.sourceId,r.allDay,t.options.forceEventDuration||Boolean(e.duration),t),v=r.range.start;r.allDay&&e.startTime&&(v=t.dateEnv.add(v,e.startTime));var C=e.duration?t.dateEnv.add(v,e.duration):NB(r.allDay,v,t);return{def:m,instance:n_(m.defId,{start:v,end:C})}}(n.dateSpan,i.dragMeta,d),C.mutatedEvents=ZI(m),(v=!r2(C,n.dateProfile,d))&&(C.mutatedEvents={defs:{},instances:{}},m=null)),i.displayDrag(d,C),h.setMirrorIsVisible(a||!m||!document.querySelector(".fc-event-mirror")),v?e_():t_(),a||(h.setMirrorNeedsRevert(!m),i.receivingContext=d,i.droppableEvent=m)},this.handleDragEnd=function(n){var o=i.receivingContext,h=i.droppableEvent;if(i.clearDrag(),o&&h){var d=i.hitDragging.finalHit,m=d.context.viewApi,v=i.dragMeta;if(o.emitter.trigger("drop",he(he({},d2(d.dateSpan,o)),{draggedEl:n.subjectEl,jsEvent:n.origEvent,view:m})),v.create){var C=ZI(h);o.dispatch({type:"MERGE_EVENTS",eventStore:C}),n.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instance.instanceId}),o.emitter.trigger("eventReceive",{event:new xr(o,h.def,h.instance),relatedEvents:[],revert:function(){o.dispatch({type:"REMOVE_EVENTS",eventStore:C})},draggedEl:n.subjectEl,view:m})}}i.receivingContext=null,i.droppableEvent=null};var s=this.hitDragging=new nk(e,E_);s.requireInitial=!1,s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}r.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?s2(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?s2(this.suppliedDragMeta(e)):function(r){var e=function(r,e){var t=w_.dataAttrPrefix;return r.getAttribute("data-"+(t?t+"-":"")+"event")||""}(r);return s2(e?JSON.parse(e):{create:!1})}(e)},r.prototype.displayDrag=function(e,t){var i=this.receivingContext;i&&i!==e&&i.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},r.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},r.prototype.canDropElOnCalendar=function(e,t){var i=t.options.dropAccept;return"function"==typeof i?i.call(t.calendarApi,e):"string"!=typeof i||!i||Boolean(bB(e,i))}}();w_.dataAttrPrefix="";!function(r){function e(t){var i=r.call(this,t)||this;i.shouldIgnoreMove=!1,i.mirrorSelector="",i.currentMirrorEl=null,i.handlePointerDown=function(n){i.emitter.trigger("pointerdown",n),i.shouldIgnoreMove||i.emitter.trigger("dragstart",n)},i.handlePointerMove=function(n){i.shouldIgnoreMove||i.emitter.trigger("dragmove",n)},i.handlePointerUp=function(n){i.emitter.trigger("pointerup",n),i.shouldIgnoreMove||i.emitter.trigger("dragend",n)};var s=i.pointer=new u2(t);return s.emitter.on("pointerdown",i.handlePointerDown),s.emitter.on("pointermove",i.handlePointerMove),s.emitter.on("pointerup",i.handlePointerUp),i}Zt(e,r),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var i=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;i&&(this.currentMirrorEl=i,i.style.visibility="hidden")}}}(_z);var Kie=qv({componentInteractions:[Pie,Nie,c6,jie],calendarInteractions:[Uie],elementDraggingImpl:VD,optionRefiners:qie,listenerRefiners:zie});Xz.registerPlugins([Sie,Kie]);let Zie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=b.\u0275\u0275defineNgModule({type:r,bootstrap:[tie]}),r.\u0275inj=b.\u0275\u0275defineInjector({providers:[zL,jh.GQ,Fc,ed,rU,aU,oU,lU,cU,hU,uU],imports:[[Qv,eie,C$,jh.qz,TY,E$,uH,dH,Xz,xY.forRoot({config:{tokenGetter:()=>localStorage.getItem("authToken")}})]]}),r})();(0,b.enableProdMode)(),el().bootstrapModule(Zie).catch(r=>console.error(r))},5:yi=>{"use strict";yi.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},914:yi=>{"use strict";yi.exports='\n:root {\n  --fc-daygrid-event-dot-width: 8px;\n}\n/* help things clear margins of inner content */\n.fc-daygrid-day-frame,\n.fc-daygrid-day-events,\n.fc-daygrid-event-harness { /* for event top/bottom margins */\n}\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\n  content: "";\n  clear: both;\n  display: table; }\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\n  content: "";\n  clear: both;\n  display: table; }\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\n    position: relative;\n    z-index: 1; /* container inner z-index\'s because <tr>s can\'t do it */\n  }\n.fc .fc-daygrid-day.fc-day-today {\n      background-color: rgba(255, 220, 40, 0.15);\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\n    }\n.fc .fc-daygrid-day-frame {\n    position: relative;\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\n  }\n.fc {\n\n  /* cell top */\n\n}\n.fc .fc-daygrid-day-top {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n.fc .fc-day-other .fc-daygrid-day-top {\n    opacity: 0.3;\n  }\n.fc {\n\n  /* day number (within cell top) */\n\n}\n.fc .fc-daygrid-day-number {\n    position: relative;\n    z-index: 4;\n    padding: 4px;\n  }\n.fc {\n\n  /* event container */\n\n}\n.fc .fc-daygrid-day-events {\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\n  }\n.fc {\n\n  /* positioning for balanced vs natural */\n\n}\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\n      position: absolute;\n      left: 0;\n      right: 0;\n    }\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\n      position: relative; /* for containing abs positioned event harnesses */\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\n    }\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\n  }\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\n      margin-bottom: 1em;\n    }\n.fc {\n\n  /* event harness */\n\n}\n.fc .fc-daygrid-event-harness {\n    position: relative;\n  }\n.fc .fc-daygrid-event-harness-abs {\n    position: absolute;\n    top: 0; /* fallback coords for when cannot yet be computed */\n    left: 0; /* */\n    right: 0; /* */\n  }\n.fc .fc-daygrid-bg-harness {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n  }\n.fc {\n\n  /* bg content */\n\n}\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\n.fc {\n\n  /* events */\n\n}\n.fc .fc-daygrid-event {\n    z-index: 6;\n    margin-top: 1px;\n  }\n.fc .fc-daygrid-event.fc-event-mirror {\n    z-index: 7;\n  }\n.fc {\n\n  /* cell bottom (within day-events) */\n\n}\n.fc .fc-daygrid-day-bottom {\n    font-size: .85em;\n    padding: 2px 3px 0\n  }\n.fc .fc-daygrid-day-bottom:before {\n  content: "";\n  clear: both;\n  display: table; }\n.fc .fc-daygrid-more-link {\n    position: relative;\n    z-index: 4;\n    cursor: pointer;\n  }\n.fc {\n\n  /* week number (within frame) */\n\n}\n.fc .fc-daygrid-week-number {\n    position: absolute;\n    z-index: 5;\n    top: 0;\n    padding: 2px;\n    min-width: 1.5em;\n    text-align: center;\n    background-color: rgba(208, 208, 208, 0.3);\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n    color: #808080;\n    color: var(--fc-neutral-text-color, #808080);\n  }\n.fc {\n\n  /* popover */\n\n}\n.fc .fc-more-popover .fc-popover-body {\n    min-width: 220px;\n    padding: 10px;\n  }\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\n  margin-left: 2px;\n}\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\n  margin-right: 2px;\n}\n.fc-direction-ltr .fc-daygrid-week-number {\n    left: 0;\n    border-radius: 0 0 3px 0;\n  }\n.fc-direction-rtl .fc-daygrid-week-number {\n    right: 0;\n    border-radius: 0 0 0 3px;\n  }\n.fc-liquid-hack .fc-daygrid-day-frame {\n    position: static; /* will cause inner absolute stuff to expand to <td> */\n  }\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\n  position: relative; /* for z-indexes assigned later */\n  white-space: nowrap;\n  border-radius: 3px; /* dot event needs this to when selected */\n  font-size: .85em;\n  font-size: var(--fc-small-font-size, .85em);\n}\n/* --- the rectangle ("block") style of event --- */\n.fc-daygrid-block-event .fc-event-time {\n    font-weight: bold;\n  }\n.fc-daygrid-block-event .fc-event-time,\n  .fc-daygrid-block-event .fc-event-title {\n    padding: 1px;\n  }\n/* --- the dot style of event --- */\n.fc-daygrid-dot-event {\n  display: flex;\n  align-items: center;\n  padding: 2px 0\n\n}\n.fc-daygrid-dot-event .fc-event-title {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n    overflow: hidden;\n    font-weight: bold;\n  }\n.fc-daygrid-dot-event:hover,\n  .fc-daygrid-dot-event.fc-event-mirror {\n    background: rgba(0, 0, 0, 0.1);\n  }\n.fc-daygrid-dot-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n.fc-daygrid-event-dot { /* the actual dot */\n  margin: 0 4px;\n  box-sizing: content-box;\n  width: 0;\n  height: 0;\n  border: 4px solid #3788d8;\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\n  border-radius: 4px;\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\n}\n/* --- spacing between time and title --- */\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\n    margin-right: 3px;\n  }\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\n    margin-left: 3px;\n  }\n'}},yi=>{yi(yi.s=828)}]);